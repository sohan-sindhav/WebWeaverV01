(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&e(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function XC(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var lm={exports:{}},Vd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function ZC(){if(S_)return Vd;S_=1;var o=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(e,r,i){var l=null;if(i!==void 0&&(l=""+i),r.key!==void 0&&(l=""+r.key),"key"in r){i={};for(var f in r)f!=="key"&&(i[f]=r[f])}else i=r;return r=i.ref,{$$typeof:o,type:e,key:l,ref:r!==void 0?r:null,props:i}}return Vd.Fragment=n,Vd.jsx=t,Vd.jsxs=t,Vd}var C_;function JC(){return C_||(C_=1,lm.exports=ZC()),lm.exports}var rt=JC(),um={exports:{}},cn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function QC(){if(O_)return cn;O_=1;var o=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function w(nt){return nt===null||typeof nt!="object"?null:(nt=_&&nt[_]||nt["@@iterator"],typeof nt=="function"?nt:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,A={};function P(nt,Lt,pt){this.props=nt,this.context=Lt,this.refs=A,this.updater=pt||S}P.prototype.isReactComponent={},P.prototype.setState=function(nt,Lt){if(typeof nt!="object"&&typeof nt!="function"&&nt!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,nt,Lt,"setState")},P.prototype.forceUpdate=function(nt){this.updater.enqueueForceUpdate(this,nt,"forceUpdate")};function j(){}j.prototype=P.prototype;function z(nt,Lt,pt){this.props=nt,this.context=Lt,this.refs=A,this.updater=pt||S}var k=z.prototype=new j;k.constructor=z,O(k,P.prototype),k.isPureReactComponent=!0;var G=Array.isArray,ot={H:null,A:null,T:null,S:null,V:null},xt=Object.prototype.hasOwnProperty;function Nt(nt,Lt,pt,Et,At,Zt){return pt=Zt.ref,{$$typeof:o,type:nt,key:Lt,ref:pt!==void 0?pt:null,props:Zt}}function vt(nt,Lt){return Nt(nt.type,Lt,void 0,void 0,void 0,nt.props)}function $(nt){return typeof nt=="object"&&nt!==null&&nt.$$typeof===o}function mt(nt){var Lt={"=":"=0",":":"=2"};return"$"+nt.replace(/[=:]/g,function(pt){return Lt[pt]})}var X=/\/+/g;function B(nt,Lt){return typeof nt=="object"&&nt!==null&&nt.key!=null?mt(""+nt.key):Lt.toString(36)}function Q(){}function J(nt){switch(nt.status){case"fulfilled":return nt.value;case"rejected":throw nt.reason;default:switch(typeof nt.status=="string"?nt.then(Q,Q):(nt.status="pending",nt.then(function(Lt){nt.status==="pending"&&(nt.status="fulfilled",nt.value=Lt)},function(Lt){nt.status==="pending"&&(nt.status="rejected",nt.reason=Lt)})),nt.status){case"fulfilled":return nt.value;case"rejected":throw nt.reason}}throw nt}function ft(nt,Lt,pt,Et,At){var Zt=typeof nt;(Zt==="undefined"||Zt==="boolean")&&(nt=null);var Qt=!1;if(nt===null)Qt=!0;else switch(Zt){case"bigint":case"string":case"number":Qt=!0;break;case"object":switch(nt.$$typeof){case o:case n:Qt=!0;break;case v:return Qt=nt._init,ft(Qt(nt._payload),Lt,pt,Et,At)}}if(Qt)return At=At(nt),Qt=Et===""?"."+B(nt,0):Et,G(At)?(pt="",Qt!=null&&(pt=Qt.replace(X,"$&/")+"/"),ft(At,Lt,pt,"",function(Oe){return Oe})):At!=null&&($(At)&&(At=vt(At,pt+(At.key==null||nt&&nt.key===At.key?"":(""+At.key).replace(X,"$&/")+"/")+Qt)),Lt.push(At)),1;Qt=0;var ne=Et===""?".":Et+":";if(G(nt))for(var oe=0;oe<nt.length;oe++)Et=nt[oe],Zt=ne+B(Et,oe),Qt+=ft(Et,Lt,pt,Zt,At);else if(oe=w(nt),typeof oe=="function")for(nt=oe.call(nt),oe=0;!(Et=nt.next()).done;)Et=Et.value,Zt=ne+B(Et,oe++),Qt+=ft(Et,Lt,pt,Zt,At);else if(Zt==="object"){if(typeof nt.then=="function")return ft(J(nt),Lt,pt,Et,At);throw Lt=String(nt),Error("Objects are not valid as a React child (found: "+(Lt==="[object Object]"?"object with keys {"+Object.keys(nt).join(", ")+"}":Lt)+"). If you meant to render a collection of children, use an array instead.")}return Qt}function M(nt,Lt,pt){if(nt==null)return nt;var Et=[],At=0;return ft(nt,Et,"","",function(Zt){return Lt.call(pt,Zt,At++)}),Et}function ht(nt){if(nt._status===-1){var Lt=nt._result;Lt=Lt(),Lt.then(function(pt){(nt._status===0||nt._status===-1)&&(nt._status=1,nt._result=pt)},function(pt){(nt._status===0||nt._status===-1)&&(nt._status=2,nt._result=pt)}),nt._status===-1&&(nt._status=0,nt._result=Lt)}if(nt._status===1)return nt._result.default;throw nt._result}var yt=typeof reportError=="function"?reportError:function(nt){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Lt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof nt=="object"&&nt!==null&&typeof nt.message=="string"?String(nt.message):String(nt),error:nt});if(!window.dispatchEvent(Lt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",nt);return}console.error(nt)};function Bt(){}return cn.Children={map:M,forEach:function(nt,Lt,pt){M(nt,function(){Lt.apply(this,arguments)},pt)},count:function(nt){var Lt=0;return M(nt,function(){Lt++}),Lt},toArray:function(nt){return M(nt,function(Lt){return Lt})||[]},only:function(nt){if(!$(nt))throw Error("React.Children.only expected to receive a single React element child.");return nt}},cn.Component=P,cn.Fragment=t,cn.Profiler=r,cn.PureComponent=z,cn.StrictMode=e,cn.Suspense=p,cn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ot,cn.__COMPILER_RUNTIME={__proto__:null,c:function(nt){return ot.H.useMemoCache(nt)}},cn.cache=function(nt){return function(){return nt.apply(null,arguments)}},cn.cloneElement=function(nt,Lt,pt){if(nt==null)throw Error("The argument must be a React element, but you passed "+nt+".");var Et=O({},nt.props),At=nt.key,Zt=void 0;if(Lt!=null)for(Qt in Lt.ref!==void 0&&(Zt=void 0),Lt.key!==void 0&&(At=""+Lt.key),Lt)!xt.call(Lt,Qt)||Qt==="key"||Qt==="__self"||Qt==="__source"||Qt==="ref"&&Lt.ref===void 0||(Et[Qt]=Lt[Qt]);var Qt=arguments.length-2;if(Qt===1)Et.children=pt;else if(1<Qt){for(var ne=Array(Qt),oe=0;oe<Qt;oe++)ne[oe]=arguments[oe+2];Et.children=ne}return Nt(nt.type,At,void 0,void 0,Zt,Et)},cn.createContext=function(nt){return nt={$$typeof:l,_currentValue:nt,_currentValue2:nt,_threadCount:0,Provider:null,Consumer:null},nt.Provider=nt,nt.Consumer={$$typeof:i,_context:nt},nt},cn.createElement=function(nt,Lt,pt){var Et,At={},Zt=null;if(Lt!=null)for(Et in Lt.key!==void 0&&(Zt=""+Lt.key),Lt)xt.call(Lt,Et)&&Et!=="key"&&Et!=="__self"&&Et!=="__source"&&(At[Et]=Lt[Et]);var Qt=arguments.length-2;if(Qt===1)At.children=pt;else if(1<Qt){for(var ne=Array(Qt),oe=0;oe<Qt;oe++)ne[oe]=arguments[oe+2];At.children=ne}if(nt&&nt.defaultProps)for(Et in Qt=nt.defaultProps,Qt)At[Et]===void 0&&(At[Et]=Qt[Et]);return Nt(nt,Zt,void 0,void 0,null,At)},cn.createRef=function(){return{current:null}},cn.forwardRef=function(nt){return{$$typeof:f,render:nt}},cn.isValidElement=$,cn.lazy=function(nt){return{$$typeof:v,_payload:{_status:-1,_result:nt},_init:ht}},cn.memo=function(nt,Lt){return{$$typeof:d,type:nt,compare:Lt===void 0?null:Lt}},cn.startTransition=function(nt){var Lt=ot.T,pt={};ot.T=pt;try{var Et=nt(),At=ot.S;At!==null&&At(pt,Et),typeof Et=="object"&&Et!==null&&typeof Et.then=="function"&&Et.then(Bt,yt)}catch(Zt){yt(Zt)}finally{ot.T=Lt}},cn.unstable_useCacheRefresh=function(){return ot.H.useCacheRefresh()},cn.use=function(nt){return ot.H.use(nt)},cn.useActionState=function(nt,Lt,pt){return ot.H.useActionState(nt,Lt,pt)},cn.useCallback=function(nt,Lt){return ot.H.useCallback(nt,Lt)},cn.useContext=function(nt){return ot.H.useContext(nt)},cn.useDebugValue=function(){},cn.useDeferredValue=function(nt,Lt){return ot.H.useDeferredValue(nt,Lt)},cn.useEffect=function(nt,Lt,pt){var Et=ot.H;if(typeof pt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Et.useEffect(nt,Lt)},cn.useId=function(){return ot.H.useId()},cn.useImperativeHandle=function(nt,Lt,pt){return ot.H.useImperativeHandle(nt,Lt,pt)},cn.useInsertionEffect=function(nt,Lt){return ot.H.useInsertionEffect(nt,Lt)},cn.useLayoutEffect=function(nt,Lt){return ot.H.useLayoutEffect(nt,Lt)},cn.useMemo=function(nt,Lt){return ot.H.useMemo(nt,Lt)},cn.useOptimistic=function(nt,Lt){return ot.H.useOptimistic(nt,Lt)},cn.useReducer=function(nt,Lt,pt){return ot.H.useReducer(nt,Lt,pt)},cn.useRef=function(nt){return ot.H.useRef(nt)},cn.useState=function(nt){return ot.H.useState(nt)},cn.useSyncExternalStore=function(nt,Lt,pt){return ot.H.useSyncExternalStore(nt,Lt,pt)},cn.useTransition=function(){return ot.H.useTransition()},cn.version="19.1.0",cn}var T_;function Uy(){return T_||(T_=1,um.exports=QC()),um.exports}var Ht=Uy();const Hu=XC(Ht);var cm={exports:{}},Ud={},fm={exports:{}},dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function $C(){return E_||(E_=1,function(o){function n(M,ht){var yt=M.length;M.push(ht);t:for(;0<yt;){var Bt=yt-1>>>1,nt=M[Bt];if(0<r(nt,ht))M[Bt]=ht,M[yt]=nt,yt=Bt;else break t}}function t(M){return M.length===0?null:M[0]}function e(M){if(M.length===0)return null;var ht=M[0],yt=M.pop();if(yt!==ht){M[0]=yt;t:for(var Bt=0,nt=M.length,Lt=nt>>>1;Bt<Lt;){var pt=2*(Bt+1)-1,Et=M[pt],At=pt+1,Zt=M[At];if(0>r(Et,yt))At<nt&&0>r(Zt,Et)?(M[Bt]=Zt,M[At]=yt,Bt=At):(M[Bt]=Et,M[pt]=yt,Bt=pt);else if(At<nt&&0>r(Zt,yt))M[Bt]=Zt,M[At]=yt,Bt=At;else break t}}return ht}function r(M,ht){var yt=M.sortIndex-ht.sortIndex;return yt!==0?yt:M.id-ht.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;o.unstable_now=function(){return i.now()}}else{var l=Date,f=l.now();o.unstable_now=function(){return l.now()-f}}var p=[],d=[],v=1,_=null,w=3,S=!1,O=!1,A=!1,P=!1,j=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function G(M){for(var ht=t(d);ht!==null;){if(ht.callback===null)e(d);else if(ht.startTime<=M)e(d),ht.sortIndex=ht.expirationTime,n(p,ht);else break;ht=t(d)}}function ot(M){if(A=!1,G(M),!O)if(t(p)!==null)O=!0,xt||(xt=!0,B());else{var ht=t(d);ht!==null&&ft(ot,ht.startTime-M)}}var xt=!1,Nt=-1,vt=5,$=-1;function mt(){return P?!0:!(o.unstable_now()-$<vt)}function X(){if(P=!1,xt){var M=o.unstable_now();$=M;var ht=!0;try{t:{O=!1,A&&(A=!1,z(Nt),Nt=-1),S=!0;var yt=w;try{e:{for(G(M),_=t(p);_!==null&&!(_.expirationTime>M&&mt());){var Bt=_.callback;if(typeof Bt=="function"){_.callback=null,w=_.priorityLevel;var nt=Bt(_.expirationTime<=M);if(M=o.unstable_now(),typeof nt=="function"){_.callback=nt,G(M),ht=!0;break e}_===t(p)&&e(p),G(M)}else e(p);_=t(p)}if(_!==null)ht=!0;else{var Lt=t(d);Lt!==null&&ft(ot,Lt.startTime-M),ht=!1}}break t}finally{_=null,w=yt,S=!1}ht=void 0}}finally{ht?B():xt=!1}}}var B;if(typeof k=="function")B=function(){k(X)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,J=Q.port2;Q.port1.onmessage=X,B=function(){J.postMessage(null)}}else B=function(){j(X,0)};function ft(M,ht){Nt=j(function(){M(o.unstable_now())},ht)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(M){M.callback=null},o.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):vt=0<M?Math.floor(1e3/M):5},o.unstable_getCurrentPriorityLevel=function(){return w},o.unstable_next=function(M){switch(w){case 1:case 2:case 3:var ht=3;break;default:ht=w}var yt=w;w=ht;try{return M()}finally{w=yt}},o.unstable_requestPaint=function(){P=!0},o.unstable_runWithPriority=function(M,ht){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var yt=w;w=M;try{return ht()}finally{w=yt}},o.unstable_scheduleCallback=function(M,ht,yt){var Bt=o.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?Bt+yt:Bt):yt=Bt,M){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=yt+nt,M={id:v++,callback:ht,priorityLevel:M,startTime:yt,expirationTime:nt,sortIndex:-1},yt>Bt?(M.sortIndex=yt,n(d,M),t(p)===null&&M===t(d)&&(A?(z(Nt),Nt=-1):A=!0,ft(ot,yt-Bt))):(M.sortIndex=nt,n(p,M),O||S||(O=!0,xt||(xt=!0,B()))),M},o.unstable_shouldYield=mt,o.unstable_wrapCallback=function(M){var ht=w;return function(){var yt=w;w=ht;try{return M.apply(this,arguments)}finally{w=yt}}}}(dm)),dm}var A_;function tO(){return A_||(A_=1,fm.exports=$C()),fm.exports}var pm={exports:{}},Mi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function eO(){if(P_)return Mi;P_=1;var o=Uy();function n(p){var d="https://react.dev/errors/"+p;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var e={d:{f:t,r:function(){throw Error(n(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function i(p,d,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:p,containerInfo:d,implementation:v}}var l=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,d){if(p==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Mi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=e,Mi.createPortal=function(p,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(n(299));return i(p,d,null,v)},Mi.flushSync=function(p){var d=l.T,v=e.p;try{if(l.T=null,e.p=2,p)return p()}finally{l.T=d,e.p=v,e.d.f()}},Mi.preconnect=function(p,d){typeof p=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,e.d.C(p,d))},Mi.prefetchDNS=function(p){typeof p=="string"&&e.d.D(p)},Mi.preinit=function(p,d){if(typeof p=="string"&&d&&typeof d.as=="string"){var v=d.as,_=f(v,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?e.d.S(p,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:S}):v==="script"&&e.d.X(p,{crossOrigin:_,integrity:w,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Mi.preinitModule=function(p,d){if(typeof p=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=f(d.as,d.crossOrigin);e.d.M(p,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&e.d.M(p)},Mi.preload=function(p,d){if(typeof p=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,_=f(v,d.crossOrigin);e.d.L(p,v,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Mi.preloadModule=function(p,d){if(typeof p=="string")if(d){var v=f(d.as,d.crossOrigin);e.d.m(p,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else e.d.m(p)},Mi.requestFormReset=function(p){e.d.r(p)},Mi.unstable_batchedUpdates=function(p,d){return p(d)},Mi.useFormState=function(p,d,v){return l.H.useFormState(p,d,v)},Mi.useFormStatus=function(){return l.H.useHostTransitionStatus()},Mi.version="19.1.0",Mi}var D_;function nO(){if(D_)return pm.exports;D_=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(n){console.error(n)}}return o(),pm.exports=eO(),pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function rO(){if(M_)return Ud;M_=1;var o=tO(),n=Uy(),t=nO();function e(a){var u="https://react.dev/errors/"+a;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function i(a){var u=a,h=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(h=u.return),a=u.return;while(a)}return u.tag===3?h:null}function l(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function f(a){if(i(a)!==a)throw Error(e(188))}function p(a){var u=a.alternate;if(!u){if(u=i(a),u===null)throw Error(e(188));return u!==a?null:a}for(var h=a,y=u;;){var x=h.return;if(x===null)break;var T=x.alternate;if(T===null){if(y=x.return,y!==null){h=y;continue}break}if(x.child===T.child){for(T=x.child;T;){if(T===h)return f(x),a;if(T===y)return f(x),u;T=T.sibling}throw Error(e(188))}if(h.return!==y.return)h=x,y=T;else{for(var V=!1,K=x.child;K;){if(K===h){V=!0,h=x,y=T;break}if(K===y){V=!0,y=x,h=T;break}K=K.sibling}if(!V){for(K=T.child;K;){if(K===h){V=!0,h=T,y=x;break}if(K===y){V=!0,y=T,h=x;break}K=K.sibling}if(!V)throw Error(e(189))}}if(h.alternate!==y)throw Error(e(190))}if(h.tag!==3)throw Error(e(188));return h.stateNode.current===h?a:u}function d(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a;for(a=a.child;a!==null;){if(u=d(a),u!==null)return u;a=a.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),k=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),Nt=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),mt=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function B(a){return a===null||typeof a!="object"?null:(a=X&&a[X]||a["@@iterator"],typeof a=="function"?a:null)}var Q=Symbol.for("react.client.reference");function J(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Q?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case O:return"Fragment";case P:return"Profiler";case A:return"StrictMode";case ot:return"Suspense";case xt:return"SuspenseList";case $:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case k:return(a.displayName||"Context")+".Provider";case z:return(a._context.displayName||"Context")+".Consumer";case G:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Nt:return u=a.displayName||null,u!==null?u:J(a.type)||"Memo";case vt:u=a._payload,a=a._init;try{return J(a(u))}catch{}}return null}var ft=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},Bt=[],nt=-1;function Lt(a){return{current:a}}function pt(a){0>nt||(a.current=Bt[nt],Bt[nt]=null,nt--)}function Et(a,u){nt++,Bt[nt]=a.current,a.current=u}var At=Lt(null),Zt=Lt(null),Qt=Lt(null),ne=Lt(null);function oe(a,u){switch(Et(Qt,u),Et(Zt,a),Et(At,null),u.nodeType){case 9:case 11:a=(a=u.documentElement)&&(a=a.namespaceURI)?J0(a):0;break;default:if(a=u.tagName,u=u.namespaceURI)u=J0(u),a=Q0(u,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}pt(At),Et(At,a)}function Oe(){pt(At),pt(Zt),pt(Qt)}function He(a){a.memoizedState!==null&&Et(ne,a);var u=At.current,h=Q0(u,a.type);u!==h&&(Et(Zt,a),Et(At,h))}function Se(a){Zt.current===a&&(pt(At),pt(Zt)),ne.current===a&&(pt(ne),jd._currentValue=yt)}var _t=Object.prototype.hasOwnProperty,se=o.unstable_scheduleCallback,ue=o.unstable_cancelCallback,Ve=o.unstable_shouldYield,Ae=o.unstable_requestPaint,ge=o.unstable_now,N=o.unstable_getCurrentPriorityLevel,Z=o.unstable_ImmediatePriority,it=o.unstable_UserBlockingPriority,bt=o.unstable_NormalPriority,kt=o.unstable_LowPriority,tt=o.unstable_IdlePriority,Pt=o.log,St=o.unstable_setDisableYieldValue,we=null,Ee=null;function Ne(a){if(typeof Pt=="function"&&St(a),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(we,a)}catch{}}var Y=Math.clz32?Math.clz32:Yt,gt=Math.log,F=Math.LN2;function Yt(a){return a>>>=0,a===0?32:31-(gt(a)/F|0)|0}var Dt=256,te=4194304;function _e(a){var u=a&42;if(u!==0)return u;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function me(a,u,h){var y=a.pendingLanes;if(y===0)return 0;var x=0,T=a.suspendedLanes,V=a.pingedLanes;a=a.warmLanes;var K=y&134217727;return K!==0?(y=K&~T,y!==0?x=_e(y):(V&=K,V!==0?x=_e(V):h||(h=K&~a,h!==0&&(x=_e(h))))):(K=y&~T,K!==0?x=_e(K):V!==0?x=_e(V):h||(h=y&~a,h!==0&&(x=_e(h)))),x===0?0:u!==0&&u!==x&&(u&T)===0&&(T=x&-x,h=u&-u,T>=h||T===32&&(h&4194048)!==0)?u:x}function de(a,u){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&u)===0}function De(a,u){switch(a){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ge(){var a=Dt;return Dt<<=1,(Dt&4194048)===0&&(Dt=256),a}function an(){var a=te;return te<<=1,(te&62914560)===0&&(te=4194304),a}function tn(a){for(var u=[],h=0;31>h;h++)u.push(a);return u}function Mn(a,u){a.pendingLanes|=u,u!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function _r(a,u,h,y,x,T){var V=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var K=a.entanglements,dt=a.expirationTimes,Ut=a.hiddenUpdates;for(h=V&~h;0<h;){var $t=31-Y(h),ae=1<<$t;K[$t]=0,dt[$t]=-1;var It=Ut[$t];if(It!==null)for(Ut[$t]=null,$t=0;$t<It.length;$t++){var zt=It[$t];zt!==null&&(zt.lane&=-536870913)}h&=~ae}y!==0&&q(a,y,0),T!==0&&x===0&&a.tag!==0&&(a.suspendedLanes|=T&~(V&~u))}function q(a,u,h){a.pendingLanes|=u,a.suspendedLanes&=~u;var y=31-Y(u);a.entangledLanes|=u,a.entanglements[y]=a.entanglements[y]|1073741824|h&4194090}function ut(a,u){var h=a.entangledLanes|=u;for(a=a.entanglements;h;){var y=31-Y(h),x=1<<y;x&u|a[y]&u&&(a[y]|=u),h&=~x}}function Ot(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Xt(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function he(){var a=ht.p;return a!==0?a:(a=window.event,a===void 0?32:m_(a.type))}function Ue(a,u){var h=ht.p;try{return ht.p=a,u()}finally{ht.p=h}}var ze=Math.random().toString(36).slice(2),rn="__reactFiber$"+ze,vn="__reactProps$"+ze,On="__reactContainer$"+ze,hi="__reactEvents$"+ze,Vn="__reactListeners$"+ze,ti="__reactHandles$"+ze,vi="__reactResources$"+ze,fn="__reactMarker$"+ze;function Gn(a){delete a[rn],delete a[vn],delete a[hi],delete a[Vn],delete a[ti]}function Qe(a){var u=a[rn];if(u)return u;for(var h=a.parentNode;h;){if(u=h[On]||h[rn]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(a=n_(a);a!==null;){if(h=a[rn])return h;a=n_(a)}return u}a=h,h=a.parentNode}return null}function ar(a){if(a=a[rn]||a[On]){var u=a.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return a}return null}function Be(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a.stateNode;throw Error(e(33))}function Er(a){var u=a[vi];return u||(u=a[vi]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function xn(a){a[fn]=!0}var sr=new Set,lr={};function ur(a,u){un(a,u),un(a+"Capture",u)}function un(a,u){for(lr[a]=u,a=0;a<u.length;a++)sr.add(u[a])}var Te=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),br={},Un={};function Ar(a){return _t.call(Un,a)?!0:_t.call(br,a)?!1:Te.test(a)?Un[a]=!0:(br[a]=!0,!1)}function en(a,u,h){if(Ar(u))if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(u);return;case"boolean":var y=u.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){a.removeAttribute(u);return}}a.setAttribute(u,""+h)}}function Sn(a,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttribute(u,""+h)}}function cr(a,u,h,y){if(y===null)a.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(u,h,""+y)}}var gi,ie;function Re(a){if(gi===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);gi=u&&u[1]||"",ie=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gi+a+ie}var mi=!1;function I(a,u){if(!a||mi)return"";mi=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(u){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(zt){var It=zt}Reflect.construct(a,[],ae)}else{try{ae.call()}catch(zt){It=zt}a.call(ae.prototype)}}else{try{throw Error()}catch(zt){It=zt}(ae=a())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(zt){if(zt&&It&&typeof zt.stack=="string")return[zt.stack,It.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=y.DetermineComponentFrameRoot(),V=T[0],K=T[1];if(V&&K){var dt=V.split(`
`),Ut=K.split(`
`);for(x=y=0;y<dt.length&&!dt[y].includes("DetermineComponentFrameRoot");)y++;for(;x<Ut.length&&!Ut[x].includes("DetermineComponentFrameRoot");)x++;if(y===dt.length||x===Ut.length)for(y=dt.length-1,x=Ut.length-1;1<=y&&0<=x&&dt[y]!==Ut[x];)x--;for(;1<=y&&0<=x;y--,x--)if(dt[y]!==Ut[x]){if(y!==1||x!==1)do if(y--,x--,0>x||dt[y]!==Ut[x]){var $t=`
`+dt[y].replace(" at new "," at ");return a.displayName&&$t.includes("<anonymous>")&&($t=$t.replace("<anonymous>",a.displayName)),$t}while(1<=y&&0<=x);break}}}finally{mi=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?Re(h):""}function st(a){switch(a.tag){case 26:case 27:case 5:return Re(a.type);case 16:return Re("Lazy");case 13:return Re("Suspense");case 19:return Re("SuspenseList");case 0:case 15:return I(a.type,!1);case 11:return I(a.type.render,!1);case 1:return I(a.type,!0);case 31:return Re("Activity");default:return""}}function qt(a){try{var u="";do u+=st(a),a=a.return;while(a);return u}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function ee(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function le(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Je(a){var u=le(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),y=""+a[u];if(!a.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,T=h.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return x.call(this)},set:function(V){y=""+V,T.call(this,V)}}),Object.defineProperty(a,u,{enumerable:h.enumerable}),{getValue:function(){return y},setValue:function(V){y=""+V},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function $e(a){a._valueTracker||(a._valueTracker=Je(a))}function Ln(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var h=u.getValue(),y="";return a&&(y=le(a)?a.checked?"true":"false":a.value),a=y,a!==h?(u.setValue(a),!0):!1}function gn(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Ei=/[\n"\\]/g;function Pr(a){return a.replace(Ei,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Ao(a,u,h,y,x,T,V,K){a.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?a.type=V:a.removeAttribute("type"),u!=null?V==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+ee(u)):a.value!==""+ee(u)&&(a.value=""+ee(u)):V!=="submit"&&V!=="reset"||a.removeAttribute("value"),u!=null?Po(a,V,ee(u)):h!=null?Po(a,V,ee(h)):y!=null&&a.removeAttribute("value"),x==null&&T!=null&&(a.defaultChecked=!!T),x!=null&&(a.checked=x&&typeof x!="function"&&typeof x!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?a.name=""+ee(K):a.removeAttribute("name")}function qo(a,u,h,y,x,T,V,K){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.type=T),u!=null||h!=null){if(!(T!=="submit"&&T!=="reset"||u!=null))return;h=h!=null?""+ee(h):"",u=u!=null?""+ee(u):h,K||u===a.value||(a.value=u),a.defaultValue=u}y=y??x,y=typeof y!="function"&&typeof y!="symbol"&&!!y,a.checked=K?a.checked:!!y,a.defaultChecked=!!y,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(a.name=V)}function Po(a,u,h){u==="number"&&gn(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function to(a,u,h,y){if(a=a.options,u){u={};for(var x=0;x<h.length;x++)u["$"+h[x]]=!0;for(h=0;h<a.length;h++)x=u.hasOwnProperty("$"+a[h].value),a[h].selected!==x&&(a[h].selected=x),x&&y&&(a[h].defaultSelected=!0)}else{for(h=""+ee(h),u=null,x=0;x<a.length;x++){if(a[x].value===h){a[x].selected=!0,y&&(a[x].defaultSelected=!0);return}u!==null||a[x].disabled||(u=a[x])}u!==null&&(u.selected=!0)}}function fa(a,u,h){if(u!=null&&(u=""+ee(u),u!==a.value&&(a.value=u),h==null)){a.defaultValue!==u&&(a.defaultValue=u);return}a.defaultValue=h!=null?""+ee(h):""}function da(a,u,h,y){if(u==null){if(y!=null){if(h!=null)throw Error(e(92));if(ft(y)){if(1<y.length)throw Error(e(93));y=y[0]}h=y}h==null&&(h=""),u=h}h=ee(u),a.defaultValue=h,y=a.textContent,y===h&&y!==""&&y!==null&&(a.value=y)}function Ai(a,u){if(u){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=u;return}}a.textContent=u}var Go=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eo(a,u,h){var y=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?y?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="":y?a.setProperty(u,h):typeof h!="number"||h===0||Go.has(u)?u==="float"?a.cssFloat=h:a[u]=(""+h).trim():a[u]=h+"px"}function pa(a,u,h){if(u!=null&&typeof u!="object")throw Error(e(62));if(a=a.style,h!=null){for(var y in h)!h.hasOwnProperty(y)||u!=null&&u.hasOwnProperty(y)||(y.indexOf("--")===0?a.setProperty(y,""):y==="float"?a.cssFloat="":a[y]="");for(var x in u)y=u[x],u.hasOwnProperty(x)&&h[x]!==y&&eo(a,x,y)}else for(var T in u)u.hasOwnProperty(T)&&eo(a,T,u[T])}function Qn(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ei(a){return vs.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var ki=null;function Nr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var zn=null,Do=null;function no(a){var u=ar(a);if(u&&(a=u.stateNode)){var h=a[vn]||null;t:switch(a=u.stateNode,u.type){case"input":if(Ao(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Pr(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var y=h[u];if(y!==a&&y.form===a.form){var x=y[vn]||null;if(!x)throw Error(e(90));Ao(y,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(u=0;u<h.length;u++)y=h[u],y.form===a.form&&Ln(y)}break t;case"textarea":fa(a,h.value,h.defaultValue);break t;case"select":u=h.value,u!=null&&to(a,!!h.multiple,u,!1)}}}var yi=!1;function Ko(a,u,h){if(yi)return a(u,h);yi=!0;try{var y=a(u);return y}finally{if(yi=!1,(zn!==null||Do!==null)&&(oh(),zn&&(u=zn,a=Do,Do=zn=null,no(u),a)))for(u=0;u<a.length;u++)no(a[u])}}function Wr(a,u){var h=a.stateNode;if(h===null)return null;var y=h[vn]||null;if(y===null)return null;h=y[u];t:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break t;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(e(231,u,typeof h));return h}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(pr)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){ha=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{ha=!1}var ni=null,Pi=null,io=null;function oo(){if(io)return io;var a,u=Pi,h=u.length,y,x="value"in ni?ni.value:ni.textContent,T=x.length;for(a=0;a<h&&u[a]===x[a];a++);var V=h-a;for(y=1;y<=V&&u[h-y]===x[T-y];y++);return io=x.slice(a,1<y?1-y:void 0)}function je(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function Me(){return!0}function dn(){return!1}function Pe(a){function u(h,y,x,T,V){this._reactName=h,this._targetInst=x,this.type=y,this.nativeEvent=T,this.target=V,this.currentTarget=null;for(var K in a)a.hasOwnProperty(K)&&(h=a[K],this[K]=h?h(T):T[K]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Me:dn,this.isPropagationStopped=dn,this}return v(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Me)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Me)},persist:function(){},isPersistent:Me}),u}var Tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kn=Pe(Tn),xr=v({},Tn,{view:0,detail:0}),ao=Pe(xr),qr,Gr,kr,_i=v({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==kr&&(kr&&a.type==="mousemove"?(qr=a.screenX-kr.screenX,Gr=a.screenY-kr.screenY):Gr=qr=0,kr=a),qr)},movementY:function(a){return"movementY"in a?a.movementY:Gr}}),Yo=Pe(_i),La=v({},_i,{dataTransfer:0}),Dr=Pe(La),Yu=v({},xr,{relatedTarget:0}),Na=Pe(Yu),Xu=v({},Tn,{animationName:0,elapsedTime:0,pseudoElement:0}),zl=Pe(Xu),Fl=v({},Tn,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Zs=Pe(Fl),Zu=v({},Tn,{data:0}),Wl=Pe(Zu),Js={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ql={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=ql[a])?!!u[a]:!1}function gs(){return Qu}var Qs=v({},xr,{key:function(a){if(a.key){var u=Js[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=je(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ju[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(a){return a.type==="keypress"?je(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?je(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),va=Pe(Qs),$u=v({},_i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tc=Pe($u),Gl=v({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),ka=Pe(Gl),$n=v({},Tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Va=Pe($n),Xo=v({},_i,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=Pe(Xo),ec=v({},Tn,{newState:0,oldState:0}),Kl=Pe(ec),Yl=[9,13,27,32],Ha=pr&&"CompositionEvent"in window,so=null;pr&&"documentMode"in document&&(so=document.documentMode);var nc=pr&&"TextEvent"in window&&!so,Xl=pr&&(!Ha||so&&8<so&&11>=so),ga=" ",$s=!1;function Zl(a,u){switch(a){case"keyup":return Yl.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Kr=!1;function Ba(a,u){switch(a){case"compositionend":return ma(u);case"keypress":return u.which!==32?null:($s=!0,ga);case"textInput":return a=u.data,a===ga&&$s?null:a;default:return null}}function ms(a,u){if(Kr)return a==="compositionend"||!Ha&&Zl(a,u)?(a=oo(),io=Pi=ni=null,Kr=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Xl&&u.locale!=="ko"?null:u.data;default:return null}}var rc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bi(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!rc[a.type]:u==="textarea"}function Zo(a,u,h,y){zn?Do?Do.push(y):Do=[y]:zn=y,u=fh(u,"onChange"),0<u.length&&(h=new Kn("onChange","change",null,h,y),a.push({event:h,listeners:u}))}var L=null,W=null;function lt(a){G0(a,0)}function ct(a){var u=Be(a);if(Ln(u))return a}function jt(a,u){if(a==="change")return u}var Tt=!1;if(pr){var Kt;if(pr){var pe="oninput"in document;if(!pe){var Ye=document.createElement("div");Ye.setAttribute("oninput","return;"),pe=typeof Ye.oninput=="function"}Kt=pe}else Kt=!1;Tt=Kt&&(!document.documentMode||9<document.documentMode)}function We(){L&&(L.detachEvent("onpropertychange",hr),W=L=null)}function hr(a){if(a.propertyName==="value"&&ct(W)){var u=[];Zo(u,W,a,Nr(a)),Ko(lt,u)}}function Yr(a,u,h){a==="focusin"?(We(),L=u,W=h,L.attachEvent("onpropertychange",hr)):a==="focusout"&&We()}function ic(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ct(W)}function Jl(a,u){if(a==="click")return ct(u)}function xp(a,u){if(a==="input"||a==="change")return ct(u)}function Ql(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var Di=typeof Object.is=="function"?Object.is:Ql;function tl(a,u){if(Di(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var h=Object.keys(a),y=Object.keys(u);if(h.length!==y.length)return!1;for(y=0;y<h.length;y++){var x=h[y];if(!_t.call(u,x)||!Di(a[x],u[x]))return!1}return!0}function oc(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function $l(a,u){var h=oc(a);a=0;for(var y;h;){if(h.nodeType===3){if(y=a+h.textContent.length,a<=u&&y>=u)return{node:h,offset:u-a};a=y}t:{for(;h;){if(h.nextSibling){h=h.nextSibling;break t}h=h.parentNode}h=void 0}h=oc(h)}}function jf(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?jf(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function tu(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var u=gn(a.document);u instanceof a.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)a=u.contentWindow;else break;u=gn(a.document)}return u}function Vi(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}var Sp=pr&&"documentMode"in document&&11>=document.documentMode,Ia=null,eu=null,el=null,ac=!1;function sc(a,u,h){var y=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;ac||Ia==null||Ia!==gn(y)||(y=Ia,"selectionStart"in y&&Vi(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),el&&tl(el,y)||(el=y,y=fh(eu,"onSelect"),0<y.length&&(u=new Kn("onSelect","select",null,u,h),a.push({event:u,listeners:y}),u.target=Ia)))}function ys(a,u){var h={};return h[a.toLowerCase()]=u.toLowerCase(),h["Webkit"+a]="webkit"+u,h["Moz"+a]="moz"+u,h}var nl={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionrun:ys("Transition","TransitionRun"),transitionstart:ys("Transition","TransitionStart"),transitioncancel:ys("Transition","TransitionCancel"),transitionend:ys("Transition","TransitionEnd")},Rf={},za={};pr&&(za=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function lo(a){if(Rf[a])return Rf[a];if(!nl[a])return a;var u=nl[a],h;for(h in u)if(u.hasOwnProperty(h)&&h in za)return Rf[a]=u[h];return a}var _s=lo("animationend"),lc=lo("animationiteration"),uc=lo("animationstart"),Cp=lo("transitionrun"),Lf=lo("transitionstart"),bs=lo("transitioncancel"),Fa=lo("transitionend"),ri=new Map,Jo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jo.push("scrollEnd");function Vr(a,u){ri.set(a,u),ur(u,[a])}var nu=new WeakMap;function uo(a,u){if(typeof a=="object"&&a!==null){var h=nu.get(a);return h!==void 0?h:(u={value:a,source:u,stack:qt(u)},nu.set(a,u),u)}return{value:a,source:u,stack:qt(u)}}var Ui=[],Qo=0,cc=0;function ru(){for(var a=Qo,u=cc=Qo=0;u<a;){var h=Ui[u];Ui[u++]=null;var y=Ui[u];Ui[u++]=null;var x=Ui[u];Ui[u++]=null;var T=Ui[u];if(Ui[u++]=null,y!==null&&x!==null){var V=y.pending;V===null?x.next=x:(x.next=V.next,V.next=x),y.pending=x}T!==0&&kf(h,x,T)}}function ws(a,u,h,y){Ui[Qo++]=a,Ui[Qo++]=u,Ui[Qo++]=h,Ui[Qo++]=y,cc|=y,a.lanes|=y,a=a.alternate,a!==null&&(a.lanes|=y)}function Nf(a,u,h,y){return ws(a,u,h,y),rl(a)}function Wa(a,u){return ws(a,null,null,u),rl(a)}function kf(a,u,h){a.lanes|=h;var y=a.alternate;y!==null&&(y.lanes|=h);for(var x=!1,T=a.return;T!==null;)T.childLanes|=h,y=T.alternate,y!==null&&(y.childLanes|=h),T.tag===22&&(a=T.stateNode,a===null||a._visibility&1||(x=!0)),a=T,T=T.return;return a.tag===3?(T=a.stateNode,x&&u!==null&&(x=31-Y(h),a=T.hiddenUpdates,y=a[x],y===null?a[x]=[u]:y.push(u),u.lane=h|536870912),T):null}function rl(a){if(50<Cd)throw Cd=0,jg=null,Error(e(185));for(var u=a.return;u!==null;)a=u,u=a.return;return a.tag===3?a.stateNode:null}var qa={};function il(a,u,h,y){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(a,u,h,y){return new il(a,u,h,y)}function fc(a){return a=a.prototype,!(!a||!a.isReactComponent)}function co(a,u){var h=a.alternate;return h===null?(h=ii(a.tag,u,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=u,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,u=a.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function Op(a,u){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=u,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,u=h.dependencies,a.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),a}function dc(a,u,h,y,x,T){var V=0;if(y=a,typeof a=="function")fc(a)&&(V=1);else if(typeof a=="string")V=kC(a,h,At.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case $:return a=ii(31,h,u,x),a.elementType=$,a.lanes=T,a;case O:return xs(h.children,x,T,u);case A:V=8,x|=24;break;case P:return a=ii(12,h,u,x|2),a.elementType=P,a.lanes=T,a;case ot:return a=ii(13,h,u,x),a.elementType=ot,a.lanes=T,a;case xt:return a=ii(19,h,u,x),a.elementType=xt,a.lanes=T,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case j:case k:V=10;break t;case z:V=9;break t;case G:V=11;break t;case Nt:V=14;break t;case vt:V=16,y=null;break t}V=29,h=Error(e(130,a===null?"null":typeof a,"")),y=null}return u=ii(V,h,u,x),u.elementType=a,u.type=y,u.lanes=T,u}function xs(a,u,h,y){return a=ii(7,a,y,u),a.lanes=h,a}function iu(a,u,h){return a=ii(6,a,null,u),a.lanes=h,a}function ou(a,u,h){return u=ii(4,a.children!==null?a.children:[],a.key,u),u.lanes=h,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}var Mo=[],$o=0,pc=null,Ss=0,Hi=[],oi=0,Ga=null,wi=1,Bi="";function Ii(a,u){Mo[$o++]=Ss,Mo[$o++]=pc,pc=a,Ss=u}function ol(a,u,h){Hi[oi++]=wi,Hi[oi++]=Bi,Hi[oi++]=Ga,Ga=a;var y=wi;a=Bi;var x=32-Y(y)-1;y&=~(1<<x),h+=1;var T=32-Y(u)+x;if(30<T){var V=x-x%5;T=(y&(1<<V)-1).toString(32),y>>=V,x-=V,wi=1<<32-Y(u)+x|h<<x|y,Bi=T+a}else wi=1<<T|h<<x|y,Bi=a}function Ka(a){a.return!==null&&(Ii(a,1),ol(a,1,0))}function hc(a){for(;a===pc;)pc=Mo[--$o],Mo[$o]=null,Ss=Mo[--$o],Mo[$o]=null;for(;a===Ga;)Ga=Hi[--oi],Hi[oi]=null,Bi=Hi[--oi],Hi[oi]=null,wi=Hi[--oi],Hi[oi]=null}var ai=null,tr=null,En=!1,zi=null,si=!1,Vf=Error(e(519));function Cs(a){var u=Error(e(418,""));throw er(uo(u,a)),Vf}function Tp(a){var u=a.stateNode,h=a.type,y=a.memoizedProps;switch(u[rn]=a,u[vn]=y,h){case"dialog":yn("cancel",u),yn("close",u);break;case"iframe":case"object":case"embed":yn("load",u);break;case"video":case"audio":for(h=0;h<Td.length;h++)yn(Td[h],u);break;case"source":yn("error",u);break;case"img":case"image":case"link":yn("error",u),yn("load",u);break;case"details":yn("toggle",u);break;case"input":yn("invalid",u),qo(u,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),$e(u);break;case"select":yn("invalid",u);break;case"textarea":yn("invalid",u),da(u,y.value,y.defaultValue,y.children),$e(u)}h=y.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||y.suppressHydrationWarning===!0||Z0(u.textContent,h)?(y.popover!=null&&(yn("beforetoggle",u),yn("toggle",u)),y.onScroll!=null&&yn("scroll",u),y.onScrollEnd!=null&&yn("scrollend",u),y.onClick!=null&&(u.onclick=dh),u=!0):u=!1,u||Cs(a)}function Ep(a){for(ai=a.return;ai;)switch(ai.tag){case 5:case 13:si=!1;return;case 27:case 3:si=!0;return;default:ai=ai.return}}function au(a){if(a!==ai)return!1;if(!En)return Ep(a),En=!0,!1;var u=a.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||Yg(a.type,a.memoizedProps)),h=!h),h&&tr&&Cs(a),Ep(a),u===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(e(317));t:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8)if(h=a.data,h==="/$"){if(u===0){tr=Ca(a.nextSibling);break t}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++;a=a.nextSibling}tr=null}}else u===27?(u=tr,Pl(a.type)?(a=Qg,Qg=null,tr=a):tr=u):tr=ai?Ca(a.stateNode.nextSibling):null;return!0}function su(){tr=ai=null,En=!1}function xi(){var a=zi;return a!==null&&(go===null?go=a:go.push.apply(go,a),zi=null),a}function er(a){zi===null?zi=[a]:zi.push(a)}var Ur=Lt(null),Fn=null,Fi=null;function Ya(a,u,h){Et(Ur,u._currentValue),u._currentValue=h}function fo(a){a._currentValue=Ur.current,pt(Ur)}function Uf(a,u,h){for(;a!==null;){var y=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),a===h)break;a=a.return}}function Hf(a,u,h,y){var x=a.child;for(x!==null&&(x.return=a);x!==null;){var T=x.dependencies;if(T!==null){var V=x.child;T=T.firstContext;t:for(;T!==null;){var K=T;T=x;for(var dt=0;dt<u.length;dt++)if(K.context===u[dt]){T.lanes|=h,K=T.alternate,K!==null&&(K.lanes|=h),Uf(T.return,h,a),y||(V=null);break t}T=K.next}}else if(x.tag===18){if(V=x.return,V===null)throw Error(e(341));V.lanes|=h,T=V.alternate,T!==null&&(T.lanes|=h),Uf(V,h,a),V=null}else V=x.child;if(V!==null)V.return=x;else for(V=x;V!==null;){if(V===a){V=null;break}if(x=V.sibling,x!==null){x.return=V.return,V=x;break}V=V.return}x=V}}function lu(a,u,h,y){a=null;for(var x=u,T=!1;x!==null;){if(!T){if((x.flags&524288)!==0)T=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var V=x.alternate;if(V===null)throw Error(e(387));if(V=V.memoizedProps,V!==null){var K=x.type;Di(x.pendingProps.value,V.value)||(a!==null?a.push(K):a=[K])}}else if(x===ne.current){if(V=x.alternate,V===null)throw Error(e(387));V.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(a!==null?a.push(jd):a=[jd])}x=x.return}a!==null&&Hf(u,a,h,y),u.flags|=262144}function al(a){for(a=a.firstContext;a!==null;){if(!Di(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Xa(a){Fn=a,Fi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Hr(a){return gc(Fn,a)}function vc(a,u){return Fn===null&&Xa(a),gc(a,u)}function gc(a,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},Fi===null){if(a===null)throw Error(e(308));Fi=u,a.dependencies={lanes:0,firstContext:u},a.flags|=524288}else Fi=Fi.next=u;return h}var Bf=typeof AbortController<"u"?AbortController:function(){var a=[],u=this.signal={aborted:!1,addEventListener:function(h,y){a.push(y)}};this.abort=function(){u.aborted=!0,a.forEach(function(h){return h()})}},Ap=o.unstable_scheduleCallback,Pp=o.unstable_NormalPriority,vr={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mc(){return{controller:new Bf,data:new Map,refCount:0}}function ya(a){a.refCount--,a.refCount===0&&Ap(Pp,function(){a.controller.abort()})}var uu=null,sl=0,Br=0,Os=null;function wg(a,u){if(uu===null){var h=uu=[];sl=0,Br=Hg(),Os={status:"pending",value:void 0,then:function(y){h.push(y)}}}return sl++,u.then(If,If),u}function If(){if(--sl===0&&uu!==null){Os!==null&&(Os.status="fulfilled");var a=uu;uu=null,Br=0,Os=null;for(var u=0;u<a.length;u++)(0,a[u])()}}function Wi(a,u){var h=[],y={status:"pending",value:null,reason:null,then:function(x){h.push(x)}};return a.then(function(){y.status="fulfilled",y.value=u;for(var x=0;x<h.length;x++)(0,h[x])(u)},function(x){for(y.status="rejected",y.reason=x,x=0;x<h.length;x++)(0,h[x])(void 0)}),y}var bn=M.S;M.S=function(a,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&wg(a,u),bn!==null&&bn(a,u)};var Xr=Lt(null);function ta(){var a=Xr.current;return a!==null?a:Xn.pooledCache}function jo(a,u){u===null?Et(Xr,Xr.current):Et(Xr,u.pool)}function zf(){var a=ta();return a===null?null:{parent:vr._currentValue,pool:a}}var Ts=Error(e(460)),Ff=Error(e(474)),yc=Error(e(542)),cu={then:function(){}};function ll(a){return a=a.status,a==="fulfilled"||a==="rejected"}function fu(){}function _c(a,u,h){switch(h=a[h],h===void 0?a.push(u):h!==u&&(u.then(fu,fu),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,qf(a),a;default:if(typeof u.status=="string")u.then(fu,fu);else{if(a=Xn,a!==null&&100<a.shellSuspendCounter)throw Error(e(482));a=u,a.status="pending",a.then(function(y){if(u.status==="pending"){var x=u;x.status="fulfilled",x.value=y}},function(y){if(u.status==="pending"){var x=u;x.status="rejected",x.reason=y}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,qf(a),a}throw po=u,Ts}}var po=null;function Wf(){if(po===null)throw Error(e(459));var a=po;return po=null,a}function qf(a){if(a===Ts||a===yc)throw Error(e(483))}var Za=!1;function ul(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function du(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function _a(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ja(a,u,h){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,(Nn&2)!==0){var x=y.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),y.pending=u,u=rl(a),kf(a,null,h),u}return ws(a,y,u,h),rl(a)}function cl(a,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var y=u.lanes;y&=a.pendingLanes,h|=y,u.lanes=h,ut(a,h)}}function Gf(a,u){var h=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,h===y)){var x=null,T=null;if(h=h.firstBaseUpdate,h!==null){do{var V={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};T===null?x=T=V:T=T.next=V,h=h.next}while(h!==null);T===null?x=T=u:T=T.next=u}else x=T=u;h={baseState:y.baseState,firstBaseUpdate:x,lastBaseUpdate:T,shared:y.shared,callbacks:y.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=u}var Kf=!1;function Qa(){if(Kf){var a=Os;if(a!==null)throw a}}function fl(a,u,h,y){Kf=!1;var x=a.updateQueue;Za=!1;var T=x.firstBaseUpdate,V=x.lastBaseUpdate,K=x.shared.pending;if(K!==null){x.shared.pending=null;var dt=K,Ut=dt.next;dt.next=null,V===null?T=Ut:V.next=Ut,V=dt;var $t=a.alternate;$t!==null&&($t=$t.updateQueue,K=$t.lastBaseUpdate,K!==V&&(K===null?$t.firstBaseUpdate=Ut:K.next=Ut,$t.lastBaseUpdate=dt))}if(T!==null){var ae=x.baseState;V=0,$t=Ut=dt=null,K=T;do{var It=K.lane&-536870913,zt=It!==K.lane;if(zt?(Cn&It)===It:(y&It)===It){It!==0&&It===Br&&(Kf=!0),$t!==null&&($t=$t.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});t:{var Ze=a,qe=K;It=u;var In=h;switch(qe.tag){case 1:if(Ze=qe.payload,typeof Ze=="function"){ae=Ze.call(In,ae,It);break t}ae=Ze;break t;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=qe.payload,It=typeof Ze=="function"?Ze.call(In,ae,It):Ze,It==null)break t;ae=v({},ae,It);break t;case 2:Za=!0}}It=K.callback,It!==null&&(a.flags|=64,zt&&(a.flags|=8192),zt=x.callbacks,zt===null?x.callbacks=[It]:zt.push(It))}else zt={lane:It,tag:K.tag,payload:K.payload,callback:K.callback,next:null},$t===null?(Ut=$t=zt,dt=ae):$t=$t.next=zt,V|=It;if(K=K.next,K===null){if(K=x.shared.pending,K===null)break;zt=K,K=zt.next,zt.next=null,x.lastBaseUpdate=zt,x.shared.pending=null}}while(!0);$t===null&&(dt=ae),x.baseState=dt,x.firstBaseUpdate=Ut,x.lastBaseUpdate=$t,T===null&&(x.shared.lanes=0),Ol|=V,a.lanes=V,a.memoizedState=ae}}function Dp(a,u){if(typeof a!="function")throw Error(e(191,a));a.call(u)}function Mp(a,u){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)Dp(h[a],u)}var Es=Lt(null),ba=Lt(0);function bc(a,u){a=Vs,Et(ba,a),Et(Es,u),Vs=a|u.baseLanes}function dl(){Et(ba,Vs),Et(Es,Es.current)}function wc(){Vs=ba.current,pt(Es),pt(ba)}var ea=0,sn=null,jn=null,gr=null,Sr=!1,wa=!1,$a=!1,pu=0,pl=0,Ro=null,xc=0;function fr(){throw Error(e(321))}function Sc(a,u){if(u===null)return!1;for(var h=0;h<u.length&&h<a.length;h++)if(!Di(a[h],u[h]))return!1;return!0}function Cc(a,u,h,y,x,T){return ea=T,sn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,M.H=a===null||a.memoizedState===null?Gp:jc,$a=!1,T=h(y,x),$a=!1,wa&&(T=Yf(u,h,y,x)),As(a),T}function As(a){M.H=wu;var u=jn!==null&&jn.next!==null;if(ea=0,gr=jn=sn=null,Sr=!1,pl=0,Ro=null,u)throw Error(e(300));a===null||Ir||(a=a.dependencies,a!==null&&al(a)&&(Ir=!0))}function Yf(a,u,h,y){sn=a;var x=0;do{if(wa&&(Ro=null),pl=0,wa=!1,25<=x)throw Error(e(301));if(x+=1,gr=jn=null,a.updateQueue!=null){var T=a.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}M.H=xu,T=u(h,y)}while(wa);return T}function Oc(){var a=M.H,u=a.useState()[0];return u=typeof u.then=="function"?hl(u):u,a=a.useState()[0],(jn!==null?jn.memoizedState:null)!==a&&(sn.flags|=1024),u}function Tc(){var a=pu!==0;return pu=0,a}function Ps(a,u,h){u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~h}function Xf(a){if(Sr){for(a=a.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}Sr=!1}ea=0,gr=jn=sn=null,wa=!1,pl=pu=0,Ro=null}function Mr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?sn.memoizedState=gr=a:gr=gr.next=a,gr}function mr(){if(jn===null){var a=sn.alternate;a=a!==null?a.memoizedState:null}else a=jn.next;var u=gr===null?sn.memoizedState:gr.next;if(u!==null)gr=u,jn=a;else{if(a===null)throw sn.alternate===null?Error(e(467)):Error(e(310));jn=a,a={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},gr===null?sn.memoizedState=gr=a:gr=gr.next=a}return gr}function Ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(a){var u=pl;return pl+=1,Ro===null&&(Ro=[]),a=_c(Ro,a,u),u=sn,(gr===null?u.memoizedState:gr.next)===null&&(u=u.alternate,M.H=u===null||u.memoizedState===null?Gp:jc),a}function ts(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return hl(a);if(a.$$typeof===k)return Hr(a)}throw Error(e(438,String(a)))}function Ds(a){var u=null,h=sn.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var y=sn.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(u={data:y.data.map(function(x){return x.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=Ec(),sn.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(a),y=0;y<a;y++)h[y]=mt;return u.index++,h}function qi(a,u){return typeof u=="function"?u(a):u}function es(a){var u=mr();return Ac(u,jn,a)}function Ac(a,u,h){var y=a.queue;if(y===null)throw Error(e(311));y.lastRenderedReducer=h;var x=a.baseQueue,T=y.pending;if(T!==null){if(x!==null){var V=x.next;x.next=T.next,T.next=V}u.baseQueue=x=T,y.pending=null}if(T=a.baseState,x===null)a.memoizedState=T;else{u=x.next;var K=V=null,dt=null,Ut=u,$t=!1;do{var ae=Ut.lane&-536870913;if(ae!==Ut.lane?(Cn&ae)===ae:(ea&ae)===ae){var It=Ut.revertLane;if(It===0)dt!==null&&(dt=dt.next={lane:0,revertLane:0,action:Ut.action,hasEagerState:Ut.hasEagerState,eagerState:Ut.eagerState,next:null}),ae===Br&&($t=!0);else if((ea&It)===It){Ut=Ut.next,It===Br&&($t=!0);continue}else ae={lane:0,revertLane:Ut.revertLane,action:Ut.action,hasEagerState:Ut.hasEagerState,eagerState:Ut.eagerState,next:null},dt===null?(K=dt=ae,V=T):dt=dt.next=ae,sn.lanes|=It,Ol|=It;ae=Ut.action,$a&&h(T,ae),T=Ut.hasEagerState?Ut.eagerState:h(T,ae)}else It={lane:ae,revertLane:Ut.revertLane,action:Ut.action,hasEagerState:Ut.hasEagerState,eagerState:Ut.eagerState,next:null},dt===null?(K=dt=It,V=T):dt=dt.next=It,sn.lanes|=ae,Ol|=ae;Ut=Ut.next}while(Ut!==null&&Ut!==u);if(dt===null?V=T:dt.next=K,!Di(T,a.memoizedState)&&(Ir=!0,$t&&(h=Os,h!==null)))throw h;a.memoizedState=T,a.baseState=V,a.baseQueue=dt,y.lastRenderedState=T}return x===null&&(y.lanes=0),[a.memoizedState,y.dispatch]}function Zf(a){var u=mr(),h=u.queue;if(h===null)throw Error(e(311));h.lastRenderedReducer=a;var y=h.dispatch,x=h.pending,T=u.memoizedState;if(x!==null){h.pending=null;var V=x=x.next;do T=a(T,V.action),V=V.next;while(V!==x);Di(T,u.memoizedState)||(Ir=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),h.lastRenderedState=T}return[T,y]}function Jf(a,u,h){var y=sn,x=mr(),T=En;if(T){if(h===void 0)throw Error(e(407));h=h()}else h=u();var V=!Di((jn||x).memoizedState,h);V&&(x.memoizedState=h,Ir=!0),x=x.queue;var K=vl.bind(null,y,x,a);if(Ki(2048,8,K,[a]),x.getSnapshot!==u||V||gr!==null&&gr.memoizedState.tag&1){if(y.flags|=2048,Gi(9,ns(),Ms.bind(null,y,x,h,u),null),Xn===null)throw Error(e(349));T||(ea&124)!==0||xa(y,u,h)}return h}function xa(a,u,h){a.flags|=16384,a={getSnapshot:u,value:h},u=sn.updateQueue,u===null?(u=Ec(),sn.updateQueue=u,u.stores=[a]):(h=u.stores,h===null?u.stores=[a]:h.push(a))}function Ms(a,u,h,y){u.value=h,u.getSnapshot=y,jp(u)&&Qf(a)}function vl(a,u,h){return h(function(){jp(u)&&Qf(a)})}function jp(a){var u=a.getSnapshot;a=a.value;try{var h=u();return!Di(a,h)}catch{return!0}}function Qf(a){var u=Wa(a,2);u!==null&&Ho(u,a,2)}function $f(a){var u=Mr();if(typeof a=="function"){var h=a;if(a=h(),$a){Ne(!0);try{h()}finally{Ne(!1)}}}return u.memoizedState=u.baseState=a,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},u}function Rp(a,u,h,y){return a.baseState=h,Ac(a,jn,typeof y=="function"?y:qi)}function xg(a,u,h,y,x){if(bu(a))throw Error(e(485));if(a=u.action,a!==null){var T={payload:x,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){T.listeners.push(V)}};M.T!==null?h(!0):T.isTransition=!1,y(T),h=u.pending,h===null?(T.next=u.pending=T,li(u,T)):(T.next=h.next,u.pending=h.next=T)}}function li(a,u){var h=u.action,y=u.payload,x=a.state;if(u.isTransition){var T=M.T,V={};M.T=V;try{var K=h(x,y),dt=M.S;dt!==null&&dt(V,K),td(a,u,K)}catch(Ut){ed(a,u,Ut)}finally{M.T=T}}else try{T=h(x,y),td(a,u,T)}catch(Ut){ed(a,u,Ut)}}function td(a,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(y){Lp(a,u,y)},function(y){return ed(a,u,y)}):Lp(a,u,h)}function Lp(a,u,h){u.status="fulfilled",u.value=h,Np(u),a.state=h,u=a.pending,u!==null&&(h=u.next,h===u?a.pending=null:(h=h.next,u.next=h,li(a,h)))}function ed(a,u,h){var y=a.pending;if(a.pending=null,y!==null){y=y.next;do u.status="rejected",u.reason=h,Np(u),u=u.next;while(u!==y)}a.action=null}function Np(a){a=a.listeners;for(var u=0;u<a.length;u++)(0,a[u])()}function nd(a,u){return u}function rd(a,u){if(En){var h=Xn.formState;if(h!==null){t:{var y=sn;if(En){if(tr){e:{for(var x=tr,T=si;x.nodeType!==8;){if(!T){x=null;break e}if(x=Ca(x.nextSibling),x===null){x=null;break e}}T=x.data,x=T==="F!"||T==="F"?x:null}if(x){tr=Ca(x.nextSibling),y=x.data==="F!";break t}}Cs(y)}y=!1}y&&(u=h[0])}}return h=Mr(),h.memoizedState=h.baseState=u,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nd,lastRenderedState:u},h.queue=y,h=ud.bind(null,sn,y),y.dispatch=h,y=$f(!1),T=_u.bind(null,sn,!1,y.queue),y=Mr(),x={state:u,dispatch:null,action:a,pending:null},y.queue=x,h=xg.bind(null,sn,x,T,h),x.dispatch=h,y.memoizedState=a,[u,h,!1]}function id(a){var u=mr();return kp(u,jn,a)}function kp(a,u,h){if(u=Ac(a,u,nd)[0],a=es(qi)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var y=hl(u)}catch(V){throw V===Ts?yc:V}else y=u;u=mr();var x=u.queue,T=x.dispatch;return h!==u.memoizedState&&(sn.flags|=2048,Gi(9,ns(),Sg.bind(null,x,h),null)),[y,T,a]}function Sg(a,u){a.action=u}function Vp(a){var u=mr(),h=jn;if(h!==null)return kp(u,h,a);mr(),u=u.memoizedState,h=mr();var y=h.queue.dispatch;return h.memoizedState=a,[u,y,!1]}function Gi(a,u,h,y){return a={tag:a,create:h,deps:y,inst:u,next:null},u=sn.updateQueue,u===null&&(u=Ec(),sn.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=a.next=a:(y=h.next,h.next=a,a.next=y,u.lastEffect=a),a}function ns(){return{destroy:void 0,resource:void 0}}function hu(){return mr().memoizedState}function rs(a,u,h,y){var x=Mr();y=y===void 0?null:y,sn.flags|=a,x.memoizedState=Gi(1|u,ns(),h,y)}function Ki(a,u,h,y){var x=mr();y=y===void 0?null:y;var T=x.memoizedState.inst;jn!==null&&y!==null&&Sc(y,jn.memoizedState.deps)?x.memoizedState=Gi(u,T,h,y):(sn.flags|=a,x.memoizedState=Gi(1|u,T,h,y))}function Up(a,u){rs(8390656,8,a,u)}function Hp(a,u){Ki(2048,8,a,u)}function js(a,u){return Ki(4,2,a,u)}function od(a,u){return Ki(4,4,a,u)}function ad(a,u){if(typeof u=="function"){a=a();var h=u(a);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function sd(a,u,h){h=h!=null?h.concat([a]):null,Ki(4,4,ad.bind(null,u,a),h)}function gl(){}function Rs(a,u){var h=mr();u=u===void 0?null:u;var y=h.memoizedState;return u!==null&&Sc(u,y[1])?y[0]:(h.memoizedState=[a,u],a)}function Pc(a,u){var h=mr();u=u===void 0?null:u;var y=h.memoizedState;if(u!==null&&Sc(u,y[1]))return y[0];if(y=a(),$a){Ne(!0);try{a()}finally{Ne(!1)}}return h.memoizedState=[y,u],y}function vu(a,u,h){return h===void 0||(ea&1073741824)!==0?a.memoizedState=u:(a.memoizedState=h,a=S0(),sn.lanes|=a,Ol|=a,h)}function Dc(a,u,h,y){return Di(h,u)?h:Es.current!==null?(a=vu(a,h,y),Di(a,u)||(Ir=!0),a):(ea&42)===0?(Ir=!0,a.memoizedState=h):(a=S0(),sn.lanes|=a,Ol|=a,u)}function Bp(a,u,h,y,x){var T=ht.p;ht.p=T!==0&&8>T?T:8;var V=M.T,K={};M.T=K,_u(a,!1,u,h);try{var dt=x(),Ut=M.S;if(Ut!==null&&Ut(K,dt),dt!==null&&typeof dt=="object"&&typeof dt.then=="function"){var $t=Wi(dt,y);yu(a,u,$t,Uo(a))}else yu(a,u,y,Uo(a))}catch(ae){yu(a,u,{then:function(){},status:"rejected",reason:ae},Uo())}finally{ht.p=T,M.T=V}}function gu(){}function Mc(a,u,h,y){if(a.tag!==5)throw Error(e(476));var x=Ip(a).queue;Bp(a,x,u,yt,h===null?gu:function(){return ld(a),h(y)})}function Ip(a){var u=a.memoizedState;if(u!==null)return u;u={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:yt},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:h},next:null},a.memoizedState=u,a=a.alternate,a!==null&&(a.memoizedState=u),u}function ld(a){var u=Ip(a).next.queue;yu(a,u,{},Uo())}function ml(){return Hr(jd)}function zp(){return mr().memoizedState}function Fp(){return mr().memoizedState}function mu(a){for(var u=a.return;u!==null;){switch(u.tag){case 24:case 3:var h=Uo();a=_a(h);var y=Ja(u,a,h);y!==null&&(Ho(y,u,h),cl(y,u,h)),u={cache:mc()},a.payload=u;return}u=u.return}}function Wp(a,u,h){var y=Uo();h={lane:y,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},bu(a)?qp(u,h):(h=Nf(a,u,h,y),h!==null&&(Ho(h,a,y),cd(h,u,y)))}function ud(a,u,h){var y=Uo();yu(a,u,h,y)}function yu(a,u,h,y){var x={lane:y,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(bu(a))qp(u,x);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var V=u.lastRenderedState,K=T(V,h);if(x.hasEagerState=!0,x.eagerState=K,Di(K,V))return ws(a,u,x,0),Xn===null&&ru(),!1}catch{}finally{}if(h=Nf(a,u,x,y),h!==null)return Ho(h,a,y),cd(h,u,y),!0}return!1}function _u(a,u,h,y){if(y={lane:2,revertLane:Hg(),action:y,hasEagerState:!1,eagerState:null,next:null},bu(a)){if(u)throw Error(e(479))}else u=Nf(a,h,y,2),u!==null&&Ho(u,a,2)}function bu(a){var u=a.alternate;return a===sn||u!==null&&u===sn}function qp(a,u){wa=Sr=!0;var h=a.pending;h===null?u.next=u:(u.next=h.next,h.next=u),a.pending=u}function cd(a,u,h){if((h&4194048)!==0){var y=u.lanes;y&=a.pendingLanes,h|=y,u.lanes=h,ut(a,h)}}var wu={readContext:Hr,use:ts,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useLayoutEffect:fr,useInsertionEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useSyncExternalStore:fr,useId:fr,useHostTransitionStatus:fr,useFormState:fr,useActionState:fr,useOptimistic:fr,useMemoCache:fr,useCacheRefresh:fr},Gp={readContext:Hr,use:ts,useCallback:function(a,u){return Mr().memoizedState=[a,u===void 0?null:u],a},useContext:Hr,useEffect:Up,useImperativeHandle:function(a,u,h){h=h!=null?h.concat([a]):null,rs(4194308,4,ad.bind(null,u,a),h)},useLayoutEffect:function(a,u){return rs(4194308,4,a,u)},useInsertionEffect:function(a,u){rs(4,2,a,u)},useMemo:function(a,u){var h=Mr();u=u===void 0?null:u;var y=a();if($a){Ne(!0);try{a()}finally{Ne(!1)}}return h.memoizedState=[y,u],y},useReducer:function(a,u,h){var y=Mr();if(h!==void 0){var x=h(u);if($a){Ne(!0);try{h(u)}finally{Ne(!1)}}}else x=u;return y.memoizedState=y.baseState=x,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:x},y.queue=a,a=a.dispatch=Wp.bind(null,sn,a),[y.memoizedState,a]},useRef:function(a){var u=Mr();return a={current:a},u.memoizedState=a},useState:function(a){a=$f(a);var u=a.queue,h=ud.bind(null,sn,u);return u.dispatch=h,[a.memoizedState,h]},useDebugValue:gl,useDeferredValue:function(a,u){var h=Mr();return vu(h,a,u)},useTransition:function(){var a=$f(!1);return a=Bp.bind(null,sn,a.queue,!0,!1),Mr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,u,h){var y=sn,x=Mr();if(En){if(h===void 0)throw Error(e(407));h=h()}else{if(h=u(),Xn===null)throw Error(e(349));(Cn&124)!==0||xa(y,u,h)}x.memoizedState=h;var T={value:h,getSnapshot:u};return x.queue=T,Up(vl.bind(null,y,T,a),[a]),y.flags|=2048,Gi(9,ns(),Ms.bind(null,y,T,h,u),null),h},useId:function(){var a=Mr(),u=Xn.identifierPrefix;if(En){var h=Bi,y=wi;h=(y&~(1<<32-Y(y)-1)).toString(32)+h,u="«"+u+"R"+h,h=pu++,0<h&&(u+="H"+h.toString(32)),u+="»"}else h=xc++,u="«"+u+"r"+h.toString(32)+"»";return a.memoizedState=u},useHostTransitionStatus:ml,useFormState:rd,useActionState:rd,useOptimistic:function(a){var u=Mr();u.memoizedState=u.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=_u.bind(null,sn,!0,h),h.dispatch=u,[a,u]},useMemoCache:Ds,useCacheRefresh:function(){return Mr().memoizedState=mu.bind(null,sn)}},jc={readContext:Hr,use:ts,useCallback:Rs,useContext:Hr,useEffect:Hp,useImperativeHandle:sd,useInsertionEffect:js,useLayoutEffect:od,useMemo:Pc,useReducer:es,useRef:hu,useState:function(){return es(qi)},useDebugValue:gl,useDeferredValue:function(a,u){var h=mr();return Dc(h,jn.memoizedState,a,u)},useTransition:function(){var a=es(qi)[0],u=mr().memoizedState;return[typeof a=="boolean"?a:hl(a),u]},useSyncExternalStore:Jf,useId:zp,useHostTransitionStatus:ml,useFormState:id,useActionState:id,useOptimistic:function(a,u){var h=mr();return Rp(h,jn,a,u)},useMemoCache:Ds,useCacheRefresh:Fp},xu={readContext:Hr,use:ts,useCallback:Rs,useContext:Hr,useEffect:Hp,useImperativeHandle:sd,useInsertionEffect:js,useLayoutEffect:od,useMemo:Pc,useReducer:Zf,useRef:hu,useState:function(){return Zf(qi)},useDebugValue:gl,useDeferredValue:function(a,u){var h=mr();return jn===null?vu(h,a,u):Dc(h,jn.memoizedState,a,u)},useTransition:function(){var a=Zf(qi)[0],u=mr().memoizedState;return[typeof a=="boolean"?a:hl(a),u]},useSyncExternalStore:Jf,useId:zp,useHostTransitionStatus:ml,useFormState:Vp,useActionState:Vp,useOptimistic:function(a,u){var h=mr();return jn!==null?Rp(h,jn,a,u):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:Ds,useCacheRefresh:Fp},na=null,Su=0;function Cu(a){var u=Su;return Su+=1,na===null&&(na=[]),_c(na,a,u)}function Ou(a,u){u=u.props.ref,a.ref=u!==void 0?u:null}function Rc(a,u){throw u.$$typeof===_?Error(e(525)):(a=Object.prototype.toString.call(u),Error(e(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a)))}function Kp(a){var u=a._init;return u(a._payload)}function Yp(a){function u(Rt,Ct){if(a){var Vt=Rt.deletions;Vt===null?(Rt.deletions=[Ct],Rt.flags|=16):Vt.push(Ct)}}function h(Rt,Ct){if(!a)return null;for(;Ct!==null;)u(Rt,Ct),Ct=Ct.sibling;return null}function y(Rt){for(var Ct=new Map;Rt!==null;)Rt.key!==null?Ct.set(Rt.key,Rt):Ct.set(Rt.index,Rt),Rt=Rt.sibling;return Ct}function x(Rt,Ct){return Rt=co(Rt,Ct),Rt.index=0,Rt.sibling=null,Rt}function T(Rt,Ct,Vt){return Rt.index=Vt,a?(Vt=Rt.alternate,Vt!==null?(Vt=Vt.index,Vt<Ct?(Rt.flags|=67108866,Ct):Vt):(Rt.flags|=67108866,Ct)):(Rt.flags|=1048576,Ct)}function V(Rt){return a&&Rt.alternate===null&&(Rt.flags|=67108866),Rt}function K(Rt,Ct,Vt,re){return Ct===null||Ct.tag!==6?(Ct=iu(Vt,Rt.mode,re),Ct.return=Rt,Ct):(Ct=x(Ct,Vt),Ct.return=Rt,Ct)}function dt(Rt,Ct,Vt,re){var Le=Vt.type;return Le===O?$t(Rt,Ct,Vt.props.children,re,Vt.key):Ct!==null&&(Ct.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===vt&&Kp(Le)===Ct.type)?(Ct=x(Ct,Vt.props),Ou(Ct,Vt),Ct.return=Rt,Ct):(Ct=dc(Vt.type,Vt.key,Vt.props,null,Rt.mode,re),Ou(Ct,Vt),Ct.return=Rt,Ct)}function Ut(Rt,Ct,Vt,re){return Ct===null||Ct.tag!==4||Ct.stateNode.containerInfo!==Vt.containerInfo||Ct.stateNode.implementation!==Vt.implementation?(Ct=ou(Vt,Rt.mode,re),Ct.return=Rt,Ct):(Ct=x(Ct,Vt.children||[]),Ct.return=Rt,Ct)}function $t(Rt,Ct,Vt,re,Le){return Ct===null||Ct.tag!==7?(Ct=xs(Vt,Rt.mode,re,Le),Ct.return=Rt,Ct):(Ct=x(Ct,Vt),Ct.return=Rt,Ct)}function ae(Rt,Ct,Vt){if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number"||typeof Ct=="bigint")return Ct=iu(""+Ct,Rt.mode,Vt),Ct.return=Rt,Ct;if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case w:return Vt=dc(Ct.type,Ct.key,Ct.props,null,Rt.mode,Vt),Ou(Vt,Ct),Vt.return=Rt,Vt;case S:return Ct=ou(Ct,Rt.mode,Vt),Ct.return=Rt,Ct;case vt:var re=Ct._init;return Ct=re(Ct._payload),ae(Rt,Ct,Vt)}if(ft(Ct)||B(Ct))return Ct=xs(Ct,Rt.mode,Vt,null),Ct.return=Rt,Ct;if(typeof Ct.then=="function")return ae(Rt,Cu(Ct),Vt);if(Ct.$$typeof===k)return ae(Rt,vc(Rt,Ct),Vt);Rc(Rt,Ct)}return null}function It(Rt,Ct,Vt,re){var Le=Ct!==null?Ct.key:null;if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number"||typeof Vt=="bigint")return Le!==null?null:K(Rt,Ct,""+Vt,re);if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case w:return Vt.key===Le?dt(Rt,Ct,Vt,re):null;case S:return Vt.key===Le?Ut(Rt,Ct,Vt,re):null;case vt:return Le=Vt._init,Vt=Le(Vt._payload),It(Rt,Ct,Vt,re)}if(ft(Vt)||B(Vt))return Le!==null?null:$t(Rt,Ct,Vt,re,null);if(typeof Vt.then=="function")return It(Rt,Ct,Cu(Vt),re);if(Vt.$$typeof===k)return It(Rt,Ct,vc(Rt,Vt),re);Rc(Rt,Vt)}return null}function zt(Rt,Ct,Vt,re,Le){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Rt=Rt.get(Vt)||null,K(Ct,Rt,""+re,Le);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case w:return Rt=Rt.get(re.key===null?Vt:re.key)||null,dt(Ct,Rt,re,Le);case S:return Rt=Rt.get(re.key===null?Vt:re.key)||null,Ut(Ct,Rt,re,Le);case vt:var hn=re._init;return re=hn(re._payload),zt(Rt,Ct,Vt,re,Le)}if(ft(re)||B(re))return Rt=Rt.get(Vt)||null,$t(Ct,Rt,re,Le,null);if(typeof re.then=="function")return zt(Rt,Ct,Vt,Cu(re),Le);if(re.$$typeof===k)return zt(Rt,Ct,Vt,vc(Ct,re),Le);Rc(Ct,re)}return null}function Ze(Rt,Ct,Vt,re){for(var Le=null,hn=null,Fe=Ct,Ke=Ct=0,di=null;Fe!==null&&Ke<Vt.length;Ke++){Fe.index>Ke?(di=Fe,Fe=null):di=Fe.sibling;var Dn=It(Rt,Fe,Vt[Ke],re);if(Dn===null){Fe===null&&(Fe=di);break}a&&Fe&&Dn.alternate===null&&u(Rt,Fe),Ct=T(Dn,Ct,Ke),hn===null?Le=Dn:hn.sibling=Dn,hn=Dn,Fe=di}if(Ke===Vt.length)return h(Rt,Fe),En&&Ii(Rt,Ke),Le;if(Fe===null){for(;Ke<Vt.length;Ke++)Fe=ae(Rt,Vt[Ke],re),Fe!==null&&(Ct=T(Fe,Ct,Ke),hn===null?Le=Fe:hn.sibling=Fe,hn=Fe);return En&&Ii(Rt,Ke),Le}for(Fe=y(Fe);Ke<Vt.length;Ke++)di=zt(Fe,Rt,Ke,Vt[Ke],re),di!==null&&(a&&di.alternate!==null&&Fe.delete(di.key===null?Ke:di.key),Ct=T(di,Ct,Ke),hn===null?Le=di:hn.sibling=di,hn=di);return a&&Fe.forEach(function(Ll){return u(Rt,Ll)}),En&&Ii(Rt,Ke),Le}function qe(Rt,Ct,Vt,re){if(Vt==null)throw Error(e(151));for(var Le=null,hn=null,Fe=Ct,Ke=Ct=0,di=null,Dn=Vt.next();Fe!==null&&!Dn.done;Ke++,Dn=Vt.next()){Fe.index>Ke?(di=Fe,Fe=null):di=Fe.sibling;var Ll=It(Rt,Fe,Dn.value,re);if(Ll===null){Fe===null&&(Fe=di);break}a&&Fe&&Ll.alternate===null&&u(Rt,Fe),Ct=T(Ll,Ct,Ke),hn===null?Le=Ll:hn.sibling=Ll,hn=Ll,Fe=di}if(Dn.done)return h(Rt,Fe),En&&Ii(Rt,Ke),Le;if(Fe===null){for(;!Dn.done;Ke++,Dn=Vt.next())Dn=ae(Rt,Dn.value,re),Dn!==null&&(Ct=T(Dn,Ct,Ke),hn===null?Le=Dn:hn.sibling=Dn,hn=Dn);return En&&Ii(Rt,Ke),Le}for(Fe=y(Fe);!Dn.done;Ke++,Dn=Vt.next())Dn=zt(Fe,Rt,Ke,Dn.value,re),Dn!==null&&(a&&Dn.alternate!==null&&Fe.delete(Dn.key===null?Ke:Dn.key),Ct=T(Dn,Ct,Ke),hn===null?Le=Dn:hn.sibling=Dn,hn=Dn);return a&&Fe.forEach(function(YC){return u(Rt,YC)}),En&&Ii(Rt,Ke),Le}function In(Rt,Ct,Vt,re){if(typeof Vt=="object"&&Vt!==null&&Vt.type===O&&Vt.key===null&&(Vt=Vt.props.children),typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case w:t:{for(var Le=Vt.key;Ct!==null;){if(Ct.key===Le){if(Le=Vt.type,Le===O){if(Ct.tag===7){h(Rt,Ct.sibling),re=x(Ct,Vt.props.children),re.return=Rt,Rt=re;break t}}else if(Ct.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===vt&&Kp(Le)===Ct.type){h(Rt,Ct.sibling),re=x(Ct,Vt.props),Ou(re,Vt),re.return=Rt,Rt=re;break t}h(Rt,Ct);break}else u(Rt,Ct);Ct=Ct.sibling}Vt.type===O?(re=xs(Vt.props.children,Rt.mode,re,Vt.key),re.return=Rt,Rt=re):(re=dc(Vt.type,Vt.key,Vt.props,null,Rt.mode,re),Ou(re,Vt),re.return=Rt,Rt=re)}return V(Rt);case S:t:{for(Le=Vt.key;Ct!==null;){if(Ct.key===Le)if(Ct.tag===4&&Ct.stateNode.containerInfo===Vt.containerInfo&&Ct.stateNode.implementation===Vt.implementation){h(Rt,Ct.sibling),re=x(Ct,Vt.children||[]),re.return=Rt,Rt=re;break t}else{h(Rt,Ct);break}else u(Rt,Ct);Ct=Ct.sibling}re=ou(Vt,Rt.mode,re),re.return=Rt,Rt=re}return V(Rt);case vt:return Le=Vt._init,Vt=Le(Vt._payload),In(Rt,Ct,Vt,re)}if(ft(Vt))return Ze(Rt,Ct,Vt,re);if(B(Vt)){if(Le=B(Vt),typeof Le!="function")throw Error(e(150));return Vt=Le.call(Vt),qe(Rt,Ct,Vt,re)}if(typeof Vt.then=="function")return In(Rt,Ct,Cu(Vt),re);if(Vt.$$typeof===k)return In(Rt,Ct,vc(Rt,Vt),re);Rc(Rt,Vt)}return typeof Vt=="string"&&Vt!==""||typeof Vt=="number"||typeof Vt=="bigint"?(Vt=""+Vt,Ct!==null&&Ct.tag===6?(h(Rt,Ct.sibling),re=x(Ct,Vt),re.return=Rt,Rt=re):(h(Rt,Ct),re=iu(Vt,Rt.mode,re),re.return=Rt,Rt=re),V(Rt)):h(Rt,Ct)}return function(Rt,Ct,Vt,re){try{Su=0;var Le=In(Rt,Ct,Vt,re);return na=null,Le}catch(Fe){if(Fe===Ts||Fe===yc)throw Fe;var hn=ii(29,Fe,null,Rt.mode);return hn.lanes=re,hn.return=Rt,hn}finally{}}}var Ls=Yp(!0),Xp=Yp(!1),ho=Lt(null),Lo=null;function ra(a){var u=a.alternate;Et(Yn,Yn.current&1),Et(ho,a),Lo===null&&(u===null||Es.current!==null||u.memoizedState!==null)&&(Lo=a)}function fd(a){if(a.tag===22){if(Et(Yn,Yn.current),Et(ho,a),Lo===null){var u=a.alternate;u!==null&&u.memoizedState!==null&&(Lo=a)}}else is()}function is(){Et(Yn,Yn.current),Et(ho,ho.current)}function ia(a){pt(ho),Lo===a&&(Lo=null),pt(Yn)}var Yn=Lt(0);function Tu(a){for(var u=a;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Jg(h)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function yl(a,u,h,y){u=a.memoizedState,h=h(y,u),h=h==null?u:v({},u,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var dd={enqueueSetState:function(a,u,h){a=a._reactInternals;var y=Uo(),x=_a(y);x.payload=u,h!=null&&(x.callback=h),u=Ja(a,x,y),u!==null&&(Ho(u,a,y),cl(u,a,y))},enqueueReplaceState:function(a,u,h){a=a._reactInternals;var y=Uo(),x=_a(y);x.tag=1,x.payload=u,h!=null&&(x.callback=h),u=Ja(a,x,y),u!==null&&(Ho(u,a,y),cl(u,a,y))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var h=Uo(),y=_a(h);y.tag=2,u!=null&&(y.callback=u),u=Ja(a,y,h),u!==null&&(Ho(u,a,h),cl(u,a,h))}};function Zp(a,u,h,y,x,T,V){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,T,V):u.prototype&&u.prototype.isPureReactComponent?!tl(h,y)||!tl(x,T):!0}function Jp(a,u,h,y){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,y),u.state!==a&&dd.enqueueReplaceState(u,u.state,null)}function An(a,u){var h=u;if("ref"in u){h={};for(var y in u)y!=="ref"&&(h[y]=u[y])}if(a=a.defaultProps){h===u&&(h=v({},h));for(var x in a)h[x]===void 0&&(h[x]=a[x])}return h}var Lc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Nc(a){Lc(a)}function _l(a){console.error(a)}function vo(a){Lc(a)}function Ns(a,u){try{var h=a.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(y){setTimeout(function(){throw y})}}function kc(a,u,h){try{var y=a.onCaughtError;y(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Vc(a,u,h){return h=_a(h),h.tag=3,h.payload={element:null},h.callback=function(){Ns(a,u)},h}function pd(a){return a=_a(a),a.tag=3,a}function hd(a,u,h,y){var x=h.type.getDerivedStateFromError;if(typeof x=="function"){var T=y.value;a.payload=function(){return x(T)},a.callback=function(){kc(u,h,y)}}var V=h.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(a.callback=function(){kc(u,h,y),typeof x!="function"&&(Tl===null?Tl=new Set([this]):Tl.add(this));var K=y.stack;this.componentDidCatch(y.value,{componentStack:K!==null?K:""})})}function Qp(a,u,h,y,x){if(h.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(u=h.alternate,u!==null&&lu(u,h,x,!0),h=ho.current,h!==null){switch(h.tag){case 13:return Lo===null?Lg():h.alternate===null&&Or===0&&(Or=3),h.flags&=-257,h.flags|=65536,h.lanes=x,y===cu?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([y]):u.add(y),kg(a,y,x)),!1;case 22:return h.flags|=65536,y===cu?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([y])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([y]):h.add(y)),kg(a,y,x)),!1}throw Error(e(435,h.tag))}return kg(a,y,x),Lg(),!1}if(En)return u=ho.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=x,y!==Vf&&(a=Error(e(422),{cause:y}),er(uo(a,h)))):(y!==Vf&&(u=Error(e(423),{cause:y}),er(uo(u,h))),a=a.current.alternate,a.flags|=65536,x&=-x,a.lanes|=x,y=uo(y,h),x=Vc(a.stateNode,y,x),Gf(a,x),Or!==4&&(Or=2)),!1;var T=Error(e(520),{cause:y});if(T=uo(T,h),Sd===null?Sd=[T]:Sd.push(T),Or!==4&&(Or=2),u===null)return!0;y=uo(y,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,a=x&-x,h.lanes|=a,a=Vc(h.stateNode,y,a),Gf(h,a),!1;case 1:if(u=h.type,T=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Tl===null||!Tl.has(T))))return h.flags|=65536,x&=-x,h.lanes|=x,x=pd(x),hd(x,a,h,y),Gf(h,x),!1}h=h.return}while(h!==null);return!1}var vd=Error(e(461)),Ir=!1;function jr(a,u,h,y){u.child=a===null?Xp(u,null,h,y):Ls(u,a.child,h,y)}function gd(a,u,h,y,x){h=h.render;var T=u.ref;if("ref"in y){var V={};for(var K in y)K!=="ref"&&(V[K]=y[K])}else V=y;return Xa(u),y=Cc(a,u,h,V,T,x),K=Tc(),a!==null&&!Ir?(Ps(a,u,x),D(a,u,x)):(En&&K&&Ka(u),u.flags|=1,jr(a,u,y,x),u.child)}function Pn(a,u,h,y,x){if(a===null){var T=h.type;return typeof T=="function"&&!fc(T)&&T.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=T,md(a,u,T,y,x)):(a=dc(h.type,null,y,u,u.mode,x),a.ref=u.ref,a.return=u,u.child=a)}if(T=a.child,!R(a,x)){var V=T.memoizedProps;if(h=h.compare,h=h!==null?h:tl,h(V,y)&&a.ref===u.ref)return D(a,u,x)}return u.flags|=1,a=co(T,y),a.ref=u.ref,a.return=u,u.child=a}function md(a,u,h,y,x){if(a!==null){var T=a.memoizedProps;if(tl(T,y)&&a.ref===u.ref)if(Ir=!1,u.pendingProps=y=T,R(a,x))(a.flags&131072)!==0&&(Ir=!0);else return u.lanes=a.lanes,D(a,u,x)}return bl(a,u,h,y,x)}function $p(a,u,h){var y=u.pendingProps,x=y.children,T=a!==null?a.memoizedState:null;if(y.mode==="hidden"){if((u.flags&128)!==0){if(y=T!==null?T.baseLanes|h:h,a!==null){for(x=u.child=a.child,T=0;x!==null;)T=T|x.lanes|x.childLanes,x=x.sibling;u.childLanes=T&~y}else u.childLanes=0,u.child=null;return ks(a,u,y,h)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},a!==null&&jo(u,T!==null?T.cachePool:null),T!==null?bc(u,T):dl(),fd(u);else return u.lanes=u.childLanes=536870912,ks(a,u,T!==null?T.baseLanes|h:h,h)}else T!==null?(jo(u,T.cachePool),bc(u,T),is(),u.memoizedState=null):(a!==null&&jo(u,null),dl(),is());return jr(a,u,x,h),u.child}function ks(a,u,h,y){var x=ta();return x=x===null?null:{parent:vr._currentValue,pool:x},u.memoizedState={baseLanes:h,cachePool:x},a!==null&&jo(u,null),dl(),fd(u),a!==null&&lu(a,u,y,!0),null}function Uc(a,u){var h=u.ref;if(h===null)a!==null&&a.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(e(284));(a===null||a.ref!==h)&&(u.flags|=4194816)}}function bl(a,u,h,y,x){return Xa(u),h=Cc(a,u,h,y,void 0,x),y=Tc(),a!==null&&!Ir?(Ps(a,u,x),D(a,u,x)):(En&&y&&Ka(u),u.flags|=1,jr(a,u,h,x),u.child)}function th(a,u,h,y,x,T){return Xa(u),u.updateQueue=null,h=Yf(u,y,h,x),As(a),y=Tc(),a!==null&&!Ir?(Ps(a,u,T),D(a,u,T)):(En&&y&&Ka(u),u.flags|=1,jr(a,u,h,T),u.child)}function nr(a,u,h,y,x){if(Xa(u),u.stateNode===null){var T=qa,V=h.contextType;typeof V=="object"&&V!==null&&(T=Hr(V)),T=new h(y,T),u.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=dd,u.stateNode=T,T._reactInternals=u,T=u.stateNode,T.props=y,T.state=u.memoizedState,T.refs={},ul(u),V=h.contextType,T.context=typeof V=="object"&&V!==null?Hr(V):qa,T.state=u.memoizedState,V=h.getDerivedStateFromProps,typeof V=="function"&&(yl(u,h,V,y),T.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(V=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),V!==T.state&&dd.enqueueReplaceState(T,T.state,null),fl(u,y,T,x),Qa(),T.state=u.memoizedState),typeof T.componentDidMount=="function"&&(u.flags|=4194308),y=!0}else if(a===null){T=u.stateNode;var K=u.memoizedProps,dt=An(h,K);T.props=dt;var Ut=T.context,$t=h.contextType;V=qa,typeof $t=="object"&&$t!==null&&(V=Hr($t));var ae=h.getDerivedStateFromProps;$t=typeof ae=="function"||typeof T.getSnapshotBeforeUpdate=="function",K=u.pendingProps!==K,$t||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(K||Ut!==V)&&Jp(u,T,y,V),Za=!1;var It=u.memoizedState;T.state=It,fl(u,y,T,x),Qa(),Ut=u.memoizedState,K||It!==Ut||Za?(typeof ae=="function"&&(yl(u,h,ae,y),Ut=u.memoizedState),(dt=Za||Zp(u,h,dt,y,It,Ut,V))?($t||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(u.flags|=4194308)):(typeof T.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=Ut),T.props=y,T.state=Ut,T.context=V,y=dt):(typeof T.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{T=u.stateNode,du(a,u),V=u.memoizedProps,$t=An(h,V),T.props=$t,ae=u.pendingProps,It=T.context,Ut=h.contextType,dt=qa,typeof Ut=="object"&&Ut!==null&&(dt=Hr(Ut)),K=h.getDerivedStateFromProps,(Ut=typeof K=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(V!==ae||It!==dt)&&Jp(u,T,y,dt),Za=!1,It=u.memoizedState,T.state=It,fl(u,y,T,x),Qa();var zt=u.memoizedState;V!==ae||It!==zt||Za||a!==null&&a.dependencies!==null&&al(a.dependencies)?(typeof K=="function"&&(yl(u,h,K,y),zt=u.memoizedState),($t=Za||Zp(u,h,$t,y,It,zt,dt)||a!==null&&a.dependencies!==null&&al(a.dependencies))?(Ut||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(y,zt,dt),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(y,zt,dt)),typeof T.componentDidUpdate=="function"&&(u.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof T.componentDidUpdate!="function"||V===a.memoizedProps&&It===a.memoizedState||(u.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||V===a.memoizedProps&&It===a.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=zt),T.props=y,T.state=zt,T.context=dt,y=$t):(typeof T.componentDidUpdate!="function"||V===a.memoizedProps&&It===a.memoizedState||(u.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||V===a.memoizedProps&&It===a.memoizedState||(u.flags|=1024),y=!1)}return T=y,Uc(a,u),y=(u.flags&128)!==0,T||y?(T=u.stateNode,h=y&&typeof h.getDerivedStateFromError!="function"?null:T.render(),u.flags|=1,a!==null&&y?(u.child=Ls(u,a.child,null,x),u.child=Ls(u,null,h,x)):jr(a,u,h,x),u.memoizedState=T.state,a=u.child):a=D(a,u,x),a}function eh(a,u,h,y){return su(),u.flags|=256,jr(a,u,h,y),u.child}var yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(a){return{baseLanes:a,cachePool:zf()}}function wl(a,u,h){return a=a!==null?a.childLanes&~h:0,u&&(a|=oa),a}function s(a,u,h){var y=u.pendingProps,x=!1,T=(u.flags&128)!==0,V;if((V=T)||(V=a!==null&&a.memoizedState===null?!1:(Yn.current&2)!==0),V&&(x=!0,u.flags&=-129),V=(u.flags&32)!==0,u.flags&=-33,a===null){if(En){if(x?ra(u):is(),En){var K=tr,dt;if(dt=K){t:{for(dt=K,K=si;dt.nodeType!==8;){if(!K){K=null;break t}if(dt=Ca(dt.nextSibling),dt===null){K=null;break t}}K=dt}K!==null?(u.memoizedState={dehydrated:K,treeContext:Ga!==null?{id:wi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},dt=ii(18,null,null,0),dt.stateNode=K,dt.return=u,u.child=dt,ai=u,tr=null,dt=!0):dt=!1}dt||Cs(u)}if(K=u.memoizedState,K!==null&&(K=K.dehydrated,K!==null))return Jg(K)?u.lanes=32:u.lanes=536870912,null;ia(u)}return K=y.children,y=y.fallback,x?(is(),x=u.mode,K=m({mode:"hidden",children:K},x),y=xs(y,x,h,null),K.return=u,y.return=u,K.sibling=y,u.child=K,x=u.child,x.memoizedState=_d(h),x.childLanes=wl(a,V,h),u.memoizedState=yd,y):(ra(u),c(u,K))}if(dt=a.memoizedState,dt!==null&&(K=dt.dehydrated,K!==null)){if(T)u.flags&256?(ra(u),u.flags&=-257,u=g(a,u,h)):u.memoizedState!==null?(is(),u.child=a.child,u.flags|=128,u=null):(is(),x=y.fallback,K=u.mode,y=m({mode:"visible",children:y.children},K),x=xs(x,K,h,null),x.flags|=2,y.return=u,x.return=u,y.sibling=x,u.child=y,Ls(u,a.child,null,h),y=u.child,y.memoizedState=_d(h),y.childLanes=wl(a,V,h),u.memoizedState=yd,u=x);else if(ra(u),Jg(K)){if(V=K.nextSibling&&K.nextSibling.dataset,V)var Ut=V.dgst;V=Ut,y=Error(e(419)),y.stack="",y.digest=V,er({value:y,source:null,stack:null}),u=g(a,u,h)}else if(Ir||lu(a,u,h,!1),V=(h&a.childLanes)!==0,Ir||V){if(V=Xn,V!==null&&(y=h&-h,y=(y&42)!==0?1:Ot(y),y=(y&(V.suspendedLanes|h))!==0?0:y,y!==0&&y!==dt.retryLane))throw dt.retryLane=y,Wa(a,y),Ho(V,a,y),vd;K.data==="$?"||Lg(),u=g(a,u,h)}else K.data==="$?"?(u.flags|=192,u.child=a.child,u=null):(a=dt.treeContext,tr=Ca(K.nextSibling),ai=u,En=!0,zi=null,si=!1,a!==null&&(Hi[oi++]=wi,Hi[oi++]=Bi,Hi[oi++]=Ga,wi=a.id,Bi=a.overflow,Ga=u),u=c(u,y.children),u.flags|=4096);return u}return x?(is(),x=y.fallback,K=u.mode,dt=a.child,Ut=dt.sibling,y=co(dt,{mode:"hidden",children:y.children}),y.subtreeFlags=dt.subtreeFlags&65011712,Ut!==null?x=co(Ut,x):(x=xs(x,K,h,null),x.flags|=2),x.return=u,y.return=u,y.sibling=x,u.child=y,y=x,x=u.child,K=a.child.memoizedState,K===null?K=_d(h):(dt=K.cachePool,dt!==null?(Ut=vr._currentValue,dt=dt.parent!==Ut?{parent:Ut,pool:Ut}:dt):dt=zf(),K={baseLanes:K.baseLanes|h,cachePool:dt}),x.memoizedState=K,x.childLanes=wl(a,V,h),u.memoizedState=yd,y):(ra(u),h=a.child,a=h.sibling,h=co(h,{mode:"visible",children:y.children}),h.return=u,h.sibling=null,a!==null&&(V=u.deletions,V===null?(u.deletions=[a],u.flags|=16):V.push(a)),u.child=h,u.memoizedState=null,h)}function c(a,u){return u=m({mode:"visible",children:u},a.mode),u.return=a,a.child=u}function m(a,u){return a=ii(22,a,null,u),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function g(a,u,h){return Ls(u,a.child,null,h),a=c(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function b(a,u,h){a.lanes|=u;var y=a.alternate;y!==null&&(y.lanes|=u),Uf(a.return,u,h)}function C(a,u,h,y,x){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:h,tailMode:x}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=y,T.tail=h,T.tailMode=x)}function E(a,u,h){var y=u.pendingProps,x=y.revealOrder,T=y.tail;if(jr(a,u,y.children,h),y=Yn.current,(y&2)!==0)y=y&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)t:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&b(a,h,u);else if(a.tag===19)b(a,h,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break t;for(;a.sibling===null;){if(a.return===null||a.return===u)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}switch(Et(Yn,y),x){case"forwards":for(h=u.child,x=null;h!==null;)a=h.alternate,a!==null&&Tu(a)===null&&(x=h),h=h.sibling;h=x,h===null?(x=u.child,u.child=null):(x=h.sibling,h.sibling=null),C(u,!1,x,h,T);break;case"backwards":for(h=null,x=u.child,u.child=null;x!==null;){if(a=x.alternate,a!==null&&Tu(a)===null){u.child=x;break}a=x.sibling,x.sibling=h,h=x,x=a}C(u,!0,h,null,T);break;case"together":C(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function D(a,u,h){if(a!==null&&(u.dependencies=a.dependencies),Ol|=u.lanes,(h&u.childLanes)===0)if(a!==null){if(lu(a,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(a!==null&&u.child!==a.child)throw Error(e(153));if(u.child!==null){for(a=u.child,h=co(a,a.pendingProps),u.child=h,h.return=u;a.sibling!==null;)a=a.sibling,h=h.sibling=co(a,a.pendingProps),h.return=u;h.sibling=null}return u.child}function R(a,u){return(a.lanes&u)!==0?!0:(a=a.dependencies,!!(a!==null&&al(a)))}function U(a,u,h){switch(u.tag){case 3:oe(u,u.stateNode.containerInfo),Ya(u,vr,a.memoizedState.cache),su();break;case 27:case 5:He(u);break;case 4:oe(u,u.stateNode.containerInfo);break;case 10:Ya(u,u.type,u.memoizedProps.value);break;case 13:var y=u.memoizedState;if(y!==null)return y.dehydrated!==null?(ra(u),u.flags|=128,null):(h&u.child.childLanes)!==0?s(a,u,h):(ra(u),a=D(a,u,h),a!==null?a.sibling:null);ra(u);break;case 19:var x=(a.flags&128)!==0;if(y=(h&u.childLanes)!==0,y||(lu(a,u,h,!1),y=(h&u.childLanes)!==0),x){if(y)return E(a,u,h);u.flags|=128}if(x=u.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Et(Yn,Yn.current),y)break;return null;case 22:case 23:return u.lanes=0,$p(a,u,h);case 24:Ya(u,vr,a.memoizedState.cache)}return D(a,u,h)}function et(a,u,h){if(a!==null)if(a.memoizedProps!==u.pendingProps)Ir=!0;else{if(!R(a,h)&&(u.flags&128)===0)return Ir=!1,U(a,u,h);Ir=(a.flags&131072)!==0}else Ir=!1,En&&(u.flags&1048576)!==0&&ol(u,Ss,u.index);switch(u.lanes=0,u.tag){case 16:t:{a=u.pendingProps;var y=u.elementType,x=y._init;if(y=x(y._payload),u.type=y,typeof y=="function")fc(y)?(a=An(y,a),u.tag=1,u=nr(null,u,y,a,h)):(u.tag=0,u=bl(null,u,y,a,h));else{if(y!=null){if(x=y.$$typeof,x===G){u.tag=11,u=gd(null,u,y,a,h);break t}else if(x===Nt){u.tag=14,u=Pn(null,u,y,a,h);break t}}throw u=J(y)||y,Error(e(306,u,""))}}return u;case 0:return bl(a,u,u.type,u.pendingProps,h);case 1:return y=u.type,x=An(y,u.pendingProps),nr(a,u,y,x,h);case 3:t:{if(oe(u,u.stateNode.containerInfo),a===null)throw Error(e(387));y=u.pendingProps;var T=u.memoizedState;x=T.element,du(a,u),fl(u,y,null,h);var V=u.memoizedState;if(y=V.cache,Ya(u,vr,y),y!==T.cache&&Hf(u,[vr],h,!0),Qa(),y=V.element,T.isDehydrated)if(T={element:y,isDehydrated:!1,cache:V.cache},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){u=eh(a,u,y,h);break t}else if(y!==x){x=uo(Error(e(424)),u),er(x),u=eh(a,u,y,h);break t}else{switch(a=u.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(tr=Ca(a.firstChild),ai=u,En=!0,zi=null,si=!0,h=Xp(u,null,y,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(su(),y===x){u=D(a,u,h);break t}jr(a,u,y,h)}u=u.child}return u;case 26:return Uc(a,u),a===null?(h=a_(u.type,null,u.pendingProps,null))?u.memoizedState=h:En||(h=u.type,a=u.pendingProps,y=ph(Qt.current).createElement(h),y[rn]=u,y[vn]=a,Ti(y,h,a),xn(y),u.stateNode=y):u.memoizedState=a_(u.type,a.memoizedProps,u.pendingProps,a.memoizedState),null;case 27:return He(u),a===null&&En&&(y=u.stateNode=r_(u.type,u.pendingProps,Qt.current),ai=u,si=!0,x=tr,Pl(u.type)?(Qg=x,tr=Ca(y.firstChild)):tr=x),jr(a,u,u.pendingProps.children,h),Uc(a,u),a===null&&(u.flags|=4194304),u.child;case 5:return a===null&&En&&((x=y=tr)&&(y=SC(y,u.type,u.pendingProps,si),y!==null?(u.stateNode=y,ai=u,tr=Ca(y.firstChild),si=!1,x=!0):x=!1),x||Cs(u)),He(u),x=u.type,T=u.pendingProps,V=a!==null?a.memoizedProps:null,y=T.children,Yg(x,T)?y=null:V!==null&&Yg(x,V)&&(u.flags|=32),u.memoizedState!==null&&(x=Cc(a,u,Oc,null,null,h),jd._currentValue=x),Uc(a,u),jr(a,u,y,h),u.child;case 6:return a===null&&En&&((a=h=tr)&&(h=CC(h,u.pendingProps,si),h!==null?(u.stateNode=h,ai=u,tr=null,a=!0):a=!1),a||Cs(u)),null;case 13:return s(a,u,h);case 4:return oe(u,u.stateNode.containerInfo),y=u.pendingProps,a===null?u.child=Ls(u,null,y,h):jr(a,u,y,h),u.child;case 11:return gd(a,u,u.type,u.pendingProps,h);case 7:return jr(a,u,u.pendingProps,h),u.child;case 8:return jr(a,u,u.pendingProps.children,h),u.child;case 12:return jr(a,u,u.pendingProps.children,h),u.child;case 10:return y=u.pendingProps,Ya(u,u.type,y.value),jr(a,u,y.children,h),u.child;case 9:return x=u.type._context,y=u.pendingProps.children,Xa(u),x=Hr(x),y=y(x),u.flags|=1,jr(a,u,y,h),u.child;case 14:return Pn(a,u,u.type,u.pendingProps,h);case 15:return md(a,u,u.type,u.pendingProps,h);case 19:return E(a,u,h);case 31:return y=u.pendingProps,h=u.mode,y={mode:y.mode,children:y.children},a===null?(h=m(y,h),h.ref=u.ref,u.child=h,h.return=u,u=h):(h=co(a.child,y),h.ref=u.ref,u.child=h,h.return=u,u=h),u;case 22:return $p(a,u,h);case 24:return Xa(u),y=Hr(vr),a===null?(x=ta(),x===null&&(x=Xn,T=mc(),x.pooledCache=T,T.refCount++,T!==null&&(x.pooledCacheLanes|=h),x=T),u.memoizedState={parent:y,cache:x},ul(u),Ya(u,vr,x)):((a.lanes&h)!==0&&(du(a,u),fl(u,null,null,h),Qa()),x=a.memoizedState,T=u.memoizedState,x.parent!==y?(x={parent:y,cache:y},u.memoizedState=x,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=x),Ya(u,vr,y)):(y=T.cache,Ya(u,vr,y),y!==x.cache&&Hf(u,[vr],h,!0))),jr(a,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(e(156,u.tag))}function at(a){a.flags|=4}function Mt(a,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!f_(u)){if(u=ho.current,u!==null&&((Cn&4194048)===Cn?Lo!==null:(Cn&62914560)!==Cn&&(Cn&536870912)===0||u!==Lo))throw po=cu,Ff;a.flags|=8192}}function wt(a,u){u!==null&&(a.flags|=4),a.flags&16384&&(u=a.tag!==22?an():536870912,a.lanes|=u,zc|=u)}function Ft(a,u){if(!En)switch(a.tailMode){case"hidden":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function Wt(a){var u=a.alternate!==null&&a.alternate.child===a.child,h=0,y=0;if(u)for(var x=a.child;x!==null;)h|=x.lanes|x.childLanes,y|=x.subtreeFlags&65011712,y|=x.flags&65011712,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)h|=x.lanes|x.childLanes,y|=x.subtreeFlags,y|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=y,a.childLanes=h,u}function ce(a,u,h){var y=u.pendingProps;switch(hc(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(u),null;case 1:return Wt(u),null;case 3:return h=u.stateNode,y=null,a!==null&&(y=a.memoizedState.cache),u.memoizedState.cache!==y&&(u.flags|=2048),fo(vr),Oe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(au(u)?at(u):a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,xi())),Wt(u),null;case 26:return h=u.memoizedState,a===null?(at(u),h!==null?(Wt(u),Mt(u,h)):(Wt(u),u.flags&=-16777217)):h?h!==a.memoizedState?(at(u),Wt(u),Mt(u,h)):(Wt(u),u.flags&=-16777217):(a.memoizedProps!==y&&at(u),Wt(u),u.flags&=-16777217),null;case 27:Se(u),h=Qt.current;var x=u.type;if(a!==null&&u.stateNode!=null)a.memoizedProps!==y&&at(u);else{if(!y){if(u.stateNode===null)throw Error(e(166));return Wt(u),null}a=At.current,au(u)?Tp(u):(a=r_(x,y,h),u.stateNode=a,at(u))}return Wt(u),null;case 5:if(Se(u),h=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==y&&at(u);else{if(!y){if(u.stateNode===null)throw Error(e(166));return Wt(u),null}if(a=At.current,au(u))Tp(u);else{switch(x=ph(Qt.current),a){case 1:a=x.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:a=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":a=x.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":a=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":a=x.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof y.is=="string"?x.createElement("select",{is:y.is}):x.createElement("select"),y.multiple?a.multiple=!0:y.size&&(a.size=y.size);break;default:a=typeof y.is=="string"?x.createElement(h,{is:y.is}):x.createElement(h)}}a[rn]=u,a[vn]=y;t:for(x=u.child;x!==null;){if(x.tag===5||x.tag===6)a.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===u)break t;for(;x.sibling===null;){if(x.return===null||x.return===u)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}u.stateNode=a;t:switch(Ti(a,h,y),h){case"button":case"input":case"select":case"textarea":a=!!y.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&at(u)}}return Wt(u),u.flags&=-16777217,null;case 6:if(a&&u.stateNode!=null)a.memoizedProps!==y&&at(u);else{if(typeof y!="string"&&u.stateNode===null)throw Error(e(166));if(a=Qt.current,au(u)){if(a=u.stateNode,h=u.memoizedProps,y=null,x=ai,x!==null)switch(x.tag){case 27:case 5:y=x.memoizedProps}a[rn]=u,a=!!(a.nodeValue===h||y!==null&&y.suppressHydrationWarning===!0||Z0(a.nodeValue,h)),a||Cs(u)}else a=ph(a).createTextNode(y),a[rn]=u,u.stateNode=a}return Wt(u),null;case 13:if(y=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(x=au(u),y!==null&&y.dehydrated!==null){if(a===null){if(!x)throw Error(e(318));if(x=u.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(e(317));x[rn]=u}else su(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Wt(u),x=!1}else x=xi(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=x),x=!0;if(!x)return u.flags&256?(ia(u),u):(ia(u),null)}if(ia(u),(u.flags&128)!==0)return u.lanes=h,u;if(h=y!==null,a=a!==null&&a.memoizedState!==null,h){y=u.child,x=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(x=y.alternate.memoizedState.cachePool.pool);var T=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(T=y.memoizedState.cachePool.pool),T!==x&&(y.flags|=2048)}return h!==a&&h&&(u.child.flags|=8192),wt(u,u.updateQueue),Wt(u),null;case 4:return Oe(),a===null&&Fg(u.stateNode.containerInfo),Wt(u),null;case 10:return fo(u.type),Wt(u),null;case 19:if(pt(Yn),x=u.memoizedState,x===null)return Wt(u),null;if(y=(u.flags&128)!==0,T=x.rendering,T===null)if(y)Ft(x,!1);else{if(Or!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(T=Tu(a),T!==null){for(u.flags|=128,Ft(x,!1),a=T.updateQueue,u.updateQueue=a,wt(u,a),u.subtreeFlags=0,a=h,h=u.child;h!==null;)Op(h,a),h=h.sibling;return Et(Yn,Yn.current&1|2),u.child}a=a.sibling}x.tail!==null&&ge()>rh&&(u.flags|=128,y=!0,Ft(x,!1),u.lanes=4194304)}else{if(!y)if(a=Tu(T),a!==null){if(u.flags|=128,y=!0,a=a.updateQueue,u.updateQueue=a,wt(u,a),Ft(x,!0),x.tail===null&&x.tailMode==="hidden"&&!T.alternate&&!En)return Wt(u),null}else 2*ge()-x.renderingStartTime>rh&&h!==536870912&&(u.flags|=128,y=!0,Ft(x,!1),u.lanes=4194304);x.isBackwards?(T.sibling=u.child,u.child=T):(a=x.last,a!==null?a.sibling=T:u.child=T,x.last=T)}return x.tail!==null?(u=x.tail,x.rendering=u,x.tail=u.sibling,x.renderingStartTime=ge(),u.sibling=null,a=Yn.current,Et(Yn,y?a&1|2:a&1),u):(Wt(u),null);case 22:case 23:return ia(u),wc(),y=u.memoizedState!==null,a!==null?a.memoizedState!==null!==y&&(u.flags|=8192):y&&(u.flags|=8192),y?(h&536870912)!==0&&(u.flags&128)===0&&(Wt(u),u.subtreeFlags&6&&(u.flags|=8192)):Wt(u),h=u.updateQueue,h!==null&&wt(u,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==h&&(u.flags|=2048),a!==null&&pt(Xr),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),fo(vr),Wt(u),null;case 25:return null;case 30:return null}throw Error(e(156,u.tag))}function be(a,u){switch(hc(u),u.tag){case 1:return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return fo(vr),Oe(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 26:case 27:case 5:return Se(u),null;case 13:if(ia(u),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(e(340));su()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return pt(Yn),null;case 4:return Oe(),null;case 10:return fo(u.type),null;case 22:case 23:return ia(u),wc(),a!==null&&pt(Xr),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 24:return fo(vr),null;case 25:return null;default:return null}}function Ce(a,u){switch(hc(u),u.tag){case 3:fo(vr),Oe();break;case 26:case 27:case 5:Se(u);break;case 4:Oe();break;case 13:ia(u);break;case 19:pt(Yn);break;case 10:fo(u.type);break;case 22:case 23:ia(u),wc(),a!==null&&pt(Xr);break;case 24:fo(vr)}}function ve(a,u){try{var h=u.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var x=y.next;h=x;do{if((h.tag&a)===a){y=void 0;var T=h.create,V=h.inst;y=T(),V.destroy=y}h=h.next}while(h!==x)}}catch(K){qn(u,u.return,K)}}function xe(a,u,h){try{var y=u.updateQueue,x=y!==null?y.lastEffect:null;if(x!==null){var T=x.next;y=T;do{if((y.tag&a)===a){var V=y.inst,K=V.destroy;if(K!==void 0){V.destroy=void 0,x=u;var dt=h,Ut=K;try{Ut()}catch($t){qn(x,dt,$t)}}}y=y.next}while(y!==T)}}catch($t){qn(u,u.return,$t)}}function Ie(a){var u=a.updateQueue;if(u!==null){var h=a.stateNode;try{Mp(u,h)}catch(y){qn(a,a.return,y)}}}function ke(a,u,h){h.props=An(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(y){qn(a,u,y)}}function Xe(a,u){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var y=a.stateNode;break;case 30:y=a.stateNode;break;default:y=a.stateNode}typeof h=="function"?a.refCleanup=h(y):h.current=y}}catch(x){qn(a,u,x)}}function pn(a,u){var h=a.ref,y=a.refCleanup;if(h!==null)if(typeof y=="function")try{y()}catch(x){qn(a,u,x)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(x){qn(a,u,x)}else h.current=null}function Cr(a){var u=a.type,h=a.memoizedProps,y=a.stateNode;try{t:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&y.focus();break t;case"img":h.src?y.src=h.src:h.srcSet&&(y.srcset=h.srcSet)}}catch(x){qn(a,a.return,x)}}function Hn(a,u,h){try{var y=a.stateNode;yC(y,a.type,h,u),y[vn]=u}catch(x){qn(a,a.return,x)}}function Si(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Pl(a.type)||a.tag===4}function Zr(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||Si(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Pl(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function rr(a,u,h){var y=a.tag;if(y===5||y===6)a=a.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(a),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=dh));else if(y!==4&&(y===27&&Pl(a.type)&&(h=a.stateNode,u=null),a=a.child,a!==null))for(rr(a,u,h),a=a.sibling;a!==null;)rr(a,u,h),a=a.sibling}function zr(a,u,h){var y=a.tag;if(y===5||y===6)a=a.stateNode,u?h.insertBefore(a,u):h.appendChild(a);else if(y!==4&&(y===27&&Pl(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(zr(a,u,h),a=a.sibling;a!==null;)zr(a,u,h),a=a.sibling}function Rr(a){var u=a.stateNode,h=a.memoizedProps;try{for(var y=a.type,x=u.attributes;x.length;)u.removeAttributeNode(x[0]);Ti(u,y,h),u[rn]=a,u[vn]=h}catch(T){qn(a,a.return,T)}}var Rn=!1,on=!1,Wn=!1,ui=typeof WeakSet=="function"?WeakSet:Set,ir=null;function os(a,u){if(a=a.containerInfo,Gg=_h,a=tu(a),Vi(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else t:{h=(h=a.ownerDocument)&&h.defaultView||window;var y=h.getSelection&&h.getSelection();if(y&&y.rangeCount!==0){h=y.anchorNode;var x=y.anchorOffset,T=y.focusNode;y=y.focusOffset;try{h.nodeType,T.nodeType}catch{h=null;break t}var V=0,K=-1,dt=-1,Ut=0,$t=0,ae=a,It=null;e:for(;;){for(var zt;ae!==h||x!==0&&ae.nodeType!==3||(K=V+x),ae!==T||y!==0&&ae.nodeType!==3||(dt=V+y),ae.nodeType===3&&(V+=ae.nodeValue.length),(zt=ae.firstChild)!==null;)It=ae,ae=zt;for(;;){if(ae===a)break e;if(It===h&&++Ut===x&&(K=V),It===T&&++$t===y&&(dt=V),(zt=ae.nextSibling)!==null)break;ae=It,It=ae.parentNode}ae=zt}h=K===-1||dt===-1?null:{start:K,end:dt}}else h=null}h=h||{start:0,end:0}}else h=null;for(Kg={focusedElem:a,selectionRange:h},_h=!1,ir=u;ir!==null;)if(u=ir,a=u.child,(u.subtreeFlags&1024)!==0&&a!==null)a.return=u,ir=a;else for(;ir!==null;){switch(u=ir,T=u.alternate,a=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&T!==null){a=void 0,h=u,x=T.memoizedProps,T=T.memoizedState,y=h.stateNode;try{var Ze=An(h.type,x,h.elementType===h.type);a=y.getSnapshotBeforeUpdate(Ze,T),y.__reactInternalSnapshotBeforeUpdate=a}catch(qe){qn(h,h.return,qe)}}break;case 3:if((a&1024)!==0){if(a=u.stateNode.containerInfo,h=a.nodeType,h===9)Zg(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Zg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(e(163))}if(a=u.sibling,a!==null){a.return=u.return,ir=a;break}ir=u.return}}function Fr(a,u,h){var y=h.flags;switch(h.tag){case 0:case 11:case 15:xl(a,h),y&4&&ve(5,h);break;case 1:if(xl(a,h),y&4)if(a=h.stateNode,u===null)try{a.componentDidMount()}catch(V){qn(h,h.return,V)}else{var x=An(h.type,u.memoizedProps);u=u.memoizedState;try{a.componentDidUpdate(x,u,a.__reactInternalSnapshotBeforeUpdate)}catch(V){qn(h,h.return,V)}}y&64&&Ie(h),y&512&&Xe(h,h.return);break;case 3:if(xl(a,h),y&64&&(a=h.updateQueue,a!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{Mp(a,u)}catch(V){qn(h,h.return,V)}}break;case 27:u===null&&y&4&&Rr(h);case 26:case 5:xl(a,h),u===null&&y&4&&Cr(h),y&512&&Xe(h,h.return);break;case 12:xl(a,h);break;case 13:xl(a,h),y&4&&ss(a,h),y&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=sC.bind(null,h),OC(a,h))));break;case 22:if(y=h.memoizedState!==null||Rn,!y){u=u!==null&&u.memoizedState!==null||on,x=Rn;var T=on;Rn=y,(on=u)&&!T?Sl(a,h,(h.subtreeFlags&8772)!==0):xl(a,h),Rn=x,on=T}break;case 30:break;default:xl(a,h)}}function No(a){var u=a.alternate;u!==null&&(a.alternate=null,No(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&Gn(u)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var nn=null,ci=!1;function Jr(a,u,h){for(h=h.child;h!==null;)as(a,u,h),h=h.sibling}function as(a,u,h){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(we,h)}catch{}switch(h.tag){case 26:on||pn(h,u),Jr(a,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:on||pn(h,u);var y=nn,x=ci;Pl(h.type)&&(nn=h.stateNode,ci=!1),Jr(a,u,h),Ad(h.stateNode),nn=y,ci=x;break;case 5:on||pn(h,u);case 6:if(y=nn,x=ci,nn=null,Jr(a,u,h),nn=y,ci=x,nn!==null)if(ci)try{(nn.nodeType===9?nn.body:nn.nodeName==="HTML"?nn.ownerDocument.body:nn).removeChild(h.stateNode)}catch(T){qn(h,u,T)}else try{nn.removeChild(h.stateNode)}catch(T){qn(h,u,T)}break;case 18:nn!==null&&(ci?(a=nn,e_(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),kd(a)):e_(nn,h.stateNode));break;case 4:y=nn,x=ci,nn=h.stateNode.containerInfo,ci=!0,Jr(a,u,h),nn=y,ci=x;break;case 0:case 11:case 14:case 15:on||xe(2,h,u),on||xe(4,h,u),Jr(a,u,h);break;case 1:on||(pn(h,u),y=h.stateNode,typeof y.componentWillUnmount=="function"&&ke(h,u,y)),Jr(a,u,h);break;case 21:Jr(a,u,h);break;case 22:on=(y=on)||h.memoizedState!==null,Jr(a,u,h),on=y;break;default:Jr(a,u,h)}}function ss(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{kd(a)}catch(h){qn(u,u.return,h)}}function fi(a){switch(a.tag){case 13:case 19:var u=a.stateNode;return u===null&&(u=a.stateNode=new ui),u;case 22:return a=a.stateNode,u=a._retryCache,u===null&&(u=a._retryCache=new ui),u;default:throw Error(e(435,a.tag))}}function ls(a,u){var h=fi(a);u.forEach(function(y){var x=lC.bind(null,a,y);h.has(y)||(h.add(y),y.then(x,x))})}function Ci(a,u){var h=u.deletions;if(h!==null)for(var y=0;y<h.length;y++){var x=h[y],T=a,V=u,K=V;t:for(;K!==null;){switch(K.tag){case 27:if(Pl(K.type)){nn=K.stateNode,ci=!1;break t}break;case 5:nn=K.stateNode,ci=!1;break t;case 3:case 4:nn=K.stateNode.containerInfo,ci=!0;break t}K=K.return}if(nn===null)throw Error(e(160));as(T,V,x),nn=null,ci=!1,T=x.alternate,T!==null&&(T.return=null),x.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)v0(u,a),u=u.sibling}var Sa=null;function v0(a,u){var h=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ci(u,a),ko(a),y&4&&(xe(3,a,a.return),ve(3,a),xe(5,a,a.return));break;case 1:Ci(u,a),ko(a),y&512&&(on||h===null||pn(h,h.return)),y&64&&Rn&&(a=a.updateQueue,a!==null&&(y=a.callbacks,y!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?y:h.concat(y))));break;case 26:var x=Sa;if(Ci(u,a),ko(a),y&512&&(on||h===null||pn(h,h.return)),y&4){var T=h!==null?h.memoizedState:null;if(y=a.memoizedState,h===null)if(y===null)if(a.stateNode===null){t:{y=a.type,h=a.memoizedProps,x=x.ownerDocument||x;e:switch(y){case"title":T=x.getElementsByTagName("title")[0],(!T||T[fn]||T[rn]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=x.createElement(y),x.head.insertBefore(T,x.querySelector("head > title"))),Ti(T,y,h),T[rn]=a,xn(T),y=T;break t;case"link":var V=u_("link","href",x).get(y+(h.href||""));if(V){for(var K=0;K<V.length;K++)if(T=V[K],T.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&T.getAttribute("rel")===(h.rel==null?null:h.rel)&&T.getAttribute("title")===(h.title==null?null:h.title)&&T.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){V.splice(K,1);break e}}T=x.createElement(y),Ti(T,y,h),x.head.appendChild(T);break;case"meta":if(V=u_("meta","content",x).get(y+(h.content||""))){for(K=0;K<V.length;K++)if(T=V[K],T.getAttribute("content")===(h.content==null?null:""+h.content)&&T.getAttribute("name")===(h.name==null?null:h.name)&&T.getAttribute("property")===(h.property==null?null:h.property)&&T.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&T.getAttribute("charset")===(h.charSet==null?null:h.charSet)){V.splice(K,1);break e}}T=x.createElement(y),Ti(T,y,h),x.head.appendChild(T);break;default:throw Error(e(468,y))}T[rn]=a,xn(T),y=T}a.stateNode=y}else c_(x,a.type,a.stateNode);else a.stateNode=l_(x,y,a.memoizedProps);else T!==y?(T===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):T.count--,y===null?c_(x,a.type,a.stateNode):l_(x,y,a.memoizedProps)):y===null&&a.stateNode!==null&&Hn(a,a.memoizedProps,h.memoizedProps)}break;case 27:Ci(u,a),ko(a),y&512&&(on||h===null||pn(h,h.return)),h!==null&&y&4&&Hn(a,a.memoizedProps,h.memoizedProps);break;case 5:if(Ci(u,a),ko(a),y&512&&(on||h===null||pn(h,h.return)),a.flags&32){x=a.stateNode;try{Ai(x,"")}catch(zt){qn(a,a.return,zt)}}y&4&&a.stateNode!=null&&(x=a.memoizedProps,Hn(a,x,h!==null?h.memoizedProps:x)),y&1024&&(Wn=!0);break;case 6:if(Ci(u,a),ko(a),y&4){if(a.stateNode===null)throw Error(e(162));y=a.memoizedProps,h=a.stateNode;try{h.nodeValue=y}catch(zt){qn(a,a.return,zt)}}break;case 3:if(gh=null,x=Sa,Sa=hh(u.containerInfo),Ci(u,a),Sa=x,ko(a),y&4&&h!==null&&h.memoizedState.isDehydrated)try{kd(u.containerInfo)}catch(zt){qn(a,a.return,zt)}Wn&&(Wn=!1,g0(a));break;case 4:y=Sa,Sa=hh(a.stateNode.containerInfo),Ci(u,a),ko(a),Sa=y;break;case 12:Ci(u,a),ko(a);break;case 13:Ci(u,a),ko(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Pg=ge()),y&4&&(y=a.updateQueue,y!==null&&(a.updateQueue=null,ls(a,y)));break;case 22:x=a.memoizedState!==null;var dt=h!==null&&h.memoizedState!==null,Ut=Rn,$t=on;if(Rn=Ut||x,on=$t||dt,Ci(u,a),on=$t,Rn=Ut,ko(a),y&8192)t:for(u=a.stateNode,u._visibility=x?u._visibility&-2:u._visibility|1,x&&(h===null||dt||Rn||on||Eu(a)),h=null,u=a;;){if(u.tag===5||u.tag===26){if(h===null){dt=h=u;try{if(T=dt.stateNode,x)V=T.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{K=dt.stateNode;var ae=dt.memoizedProps.style,It=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;K.style.display=It==null||typeof It=="boolean"?"":(""+It).trim()}}catch(zt){qn(dt,dt.return,zt)}}}else if(u.tag===6){if(h===null){dt=u;try{dt.stateNode.nodeValue=x?"":dt.memoizedProps}catch(zt){qn(dt,dt.return,zt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break t;for(;u.sibling===null;){if(u.return===null||u.return===a)break t;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}y&4&&(y=a.updateQueue,y!==null&&(h=y.retryQueue,h!==null&&(y.retryQueue=null,ls(a,h))));break;case 19:Ci(u,a),ko(a),y&4&&(y=a.updateQueue,y!==null&&(a.updateQueue=null,ls(a,y)));break;case 30:break;case 21:break;default:Ci(u,a),ko(a)}}function ko(a){var u=a.flags;if(u&2){try{for(var h,y=a.return;y!==null;){if(Si(y)){h=y;break}y=y.return}if(h==null)throw Error(e(160));switch(h.tag){case 27:var x=h.stateNode,T=Zr(a);zr(a,T,x);break;case 5:var V=h.stateNode;h.flags&32&&(Ai(V,""),h.flags&=-33);var K=Zr(a);zr(a,K,V);break;case 3:case 4:var dt=h.stateNode.containerInfo,Ut=Zr(a);rr(a,Ut,dt);break;default:throw Error(e(161))}}catch($t){qn(a,a.return,$t)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function g0(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var u=a;g0(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),a=a.sibling}}function xl(a,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Fr(a,u.alternate,u),u=u.sibling}function Eu(a){for(a=a.child;a!==null;){var u=a;switch(u.tag){case 0:case 11:case 14:case 15:xe(4,u,u.return),Eu(u);break;case 1:pn(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&ke(u,u.return,h),Eu(u);break;case 27:Ad(u.stateNode);case 26:case 5:pn(u,u.return),Eu(u);break;case 22:u.memoizedState===null&&Eu(u);break;case 30:Eu(u);break;default:Eu(u)}a=a.sibling}}function Sl(a,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var y=u.alternate,x=a,T=u,V=T.flags;switch(T.tag){case 0:case 11:case 15:Sl(x,T,h),ve(4,T);break;case 1:if(Sl(x,T,h),y=T,x=y.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(Ut){qn(y,y.return,Ut)}if(y=T,x=y.updateQueue,x!==null){var K=y.stateNode;try{var dt=x.shared.hiddenCallbacks;if(dt!==null)for(x.shared.hiddenCallbacks=null,x=0;x<dt.length;x++)Dp(dt[x],K)}catch(Ut){qn(y,y.return,Ut)}}h&&V&64&&Ie(T),Xe(T,T.return);break;case 27:Rr(T);case 26:case 5:Sl(x,T,h),h&&y===null&&V&4&&Cr(T),Xe(T,T.return);break;case 12:Sl(x,T,h);break;case 13:Sl(x,T,h),h&&V&4&&ss(x,T);break;case 22:T.memoizedState===null&&Sl(x,T,h),Xe(T,T.return);break;case 30:break;default:Sl(x,T,h)}u=u.sibling}}function Cg(a,u){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(a=u.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&ya(h))}function Og(a,u){a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&ya(a))}function us(a,u,h,y){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)m0(a,u,h,y),u=u.sibling}function m0(a,u,h,y){var x=u.flags;switch(u.tag){case 0:case 11:case 15:us(a,u,h,y),x&2048&&ve(9,u);break;case 1:us(a,u,h,y);break;case 3:us(a,u,h,y),x&2048&&(a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&ya(a)));break;case 12:if(x&2048){us(a,u,h,y),a=u.stateNode;try{var T=u.memoizedProps,V=T.id,K=T.onPostCommit;typeof K=="function"&&K(V,u.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(dt){qn(u,u.return,dt)}}else us(a,u,h,y);break;case 13:us(a,u,h,y);break;case 23:break;case 22:T=u.stateNode,V=u.alternate,u.memoizedState!==null?T._visibility&2?us(a,u,h,y):bd(a,u):T._visibility&2?us(a,u,h,y):(T._visibility|=2,Hc(a,u,h,y,(u.subtreeFlags&10256)!==0)),x&2048&&Cg(V,u);break;case 24:us(a,u,h,y),x&2048&&Og(u.alternate,u);break;default:us(a,u,h,y)}}function Hc(a,u,h,y,x){for(x=x&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var T=a,V=u,K=h,dt=y,Ut=V.flags;switch(V.tag){case 0:case 11:case 15:Hc(T,V,K,dt,x),ve(8,V);break;case 23:break;case 22:var $t=V.stateNode;V.memoizedState!==null?$t._visibility&2?Hc(T,V,K,dt,x):bd(T,V):($t._visibility|=2,Hc(T,V,K,dt,x)),x&&Ut&2048&&Cg(V.alternate,V);break;case 24:Hc(T,V,K,dt,x),x&&Ut&2048&&Og(V.alternate,V);break;default:Hc(T,V,K,dt,x)}u=u.sibling}}function bd(a,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=a,y=u,x=y.flags;switch(y.tag){case 22:bd(h,y),x&2048&&Cg(y.alternate,y);break;case 24:bd(h,y),x&2048&&Og(y.alternate,y);break;default:bd(h,y)}u=u.sibling}}var wd=8192;function Bc(a){if(a.subtreeFlags&wd)for(a=a.child;a!==null;)y0(a),a=a.sibling}function y0(a){switch(a.tag){case 26:Bc(a),a.flags&wd&&a.memoizedState!==null&&UC(Sa,a.memoizedState,a.memoizedProps);break;case 5:Bc(a);break;case 3:case 4:var u=Sa;Sa=hh(a.stateNode.containerInfo),Bc(a),Sa=u;break;case 22:a.memoizedState===null&&(u=a.alternate,u!==null&&u.memoizedState!==null?(u=wd,wd=16777216,Bc(a),wd=u):Bc(a));break;default:Bc(a)}}function _0(a){var u=a.alternate;if(u!==null&&(a=u.child,a!==null)){u.child=null;do u=a.sibling,a.sibling=null,a=u;while(a!==null)}}function xd(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var y=u[h];ir=y,w0(y,a)}_0(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)b0(a),a=a.sibling}function b0(a){switch(a.tag){case 0:case 11:case 15:xd(a),a.flags&2048&&xe(9,a,a.return);break;case 3:xd(a);break;case 12:xd(a);break;case 22:var u=a.stateNode;a.memoizedState!==null&&u._visibility&2&&(a.return===null||a.return.tag!==13)?(u._visibility&=-3,nh(a)):xd(a);break;default:xd(a)}}function nh(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var y=u[h];ir=y,w0(y,a)}_0(a)}for(a=a.child;a!==null;){switch(u=a,u.tag){case 0:case 11:case 15:xe(8,u,u.return),nh(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,nh(u));break;default:nh(u)}a=a.sibling}}function w0(a,u){for(;ir!==null;){var h=ir;switch(h.tag){case 0:case 11:case 15:xe(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var y=h.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:ya(h.memoizedState.cache)}if(y=h.child,y!==null)y.return=h,ir=y;else t:for(h=a;ir!==null;){y=ir;var x=y.sibling,T=y.return;if(No(y),y===h){ir=null;break t}if(x!==null){x.return=T,ir=x;break t}ir=T}}}var tC={getCacheForType:function(a){var u=Hr(vr),h=u.data.get(a);return h===void 0&&(h=a(),u.data.set(a,h)),h}},eC=typeof WeakMap=="function"?WeakMap:Map,Nn=0,Xn=null,mn=null,Cn=0,kn=0,Vo=null,Cl=!1,Ic=!1,Tg=!1,Vs=0,Or=0,Ol=0,Au=0,Eg=0,oa=0,zc=0,Sd=null,go=null,Ag=!1,Pg=0,rh=1/0,ih=null,Tl=null,Oi=0,El=null,Fc=null,Wc=0,Dg=0,Mg=null,x0=null,Cd=0,jg=null;function Uo(){if((Nn&2)!==0&&Cn!==0)return Cn&-Cn;if(M.T!==null){var a=Br;return a!==0?a:Hg()}return he()}function S0(){oa===0&&(oa=(Cn&536870912)===0||En?Ge():536870912);var a=ho.current;return a!==null&&(a.flags|=32),oa}function Ho(a,u,h){(a===Xn&&(kn===2||kn===9)||a.cancelPendingCommit!==null)&&(qc(a,0),Al(a,Cn,oa,!1)),Mn(a,h),((Nn&2)===0||a!==Xn)&&(a===Xn&&((Nn&2)===0&&(Au|=h),Or===4&&Al(a,Cn,oa,!1)),cs(a))}function C0(a,u,h){if((Nn&6)!==0)throw Error(e(327));var y=!h&&(u&124)===0&&(u&a.expiredLanes)===0||de(a,u),x=y?iC(a,u):Ng(a,u,!0),T=y;do{if(x===0){Ic&&!y&&Al(a,u,0,!1);break}else{if(h=a.current.alternate,T&&!nC(h)){x=Ng(a,u,!1),T=!1;continue}if(x===2){if(T=u,a.errorRecoveryDisabledLanes&T)var V=0;else V=a.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){u=V;t:{var K=a;x=Sd;var dt=K.current.memoizedState.isDehydrated;if(dt&&(qc(K,V).flags|=256),V=Ng(K,V,!1),V!==2){if(Tg&&!dt){K.errorRecoveryDisabledLanes|=T,Au|=T,x=4;break t}T=go,go=x,T!==null&&(go===null?go=T:go.push.apply(go,T))}x=V}if(T=!1,x!==2)continue}}if(x===1){qc(a,0),Al(a,u,0,!0);break}t:{switch(y=a,T=x,T){case 0:case 1:throw Error(e(345));case 4:if((u&4194048)!==u)break;case 6:Al(y,u,oa,!Cl);break t;case 2:go=null;break;case 3:case 5:break;default:throw Error(e(329))}if((u&62914560)===u&&(x=Pg+300-ge(),10<x)){if(Al(y,u,oa,!Cl),me(y,0,!0)!==0)break t;y.timeoutHandle=$0(O0.bind(null,y,h,go,ih,Ag,u,oa,Au,zc,Cl,T,2,-0,0),x);break t}O0(y,h,go,ih,Ag,u,oa,Au,zc,Cl,T,0,-0,0)}}break}while(!0);cs(a)}function O0(a,u,h,y,x,T,V,K,dt,Ut,$t,ae,It,zt){if(a.timeoutHandle=-1,ae=u.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Md={stylesheets:null,count:0,unsuspend:VC},y0(u),ae=HC(),ae!==null)){a.cancelPendingCommit=ae(j0.bind(null,a,u,T,h,y,x,V,K,dt,$t,1,It,zt)),Al(a,T,V,!Ut);return}j0(a,u,T,h,y,x,V,K,dt)}function nC(a){for(var u=a;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var y=0;y<h.length;y++){var x=h[y],T=x.getSnapshot;x=x.value;try{if(!Di(T(),x))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Al(a,u,h,y){u&=~Eg,u&=~Au,a.suspendedLanes|=u,a.pingedLanes&=~u,y&&(a.warmLanes|=u),y=a.expirationTimes;for(var x=u;0<x;){var T=31-Y(x),V=1<<T;y[T]=-1,x&=~V}h!==0&&q(a,h,u)}function oh(){return(Nn&6)===0?(Od(0),!1):!0}function Rg(){if(mn!==null){if(kn===0)var a=mn.return;else a=mn,Fi=Fn=null,Xf(a),na=null,Su=0,a=mn;for(;a!==null;)Ce(a.alternate,a),a=a.return;mn=null}}function qc(a,u){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,bC(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),Rg(),Xn=a,mn=h=co(a.current,null),Cn=u,kn=0,Vo=null,Cl=!1,Ic=de(a,u),Tg=!1,zc=oa=Eg=Au=Ol=Or=0,go=Sd=null,Ag=!1,(u&8)!==0&&(u|=u&32);var y=a.entangledLanes;if(y!==0)for(a=a.entanglements,y&=u;0<y;){var x=31-Y(y),T=1<<x;u|=a[x],y&=~T}return Vs=u,ru(),h}function T0(a,u){sn=null,M.H=wu,u===Ts||u===yc?(u=Wf(),kn=3):u===Ff?(u=Wf(),kn=4):kn=u===vd?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Vo=u,mn===null&&(Or=1,Ns(a,uo(u,a.current)))}function E0(){var a=M.H;return M.H=wu,a===null?wu:a}function A0(){var a=M.A;return M.A=tC,a}function Lg(){Or=4,Cl||(Cn&4194048)!==Cn&&ho.current!==null||(Ic=!0),(Ol&134217727)===0&&(Au&134217727)===0||Xn===null||Al(Xn,Cn,oa,!1)}function Ng(a,u,h){var y=Nn;Nn|=2;var x=E0(),T=A0();(Xn!==a||Cn!==u)&&(ih=null,qc(a,u)),u=!1;var V=Or;t:do try{if(kn!==0&&mn!==null){var K=mn,dt=Vo;switch(kn){case 8:Rg(),V=6;break t;case 3:case 2:case 9:case 6:ho.current===null&&(u=!0);var Ut=kn;if(kn=0,Vo=null,Gc(a,K,dt,Ut),h&&Ic){V=0;break t}break;default:Ut=kn,kn=0,Vo=null,Gc(a,K,dt,Ut)}}rC(),V=Or;break}catch($t){T0(a,$t)}while(!0);return u&&a.shellSuspendCounter++,Fi=Fn=null,Nn=y,M.H=x,M.A=T,mn===null&&(Xn=null,Cn=0,ru()),V}function rC(){for(;mn!==null;)P0(mn)}function iC(a,u){var h=Nn;Nn|=2;var y=E0(),x=A0();Xn!==a||Cn!==u?(ih=null,rh=ge()+500,qc(a,u)):Ic=de(a,u);t:do try{if(kn!==0&&mn!==null){u=mn;var T=Vo;e:switch(kn){case 1:kn=0,Vo=null,Gc(a,u,T,1);break;case 2:case 9:if(ll(T)){kn=0,Vo=null,D0(u);break}u=function(){kn!==2&&kn!==9||Xn!==a||(kn=7),cs(a)},T.then(u,u);break t;case 3:kn=7;break t;case 4:kn=5;break t;case 7:ll(T)?(kn=0,Vo=null,D0(u)):(kn=0,Vo=null,Gc(a,u,T,7));break;case 5:var V=null;switch(mn.tag){case 26:V=mn.memoizedState;case 5:case 27:var K=mn;if(!V||f_(V)){kn=0,Vo=null;var dt=K.sibling;if(dt!==null)mn=dt;else{var Ut=K.return;Ut!==null?(mn=Ut,ah(Ut)):mn=null}break e}}kn=0,Vo=null,Gc(a,u,T,5);break;case 6:kn=0,Vo=null,Gc(a,u,T,6);break;case 8:Rg(),Or=6;break t;default:throw Error(e(462))}}oC();break}catch($t){T0(a,$t)}while(!0);return Fi=Fn=null,M.H=y,M.A=x,Nn=h,mn!==null?0:(Xn=null,Cn=0,ru(),Or)}function oC(){for(;mn!==null&&!Ve();)P0(mn)}function P0(a){var u=et(a.alternate,a,Vs);a.memoizedProps=a.pendingProps,u===null?ah(a):mn=u}function D0(a){var u=a,h=u.alternate;switch(u.tag){case 15:case 0:u=th(h,u,u.pendingProps,u.type,void 0,Cn);break;case 11:u=th(h,u,u.pendingProps,u.type.render,u.ref,Cn);break;case 5:Xf(u);default:Ce(h,u),u=mn=Op(u,Vs),u=et(h,u,Vs)}a.memoizedProps=a.pendingProps,u===null?ah(a):mn=u}function Gc(a,u,h,y){Fi=Fn=null,Xf(u),na=null,Su=0;var x=u.return;try{if(Qp(a,x,u,h,Cn)){Or=1,Ns(a,uo(h,a.current)),mn=null;return}}catch(T){if(x!==null)throw mn=x,T;Or=1,Ns(a,uo(h,a.current)),mn=null;return}u.flags&32768?(En||y===1?a=!0:Ic||(Cn&536870912)!==0?a=!1:(Cl=a=!0,(y===2||y===9||y===3||y===6)&&(y=ho.current,y!==null&&y.tag===13&&(y.flags|=16384))),M0(u,a)):ah(u)}function ah(a){var u=a;do{if((u.flags&32768)!==0){M0(u,Cl);return}a=u.return;var h=ce(u.alternate,u,Vs);if(h!==null){mn=h;return}if(u=u.sibling,u!==null){mn=u;return}mn=u=a}while(u!==null);Or===0&&(Or=5)}function M0(a,u){do{var h=be(a.alternate,a);if(h!==null){h.flags&=32767,mn=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(a=a.sibling,a!==null)){mn=a;return}mn=a=h}while(a!==null);Or=6,mn=null}function j0(a,u,h,y,x,T,V,K,dt){a.cancelPendingCommit=null;do sh();while(Oi!==0);if((Nn&6)!==0)throw Error(e(327));if(u!==null){if(u===a.current)throw Error(e(177));if(T=u.lanes|u.childLanes,T|=cc,_r(a,h,T,V,K,dt),a===Xn&&(mn=Xn=null,Cn=0),Fc=u,El=a,Wc=h,Dg=T,Mg=x,x0=y,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,uC(bt,function(){return V0(),null})):(a.callbackNode=null,a.callbackPriority=0),y=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||y){y=M.T,M.T=null,x=ht.p,ht.p=2,V=Nn,Nn|=4;try{os(a,u,h)}finally{Nn=V,ht.p=x,M.T=y}}Oi=1,R0(),L0(),N0()}}function R0(){if(Oi===1){Oi=0;var a=El,u=Fc,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=M.T,M.T=null;var y=ht.p;ht.p=2;var x=Nn;Nn|=4;try{v0(u,a);var T=Kg,V=tu(a.containerInfo),K=T.focusedElem,dt=T.selectionRange;if(V!==K&&K&&K.ownerDocument&&jf(K.ownerDocument.documentElement,K)){if(dt!==null&&Vi(K)){var Ut=dt.start,$t=dt.end;if($t===void 0&&($t=Ut),"selectionStart"in K)K.selectionStart=Ut,K.selectionEnd=Math.min($t,K.value.length);else{var ae=K.ownerDocument||document,It=ae&&ae.defaultView||window;if(It.getSelection){var zt=It.getSelection(),Ze=K.textContent.length,qe=Math.min(dt.start,Ze),In=dt.end===void 0?qe:Math.min(dt.end,Ze);!zt.extend&&qe>In&&(V=In,In=qe,qe=V);var Rt=$l(K,qe),Ct=$l(K,In);if(Rt&&Ct&&(zt.rangeCount!==1||zt.anchorNode!==Rt.node||zt.anchorOffset!==Rt.offset||zt.focusNode!==Ct.node||zt.focusOffset!==Ct.offset)){var Vt=ae.createRange();Vt.setStart(Rt.node,Rt.offset),zt.removeAllRanges(),qe>In?(zt.addRange(Vt),zt.extend(Ct.node,Ct.offset)):(Vt.setEnd(Ct.node,Ct.offset),zt.addRange(Vt))}}}}for(ae=[],zt=K;zt=zt.parentNode;)zt.nodeType===1&&ae.push({element:zt,left:zt.scrollLeft,top:zt.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<ae.length;K++){var re=ae[K];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}_h=!!Gg,Kg=Gg=null}finally{Nn=x,ht.p=y,M.T=h}}a.current=u,Oi=2}}function L0(){if(Oi===2){Oi=0;var a=El,u=Fc,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=M.T,M.T=null;var y=ht.p;ht.p=2;var x=Nn;Nn|=4;try{Fr(a,u.alternate,u)}finally{Nn=x,ht.p=y,M.T=h}}Oi=3}}function N0(){if(Oi===4||Oi===3){Oi=0,Ae();var a=El,u=Fc,h=Wc,y=x0;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Oi=5:(Oi=0,Fc=El=null,k0(a,a.pendingLanes));var x=a.pendingLanes;if(x===0&&(Tl=null),Xt(h),u=u.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(we,u,void 0,(u.current.flags&128)===128)}catch{}if(y!==null){u=M.T,x=ht.p,ht.p=2,M.T=null;try{for(var T=a.onRecoverableError,V=0;V<y.length;V++){var K=y[V];T(K.value,{componentStack:K.stack})}}finally{M.T=u,ht.p=x}}(Wc&3)!==0&&sh(),cs(a),x=a.pendingLanes,(h&4194090)!==0&&(x&42)!==0?a===jg?Cd++:(Cd=0,jg=a):Cd=0,Od(0)}}function k0(a,u){(a.pooledCacheLanes&=u)===0&&(u=a.pooledCache,u!=null&&(a.pooledCache=null,ya(u)))}function sh(a){return R0(),L0(),N0(),V0()}function V0(){if(Oi!==5)return!1;var a=El,u=Dg;Dg=0;var h=Xt(Wc),y=M.T,x=ht.p;try{ht.p=32>h?32:h,M.T=null,h=Mg,Mg=null;var T=El,V=Wc;if(Oi=0,Fc=El=null,Wc=0,(Nn&6)!==0)throw Error(e(331));var K=Nn;if(Nn|=4,b0(T.current),m0(T,T.current,V,h),Nn=K,Od(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(we,T)}catch{}return!0}finally{ht.p=x,M.T=y,k0(a,u)}}function U0(a,u,h){u=uo(h,u),u=Vc(a.stateNode,u,2),a=Ja(a,u,2),a!==null&&(Mn(a,2),cs(a))}function qn(a,u,h){if(a.tag===3)U0(a,a,h);else for(;u!==null;){if(u.tag===3){U0(u,a,h);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Tl===null||!Tl.has(y))){a=uo(h,a),h=pd(2),y=Ja(u,h,2),y!==null&&(hd(h,y,u,a),Mn(y,2),cs(y));break}}u=u.return}}function kg(a,u,h){var y=a.pingCache;if(y===null){y=a.pingCache=new eC;var x=new Set;y.set(u,x)}else x=y.get(u),x===void 0&&(x=new Set,y.set(u,x));x.has(h)||(Tg=!0,x.add(h),a=aC.bind(null,a,u,h),u.then(a,a))}function aC(a,u,h){var y=a.pingCache;y!==null&&y.delete(u),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,Xn===a&&(Cn&h)===h&&(Or===4||Or===3&&(Cn&62914560)===Cn&&300>ge()-Pg?(Nn&2)===0&&qc(a,0):Eg|=h,zc===Cn&&(zc=0)),cs(a)}function H0(a,u){u===0&&(u=an()),a=Wa(a,u),a!==null&&(Mn(a,u),cs(a))}function sC(a){var u=a.memoizedState,h=0;u!==null&&(h=u.retryLane),H0(a,h)}function lC(a,u){var h=0;switch(a.tag){case 13:var y=a.stateNode,x=a.memoizedState;x!==null&&(h=x.retryLane);break;case 19:y=a.stateNode;break;case 22:y=a.stateNode._retryCache;break;default:throw Error(e(314))}y!==null&&y.delete(u),H0(a,h)}function uC(a,u){return se(a,u)}var lh=null,Kc=null,Vg=!1,uh=!1,Ug=!1,Pu=0;function cs(a){a!==Kc&&a.next===null&&(Kc===null?lh=Kc=a:Kc=Kc.next=a),uh=!0,Vg||(Vg=!0,fC())}function Od(a,u){if(!Ug&&uh){Ug=!0;do for(var h=!1,y=lh;y!==null;){if(a!==0){var x=y.pendingLanes;if(x===0)var T=0;else{var V=y.suspendedLanes,K=y.pingedLanes;T=(1<<31-Y(42|a)+1)-1,T&=x&~(V&~K),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(h=!0,F0(y,T))}else T=Cn,T=me(y,y===Xn?T:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(T&3)===0||de(y,T)||(h=!0,F0(y,T));y=y.next}while(h);Ug=!1}}function cC(){B0()}function B0(){uh=Vg=!1;var a=0;Pu!==0&&(_C()&&(a=Pu),Pu=0);for(var u=ge(),h=null,y=lh;y!==null;){var x=y.next,T=I0(y,u);T===0?(y.next=null,h===null?lh=x:h.next=x,x===null&&(Kc=h)):(h=y,(a!==0||(T&3)!==0)&&(uh=!0)),y=x}Od(a)}function I0(a,u){for(var h=a.suspendedLanes,y=a.pingedLanes,x=a.expirationTimes,T=a.pendingLanes&-62914561;0<T;){var V=31-Y(T),K=1<<V,dt=x[V];dt===-1?((K&h)===0||(K&y)!==0)&&(x[V]=De(K,u)):dt<=u&&(a.expiredLanes|=K),T&=~K}if(u=Xn,h=Cn,h=me(a,a===u?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),y=a.callbackNode,h===0||a===u&&(kn===2||kn===9)||a.cancelPendingCommit!==null)return y!==null&&y!==null&&ue(y),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||de(a,h)){if(u=h&-h,u===a.callbackPriority)return u;switch(y!==null&&ue(y),Xt(h)){case 2:case 8:h=it;break;case 32:h=bt;break;case 268435456:h=tt;break;default:h=bt}return y=z0.bind(null,a),h=se(h,y),a.callbackPriority=u,a.callbackNode=h,u}return y!==null&&y!==null&&ue(y),a.callbackPriority=2,a.callbackNode=null,2}function z0(a,u){if(Oi!==0&&Oi!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(sh()&&a.callbackNode!==h)return null;var y=Cn;return y=me(a,a===Xn?y:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),y===0?null:(C0(a,y,u),I0(a,ge()),a.callbackNode!=null&&a.callbackNode===h?z0.bind(null,a):null)}function F0(a,u){if(sh())return null;C0(a,u,!0)}function fC(){wC(function(){(Nn&6)!==0?se(Z,cC):B0()})}function Hg(){return Pu===0&&(Pu=Ge()),Pu}function W0(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ei(""+a)}function q0(a,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,a.id&&h.setAttribute("form",a.id),u.parentNode.insertBefore(h,u),a=new FormData(a),h.parentNode.removeChild(h),a}function dC(a,u,h,y,x){if(u==="submit"&&h&&h.stateNode===x){var T=W0((x[vn]||null).action),V=y.submitter;V&&(u=(u=V[vn]||null)?W0(u.formAction):V.getAttribute("formAction"),u!==null&&(T=u,V=null));var K=new Kn("action","action",null,y,x);a.push({event:K,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Pu!==0){var dt=V?q0(x,V):new FormData(x);Mc(h,{pending:!0,data:dt,method:x.method,action:T},null,dt)}}else typeof T=="function"&&(K.preventDefault(),dt=V?q0(x,V):new FormData(x),Mc(h,{pending:!0,data:dt,method:x.method,action:T},T,dt))},currentTarget:x}]})}}for(var Bg=0;Bg<Jo.length;Bg++){var Ig=Jo[Bg],pC=Ig.toLowerCase(),hC=Ig[0].toUpperCase()+Ig.slice(1);Vr(pC,"on"+hC)}Vr(_s,"onAnimationEnd"),Vr(lc,"onAnimationIteration"),Vr(uc,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(Cp,"onTransitionRun"),Vr(Lf,"onTransitionStart"),Vr(bs,"onTransitionCancel"),Vr(Fa,"onTransitionEnd"),un("onMouseEnter",["mouseout","mouseover"]),un("onMouseLeave",["mouseout","mouseover"]),un("onPointerEnter",["pointerout","pointerover"]),un("onPointerLeave",["pointerout","pointerover"]),ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ur("onBeforeInput",["compositionend","keypress","textInput","paste"]),ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Td));function G0(a,u){u=(u&4)!==0;for(var h=0;h<a.length;h++){var y=a[h],x=y.event;y=y.listeners;t:{var T=void 0;if(u)for(var V=y.length-1;0<=V;V--){var K=y[V],dt=K.instance,Ut=K.currentTarget;if(K=K.listener,dt!==T&&x.isPropagationStopped())break t;T=K,x.currentTarget=Ut;try{T(x)}catch($t){Lc($t)}x.currentTarget=null,T=dt}else for(V=0;V<y.length;V++){if(K=y[V],dt=K.instance,Ut=K.currentTarget,K=K.listener,dt!==T&&x.isPropagationStopped())break t;T=K,x.currentTarget=Ut;try{T(x)}catch($t){Lc($t)}x.currentTarget=null,T=dt}}}}function yn(a,u){var h=u[hi];h===void 0&&(h=u[hi]=new Set);var y=a+"__bubble";h.has(y)||(K0(u,a,2,!1),h.add(y))}function zg(a,u,h){var y=0;u&&(y|=4),K0(h,a,y,u)}var ch="_reactListening"+Math.random().toString(36).slice(2);function Fg(a){if(!a[ch]){a[ch]=!0,sr.forEach(function(h){h!=="selectionchange"&&(vC.has(h)||zg(h,!1,a),zg(h,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[ch]||(u[ch]=!0,zg("selectionchange",!1,u))}}function K0(a,u,h,y){switch(m_(u)){case 2:var x=zC;break;case 8:x=FC;break;default:x=rm}h=x.bind(null,u,h,a),x=void 0,!ha||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(x=!0),y?x!==void 0?a.addEventListener(u,h,{capture:!0,passive:x}):a.addEventListener(u,h,!0):x!==void 0?a.addEventListener(u,h,{passive:x}):a.addEventListener(u,h,!1)}function Wg(a,u,h,y,x){var T=y;if((u&1)===0&&(u&2)===0&&y!==null)t:for(;;){if(y===null)return;var V=y.tag;if(V===3||V===4){var K=y.stateNode.containerInfo;if(K===x)break;if(V===4)for(V=y.return;V!==null;){var dt=V.tag;if((dt===3||dt===4)&&V.stateNode.containerInfo===x)return;V=V.return}for(;K!==null;){if(V=Qe(K),V===null)return;if(dt=V.tag,dt===5||dt===6||dt===26||dt===27){y=T=V;continue t}K=K.parentNode}}y=y.return}Ko(function(){var Ut=T,$t=Nr(h),ae=[];t:{var It=ri.get(a);if(It!==void 0){var zt=Kn,Ze=a;switch(a){case"keypress":if(je(h)===0)break t;case"keydown":case"keyup":zt=va;break;case"focusin":Ze="focus",zt=Na;break;case"focusout":Ze="blur",zt=Na;break;case"beforeblur":case"afterblur":zt=Na;break;case"click":if(h.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":zt=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":zt=Dr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":zt=ka;break;case _s:case lc:case uc:zt=zl;break;case Fa:zt=Va;break;case"scroll":case"scrollend":zt=ao;break;case"wheel":zt=Ua;break;case"copy":case"cut":case"paste":zt=Zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":zt=tc;break;case"toggle":case"beforetoggle":zt=Kl}var qe=(u&4)!==0,In=!qe&&(a==="scroll"||a==="scrollend"),Rt=qe?It!==null?It+"Capture":null:It;qe=[];for(var Ct=Ut,Vt;Ct!==null;){var re=Ct;if(Vt=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Vt===null||Rt===null||(re=Wr(Ct,Rt),re!=null&&qe.push(Ed(Ct,re,Vt))),In)break;Ct=Ct.return}0<qe.length&&(It=new zt(It,Ze,null,h,$t),ae.push({event:It,listeners:qe}))}}if((u&7)===0){t:{if(It=a==="mouseover"||a==="pointerover",zt=a==="mouseout"||a==="pointerout",It&&h!==ki&&(Ze=h.relatedTarget||h.fromElement)&&(Qe(Ze)||Ze[On]))break t;if((zt||It)&&(It=$t.window===$t?$t:(It=$t.ownerDocument)?It.defaultView||It.parentWindow:window,zt?(Ze=h.relatedTarget||h.toElement,zt=Ut,Ze=Ze?Qe(Ze):null,Ze!==null&&(In=i(Ze),qe=Ze.tag,Ze!==In||qe!==5&&qe!==27&&qe!==6)&&(Ze=null)):(zt=null,Ze=Ut),zt!==Ze)){if(qe=Yo,re="onMouseLeave",Rt="onMouseEnter",Ct="mouse",(a==="pointerout"||a==="pointerover")&&(qe=tc,re="onPointerLeave",Rt="onPointerEnter",Ct="pointer"),In=zt==null?It:Be(zt),Vt=Ze==null?It:Be(Ze),It=new qe(re,Ct+"leave",zt,h,$t),It.target=In,It.relatedTarget=Vt,re=null,Qe($t)===Ut&&(qe=new qe(Rt,Ct+"enter",Ze,h,$t),qe.target=Vt,qe.relatedTarget=In,re=qe),In=re,zt&&Ze)e:{for(qe=zt,Rt=Ze,Ct=0,Vt=qe;Vt;Vt=Yc(Vt))Ct++;for(Vt=0,re=Rt;re;re=Yc(re))Vt++;for(;0<Ct-Vt;)qe=Yc(qe),Ct--;for(;0<Vt-Ct;)Rt=Yc(Rt),Vt--;for(;Ct--;){if(qe===Rt||Rt!==null&&qe===Rt.alternate)break e;qe=Yc(qe),Rt=Yc(Rt)}qe=null}else qe=null;zt!==null&&Y0(ae,It,zt,qe,!1),Ze!==null&&In!==null&&Y0(ae,In,Ze,qe,!0)}}t:{if(It=Ut?Be(Ut):window,zt=It.nodeName&&It.nodeName.toLowerCase(),zt==="select"||zt==="input"&&It.type==="file")var Le=jt;else if(bi(It))if(Tt)Le=xp;else{Le=ic;var hn=Yr}else zt=It.nodeName,!zt||zt.toLowerCase()!=="input"||It.type!=="checkbox"&&It.type!=="radio"?Ut&&Qn(Ut.elementType)&&(Le=jt):Le=Jl;if(Le&&(Le=Le(a,Ut))){Zo(ae,Le,h,$t);break t}hn&&hn(a,It,Ut),a==="focusout"&&Ut&&It.type==="number"&&Ut.memoizedProps.value!=null&&Po(It,"number",It.value)}switch(hn=Ut?Be(Ut):window,a){case"focusin":(bi(hn)||hn.contentEditable==="true")&&(Ia=hn,eu=Ut,el=null);break;case"focusout":el=eu=Ia=null;break;case"mousedown":ac=!0;break;case"contextmenu":case"mouseup":case"dragend":ac=!1,sc(ae,h,$t);break;case"selectionchange":if(Sp)break;case"keydown":case"keyup":sc(ae,h,$t)}var Fe;if(Ha)t:{switch(a){case"compositionstart":var Ke="onCompositionStart";break t;case"compositionend":Ke="onCompositionEnd";break t;case"compositionupdate":Ke="onCompositionUpdate";break t}Ke=void 0}else Kr?Zl(a,h)&&(Ke="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Ke="onCompositionStart");Ke&&(Xl&&h.locale!=="ko"&&(Kr||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Kr&&(Fe=oo()):(ni=$t,Pi="value"in ni?ni.value:ni.textContent,Kr=!0)),hn=fh(Ut,Ke),0<hn.length&&(Ke=new Wl(Ke,a,null,h,$t),ae.push({event:Ke,listeners:hn}),Fe?Ke.data=Fe:(Fe=ma(h),Fe!==null&&(Ke.data=Fe)))),(Fe=nc?Ba(a,h):ms(a,h))&&(Ke=fh(Ut,"onBeforeInput"),0<Ke.length&&(hn=new Wl("onBeforeInput","beforeinput",null,h,$t),ae.push({event:hn,listeners:Ke}),hn.data=Fe)),dC(ae,a,Ut,h,$t)}G0(ae,u)})}function Ed(a,u,h){return{instance:a,listener:u,currentTarget:h}}function fh(a,u){for(var h=u+"Capture",y=[];a!==null;){var x=a,T=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||T===null||(x=Wr(a,h),x!=null&&y.unshift(Ed(a,x,T)),x=Wr(a,u),x!=null&&y.push(Ed(a,x,T))),a.tag===3)return y;a=a.return}return[]}function Yc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Y0(a,u,h,y,x){for(var T=u._reactName,V=[];h!==null&&h!==y;){var K=h,dt=K.alternate,Ut=K.stateNode;if(K=K.tag,dt!==null&&dt===y)break;K!==5&&K!==26&&K!==27||Ut===null||(dt=Ut,x?(Ut=Wr(h,T),Ut!=null&&V.unshift(Ed(h,Ut,dt))):x||(Ut=Wr(h,T),Ut!=null&&V.push(Ed(h,Ut,dt)))),h=h.return}V.length!==0&&a.push({event:u,listeners:V})}var gC=/\r\n?/g,mC=/\u0000|\uFFFD/g;function X0(a){return(typeof a=="string"?a:""+a).replace(gC,`
`).replace(mC,"")}function Z0(a,u){return u=X0(u),X0(a)===u}function dh(){}function Bn(a,u,h,y,x,T){switch(h){case"children":typeof y=="string"?u==="body"||u==="textarea"&&y===""||Ai(a,y):(typeof y=="number"||typeof y=="bigint")&&u!=="body"&&Ai(a,""+y);break;case"className":Sn(a,"class",y);break;case"tabIndex":Sn(a,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(a,h,y);break;case"style":pa(a,y,T);break;case"data":if(u!=="object"){Sn(a,"data",y);break}case"src":case"href":if(y===""&&(u!=="a"||h!=="href")){a.removeAttribute(h);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){a.removeAttribute(h);break}y=ei(""+y),a.setAttribute(h,y);break;case"action":case"formAction":if(typeof y=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(h==="formAction"?(u!=="input"&&Bn(a,u,"name",x.name,x,null),Bn(a,u,"formEncType",x.formEncType,x,null),Bn(a,u,"formMethod",x.formMethod,x,null),Bn(a,u,"formTarget",x.formTarget,x,null)):(Bn(a,u,"encType",x.encType,x,null),Bn(a,u,"method",x.method,x,null),Bn(a,u,"target",x.target,x,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){a.removeAttribute(h);break}y=ei(""+y),a.setAttribute(h,y);break;case"onClick":y!=null&&(a.onclick=dh);break;case"onScroll":y!=null&&yn("scroll",a);break;case"onScrollEnd":y!=null&&yn("scrollend",a);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(e(61));if(h=y.__html,h!=null){if(x.children!=null)throw Error(e(60));a.innerHTML=h}}break;case"multiple":a.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":a.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){a.removeAttribute("xlink:href");break}h=ei(""+y),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(h,""+y):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":y===!0?a.setAttribute(h,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(h,y):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?a.setAttribute(h,y):a.removeAttribute(h);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?a.removeAttribute(h):a.setAttribute(h,y);break;case"popover":yn("beforetoggle",a),yn("toggle",a),en(a,"popover",y);break;case"xlinkActuate":cr(a,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":cr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":cr(a,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":cr(a,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":cr(a,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":cr(a,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":cr(a,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":cr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":cr(a,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":en(a,"is",y);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=wr.get(h)||h,en(a,h,y))}}function qg(a,u,h,y,x,T){switch(h){case"style":pa(a,y,T);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(e(61));if(h=y.__html,h!=null){if(x.children!=null)throw Error(e(60));a.innerHTML=h}}break;case"children":typeof y=="string"?Ai(a,y):(typeof y=="number"||typeof y=="bigint")&&Ai(a,""+y);break;case"onScroll":y!=null&&yn("scroll",a);break;case"onScrollEnd":y!=null&&yn("scrollend",a);break;case"onClick":y!=null&&(a.onclick=dh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lr.hasOwnProperty(h))t:{if(h[0]==="o"&&h[1]==="n"&&(x=h.endsWith("Capture"),u=h.slice(2,x?h.length-7:void 0),T=a[vn]||null,T=T!=null?T[h]:null,typeof T=="function"&&a.removeEventListener(u,T,x),typeof y=="function")){typeof T!="function"&&T!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(u,y,x);break t}h in a?a[h]=y:y===!0?a.setAttribute(h,""):en(a,h,y)}}}function Ti(a,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yn("error",a),yn("load",a);var y=!1,x=!1,T;for(T in h)if(h.hasOwnProperty(T)){var V=h[T];if(V!=null)switch(T){case"src":y=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(e(137,u));default:Bn(a,u,T,V,h,null)}}x&&Bn(a,u,"srcSet",h.srcSet,h,null),y&&Bn(a,u,"src",h.src,h,null);return;case"input":yn("invalid",a);var K=T=V=x=null,dt=null,Ut=null;for(y in h)if(h.hasOwnProperty(y)){var $t=h[y];if($t!=null)switch(y){case"name":x=$t;break;case"type":V=$t;break;case"checked":dt=$t;break;case"defaultChecked":Ut=$t;break;case"value":T=$t;break;case"defaultValue":K=$t;break;case"children":case"dangerouslySetInnerHTML":if($t!=null)throw Error(e(137,u));break;default:Bn(a,u,y,$t,h,null)}}qo(a,T,K,dt,Ut,V,x,!1),$e(a);return;case"select":yn("invalid",a),y=V=T=null;for(x in h)if(h.hasOwnProperty(x)&&(K=h[x],K!=null))switch(x){case"value":T=K;break;case"defaultValue":V=K;break;case"multiple":y=K;default:Bn(a,u,x,K,h,null)}u=T,h=V,a.multiple=!!y,u!=null?to(a,!!y,u,!1):h!=null&&to(a,!!y,h,!0);return;case"textarea":yn("invalid",a),T=x=y=null;for(V in h)if(h.hasOwnProperty(V)&&(K=h[V],K!=null))switch(V){case"value":y=K;break;case"defaultValue":x=K;break;case"children":T=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(e(91));break;default:Bn(a,u,V,K,h,null)}da(a,y,x,T),$e(a);return;case"option":for(dt in h)if(h.hasOwnProperty(dt)&&(y=h[dt],y!=null))switch(dt){case"selected":a.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Bn(a,u,dt,y,h,null)}return;case"dialog":yn("beforetoggle",a),yn("toggle",a),yn("cancel",a),yn("close",a);break;case"iframe":case"object":yn("load",a);break;case"video":case"audio":for(y=0;y<Td.length;y++)yn(Td[y],a);break;case"image":yn("error",a),yn("load",a);break;case"details":yn("toggle",a);break;case"embed":case"source":case"link":yn("error",a),yn("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ut in h)if(h.hasOwnProperty(Ut)&&(y=h[Ut],y!=null))switch(Ut){case"children":case"dangerouslySetInnerHTML":throw Error(e(137,u));default:Bn(a,u,Ut,y,h,null)}return;default:if(Qn(u)){for($t in h)h.hasOwnProperty($t)&&(y=h[$t],y!==void 0&&qg(a,u,$t,y,h,void 0));return}}for(K in h)h.hasOwnProperty(K)&&(y=h[K],y!=null&&Bn(a,u,K,y,h,null))}function yC(a,u,h,y){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,T=null,V=null,K=null,dt=null,Ut=null,$t=null;for(zt in h){var ae=h[zt];if(h.hasOwnProperty(zt)&&ae!=null)switch(zt){case"checked":break;case"value":break;case"defaultValue":dt=ae;default:y.hasOwnProperty(zt)||Bn(a,u,zt,null,y,ae)}}for(var It in y){var zt=y[It];if(ae=h[It],y.hasOwnProperty(It)&&(zt!=null||ae!=null))switch(It){case"type":T=zt;break;case"name":x=zt;break;case"checked":Ut=zt;break;case"defaultChecked":$t=zt;break;case"value":V=zt;break;case"defaultValue":K=zt;break;case"children":case"dangerouslySetInnerHTML":if(zt!=null)throw Error(e(137,u));break;default:zt!==ae&&Bn(a,u,It,zt,y,ae)}}Ao(a,V,K,dt,Ut,$t,T,x);return;case"select":zt=V=K=It=null;for(T in h)if(dt=h[T],h.hasOwnProperty(T)&&dt!=null)switch(T){case"value":break;case"multiple":zt=dt;default:y.hasOwnProperty(T)||Bn(a,u,T,null,y,dt)}for(x in y)if(T=y[x],dt=h[x],y.hasOwnProperty(x)&&(T!=null||dt!=null))switch(x){case"value":It=T;break;case"defaultValue":K=T;break;case"multiple":V=T;default:T!==dt&&Bn(a,u,x,T,y,dt)}u=K,h=V,y=zt,It!=null?to(a,!!h,It,!1):!!y!=!!h&&(u!=null?to(a,!!h,u,!0):to(a,!!h,h?[]:"",!1));return;case"textarea":zt=It=null;for(K in h)if(x=h[K],h.hasOwnProperty(K)&&x!=null&&!y.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:Bn(a,u,K,null,y,x)}for(V in y)if(x=y[V],T=h[V],y.hasOwnProperty(V)&&(x!=null||T!=null))switch(V){case"value":It=x;break;case"defaultValue":zt=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(e(91));break;default:x!==T&&Bn(a,u,V,x,y,T)}fa(a,It,zt);return;case"option":for(var Ze in h)if(It=h[Ze],h.hasOwnProperty(Ze)&&It!=null&&!y.hasOwnProperty(Ze))switch(Ze){case"selected":a.selected=!1;break;default:Bn(a,u,Ze,null,y,It)}for(dt in y)if(It=y[dt],zt=h[dt],y.hasOwnProperty(dt)&&It!==zt&&(It!=null||zt!=null))switch(dt){case"selected":a.selected=It&&typeof It!="function"&&typeof It!="symbol";break;default:Bn(a,u,dt,It,y,zt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in h)It=h[qe],h.hasOwnProperty(qe)&&It!=null&&!y.hasOwnProperty(qe)&&Bn(a,u,qe,null,y,It);for(Ut in y)if(It=y[Ut],zt=h[Ut],y.hasOwnProperty(Ut)&&It!==zt&&(It!=null||zt!=null))switch(Ut){case"children":case"dangerouslySetInnerHTML":if(It!=null)throw Error(e(137,u));break;default:Bn(a,u,Ut,It,y,zt)}return;default:if(Qn(u)){for(var In in h)It=h[In],h.hasOwnProperty(In)&&It!==void 0&&!y.hasOwnProperty(In)&&qg(a,u,In,void 0,y,It);for($t in y)It=y[$t],zt=h[$t],!y.hasOwnProperty($t)||It===zt||It===void 0&&zt===void 0||qg(a,u,$t,It,y,zt);return}}for(var Rt in h)It=h[Rt],h.hasOwnProperty(Rt)&&It!=null&&!y.hasOwnProperty(Rt)&&Bn(a,u,Rt,null,y,It);for(ae in y)It=y[ae],zt=h[ae],!y.hasOwnProperty(ae)||It===zt||It==null&&zt==null||Bn(a,u,ae,It,y,zt)}var Gg=null,Kg=null;function ph(a){return a.nodeType===9?a:a.ownerDocument}function J0(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q0(a,u){if(a===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&u==="foreignObject"?0:a}function Yg(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Xg=null;function _C(){var a=window.event;return a&&a.type==="popstate"?a===Xg?!1:(Xg=a,!0):(Xg=null,!1)}var $0=typeof setTimeout=="function"?setTimeout:void 0,bC=typeof clearTimeout=="function"?clearTimeout:void 0,t_=typeof Promise=="function"?Promise:void 0,wC=typeof queueMicrotask=="function"?queueMicrotask:typeof t_<"u"?function(a){return t_.resolve(null).then(a).catch(xC)}:$0;function xC(a){setTimeout(function(){throw a})}function Pl(a){return a==="head"}function e_(a,u){var h=u,y=0,x=0;do{var T=h.nextSibling;if(a.removeChild(h),T&&T.nodeType===8)if(h=T.data,h==="/$"){if(0<y&&8>y){h=y;var V=a.ownerDocument;if(h&1&&Ad(V.documentElement),h&2&&Ad(V.body),h&4)for(h=V.head,Ad(h),V=h.firstChild;V;){var K=V.nextSibling,dt=V.nodeName;V[fn]||dt==="SCRIPT"||dt==="STYLE"||dt==="LINK"&&V.rel.toLowerCase()==="stylesheet"||h.removeChild(V),V=K}}if(x===0){a.removeChild(T),kd(u);return}x--}else h==="$"||h==="$?"||h==="$!"?x++:y=h.charCodeAt(0)-48;else y=0;h=T}while(h);kd(u)}function Zg(a){var u=a.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Zg(h),Gn(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function SC(a,u,h,y){for(;a.nodeType===1;){var x=h;if(a.nodeName.toLowerCase()!==u.toLowerCase()){if(!y&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(y){if(!a[fn])switch(u){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(T=a.getAttribute("rel"),T==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(T!==x.rel||a.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||a.getAttribute("title")!==(x.title==null?null:x.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(T=a.getAttribute("src"),(T!==(x.src==null?null:x.src)||a.getAttribute("type")!==(x.type==null?null:x.type)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&T&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(u==="input"&&a.type==="hidden"){var T=x.name==null?null:""+x.name;if(x.type==="hidden"&&a.getAttribute("name")===T)return a}else return a;if(a=Ca(a.nextSibling),a===null)break}return null}function CC(a,u,h){if(u==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=Ca(a.nextSibling),a===null))return null;return a}function Jg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function OC(a,u){var h=a.ownerDocument;if(a.data!=="$?"||h.readyState==="complete")u();else{var y=function(){u(),h.removeEventListener("DOMContentLoaded",y)};h.addEventListener("DOMContentLoaded",y),a._reactRetry=y}}function Ca(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return a}var Qg=null;function n_(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return a;u--}else h==="/$"&&u++}a=a.previousSibling}return null}function r_(a,u,h){switch(u=ph(h),a){case"html":if(a=u.documentElement,!a)throw Error(e(452));return a;case"head":if(a=u.head,!a)throw Error(e(453));return a;case"body":if(a=u.body,!a)throw Error(e(454));return a;default:throw Error(e(451))}}function Ad(a){for(var u=a.attributes;u.length;)a.removeAttributeNode(u[0]);Gn(a)}var aa=new Map,i_=new Set;function hh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Us=ht.d;ht.d={f:TC,r:EC,D:AC,C:PC,L:DC,m:MC,X:RC,S:jC,M:LC};function TC(){var a=Us.f(),u=oh();return a||u}function EC(a){var u=ar(a);u!==null&&u.tag===5&&u.type==="form"?ld(u):Us.r(a)}var Xc=typeof document>"u"?null:document;function o_(a,u,h){var y=Xc;if(y&&typeof u=="string"&&u){var x=Pr(u);x='link[rel="'+a+'"][href="'+x+'"]',typeof h=="string"&&(x+='[crossorigin="'+h+'"]'),i_.has(x)||(i_.add(x),a={rel:a,crossOrigin:h,href:u},y.querySelector(x)===null&&(u=y.createElement("link"),Ti(u,"link",a),xn(u),y.head.appendChild(u)))}}function AC(a){Us.D(a),o_("dns-prefetch",a,null)}function PC(a,u){Us.C(a,u),o_("preconnect",a,u)}function DC(a,u,h){Us.L(a,u,h);var y=Xc;if(y&&a&&u){var x='link[rel="preload"][as="'+Pr(u)+'"]';u==="image"&&h&&h.imageSrcSet?(x+='[imagesrcset="'+Pr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(x+='[imagesizes="'+Pr(h.imageSizes)+'"]')):x+='[href="'+Pr(a)+'"]';var T=x;switch(u){case"style":T=Zc(a);break;case"script":T=Jc(a)}aa.has(T)||(a=v({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:a,as:u},h),aa.set(T,a),y.querySelector(x)!==null||u==="style"&&y.querySelector(Pd(T))||u==="script"&&y.querySelector(Dd(T))||(u=y.createElement("link"),Ti(u,"link",a),xn(u),y.head.appendChild(u)))}}function MC(a,u){Us.m(a,u);var h=Xc;if(h&&a){var y=u&&typeof u.as=="string"?u.as:"script",x='link[rel="modulepreload"][as="'+Pr(y)+'"][href="'+Pr(a)+'"]',T=x;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Jc(a)}if(!aa.has(T)&&(a=v({rel:"modulepreload",href:a},u),aa.set(T,a),h.querySelector(x)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Dd(T)))return}y=h.createElement("link"),Ti(y,"link",a),xn(y),h.head.appendChild(y)}}}function jC(a,u,h){Us.S(a,u,h);var y=Xc;if(y&&a){var x=Er(y).hoistableStyles,T=Zc(a);u=u||"default";var V=x.get(T);if(!V){var K={loading:0,preload:null};if(V=y.querySelector(Pd(T)))K.loading=5;else{a=v({rel:"stylesheet",href:a,"data-precedence":u},h),(h=aa.get(T))&&$g(a,h);var dt=V=y.createElement("link");xn(dt),Ti(dt,"link",a),dt._p=new Promise(function(Ut,$t){dt.onload=Ut,dt.onerror=$t}),dt.addEventListener("load",function(){K.loading|=1}),dt.addEventListener("error",function(){K.loading|=2}),K.loading|=4,vh(V,u,y)}V={type:"stylesheet",instance:V,count:1,state:K},x.set(T,V)}}}function RC(a,u){Us.X(a,u);var h=Xc;if(h&&a){var y=Er(h).hoistableScripts,x=Jc(a),T=y.get(x);T||(T=h.querySelector(Dd(x)),T||(a=v({src:a,async:!0},u),(u=aa.get(x))&&tm(a,u),T=h.createElement("script"),xn(T),Ti(T,"link",a),h.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},y.set(x,T))}}function LC(a,u){Us.M(a,u);var h=Xc;if(h&&a){var y=Er(h).hoistableScripts,x=Jc(a),T=y.get(x);T||(T=h.querySelector(Dd(x)),T||(a=v({src:a,async:!0,type:"module"},u),(u=aa.get(x))&&tm(a,u),T=h.createElement("script"),xn(T),Ti(T,"link",a),h.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},y.set(x,T))}}function a_(a,u,h,y){var x=(x=Qt.current)?hh(x):null;if(!x)throw Error(e(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=Zc(h.href),h=Er(x).hoistableStyles,y=h.get(u),y||(y={type:"style",instance:null,count:0,state:null},h.set(u,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=Zc(h.href);var T=Er(x).hoistableStyles,V=T.get(a);if(V||(x=x.ownerDocument||x,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(a,V),(T=x.querySelector(Pd(a)))&&!T._p&&(V.instance=T,V.state.loading=5),aa.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},aa.set(a,h),T||NC(x,a,h,V.state))),u&&y===null)throw Error(e(528,""));return V}if(u&&y!==null)throw Error(e(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Jc(h),h=Er(x).hoistableScripts,y=h.get(u),y||(y={type:"script",instance:null,count:0,state:null},h.set(u,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(e(444,a))}}function Zc(a){return'href="'+Pr(a)+'"'}function Pd(a){return'link[rel="stylesheet"]['+a+"]"}function s_(a){return v({},a,{"data-precedence":a.precedence,precedence:null})}function NC(a,u,h,y){a.querySelector('link[rel="preload"][as="style"]['+u+"]")?y.loading=1:(u=a.createElement("link"),y.preload=u,u.addEventListener("load",function(){return y.loading|=1}),u.addEventListener("error",function(){return y.loading|=2}),Ti(u,"link",h),xn(u),a.head.appendChild(u))}function Jc(a){return'[src="'+Pr(a)+'"]'}function Dd(a){return"script[async]"+a}function l_(a,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var y=a.querySelector('style[data-href~="'+Pr(h.href)+'"]');if(y)return u.instance=y,xn(y),y;var x=v({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return y=(a.ownerDocument||a).createElement("style"),xn(y),Ti(y,"style",x),vh(y,h.precedence,a),u.instance=y;case"stylesheet":x=Zc(h.href);var T=a.querySelector(Pd(x));if(T)return u.state.loading|=4,u.instance=T,xn(T),T;y=s_(h),(x=aa.get(x))&&$g(y,x),T=(a.ownerDocument||a).createElement("link"),xn(T);var V=T;return V._p=new Promise(function(K,dt){V.onload=K,V.onerror=dt}),Ti(T,"link",y),u.state.loading|=4,vh(T,h.precedence,a),u.instance=T;case"script":return T=Jc(h.src),(x=a.querySelector(Dd(T)))?(u.instance=x,xn(x),x):(y=h,(x=aa.get(T))&&(y=v({},h),tm(y,x)),a=a.ownerDocument||a,x=a.createElement("script"),xn(x),Ti(x,"link",y),a.head.appendChild(x),u.instance=x);case"void":return null;default:throw Error(e(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(y=u.instance,u.state.loading|=4,vh(y,h.precedence,a));return u.instance}function vh(a,u,h){for(var y=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=y.length?y[y.length-1]:null,T=x,V=0;V<y.length;V++){var K=y[V];if(K.dataset.precedence===u)T=K;else if(T!==x)break}T?T.parentNode.insertBefore(a,T.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(a,u.firstChild))}function $g(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.title==null&&(a.title=u.title)}function tm(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.integrity==null&&(a.integrity=u.integrity)}var gh=null;function u_(a,u,h){if(gh===null){var y=new Map,x=gh=new Map;x.set(h,y)}else x=gh,y=x.get(h),y||(y=new Map,x.set(h,y));if(y.has(a))return y;for(y.set(a,null),h=h.getElementsByTagName(a),x=0;x<h.length;x++){var T=h[x];if(!(T[fn]||T[rn]||a==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var V=T.getAttribute(u)||"";V=a+V;var K=y.get(V);K?K.push(T):y.set(V,[T])}}return y}function c_(a,u,h){a=a.ownerDocument||a,a.head.insertBefore(h,u==="title"?a.querySelector("head > title"):null)}function kC(a,u,h){if(h===1||u.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return a=u.disabled,typeof u.precedence=="string"&&a==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function f_(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Md=null;function VC(){}function UC(a,u,h){if(Md===null)throw Error(e(475));var y=Md;if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var x=Zc(h.href),T=a.querySelector(Pd(x));if(T){a=T._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(y.count++,y=mh.bind(y),a.then(y,y)),u.state.loading|=4,u.instance=T,xn(T);return}T=a.ownerDocument||a,h=s_(h),(x=aa.get(x))&&$g(h,x),T=T.createElement("link"),xn(T);var V=T;V._p=new Promise(function(K,dt){V.onload=K,V.onerror=dt}),Ti(T,"link",h),u.instance=T}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(y.count++,u=mh.bind(y),a.addEventListener("load",u),a.addEventListener("error",u))}}function HC(){if(Md===null)throw Error(e(475));var a=Md;return a.stylesheets&&a.count===0&&em(a,a.stylesheets),0<a.count?function(u){var h=setTimeout(function(){if(a.stylesheets&&em(a,a.stylesheets),a.unsuspend){var y=a.unsuspend;a.unsuspend=null,y()}},6e4);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(h)}}:null}function mh(){if(this.count--,this.count===0){if(this.stylesheets)em(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var yh=null;function em(a,u){a.stylesheets=null,a.unsuspend!==null&&(a.count++,yh=new Map,u.forEach(BC,a),yh=null,mh.call(a))}function BC(a,u){if(!(u.state.loading&4)){var h=yh.get(a);if(h)var y=h.get(null);else{h=new Map,yh.set(a,h);for(var x=a.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<x.length;T++){var V=x[T];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(h.set(V.dataset.precedence,V),y=V)}y&&h.set(null,y)}x=u.instance,V=x.getAttribute("data-precedence"),T=h.get(V)||y,T===y&&h.set(null,x),h.set(V,x),this.count++,y=mh.bind(this),x.addEventListener("load",y),x.addEventListener("error",y),T?T.parentNode.insertBefore(x,T.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(x,a.firstChild)),u.state.loading|=4}}var jd={$$typeof:k,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function IC(a,u,h,y,x,T,V,K){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tn(0),this.hiddenUpdates=tn(null),this.identifierPrefix=y,this.onUncaughtError=x,this.onCaughtError=T,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function d_(a,u,h,y,x,T,V,K,dt,Ut,$t,ae){return a=new IC(a,u,h,V,K,dt,Ut,ae),u=1,T===!0&&(u|=24),T=ii(3,null,null,u),a.current=T,T.stateNode=a,u=mc(),u.refCount++,a.pooledCache=u,u.refCount++,T.memoizedState={element:y,isDehydrated:h,cache:u},ul(T),a}function p_(a){return a?(a=qa,a):qa}function h_(a,u,h,y,x,T){x=p_(x),y.context===null?y.context=x:y.pendingContext=x,y=_a(u),y.payload={element:h},T=T===void 0?null:T,T!==null&&(y.callback=T),h=Ja(a,y,u),h!==null&&(Ho(h,a,u),cl(h,a,u))}function v_(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<u?h:u}}function nm(a,u){v_(a,u),(a=a.alternate)&&v_(a,u)}function g_(a){if(a.tag===13){var u=Wa(a,67108864);u!==null&&Ho(u,a,67108864),nm(a,67108864)}}var _h=!0;function zC(a,u,h,y){var x=M.T;M.T=null;var T=ht.p;try{ht.p=2,rm(a,u,h,y)}finally{ht.p=T,M.T=x}}function FC(a,u,h,y){var x=M.T;M.T=null;var T=ht.p;try{ht.p=8,rm(a,u,h,y)}finally{ht.p=T,M.T=x}}function rm(a,u,h,y){if(_h){var x=im(y);if(x===null)Wg(a,u,y,bh,h),y_(a,y);else if(qC(x,a,u,h,y))y.stopPropagation();else if(y_(a,y),u&4&&-1<WC.indexOf(a)){for(;x!==null;){var T=ar(x);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var V=_e(T.pendingLanes);if(V!==0){var K=T;for(K.pendingLanes|=2,K.entangledLanes|=2;V;){var dt=1<<31-Y(V);K.entanglements[1]|=dt,V&=~dt}cs(T),(Nn&6)===0&&(rh=ge()+500,Od(0))}}break;case 13:K=Wa(T,2),K!==null&&Ho(K,T,2),oh(),nm(T,2)}if(T=im(y),T===null&&Wg(a,u,y,bh,h),T===x)break;x=T}x!==null&&y.stopPropagation()}else Wg(a,u,y,null,h)}}function im(a){return a=Nr(a),om(a)}var bh=null;function om(a){if(bh=null,a=Qe(a),a!==null){var u=i(a);if(u===null)a=null;else{var h=u.tag;if(h===13){if(a=l(u),a!==null)return a;a=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null)}}return bh=a,null}function m_(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(N()){case Z:return 2;case it:return 8;case bt:case kt:return 32;case tt:return 268435456;default:return 32}default:return 32}}var am=!1,Dl=null,Ml=null,jl=null,Rd=new Map,Ld=new Map,Rl=[],WC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(a,u){switch(a){case"focusin":case"focusout":Dl=null;break;case"dragenter":case"dragleave":Ml=null;break;case"mouseover":case"mouseout":jl=null;break;case"pointerover":case"pointerout":Rd.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ld.delete(u.pointerId)}}function Nd(a,u,h,y,x,T){return a===null||a.nativeEvent!==T?(a={blockedOn:u,domEventName:h,eventSystemFlags:y,nativeEvent:T,targetContainers:[x]},u!==null&&(u=ar(u),u!==null&&g_(u)),a):(a.eventSystemFlags|=y,u=a.targetContainers,x!==null&&u.indexOf(x)===-1&&u.push(x),a)}function qC(a,u,h,y,x){switch(u){case"focusin":return Dl=Nd(Dl,a,u,h,y,x),!0;case"dragenter":return Ml=Nd(Ml,a,u,h,y,x),!0;case"mouseover":return jl=Nd(jl,a,u,h,y,x),!0;case"pointerover":var T=x.pointerId;return Rd.set(T,Nd(Rd.get(T)||null,a,u,h,y,x)),!0;case"gotpointercapture":return T=x.pointerId,Ld.set(T,Nd(Ld.get(T)||null,a,u,h,y,x)),!0}return!1}function __(a){var u=Qe(a.target);if(u!==null){var h=i(u);if(h!==null){if(u=h.tag,u===13){if(u=l(h),u!==null){a.blockedOn=u,Ue(a.priority,function(){if(h.tag===13){var y=Uo();y=Ot(y);var x=Wa(h,y);x!==null&&Ho(x,h,y),nm(h,y)}});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function wh(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var h=im(a.nativeEvent);if(h===null){h=a.nativeEvent;var y=new h.constructor(h.type,h);ki=y,h.target.dispatchEvent(y),ki=null}else return u=ar(h),u!==null&&g_(u),a.blockedOn=h,!1;u.shift()}return!0}function b_(a,u,h){wh(a)&&h.delete(u)}function GC(){am=!1,Dl!==null&&wh(Dl)&&(Dl=null),Ml!==null&&wh(Ml)&&(Ml=null),jl!==null&&wh(jl)&&(jl=null),Rd.forEach(b_),Ld.forEach(b_)}function xh(a,u){a.blockedOn===u&&(a.blockedOn=null,am||(am=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,GC)))}var Sh=null;function w_(a){Sh!==a&&(Sh=a,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Sh===a&&(Sh=null);for(var u=0;u<a.length;u+=3){var h=a[u],y=a[u+1],x=a[u+2];if(typeof y!="function"){if(om(y||h)===null)continue;break}var T=ar(h);T!==null&&(a.splice(u,3),u-=3,Mc(T,{pending:!0,data:x,method:h.method,action:y},y,x))}}))}function kd(a){function u(dt){return xh(dt,a)}Dl!==null&&xh(Dl,a),Ml!==null&&xh(Ml,a),jl!==null&&xh(jl,a),Rd.forEach(u),Ld.forEach(u);for(var h=0;h<Rl.length;h++){var y=Rl[h];y.blockedOn===a&&(y.blockedOn=null)}for(;0<Rl.length&&(h=Rl[0],h.blockedOn===null);)__(h),h.blockedOn===null&&Rl.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(y=0;y<h.length;y+=3){var x=h[y],T=h[y+1],V=x[vn]||null;if(typeof T=="function")V||w_(h);else if(V){var K=null;if(T&&T.hasAttribute("formAction")){if(x=T,V=T[vn]||null)K=V.formAction;else if(om(x)!==null)continue}else K=V.action;typeof K=="function"?h[y+1]=K:(h.splice(y,3),y-=3),w_(h)}}}function sm(a){this._internalRoot=a}Ch.prototype.render=sm.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(e(409));var h=u.current,y=Uo();h_(h,y,a,u,null,null)},Ch.prototype.unmount=sm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;h_(a.current,2,null,a,null,null),oh(),u[On]=null}};function Ch(a){this._internalRoot=a}Ch.prototype.unstable_scheduleHydration=function(a){if(a){var u=he();a={blockedOn:null,target:a,priority:u};for(var h=0;h<Rl.length&&u!==0&&u<Rl[h].priority;h++);Rl.splice(h,0,a),h===0&&__(a)}};var x_=n.version;if(x_!=="19.1.0")throw Error(e(527,x_,"19.1.0"));ht.findDOMNode=function(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(e(188)):(a=Object.keys(a).join(","),Error(e(268,a)));return a=p(u),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var KC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{we=Oh.inject(KC),Ee=Oh}catch{}}return Ud.createRoot=function(a,u){if(!r(a))throw Error(e(299));var h=!1,y="",x=Nc,T=_l,V=vo,K=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&(V=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(K=u.unstable_transitionCallbacks)),u=d_(a,1,!1,null,null,h,y,x,T,V,K,null),a[On]=u.current,Fg(a),new sm(u)},Ud.hydrateRoot=function(a,u,h){if(!r(a))throw Error(e(299));var y=!1,x="",T=Nc,V=_l,K=vo,dt=null,Ut=null;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(x=h.identifierPrefix),h.onUncaughtError!==void 0&&(T=h.onUncaughtError),h.onCaughtError!==void 0&&(V=h.onCaughtError),h.onRecoverableError!==void 0&&(K=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(dt=h.unstable_transitionCallbacks),h.formState!==void 0&&(Ut=h.formState)),u=d_(a,1,!0,u,h??null,y,x,T,V,K,dt,Ut),u.context=p_(null),h=u.current,y=Uo(),y=Ot(y),x=_a(y),x.callback=null,Ja(h,x,y),h=y,u.current.lanes=h,Mn(u,h),cs(u),a[On]=u.current,Fg(a),new Ch(u)},Ud.version="19.1.0",Ud}var j_;function iO(){if(j_)return cm.exports;j_=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(n){console.error(n)}}return o(),cm.exports=rO(),cm.exports}var oO=iO(),Hd={},R_;function aO(){if(R_)return Hd;R_=1,Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.parse=l,Hd.serialize=d;const o=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,e=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,i=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,S){const O=new i,A=w.length;if(A<2)return O;const P=(S==null?void 0:S.decode)||v;let j=0;do{const z=w.indexOf("=",j);if(z===-1)break;const k=w.indexOf(";",j),G=k===-1?A:k;if(z>G){j=w.lastIndexOf(";",z-1)+1;continue}const ot=f(w,j,z),xt=p(w,z,ot),Nt=w.slice(ot,xt);if(O[Nt]===void 0){let vt=f(w,z+1,G),$=p(w,G,vt);const mt=P(w.slice(vt,$));O[Nt]=mt}j=G+1}while(j<A);return O}function f(w,S,O){do{const A=w.charCodeAt(S);if(A!==32&&A!==9)return S}while(++S<O);return O}function p(w,S,O){for(;S>O;){const A=w.charCodeAt(--S);if(A!==32&&A!==9)return S+1}return O}function d(w,S,O){const A=(O==null?void 0:O.encode)||encodeURIComponent;if(!o.test(w))throw new TypeError(`argument name is invalid: ${w}`);const P=A(S);if(!n.test(P))throw new TypeError(`argument val is invalid: ${S}`);let j=w+"="+P;if(!O)return j;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);j+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);j+="; Domain="+O.domain}if(O.path){if(!e.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);j+="; Path="+O.path}if(O.expires){if(!_(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);j+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(j+="; HttpOnly"),O.secure&&(j+="; Secure"),O.partitioned&&(j+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return j}function v(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function _(w){return r.call(w)==="[object Date]"}return Hd}aO();var L_="popstate";function sO(o={}){function n(e,r){let{pathname:i,search:l,hash:f}=e.location;return $m("",{pathname:i,search:l,hash:f},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(e,r){return typeof r=="string"?r:sp(r)}return uO(n,t,null,o)}function dr(o,n){if(o===!1||o===null||typeof o>"u")throw new Error(n)}function Da(o,n){if(!o){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function lO(){return Math.random().toString(36).substring(2,10)}function N_(o,n){return{usr:o.state,key:o.key,idx:n}}function $m(o,n,t=null,e){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof n=="string"?Tf(n):n,state:t,key:n&&n.key||e||lO()}}function sp({pathname:o="/",search:n="",hash:t=""}){return n&&n!=="?"&&(o+=n.charAt(0)==="?"?n:"?"+n),t&&t!=="#"&&(o+=t.charAt(0)==="#"?t:"#"+t),o}function Tf(o){let n={};if(o){let t=o.indexOf("#");t>=0&&(n.hash=o.substring(t),o=o.substring(0,t));let e=o.indexOf("?");e>=0&&(n.search=o.substring(e),o=o.substring(0,e)),o&&(n.pathname=o)}return n}function uO(o,n,t,e={}){let{window:r=document.defaultView,v5Compat:i=!1}=e,l=r.history,f="POP",p=null,d=v();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function v(){return(l.state||{idx:null}).idx}function _(){f="POP";let P=v(),j=P==null?null:P-d;d=P,p&&p({action:f,location:A.location,delta:j})}function w(P,j){f="PUSH";let z=$m(A.location,P,j);d=v()+1;let k=N_(z,d),G=A.createHref(z);try{l.pushState(k,"",G)}catch(ot){if(ot instanceof DOMException&&ot.name==="DataCloneError")throw ot;r.location.assign(G)}i&&p&&p({action:f,location:A.location,delta:1})}function S(P,j){f="REPLACE";let z=$m(A.location,P,j);d=v();let k=N_(z,d),G=A.createHref(z);l.replaceState(k,"",G),i&&p&&p({action:f,location:A.location,delta:0})}function O(P){let j=r.location.origin!=="null"?r.location.origin:r.location.href,z=typeof P=="string"?P:sp(P);return z=z.replace(/ $/,"%20"),dr(j,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,j)}let A={get action(){return f},get location(){return o(r,l)},listen(P){if(p)throw new Error("A history only accepts one active listener");return r.addEventListener(L_,_),p=P,()=>{r.removeEventListener(L_,_),p=null}},createHref(P){return n(r,P)},createURL:O,encodeLocation(P){let j=O(P);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:w,replace:S,go(P){return l.go(P)}};return A}function Ow(o,n,t="/"){return cO(o,n,t,!1)}function cO(o,n,t,e){let r=typeof n=="string"?Tf(n):n,i=Gs(r.pathname||"/",t);if(i==null)return null;let l=Tw(o);fO(l);let f=null;for(let p=0;f==null&&p<l.length;++p){let d=xO(i);f=bO(l[p],d,e)}return f}function Tw(o,n=[],t=[],e=""){let r=(i,l,f)=>{let p={relativePath:f===void 0?i.path||"":f,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};p.relativePath.startsWith("/")&&(dr(p.relativePath.startsWith(e),`Absolute route path "${p.relativePath}" nested under path "${e}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(e.length));let d=Ws([e,p.relativePath]),v=t.concat(p);i.children&&i.children.length>0&&(dr(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Tw(i.children,n,v,d)),!(i.path==null&&!i.index)&&n.push({path:d,score:yO(d,i.index),routesMeta:v})};return o.forEach((i,l)=>{var f;if(i.path===""||!((f=i.path)!=null&&f.includes("?")))r(i,l);else for(let p of Ew(i.path))r(i,l,p)}),n}function Ew(o){let n=o.split("/");if(n.length===0)return[];let[t,...e]=n,r=t.endsWith("?"),i=t.replace(/\?$/,"");if(e.length===0)return r?[i,""]:[i];let l=Ew(e.join("/")),f=[];return f.push(...l.map(p=>p===""?i:[i,p].join("/"))),r&&f.push(...l),f.map(p=>o.startsWith("/")&&p===""?"/":p)}function fO(o){o.sort((n,t)=>n.score!==t.score?t.score-n.score:_O(n.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}var dO=/^:[\w-]+$/,pO=3,hO=2,vO=1,gO=10,mO=-2,k_=o=>o==="*";function yO(o,n){let t=o.split("/"),e=t.length;return t.some(k_)&&(e+=mO),n&&(e+=hO),t.filter(r=>!k_(r)).reduce((r,i)=>r+(dO.test(i)?pO:i===""?vO:gO),e)}function _O(o,n){return o.length===n.length&&o.slice(0,-1).every((e,r)=>e===n[r])?o[o.length-1]-n[n.length-1]:0}function bO(o,n,t=!1){let{routesMeta:e}=o,r={},i="/",l=[];for(let f=0;f<e.length;++f){let p=e[f],d=f===e.length-1,v=i==="/"?n:n.slice(i.length)||"/",_=Kh({path:p.relativePath,caseSensitive:p.caseSensitive,end:d},v),w=p.route;if(!_&&d&&t&&!e[e.length-1].route.index&&(_=Kh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!_)return null;Object.assign(r,_.params),l.push({params:r,pathname:Ws([i,_.pathname]),pathnameBase:TO(Ws([i,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(i=Ws([i,_.pathnameBase]))}return l}function Kh(o,n){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[t,e]=wO(o.path,o.caseSensitive,o.end),r=n.match(t);if(!r)return null;let i=r[0],l=i.replace(/(.)\/+$/,"$1"),f=r.slice(1);return{params:e.reduce((d,{paramName:v,isOptional:_},w)=>{if(v==="*"){let O=f[w]||"";l=i.slice(0,i.length-O.length).replace(/(.)\/+$/,"$1")}const S=f[w];return _&&!S?d[v]=void 0:d[v]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:o}}function wO(o,n=!1,t=!0){Da(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let e=[],r="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,f,p)=>(e.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(e.push({paramName:"*"}),r+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":o!==""&&o!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,n?void 0:"i"),e]}function xO(o){try{return o.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Da(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),o}}function Gs(o,n){if(n==="/")return o;if(!o.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,e=o.charAt(t);return e&&e!=="/"?null:o.slice(t)||"/"}function SO(o,n="/"){let{pathname:t,search:e="",hash:r=""}=typeof o=="string"?Tf(o):o;return{pathname:t?t.startsWith("/")?t:CO(t,n):n,search:EO(e),hash:AO(r)}}function CO(o,n){let t=n.replace(/\/+$/,"").split("/");return o.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function hm(o,n,t,e){return`Cannot include a '${o}' character in a manually specified \`to.${n}\` field [${JSON.stringify(e)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OO(o){return o.filter((n,t)=>t===0||n.route.path&&n.route.path.length>0)}function Hy(o){let n=OO(o);return n.map((t,e)=>e===n.length-1?t.pathname:t.pathnameBase)}function By(o,n,t,e=!1){let r;typeof o=="string"?r=Tf(o):(r={...o},dr(!r.pathname||!r.pathname.includes("?"),hm("?","pathname","search",r)),dr(!r.pathname||!r.pathname.includes("#"),hm("#","pathname","hash",r)),dr(!r.search||!r.search.includes("#"),hm("#","search","hash",r)));let i=o===""||r.pathname==="",l=i?"/":r.pathname,f;if(l==null)f=t;else{let _=n.length-1;if(!e&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),_-=1;r.pathname=w.join("/")}f=_>=0?n[_]:"/"}let p=SO(r,f),d=l&&l!=="/"&&l.endsWith("/"),v=(i||l===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(d||v)&&(p.pathname+="/"),p}var Ws=o=>o.join("/").replace(/\/\/+/g,"/"),TO=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),EO=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,AO=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function PO(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}var Aw=["POST","PUT","PATCH","DELETE"];new Set(Aw);var DO=["GET",...Aw];new Set(DO);var Ef=Ht.createContext(null);Ef.displayName="DataRouter";var sg=Ht.createContext(null);sg.displayName="DataRouterState";var Pw=Ht.createContext({isTransitioning:!1});Pw.displayName="ViewTransition";var MO=Ht.createContext(new Map);MO.displayName="Fetchers";var jO=Ht.createContext(null);jO.displayName="Await";var Ma=Ht.createContext(null);Ma.displayName="Navigation";var hp=Ht.createContext(null);hp.displayName="Location";var hs=Ht.createContext({outlet:null,matches:[],isDataRoute:!1});hs.displayName="Route";var Iy=Ht.createContext(null);Iy.displayName="RouteError";function RO(o,{relative:n}={}){dr(Af(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:e}=Ht.useContext(Ma),{hash:r,pathname:i,search:l}=vp(o,{relative:n}),f=i;return t!=="/"&&(f=i==="/"?t:Ws([t,i])),e.createHref({pathname:f,search:l,hash:r})}function Af(){return Ht.useContext(hp)!=null}function Ys(){return dr(Af(),"useLocation() may be used only in the context of a <Router> component."),Ht.useContext(hp).location}var Dw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mw(o){Ht.useContext(Ma).static||Ht.useLayoutEffect(o)}function ja(){let{isDataRoute:o}=Ht.useContext(hs);return o?GO():LO()}function LO(){dr(Af(),"useNavigate() may be used only in the context of a <Router> component.");let o=Ht.useContext(Ef),{basename:n,navigator:t}=Ht.useContext(Ma),{matches:e}=Ht.useContext(hs),{pathname:r}=Ys(),i=JSON.stringify(Hy(e)),l=Ht.useRef(!1);return Mw(()=>{l.current=!0}),Ht.useCallback((p,d={})=>{if(Da(l.current,Dw),!l.current)return;if(typeof p=="number"){t.go(p);return}let v=By(p,JSON.parse(i),r,d.relative==="path");o==null&&n!=="/"&&(v.pathname=v.pathname==="/"?n:Ws([n,v.pathname])),(d.replace?t.replace:t.push)(v,d.state,d)},[n,t,i,r,o])}Ht.createContext(null);function vp(o,{relative:n}={}){let{matches:t}=Ht.useContext(hs),{pathname:e}=Ys(),r=JSON.stringify(Hy(t));return Ht.useMemo(()=>By(o,JSON.parse(r),e,n==="path"),[o,r,e,n])}function NO(o,n){return jw(o,n)}function jw(o,n,t,e){var z;dr(Af(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:i}=Ht.useContext(Ma),{matches:l}=Ht.useContext(hs),f=l[l.length-1],p=f?f.params:{},d=f?f.pathname:"/",v=f?f.pathnameBase:"/",_=f&&f.route;{let k=_&&_.path||"";Rw(d,!_||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let w=Ys(),S;if(n){let k=typeof n=="string"?Tf(n):n;dr(v==="/"||((z=k.pathname)==null?void 0:z.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${k.pathname}" was given in the \`location\` prop.`),S=k}else S=w;let O=S.pathname||"/",A=O;if(v!=="/"){let k=v.replace(/^\//,"").split("/");A="/"+O.replace(/^\//,"").split("/").slice(k.length).join("/")}let P=!i&&t&&t.matches&&t.matches.length>0?t.matches:Ow(o,{pathname:A});Da(_||P!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Da(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=BO(P&&P.map(k=>Object.assign({},k,{params:Object.assign({},p,k.params),pathname:Ws([v,r.encodeLocation?r.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?v:Ws([v,r.encodeLocation?r.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,t,e);return n&&j?Ht.createElement(hp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},j):j}function kO(){let o=qO(),n=PO(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),t=o instanceof Error?o.stack:null,e="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:e},i={padding:"2px 4px",backgroundColor:e},l=null;return console.error("Error handled by React Router default ErrorBoundary:",o),l=Ht.createElement(Ht.Fragment,null,Ht.createElement("p",null,"💿 Hey developer 👋"),Ht.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Ht.createElement("code",{style:i},"ErrorBoundary")," or"," ",Ht.createElement("code",{style:i},"errorElement")," prop on your route.")),Ht.createElement(Ht.Fragment,null,Ht.createElement("h2",null,"Unexpected Application Error!"),Ht.createElement("h3",{style:{fontStyle:"italic"}},n),t?Ht.createElement("pre",{style:r},t):null,l)}var VO=Ht.createElement(kO,null),UO=class extends Ht.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,n){return n.location!==o.location||n.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:n.error,location:n.location,revalidation:o.revalidation||n.revalidation}}componentDidCatch(o,n){console.error("React Router caught the following error during render",o,n)}render(){return this.state.error!==void 0?Ht.createElement(hs.Provider,{value:this.props.routeContext},Ht.createElement(Iy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HO({routeContext:o,match:n,children:t}){let e=Ht.useContext(Ef);return e&&e.static&&e.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(e.staticContext._deepestRenderedBoundaryId=n.route.id),Ht.createElement(hs.Provider,{value:o},t)}function BO(o,n=[],t=null,e=null){if(o==null){if(!t)return null;if(t.errors)o=t.matches;else if(n.length===0&&!t.initialized&&t.matches.length>0)o=t.matches;else return null}let r=o,i=t==null?void 0:t.errors;if(i!=null){let p=r.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);dr(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),r=r.slice(0,Math.min(r.length,p+1))}let l=!1,f=-1;if(t)for(let p=0;p<r.length;p++){let d=r[p];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(f=p),d.route.id){let{loaderData:v,errors:_}=t,w=d.route.loader&&!v.hasOwnProperty(d.route.id)&&(!_||_[d.route.id]===void 0);if(d.route.lazy||w){l=!0,f>=0?r=r.slice(0,f+1):r=[r[0]];break}}}return r.reduceRight((p,d,v)=>{let _,w=!1,S=null,O=null;t&&(_=i&&d.route.id?i[d.route.id]:void 0,S=d.route.errorElement||VO,l&&(f<0&&v===0?(Rw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,O=null):f===v&&(w=!0,O=d.route.hydrateFallbackElement||null)));let A=n.concat(r.slice(0,v+1)),P=()=>{let j;return _?j=S:w?j=O:d.route.Component?j=Ht.createElement(d.route.Component,null):d.route.element?j=d.route.element:j=p,Ht.createElement(HO,{match:d,routeContext:{outlet:p,matches:A,isDataRoute:t!=null},children:j})};return t&&(d.route.ErrorBoundary||d.route.errorElement||v===0)?Ht.createElement(UO,{location:t.location,revalidation:t.revalidation,component:S,error:_,children:P(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):P()},null)}function zy(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IO(o){let n=Ht.useContext(Ef);return dr(n,zy(o)),n}function zO(o){let n=Ht.useContext(sg);return dr(n,zy(o)),n}function FO(o){let n=Ht.useContext(hs);return dr(n,zy(o)),n}function Fy(o){let n=FO(o),t=n.matches[n.matches.length-1];return dr(t.route.id,`${o} can only be used on routes that contain a unique "id"`),t.route.id}function WO(){return Fy("useRouteId")}function qO(){var e;let o=Ht.useContext(Iy),n=zO("useRouteError"),t=Fy("useRouteError");return o!==void 0?o:(e=n.errors)==null?void 0:e[t]}function GO(){let{router:o}=IO("useNavigate"),n=Fy("useNavigate"),t=Ht.useRef(!1);return Mw(()=>{t.current=!0}),Ht.useCallback(async(r,i={})=>{Da(t.current,Dw),t.current&&(typeof r=="number"?o.navigate(r):await o.navigate(r,{fromRouteId:n,...i}))},[o,n])}var V_={};function Rw(o,n,t){!n&&!V_[o]&&(V_[o]=!0,Da(!1,t))}Ht.memo(KO);function KO({routes:o,future:n,state:t}){return jw(o,void 0,t,n)}function Lw({to:o,replace:n,state:t,relative:e}){dr(Af(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=Ht.useContext(Ma);Da(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=Ht.useContext(hs),{pathname:l}=Ys(),f=ja(),p=By(o,Hy(i),l,e==="path"),d=JSON.stringify(p);return Ht.useEffect(()=>{f(JSON.parse(d),{replace:n,state:t,relative:e})},[f,d,e,n,t]),null}function Ea(o){dr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YO({basename:o="/",children:n=null,location:t,navigationType:e="POP",navigator:r,static:i=!1}){dr(!Af(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=o.replace(/^\/*/,"/"),f=Ht.useMemo(()=>({basename:l,navigator:r,static:i,future:{}}),[l,r,i]);typeof t=="string"&&(t=Tf(t));let{pathname:p="/",search:d="",hash:v="",state:_=null,key:w="default"}=t,S=Ht.useMemo(()=>{let O=Gs(p,l);return O==null?null:{location:{pathname:O,search:d,hash:v,state:_,key:w},navigationType:e}},[l,p,d,v,_,w,e]);return Da(S!=null,`<Router basename="${l}"> is not able to match the URL "${p}${d}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:Ht.createElement(Ma.Provider,{value:f},Ht.createElement(hp.Provider,{children:n,value:S}))}function XO({children:o,location:n}){return NO(ty(o),n)}function ty(o,n=[]){let t=[];return Ht.Children.forEach(o,(e,r)=>{if(!Ht.isValidElement(e))return;let i=[...n,r];if(e.type===Ht.Fragment){t.push.apply(t,ty(e.props.children,i));return}dr(e.type===Ea,`[${typeof e.type=="string"?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dr(!e.props.index||!e.props.children,"An index route cannot have child routes.");let l={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:e.props.hasErrorBoundary===!0||e.props.ErrorBoundary!=null||e.props.errorElement!=null,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=ty(e.props.children,i)),t.push(l)}),t}var Vh="get",Uh="application/x-www-form-urlencoded";function lg(o){return o!=null&&typeof o.tagName=="string"}function ZO(o){return lg(o)&&o.tagName.toLowerCase()==="button"}function JO(o){return lg(o)&&o.tagName.toLowerCase()==="form"}function QO(o){return lg(o)&&o.tagName.toLowerCase()==="input"}function $O(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function t1(o,n){return o.button===0&&(!n||n==="_self")&&!$O(o)}var Th=null;function e1(){if(Th===null)try{new FormData(document.createElement("form"),0),Th=!1}catch{Th=!0}return Th}var n1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(o){return o!=null&&!n1.has(o)?(Da(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uh}"`),null):o}function r1(o,n){let t,e,r,i,l;if(JO(o)){let f=o.getAttribute("action");e=f?Gs(f,n):null,t=o.getAttribute("method")||Vh,r=vm(o.getAttribute("enctype"))||Uh,i=new FormData(o)}else if(ZO(o)||QO(o)&&(o.type==="submit"||o.type==="image")){let f=o.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=o.getAttribute("formaction")||f.getAttribute("action");if(e=p?Gs(p,n):null,t=o.getAttribute("formmethod")||f.getAttribute("method")||Vh,r=vm(o.getAttribute("formenctype"))||vm(f.getAttribute("enctype"))||Uh,i=new FormData(f,o),!e1()){let{name:d,type:v,value:_}=o;if(v==="image"){let w=d?`${d}.`:"";i.append(`${w}x`,"0"),i.append(`${w}y`,"0")}else d&&i.append(d,_)}}else{if(lg(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Vh,e=null,r=Uh,l=o}return i&&r==="text/plain"&&(l=i,i=void 0),{action:e,method:t.toLowerCase(),encType:r,formData:i,body:l}}function Wy(o,n){if(o===!1||o===null||typeof o>"u")throw new Error(n)}async function i1(o,n){if(o.id in n)return n[o.id];try{let t=await import(o.module);return n[o.id]=t,t}catch(t){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function o1(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function a1(o,n,t){let e=await Promise.all(o.map(async r=>{let i=n.routes[r.route.id];if(i){let l=await i1(i,t);return l.links?l.links():[]}return[]}));return c1(e.flat(1).filter(o1).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function U_(o,n,t,e,r,i){let l=(p,d)=>t[d]?p.route.id!==t[d].route.id:!0,f=(p,d)=>{var v;return t[d].pathname!==p.pathname||((v=t[d].route.path)==null?void 0:v.endsWith("*"))&&t[d].params["*"]!==p.params["*"]};return i==="assets"?n.filter((p,d)=>l(p,d)||f(p,d)):i==="data"?n.filter((p,d)=>{var _;let v=e.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(l(p,d)||f(p,d))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(o,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function s1(o,n,{includeHydrateFallback:t}={}){return l1(o.map(e=>{let r=n.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function l1(o){return[...new Set(o)]}function u1(o){let n={},t=Object.keys(o).sort();for(let e of t)n[e]=o[e];return n}function c1(o,n){let t=new Set;return new Set(n),o.reduce((e,r)=>{let i=JSON.stringify(u1(r));return t.has(i)||(t.add(i),e.push({key:i,link:r})),e},[])}var f1=new Set([100,101,204,205]);function d1(o,n){let t=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return t.pathname==="/"?t.pathname="_root.data":n&&Gs(t.pathname,n)==="/"?t.pathname=`${n.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Nw(){let o=Ht.useContext(Ef);return Wy(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function p1(){let o=Ht.useContext(sg);return Wy(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var qy=Ht.createContext(void 0);qy.displayName="FrameworkContext";function kw(){let o=Ht.useContext(qy);return Wy(o,"You must render this element inside a <HydratedRouter> element"),o}function h1(o,n){let t=Ht.useContext(qy),[e,r]=Ht.useState(!1),[i,l]=Ht.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:d,onMouseLeave:v,onTouchStart:_}=n,w=Ht.useRef(null);Ht.useEffect(()=>{if(o==="render"&&l(!0),o==="viewport"){let A=j=>{j.forEach(z=>{l(z.isIntersecting)})},P=new IntersectionObserver(A,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[o]),Ht.useEffect(()=>{if(e){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[e]);let S=()=>{r(!0)},O=()=>{r(!1),l(!1)};return t?o!=="intent"?[i,w,{}]:[i,w,{onFocus:Bd(f,S),onBlur:Bd(p,O),onMouseEnter:Bd(d,S),onMouseLeave:Bd(v,O),onTouchStart:Bd(_,S)}]:[!1,w,{}]}function Bd(o,n){return t=>{o&&o(t),t.defaultPrevented||n(t)}}function v1({page:o,...n}){let{router:t}=Nw(),e=Ht.useMemo(()=>Ow(t.routes,o,t.basename),[t.routes,o,t.basename]);return e?Ht.createElement(m1,{page:o,matches:e,...n}):null}function g1(o){let{manifest:n,routeModules:t}=kw(),[e,r]=Ht.useState([]);return Ht.useEffect(()=>{let i=!1;return a1(o,n,t).then(l=>{i||r(l)}),()=>{i=!0}},[o,n,t]),e}function m1({page:o,matches:n,...t}){let e=Ys(),{manifest:r,routeModules:i}=kw(),{basename:l}=Nw(),{loaderData:f,matches:p}=p1(),d=Ht.useMemo(()=>U_(o,n,p,r,e,"data"),[o,n,p,r,e]),v=Ht.useMemo(()=>U_(o,n,p,r,e,"assets"),[o,n,p,r,e]),_=Ht.useMemo(()=>{if(o===e.pathname+e.search+e.hash)return[];let O=new Set,A=!1;if(n.forEach(j=>{var k;let z=r.routes[j.route.id];!z||!z.hasLoader||(!d.some(G=>G.route.id===j.route.id)&&j.route.id in f&&((k=i[j.route.id])!=null&&k.shouldRevalidate)||z.hasClientLoader?A=!0:O.add(j.route.id))}),O.size===0)return[];let P=d1(o,l);return A&&O.size>0&&P.searchParams.set("_routes",n.filter(j=>O.has(j.route.id)).map(j=>j.route.id).join(",")),[P.pathname+P.search]},[l,f,e,r,d,n,o,i]),w=Ht.useMemo(()=>s1(v,r),[v,r]),S=g1(v);return Ht.createElement(Ht.Fragment,null,_.map(O=>Ht.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),w.map(O=>Ht.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),S.map(({key:O,link:A})=>Ht.createElement("link",{key:O,...A})))}function y1(...o){return n=>{o.forEach(t=>{typeof t=="function"?t(n):t!=null&&(t.current=n)})}}var Vw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vw&&(window.__reactRouterVersion="7.5.2")}catch{}function _1({basename:o,children:n,window:t}){let e=Ht.useRef();e.current==null&&(e.current=sO({window:t,v5Compat:!0}));let r=e.current,[i,l]=Ht.useState({action:r.action,location:r.location}),f=Ht.useCallback(p=>{Ht.startTransition(()=>l(p))},[l]);return Ht.useLayoutEffect(()=>r.listen(f),[r,f]),Ht.createElement(YO,{basename:o,children:n,location:i.location,navigationType:i.action,navigator:r})}var Uw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Li=Ht.forwardRef(function({onClick:n,discover:t="render",prefetch:e="none",relative:r,reloadDocument:i,replace:l,state:f,target:p,to:d,preventScrollReset:v,viewTransition:_,...w},S){let{basename:O}=Ht.useContext(Ma),A=typeof d=="string"&&Uw.test(d),P,j=!1;if(typeof d=="string"&&A&&(P=d,Vw))try{let $=new URL(window.location.href),mt=d.startsWith("//")?new URL($.protocol+d):new URL(d),X=Gs(mt.pathname,O);mt.origin===$.origin&&X!=null?d=X+mt.search+mt.hash:j=!0}catch{Da(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=RO(d,{relative:r}),[k,G,ot]=h1(e,w),xt=S1(d,{replace:l,state:f,target:p,preventScrollReset:v,relative:r,viewTransition:_});function Nt($){n&&n($),$.defaultPrevented||xt($)}let vt=Ht.createElement("a",{...w,...ot,href:P||z,onClick:j||i?n:Nt,ref:y1(S,G),target:p,"data-discover":!A&&t==="render"?"true":void 0});return k&&!A?Ht.createElement(Ht.Fragment,null,vt,Ht.createElement(v1,{page:z})):vt});Li.displayName="Link";var b1=Ht.forwardRef(function({"aria-current":n="page",caseSensitive:t=!1,className:e="",end:r=!1,style:i,to:l,viewTransition:f,children:p,...d},v){let _=vp(l,{relative:d.relative}),w=Ys(),S=Ht.useContext(sg),{navigator:O,basename:A}=Ht.useContext(Ma),P=S!=null&&A1(_)&&f===!0,j=O.encodeLocation?O.encodeLocation(_).pathname:_.pathname,z=w.pathname,k=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(z=z.toLowerCase(),k=k?k.toLowerCase():null,j=j.toLowerCase()),k&&A&&(k=Gs(k,A)||k);const G=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ot=z===j||!r&&z.startsWith(j)&&z.charAt(G)==="/",xt=k!=null&&(k===j||!r&&k.startsWith(j)&&k.charAt(j.length)==="/"),Nt={isActive:ot,isPending:xt,isTransitioning:P},vt=ot?n:void 0,$;typeof e=="function"?$=e(Nt):$=[e,ot?"active":null,xt?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let mt=typeof i=="function"?i(Nt):i;return Ht.createElement(Li,{...d,"aria-current":vt,className:$,ref:v,style:mt,to:l,viewTransition:f},typeof p=="function"?p(Nt):p)});b1.displayName="NavLink";var w1=Ht.forwardRef(({discover:o="render",fetcherKey:n,navigate:t,reloadDocument:e,replace:r,state:i,method:l=Vh,action:f,onSubmit:p,relative:d,preventScrollReset:v,viewTransition:_,...w},S)=>{let O=T1(),A=E1(f,{relative:d}),P=l.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&Uw.test(f),z=k=>{if(p&&p(k),k.defaultPrevented)return;k.preventDefault();let G=k.nativeEvent.submitter,ot=(G==null?void 0:G.getAttribute("formmethod"))||l;O(G||k.currentTarget,{fetcherKey:n,method:ot,navigate:t,replace:r,state:i,relative:d,preventScrollReset:v,viewTransition:_})};return Ht.createElement("form",{ref:S,method:P,action:A,onSubmit:e?p:z,...w,"data-discover":!j&&o==="render"?"true":void 0})});w1.displayName="Form";function x1(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hw(o){let n=Ht.useContext(Ef);return dr(n,x1(o)),n}function S1(o,{target:n,replace:t,state:e,preventScrollReset:r,relative:i,viewTransition:l}={}){let f=ja(),p=Ys(),d=vp(o,{relative:i});return Ht.useCallback(v=>{if(t1(v,n)){v.preventDefault();let _=t!==void 0?t:sp(p)===sp(d);f(o,{replace:_,state:e,preventScrollReset:r,relative:i,viewTransition:l})}},[p,f,d,t,e,n,o,r,i,l])}var C1=0,O1=()=>`__${String(++C1)}__`;function T1(){let{router:o}=Hw("useSubmit"),{basename:n}=Ht.useContext(Ma),t=WO();return Ht.useCallback(async(e,r={})=>{let{action:i,method:l,encType:f,formData:p,body:d}=r1(e,n);if(r.navigate===!1){let v=r.fetcherKey||O1();await o.fetch(v,t,r.action||i,{preventScrollReset:r.preventScrollReset,formData:p,body:d,formMethod:r.method||l,formEncType:r.encType||f,flushSync:r.flushSync})}else await o.navigate(r.action||i,{preventScrollReset:r.preventScrollReset,formData:p,body:d,formMethod:r.method||l,formEncType:r.encType||f,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[o,n,t])}function E1(o,{relative:n}={}){let{basename:t}=Ht.useContext(Ma),e=Ht.useContext(hs);dr(e,"useFormAction must be used inside a RouteContext");let[r]=e.matches.slice(-1),i={...vp(o||".",{relative:n})},l=Ys();if(o==null){i.search=l.search;let f=new URLSearchParams(i.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(_=>_).forEach(_=>f.append("index",_));let v=f.toString();i.search=v?`?${v}`:""}}return(!o||o===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:Ws([t,i.pathname])),sp(i)}function A1(o,n={}){let t=Ht.useContext(Pw);dr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:e}=Hw("useViewTransitionState"),r=vp(o,{relative:n.relative});if(!t.isTransitioning)return!1;let i=Gs(t.currentLocation.pathname,e)||t.currentLocation.pathname,l=Gs(t.nextLocation.pathname,e)||t.nextLocation.pathname;return Kh(r.pathname,l)!=null||Kh(r.pathname,i)!=null}new TextEncoder;[...f1];function Bw(o,n){return function(){return o.apply(n,arguments)}}const{toString:P1}=Object.prototype,{getPrototypeOf:Gy}=Object,{iterator:ug,toStringTag:Iw}=Symbol,cg=(o=>n=>{const t=P1.call(n);return o[t]||(o[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ra=o=>(o=o.toLowerCase(),n=>cg(n)===o),fg=o=>n=>typeof n===o,{isArray:Pf}=Array,lp=fg("undefined");function D1(o){return o!==null&&!lp(o)&&o.constructor!==null&&!lp(o.constructor)&&Co(o.constructor.isBuffer)&&o.constructor.isBuffer(o)}const zw=Ra("ArrayBuffer");function M1(o){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(o):n=o&&o.buffer&&zw(o.buffer),n}const j1=fg("string"),Co=fg("function"),Fw=fg("number"),dg=o=>o!==null&&typeof o=="object",R1=o=>o===!0||o===!1,Hh=o=>{if(cg(o)!=="object")return!1;const n=Gy(o);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Iw in o)&&!(ug in o)},L1=Ra("Date"),N1=Ra("File"),k1=Ra("Blob"),V1=Ra("FileList"),U1=o=>dg(o)&&Co(o.pipe),H1=o=>{let n;return o&&(typeof FormData=="function"&&o instanceof FormData||Co(o.append)&&((n=cg(o))==="formdata"||n==="object"&&Co(o.toString)&&o.toString()==="[object FormData]"))},B1=Ra("URLSearchParams"),[I1,z1,F1,W1]=["ReadableStream","Request","Response","Headers"].map(Ra),q1=o=>o.trim?o.trim():o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gp(o,n,{allOwnKeys:t=!1}={}){if(o===null||typeof o>"u")return;let e,r;if(typeof o!="object"&&(o=[o]),Pf(o))for(e=0,r=o.length;e<r;e++)n.call(null,o[e],e,o);else{const i=t?Object.getOwnPropertyNames(o):Object.keys(o),l=i.length;let f;for(e=0;e<l;e++)f=i[e],n.call(null,o[f],f,o)}}function Ww(o,n){n=n.toLowerCase();const t=Object.keys(o);let e=t.length,r;for(;e-- >0;)if(r=t[e],n===r.toLowerCase())return r;return null}const ku=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qw=o=>!lp(o)&&o!==ku;function ey(){const{caseless:o}=qw(this)&&this||{},n={},t=(e,r)=>{const i=o&&Ww(n,r)||r;Hh(n[i])&&Hh(e)?n[i]=ey(n[i],e):Hh(e)?n[i]=ey({},e):Pf(e)?n[i]=e.slice():n[i]=e};for(let e=0,r=arguments.length;e<r;e++)arguments[e]&&gp(arguments[e],t);return n}const G1=(o,n,t,{allOwnKeys:e}={})=>(gp(n,(r,i)=>{t&&Co(r)?o[i]=Bw(r,t):o[i]=r},{allOwnKeys:e}),o),K1=o=>(o.charCodeAt(0)===65279&&(o=o.slice(1)),o),Y1=(o,n,t,e)=>{o.prototype=Object.create(n.prototype,e),o.prototype.constructor=o,Object.defineProperty(o,"super",{value:n.prototype}),t&&Object.assign(o.prototype,t)},X1=(o,n,t,e)=>{let r,i,l;const f={};if(n=n||{},o==null)return n;do{for(r=Object.getOwnPropertyNames(o),i=r.length;i-- >0;)l=r[i],(!e||e(l,o,n))&&!f[l]&&(n[l]=o[l],f[l]=!0);o=t!==!1&&Gy(o)}while(o&&(!t||t(o,n))&&o!==Object.prototype);return n},Z1=(o,n,t)=>{o=String(o),(t===void 0||t>o.length)&&(t=o.length),t-=n.length;const e=o.indexOf(n,t);return e!==-1&&e===t},J1=o=>{if(!o)return null;if(Pf(o))return o;let n=o.length;if(!Fw(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=o[n];return t},Q1=(o=>n=>o&&n instanceof o)(typeof Uint8Array<"u"&&Gy(Uint8Array)),$1=(o,n)=>{const e=(o&&o[ug]).call(o);let r;for(;(r=e.next())&&!r.done;){const i=r.value;n.call(o,i[0],i[1])}},tT=(o,n)=>{let t;const e=[];for(;(t=o.exec(n))!==null;)e.push(t);return e},eT=Ra("HTMLFormElement"),nT=o=>o.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,e,r){return e.toUpperCase()+r}),H_=(({hasOwnProperty:o})=>(n,t)=>o.call(n,t))(Object.prototype),rT=Ra("RegExp"),Gw=(o,n)=>{const t=Object.getOwnPropertyDescriptors(o),e={};gp(t,(r,i)=>{let l;(l=n(r,i,o))!==!1&&(e[i]=l||r)}),Object.defineProperties(o,e)},iT=o=>{Gw(o,(n,t)=>{if(Co(o)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const e=o[t];if(Co(e)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},oT=(o,n)=>{const t={},e=r=>{r.forEach(i=>{t[i]=!0})};return Pf(o)?e(o):e(String(o).split(n)),t},aT=()=>{},sT=(o,n)=>o!=null&&Number.isFinite(o=+o)?o:n;function lT(o){return!!(o&&Co(o.append)&&o[Iw]==="FormData"&&o[ug])}const uT=o=>{const n=new Array(10),t=(e,r)=>{if(dg(e)){if(n.indexOf(e)>=0)return;if(!("toJSON"in e)){n[r]=e;const i=Pf(e)?[]:{};return gp(e,(l,f)=>{const p=t(l,r+1);!lp(p)&&(i[f]=p)}),n[r]=void 0,i}}return e};return t(o,0)},cT=Ra("AsyncFunction"),fT=o=>o&&(dg(o)||Co(o))&&Co(o.then)&&Co(o.catch),Kw=((o,n)=>o?setImmediate:n?((t,e)=>(ku.addEventListener("message",({source:r,data:i})=>{r===ku&&i===t&&e.length&&e.shift()()},!1),r=>{e.push(r),ku.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Co(ku.postMessage)),dT=typeof queueMicrotask<"u"?queueMicrotask.bind(ku):typeof process<"u"&&process.nextTick||Kw,pT=o=>o!=null&&Co(o[ug]),Gt={isArray:Pf,isArrayBuffer:zw,isBuffer:D1,isFormData:H1,isArrayBufferView:M1,isString:j1,isNumber:Fw,isBoolean:R1,isObject:dg,isPlainObject:Hh,isReadableStream:I1,isRequest:z1,isResponse:F1,isHeaders:W1,isUndefined:lp,isDate:L1,isFile:N1,isBlob:k1,isRegExp:rT,isFunction:Co,isStream:U1,isURLSearchParams:B1,isTypedArray:Q1,isFileList:V1,forEach:gp,merge:ey,extend:G1,trim:q1,stripBOM:K1,inherits:Y1,toFlatObject:X1,kindOf:cg,kindOfTest:Ra,endsWith:Z1,toArray:J1,forEachEntry:$1,matchAll:tT,isHTMLForm:eT,hasOwnProperty:H_,hasOwnProp:H_,reduceDescriptors:Gw,freezeMethods:iT,toObjectSet:oT,toCamelCase:nT,noop:aT,toFiniteNumber:sT,findKey:Ww,global:ku,isContextDefined:qw,isSpecCompliantForm:lT,toJSONObject:uT,isAsyncFn:cT,isThenable:fT,setImmediate:Kw,asap:dT,isIterable:pT};function ln(o,n,t,e,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=o,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),e&&(this.request=e),r&&(this.response=r,this.status=r.status?r.status:null)}Gt.inherits(ln,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Gt.toJSONObject(this.config),code:this.code,status:this.status}}});const Yw=ln.prototype,Xw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(o=>{Xw[o]={value:o}});Object.defineProperties(ln,Xw);Object.defineProperty(Yw,"isAxiosError",{value:!0});ln.from=(o,n,t,e,r,i)=>{const l=Object.create(Yw);return Gt.toFlatObject(o,l,function(p){return p!==Error.prototype},f=>f!=="isAxiosError"),ln.call(l,o.message,n,t,e,r),l.cause=o,l.name=o.name,i&&Object.assign(l,i),l};const hT=null;function ny(o){return Gt.isPlainObject(o)||Gt.isArray(o)}function Zw(o){return Gt.endsWith(o,"[]")?o.slice(0,-2):o}function B_(o,n,t){return o?o.concat(n).map(function(r,i){return r=Zw(r),!t&&i?"["+r+"]":r}).join(t?".":""):n}function vT(o){return Gt.isArray(o)&&!o.some(ny)}const gT=Gt.toFlatObject(Gt,{},null,function(n){return/^is[A-Z]/.test(n)});function pg(o,n,t){if(!Gt.isObject(o))throw new TypeError("target must be an object");n=n||new FormData,t=Gt.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,P){return!Gt.isUndefined(P[A])});const e=t.metaTokens,r=t.visitor||v,i=t.dots,l=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&Gt.isSpecCompliantForm(n);if(!Gt.isFunction(r))throw new TypeError("visitor must be a function");function d(O){if(O===null)return"";if(Gt.isDate(O))return O.toISOString();if(!p&&Gt.isBlob(O))throw new ln("Blob is not supported. Use a Buffer instead.");return Gt.isArrayBuffer(O)||Gt.isTypedArray(O)?p&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function v(O,A,P){let j=O;if(O&&!P&&typeof O=="object"){if(Gt.endsWith(A,"{}"))A=e?A:A.slice(0,-2),O=JSON.stringify(O);else if(Gt.isArray(O)&&vT(O)||(Gt.isFileList(O)||Gt.endsWith(A,"[]"))&&(j=Gt.toArray(O)))return A=Zw(A),j.forEach(function(k,G){!(Gt.isUndefined(k)||k===null)&&n.append(l===!0?B_([A],G,i):l===null?A:A+"[]",d(k))}),!1}return ny(O)?!0:(n.append(B_(P,A,i),d(O)),!1)}const _=[],w=Object.assign(gT,{defaultVisitor:v,convertValue:d,isVisitable:ny});function S(O,A){if(!Gt.isUndefined(O)){if(_.indexOf(O)!==-1)throw Error("Circular reference detected in "+A.join("."));_.push(O),Gt.forEach(O,function(j,z){(!(Gt.isUndefined(j)||j===null)&&r.call(n,j,Gt.isString(z)?z.trim():z,A,w))===!0&&S(j,A?A.concat(z):[z])}),_.pop()}}if(!Gt.isObject(o))throw new TypeError("data must be an object");return S(o),n}function I_(o){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(o).replace(/[!'()~]|%20|%00/g,function(e){return n[e]})}function Ky(o,n){this._pairs=[],o&&pg(o,this,n)}const Jw=Ky.prototype;Jw.append=function(n,t){this._pairs.push([n,t])};Jw.toString=function(n){const t=n?function(e){return n.call(this,e,I_)}:I_;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function mT(o){return encodeURIComponent(o).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Qw(o,n,t){if(!n)return o;const e=t&&t.encode||mT;Gt.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let i;if(r?i=r(n,t):i=Gt.isURLSearchParams(n)?n.toString():new Ky(n,t).toString(e),i){const l=o.indexOf("#");l!==-1&&(o=o.slice(0,l)),o+=(o.indexOf("?")===-1?"?":"&")+i}return o}class z_{constructor(){this.handlers=[]}use(n,t,e){return this.handlers.push({fulfilled:n,rejected:t,synchronous:e?e.synchronous:!1,runWhen:e?e.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){Gt.forEach(this.handlers,function(e){e!==null&&n(e)})}}const $w={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yT=typeof URLSearchParams<"u"?URLSearchParams:Ky,_T=typeof FormData<"u"?FormData:null,bT=typeof Blob<"u"?Blob:null,wT={isBrowser:!0,classes:{URLSearchParams:yT,FormData:_T,Blob:bT},protocols:["http","https","file","blob","url","data"]},Yy=typeof window<"u"&&typeof document<"u",ry=typeof navigator=="object"&&navigator||void 0,xT=Yy&&(!ry||["ReactNative","NativeScript","NS"].indexOf(ry.product)<0),ST=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",CT=Yy&&window.location.href||"http://localhost",OT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yy,hasStandardBrowserEnv:xT,hasStandardBrowserWebWorkerEnv:ST,navigator:ry,origin:CT},Symbol.toStringTag,{value:"Module"})),Ni={...OT,...wT};function TT(o,n){return pg(o,new Ni.classes.URLSearchParams,Object.assign({visitor:function(t,e,r,i){return Ni.isNode&&Gt.isBuffer(t)?(this.append(e,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},n))}function ET(o){return Gt.matchAll(/\w+|\[(\w*)]/g,o).map(n=>n[0]==="[]"?"":n[1]||n[0])}function AT(o){const n={},t=Object.keys(o);let e;const r=t.length;let i;for(e=0;e<r;e++)i=t[e],n[i]=o[i];return n}function tx(o){function n(t,e,r,i){let l=t[i++];if(l==="__proto__")return!0;const f=Number.isFinite(+l),p=i>=t.length;return l=!l&&Gt.isArray(r)?r.length:l,p?(Gt.hasOwnProp(r,l)?r[l]=[r[l],e]:r[l]=e,!f):((!r[l]||!Gt.isObject(r[l]))&&(r[l]=[]),n(t,e,r[l],i)&&Gt.isArray(r[l])&&(r[l]=AT(r[l])),!f)}if(Gt.isFormData(o)&&Gt.isFunction(o.entries)){const t={};return Gt.forEachEntry(o,(e,r)=>{n(ET(e),r,t,0)}),t}return null}function PT(o,n,t){if(Gt.isString(o))try{return(n||JSON.parse)(o),Gt.trim(o)}catch(e){if(e.name!=="SyntaxError")throw e}return(t||JSON.stringify)(o)}const mp={transitional:$w,adapter:["xhr","http","fetch"],transformRequest:[function(n,t){const e=t.getContentType()||"",r=e.indexOf("application/json")>-1,i=Gt.isObject(n);if(i&&Gt.isHTMLForm(n)&&(n=new FormData(n)),Gt.isFormData(n))return r?JSON.stringify(tx(n)):n;if(Gt.isArrayBuffer(n)||Gt.isBuffer(n)||Gt.isStream(n)||Gt.isFile(n)||Gt.isBlob(n)||Gt.isReadableStream(n))return n;if(Gt.isArrayBufferView(n))return n.buffer;if(Gt.isURLSearchParams(n))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let f;if(i){if(e.indexOf("application/x-www-form-urlencoded")>-1)return TT(n,this.formSerializer).toString();if((f=Gt.isFileList(n))||e.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return pg(f?{"files[]":n}:n,p&&new p,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),PT(n)):n}],transformResponse:[function(n){const t=this.transitional||mp.transitional,e=t&&t.forcedJSONParsing,r=this.responseType==="json";if(Gt.isResponse(n)||Gt.isReadableStream(n))return n;if(n&&Gt.isString(n)&&(e&&!this.responseType||r)){const l=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(n)}catch(f){if(l)throw f.name==="SyntaxError"?ln.from(f,ln.ERR_BAD_RESPONSE,this,null,this.response):f}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ni.classes.FormData,Blob:Ni.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Gt.forEach(["delete","get","head","post","put","patch"],o=>{mp.headers[o]={}});const DT=Gt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),MT=o=>{const n={};let t,e,r;return o&&o.split(`
`).forEach(function(l){r=l.indexOf(":"),t=l.substring(0,r).trim().toLowerCase(),e=l.substring(r+1).trim(),!(!t||n[t]&&DT[t])&&(t==="set-cookie"?n[t]?n[t].push(e):n[t]=[e]:n[t]=n[t]?n[t]+", "+e:e)}),n},F_=Symbol("internals");function Id(o){return o&&String(o).trim().toLowerCase()}function Bh(o){return o===!1||o==null?o:Gt.isArray(o)?o.map(Bh):String(o)}function jT(o){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let e;for(;e=t.exec(o);)n[e[1]]=e[2];return n}const RT=o=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(o.trim());function gm(o,n,t,e,r){if(Gt.isFunction(e))return e.call(this,n,t);if(r&&(n=t),!!Gt.isString(n)){if(Gt.isString(e))return n.indexOf(e)!==-1;if(Gt.isRegExp(e))return e.test(n)}}function LT(o){return o.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,e)=>t.toUpperCase()+e)}function NT(o,n){const t=Gt.toCamelCase(" "+n);["get","set","has"].forEach(e=>{Object.defineProperty(o,e+t,{value:function(r,i,l){return this[e].call(this,n,r,i,l)},configurable:!0})})}let Oo=class{constructor(n){n&&this.set(n)}set(n,t,e){const r=this;function i(f,p,d){const v=Id(p);if(!v)throw new Error("header name must be a non-empty string");const _=Gt.findKey(r,v);(!_||r[_]===void 0||d===!0||d===void 0&&r[_]!==!1)&&(r[_||p]=Bh(f))}const l=(f,p)=>Gt.forEach(f,(d,v)=>i(d,v,p));if(Gt.isPlainObject(n)||n instanceof this.constructor)l(n,t);else if(Gt.isString(n)&&(n=n.trim())&&!RT(n))l(MT(n),t);else if(Gt.isObject(n)&&Gt.isIterable(n)){let f={},p,d;for(const v of n){if(!Gt.isArray(v))throw TypeError("Object iterator must return a key-value pair");f[d=v[0]]=(p=f[d])?Gt.isArray(p)?[...p,v[1]]:[p,v[1]]:v[1]}l(f,t)}else n!=null&&i(t,n,e);return this}get(n,t){if(n=Id(n),n){const e=Gt.findKey(this,n);if(e){const r=this[e];if(!t)return r;if(t===!0)return jT(r);if(Gt.isFunction(t))return t.call(this,r,e);if(Gt.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=Id(n),n){const e=Gt.findKey(this,n);return!!(e&&this[e]!==void 0&&(!t||gm(this,this[e],e,t)))}return!1}delete(n,t){const e=this;let r=!1;function i(l){if(l=Id(l),l){const f=Gt.findKey(e,l);f&&(!t||gm(e,e[f],f,t))&&(delete e[f],r=!0)}}return Gt.isArray(n)?n.forEach(i):i(n),r}clear(n){const t=Object.keys(this);let e=t.length,r=!1;for(;e--;){const i=t[e];(!n||gm(this,this[i],i,n,!0))&&(delete this[i],r=!0)}return r}normalize(n){const t=this,e={};return Gt.forEach(this,(r,i)=>{const l=Gt.findKey(e,i);if(l){t[l]=Bh(r),delete t[i];return}const f=n?LT(i):String(i).trim();f!==i&&delete t[i],t[f]=Bh(r),e[f]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return Gt.forEach(this,(e,r)=>{e!=null&&e!==!1&&(t[r]=n&&Gt.isArray(e)?e.join(", "):e)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const e=new this(n);return t.forEach(r=>e.set(r)),e}static accessor(n){const e=(this[F_]=this[F_]={accessors:{}}).accessors,r=this.prototype;function i(l){const f=Id(l);e[f]||(NT(r,l),e[f]=!0)}return Gt.isArray(n)?n.forEach(i):i(n),this}};Oo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Gt.reduceDescriptors(Oo.prototype,({value:o},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>o,set(e){this[t]=e}}});Gt.freezeMethods(Oo);function mm(o,n){const t=this||mp,e=n||t,r=Oo.from(e.headers);let i=e.data;return Gt.forEach(o,function(f){i=f.call(t,i,r.normalize(),n?n.status:void 0)}),r.normalize(),i}function ex(o){return!!(o&&o.__CANCEL__)}function Df(o,n,t){ln.call(this,o??"canceled",ln.ERR_CANCELED,n,t),this.name="CanceledError"}Gt.inherits(Df,ln,{__CANCEL__:!0});function nx(o,n,t){const e=t.config.validateStatus;!t.status||!e||e(t.status)?o(t):n(new ln("Request failed with status code "+t.status,[ln.ERR_BAD_REQUEST,ln.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function kT(o){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(o);return n&&n[1]||""}function VT(o,n){o=o||10;const t=new Array(o),e=new Array(o);let r=0,i=0,l;return n=n!==void 0?n:1e3,function(p){const d=Date.now(),v=e[i];l||(l=d),t[r]=p,e[r]=d;let _=i,w=0;for(;_!==r;)w+=t[_++],_=_%o;if(r=(r+1)%o,r===i&&(i=(i+1)%o),d-l<n)return;const S=v&&d-v;return S?Math.round(w*1e3/S):void 0}}function UT(o,n){let t=0,e=1e3/n,r,i;const l=(d,v=Date.now())=>{t=v,r=null,i&&(clearTimeout(i),i=null),o.apply(null,d)};return[(...d)=>{const v=Date.now(),_=v-t;_>=e?l(d,v):(r=d,i||(i=setTimeout(()=>{i=null,l(r)},e-_)))},()=>r&&l(r)]}const Yh=(o,n,t=3)=>{let e=0;const r=VT(50,250);return UT(i=>{const l=i.loaded,f=i.lengthComputable?i.total:void 0,p=l-e,d=r(p),v=l<=f;e=l;const _={loaded:l,total:f,progress:f?l/f:void 0,bytes:p,rate:d||void 0,estimated:d&&f&&v?(f-l)/d:void 0,event:i,lengthComputable:f!=null,[n?"download":"upload"]:!0};o(_)},t)},W_=(o,n)=>{const t=o!=null;return[e=>n[0]({lengthComputable:t,total:o,loaded:e}),n[1]]},q_=o=>(...n)=>Gt.asap(()=>o(...n)),HT=Ni.hasStandardBrowserEnv?((o,n)=>t=>(t=new URL(t,Ni.origin),o.protocol===t.protocol&&o.host===t.host&&(n||o.port===t.port)))(new URL(Ni.origin),Ni.navigator&&/(msie|trident)/i.test(Ni.navigator.userAgent)):()=>!0,BT=Ni.hasStandardBrowserEnv?{write(o,n,t,e,r,i){const l=[o+"="+encodeURIComponent(n)];Gt.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),Gt.isString(e)&&l.push("path="+e),Gt.isString(r)&&l.push("domain="+r),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(o){const n=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(o){this.write(o,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function IT(o){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(o)}function zT(o,n){return n?o.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):o}function rx(o,n,t){let e=!IT(n);return o&&(e||t==!1)?zT(o,n):n}const G_=o=>o instanceof Oo?{...o}:o;function Iu(o,n){n=n||{};const t={};function e(d,v,_,w){return Gt.isPlainObject(d)&&Gt.isPlainObject(v)?Gt.merge.call({caseless:w},d,v):Gt.isPlainObject(v)?Gt.merge({},v):Gt.isArray(v)?v.slice():v}function r(d,v,_,w){if(Gt.isUndefined(v)){if(!Gt.isUndefined(d))return e(void 0,d,_,w)}else return e(d,v,_,w)}function i(d,v){if(!Gt.isUndefined(v))return e(void 0,v)}function l(d,v){if(Gt.isUndefined(v)){if(!Gt.isUndefined(d))return e(void 0,d)}else return e(void 0,v)}function f(d,v,_){if(_ in n)return e(d,v);if(_ in o)return e(void 0,d)}const p={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:f,headers:(d,v,_)=>r(G_(d),G_(v),_,!0)};return Gt.forEach(Object.keys(Object.assign({},o,n)),function(v){const _=p[v]||r,w=_(o[v],n[v],v);Gt.isUndefined(w)&&_!==f||(t[v]=w)}),t}const ix=o=>{const n=Iu({},o);let{data:t,withXSRFToken:e,xsrfHeaderName:r,xsrfCookieName:i,headers:l,auth:f}=n;n.headers=l=Oo.from(l),n.url=Qw(rx(n.baseURL,n.url,n.allowAbsoluteUrls),o.params,o.paramsSerializer),f&&l.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let p;if(Gt.isFormData(t)){if(Ni.hasStandardBrowserEnv||Ni.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((p=l.getContentType())!==!1){const[d,...v]=p?p.split(";").map(_=>_.trim()).filter(Boolean):[];l.setContentType([d||"multipart/form-data",...v].join("; "))}}if(Ni.hasStandardBrowserEnv&&(e&&Gt.isFunction(e)&&(e=e(n)),e||e!==!1&&HT(n.url))){const d=r&&i&&BT.read(i);d&&l.set(r,d)}return n},FT=typeof XMLHttpRequest<"u",WT=FT&&function(o){return new Promise(function(t,e){const r=ix(o);let i=r.data;const l=Oo.from(r.headers).normalize();let{responseType:f,onUploadProgress:p,onDownloadProgress:d}=r,v,_,w,S,O;function A(){S&&S(),O&&O(),r.cancelToken&&r.cancelToken.unsubscribe(v),r.signal&&r.signal.removeEventListener("abort",v)}let P=new XMLHttpRequest;P.open(r.method.toUpperCase(),r.url,!0),P.timeout=r.timeout;function j(){if(!P)return;const k=Oo.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),ot={data:!f||f==="text"||f==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:k,config:o,request:P};nx(function(Nt){t(Nt),A()},function(Nt){e(Nt),A()},ot),P=null}"onloadend"in P?P.onloadend=j:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(j)},P.onabort=function(){P&&(e(new ln("Request aborted",ln.ECONNABORTED,o,P)),P=null)},P.onerror=function(){e(new ln("Network Error",ln.ERR_NETWORK,o,P)),P=null},P.ontimeout=function(){let G=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const ot=r.transitional||$w;r.timeoutErrorMessage&&(G=r.timeoutErrorMessage),e(new ln(G,ot.clarifyTimeoutError?ln.ETIMEDOUT:ln.ECONNABORTED,o,P)),P=null},i===void 0&&l.setContentType(null),"setRequestHeader"in P&&Gt.forEach(l.toJSON(),function(G,ot){P.setRequestHeader(ot,G)}),Gt.isUndefined(r.withCredentials)||(P.withCredentials=!!r.withCredentials),f&&f!=="json"&&(P.responseType=r.responseType),d&&([w,O]=Yh(d,!0),P.addEventListener("progress",w)),p&&P.upload&&([_,S]=Yh(p),P.upload.addEventListener("progress",_),P.upload.addEventListener("loadend",S)),(r.cancelToken||r.signal)&&(v=k=>{P&&(e(!k||k.type?new Df(null,o,P):k),P.abort(),P=null)},r.cancelToken&&r.cancelToken.subscribe(v),r.signal&&(r.signal.aborted?v():r.signal.addEventListener("abort",v)));const z=kT(r.url);if(z&&Ni.protocols.indexOf(z)===-1){e(new ln("Unsupported protocol "+z+":",ln.ERR_BAD_REQUEST,o));return}P.send(i||null)})},qT=(o,n)=>{const{length:t}=o=o?o.filter(Boolean):[];if(n||t){let e=new AbortController,r;const i=function(d){if(!r){r=!0,f();const v=d instanceof Error?d:this.reason;e.abort(v instanceof ln?v:new Df(v instanceof Error?v.message:v))}};let l=n&&setTimeout(()=>{l=null,i(new ln(`timeout ${n} of ms exceeded`,ln.ETIMEDOUT))},n);const f=()=>{o&&(l&&clearTimeout(l),l=null,o.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),o=null)};o.forEach(d=>d.addEventListener("abort",i));const{signal:p}=e;return p.unsubscribe=()=>Gt.asap(f),p}},GT=function*(o,n){let t=o.byteLength;if(t<n){yield o;return}let e=0,r;for(;e<t;)r=e+n,yield o.slice(e,r),e=r},KT=async function*(o,n){for await(const t of YT(o))yield*GT(t,n)},YT=async function*(o){if(o[Symbol.asyncIterator]){yield*o;return}const n=o.getReader();try{for(;;){const{done:t,value:e}=await n.read();if(t)break;yield e}}finally{await n.cancel()}},K_=(o,n,t,e)=>{const r=KT(o,n);let i=0,l,f=p=>{l||(l=!0,e&&e(p))};return new ReadableStream({async pull(p){try{const{done:d,value:v}=await r.next();if(d){f(),p.close();return}let _=v.byteLength;if(t){let w=i+=_;t(w)}p.enqueue(new Uint8Array(v))}catch(d){throw f(d),d}},cancel(p){return f(p),r.return()}},{highWaterMark:2})},hg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ox=hg&&typeof ReadableStream=="function",XT=hg&&(typeof TextEncoder=="function"?(o=>n=>o.encode(n))(new TextEncoder):async o=>new Uint8Array(await new Response(o).arrayBuffer())),ax=(o,...n)=>{try{return!!o(...n)}catch{return!1}},ZT=ox&&ax(()=>{let o=!1;const n=new Request(Ni.origin,{body:new ReadableStream,method:"POST",get duplex(){return o=!0,"half"}}).headers.has("Content-Type");return o&&!n}),Y_=64*1024,iy=ox&&ax(()=>Gt.isReadableStream(new Response("").body)),Xh={stream:iy&&(o=>o.body)};hg&&(o=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!Xh[n]&&(Xh[n]=Gt.isFunction(o[n])?t=>t[n]():(t,e)=>{throw new ln(`Response type '${n}' is not supported`,ln.ERR_NOT_SUPPORT,e)})})})(new Response);const JT=async o=>{if(o==null)return 0;if(Gt.isBlob(o))return o.size;if(Gt.isSpecCompliantForm(o))return(await new Request(Ni.origin,{method:"POST",body:o}).arrayBuffer()).byteLength;if(Gt.isArrayBufferView(o)||Gt.isArrayBuffer(o))return o.byteLength;if(Gt.isURLSearchParams(o)&&(o=o+""),Gt.isString(o))return(await XT(o)).byteLength},QT=async(o,n)=>{const t=Gt.toFiniteNumber(o.getContentLength());return t??JT(n)},$T=hg&&(async o=>{let{url:n,method:t,data:e,signal:r,cancelToken:i,timeout:l,onDownloadProgress:f,onUploadProgress:p,responseType:d,headers:v,withCredentials:_="same-origin",fetchOptions:w}=ix(o);d=d?(d+"").toLowerCase():"text";let S=qT([r,i&&i.toAbortSignal()],l),O;const A=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let P;try{if(p&&ZT&&t!=="get"&&t!=="head"&&(P=await QT(v,e))!==0){let ot=new Request(n,{method:"POST",body:e,duplex:"half"}),xt;if(Gt.isFormData(e)&&(xt=ot.headers.get("content-type"))&&v.setContentType(xt),ot.body){const[Nt,vt]=W_(P,Yh(q_(p)));e=K_(ot.body,Y_,Nt,vt)}}Gt.isString(_)||(_=_?"include":"omit");const j="credentials"in Request.prototype;O=new Request(n,{...w,signal:S,method:t.toUpperCase(),headers:v.normalize().toJSON(),body:e,duplex:"half",credentials:j?_:void 0});let z=await fetch(O);const k=iy&&(d==="stream"||d==="response");if(iy&&(f||k&&A)){const ot={};["status","statusText","headers"].forEach($=>{ot[$]=z[$]});const xt=Gt.toFiniteNumber(z.headers.get("content-length")),[Nt,vt]=f&&W_(xt,Yh(q_(f),!0))||[];z=new Response(K_(z.body,Y_,Nt,()=>{vt&&vt(),A&&A()}),ot)}d=d||"text";let G=await Xh[Gt.findKey(Xh,d)||"text"](z,o);return!k&&A&&A(),await new Promise((ot,xt)=>{nx(ot,xt,{data:G,headers:Oo.from(z.headers),status:z.status,statusText:z.statusText,config:o,request:O})})}catch(j){throw A&&A(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new ln("Network Error",ln.ERR_NETWORK,o,O),{cause:j.cause||j}):ln.from(j,j&&j.code,o,O)}}),oy={http:hT,xhr:WT,fetch:$T};Gt.forEach(oy,(o,n)=>{if(o){try{Object.defineProperty(o,"name",{value:n})}catch{}Object.defineProperty(o,"adapterName",{value:n})}});const X_=o=>`- ${o}`,tE=o=>Gt.isFunction(o)||o===null||o===!1,sx={getAdapter:o=>{o=Gt.isArray(o)?o:[o];const{length:n}=o;let t,e;const r={};for(let i=0;i<n;i++){t=o[i];let l;if(e=t,!tE(t)&&(e=oy[(l=String(t)).toLowerCase()],e===void 0))throw new ln(`Unknown adapter '${l}'`);if(e)break;r[l||"#"+i]=e}if(!e){const i=Object.entries(r).map(([f,p])=>`adapter ${f} `+(p===!1?"is not supported by the environment":"is not available in the build"));let l=n?i.length>1?`since :
`+i.map(X_).join(`
`):" "+X_(i[0]):"as no adapter specified";throw new ln("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return e},adapters:oy};function ym(o){if(o.cancelToken&&o.cancelToken.throwIfRequested(),o.signal&&o.signal.aborted)throw new Df(null,o)}function Z_(o){return ym(o),o.headers=Oo.from(o.headers),o.data=mm.call(o,o.transformRequest),["post","put","patch"].indexOf(o.method)!==-1&&o.headers.setContentType("application/x-www-form-urlencoded",!1),sx.getAdapter(o.adapter||mp.adapter)(o).then(function(e){return ym(o),e.data=mm.call(o,o.transformResponse,e),e.headers=Oo.from(e.headers),e},function(e){return ex(e)||(ym(o),e&&e.response&&(e.response.data=mm.call(o,o.transformResponse,e.response),e.response.headers=Oo.from(e.response.headers))),Promise.reject(e)})}const lx="1.9.0",vg={};["object","boolean","number","function","string","symbol"].forEach((o,n)=>{vg[o]=function(e){return typeof e===o||"a"+(n<1?"n ":" ")+o}});const J_={};vg.transitional=function(n,t,e){function r(i,l){return"[Axios v"+lx+"] Transitional option '"+i+"'"+l+(e?". "+e:"")}return(i,l,f)=>{if(n===!1)throw new ln(r(l," has been removed"+(t?" in "+t:"")),ln.ERR_DEPRECATED);return t&&!J_[l]&&(J_[l]=!0,console.warn(r(l," has been deprecated since v"+t+" and will be removed in the near future"))),n?n(i,l,f):!0}};vg.spelling=function(n){return(t,e)=>(console.warn(`${e} is likely a misspelling of ${n}`),!0)};function eE(o,n,t){if(typeof o!="object")throw new ln("options must be an object",ln.ERR_BAD_OPTION_VALUE);const e=Object.keys(o);let r=e.length;for(;r-- >0;){const i=e[r],l=n[i];if(l){const f=o[i],p=f===void 0||l(f,i,o);if(p!==!0)throw new ln("option "+i+" must be "+p,ln.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ln("Unknown option "+i,ln.ERR_BAD_OPTION)}}const Ih={assertOptions:eE,validators:vg},fs=Ih.validators;let Bu=class{constructor(n){this.defaults=n||{},this.interceptors={request:new z_,response:new z_}}async request(n,t){try{return await this._request(n,t)}catch(e){if(e instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{e.stack?i&&!String(e.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(e.stack+=`
`+i):e.stack=i}catch{}}throw e}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=Iu(this.defaults,t);const{transitional:e,paramsSerializer:r,headers:i}=t;e!==void 0&&Ih.assertOptions(e,{silentJSONParsing:fs.transitional(fs.boolean),forcedJSONParsing:fs.transitional(fs.boolean),clarifyTimeoutError:fs.transitional(fs.boolean)},!1),r!=null&&(Gt.isFunction(r)?t.paramsSerializer={serialize:r}:Ih.assertOptions(r,{encode:fs.function,serialize:fs.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Ih.assertOptions(t,{baseUrl:fs.spelling("baseURL"),withXsrfToken:fs.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=i&&Gt.merge(i.common,i[t.method]);i&&Gt.forEach(["delete","get","head","post","put","patch","common"],O=>{delete i[O]}),t.headers=Oo.concat(l,i);const f=[];let p=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(t)===!1||(p=p&&A.synchronous,f.unshift(A.fulfilled,A.rejected))});const d=[];this.interceptors.response.forEach(function(A){d.push(A.fulfilled,A.rejected)});let v,_=0,w;if(!p){const O=[Z_.bind(this),void 0];for(O.unshift.apply(O,f),O.push.apply(O,d),w=O.length,v=Promise.resolve(t);_<w;)v=v.then(O[_++],O[_++]);return v}w=f.length;let S=t;for(_=0;_<w;){const O=f[_++],A=f[_++];try{S=O(S)}catch(P){A.call(this,P);break}}try{v=Z_.call(this,S)}catch(O){return Promise.reject(O)}for(_=0,w=d.length;_<w;)v=v.then(d[_++],d[_++]);return v}getUri(n){n=Iu(this.defaults,n);const t=rx(n.baseURL,n.url,n.allowAbsoluteUrls);return Qw(t,n.params,n.paramsSerializer)}};Gt.forEach(["delete","get","head","options"],function(n){Bu.prototype[n]=function(t,e){return this.request(Iu(e||{},{method:n,url:t,data:(e||{}).data}))}});Gt.forEach(["post","put","patch"],function(n){function t(e){return function(i,l,f){return this.request(Iu(f||{},{method:n,headers:e?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Bu.prototype[n]=t(),Bu.prototype[n+"Form"]=t(!0)});let nE=class ux{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const e=this;this.promise.then(r=>{if(!e._listeners)return;let i=e._listeners.length;for(;i-- >0;)e._listeners[i](r);e._listeners=null}),this.promise.then=r=>{let i;const l=new Promise(f=>{e.subscribe(f),i=f}).then(r);return l.cancel=function(){e.unsubscribe(i)},l},n(function(i,l,f){e.reason||(e.reason=new Df(i,l,f),t(e.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=e=>{n.abort(e)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new ux(function(r){n=r}),cancel:n}}};function rE(o){return function(t){return o.apply(null,t)}}function iE(o){return Gt.isObject(o)&&o.isAxiosError===!0}const ay={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ay).forEach(([o,n])=>{ay[n]=o});function cx(o){const n=new Bu(o),t=Bw(Bu.prototype.request,n);return Gt.extend(t,Bu.prototype,n,{allOwnKeys:!0}),Gt.extend(t,n,null,{allOwnKeys:!0}),t.create=function(r){return cx(Iu(o,r))},t}const Lr=cx(mp);Lr.Axios=Bu;Lr.CanceledError=Df;Lr.CancelToken=nE;Lr.isCancel=ex;Lr.VERSION=lx;Lr.toFormData=pg;Lr.AxiosError=ln;Lr.Cancel=Lr.CanceledError;Lr.all=function(n){return Promise.all(n)};Lr.spread=rE;Lr.isAxiosError=iE;Lr.mergeConfig=Iu;Lr.AxiosHeaders=Oo;Lr.formToJSON=o=>tx(Gt.isHTMLForm(o)?new FormData(o):o);Lr.getAdapter=sx.getAdapter;Lr.HttpStatusCode=ay;Lr.default=Lr;const{Axios:mU,AxiosError:yU,CanceledError:_U,isCancel:bU,CancelToken:wU,VERSION:xU,all:SU,Cancel:CU,isAxiosError:OU,spread:TU,toFormData:EU,AxiosHeaders:AU,HttpStatusCode:PU,formToJSON:DU,getAdapter:MU,mergeConfig:jU}=Lr,To=Lr.create({baseURL:"https://webweaverv01.onrender.com/",withCredentials:!0});function oE(){const[o,n]=Ht.useState(""),[t,e]=Ht.useState(""),[r,i]=Ht.useState({type:"",text:""}),l=ja(),f=async p=>{var d,v;p.preventDefault();try{const _=await To.post("/api/v1/dev/login",{email:o,password:t});localStorage.setItem("devToken",_.data.token),localStorage.setItem("devRole",_.data.role),l("/dev/dashboard")}catch(_){i({type:"error",text:((v=(d=_.response)==null?void 0:d.data)==null?void 0:v.message)||"Login failed"})}};return rt.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col",children:[rt.jsxs("div",{className:"flex justify-between items-center px-6 py-4 shadow-md bg-gray-800",children:[rt.jsx(Li,{to:"/",className:"text-2xl font-bold text-indigo-400",children:"WebWeaver"}),rt.jsx(Li,{to:"/dev/register",className:"text-sm text-gray-300 hover:text-indigo-400",children:"New Dev? Register"})]}),rt.jsx("div",{className:"flex flex-1 items-center justify-center px-4",children:rt.jsxs("form",{onSubmit:f,className:"bg-gray-800 shadow-xl rounded-xl p-8 max-w-md w-full space-y-6",children:[rt.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Dev Login"}),r.text&&rt.jsx("div",{className:`text-sm text-center p-2 rounded ${r.type==="error"?"text-red-400":"text-green-400"}`,children:r.text}),rt.jsx("input",{type:"email",value:o,onChange:p=>n(p.target.value),placeholder:"Email",required:!0,className:"input"}),rt.jsx("input",{type:"password",value:t,onChange:p=>e(p.target.value),placeholder:"Password",required:!0,className:"input"}),rt.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white font-semibold py-2 rounded-md hover:bg-indigo-700 transition",children:"Login"})]})})]})}function aE(){const[o,n]=Ht.useState(""),[t,e]=Ht.useState(""),[r,i]=Ht.useState(""),[l,f]=Ht.useState({type:"",text:""}),p=ja(),d=async v=>{var _,w;v.preventDefault();try{await To.post("/api/v1/dev/register",{email:o,username:t,password:r}),f({type:"success",text:"Developer registered successfully"}),setTimeout(()=>p("/dev/login"),1500)}catch(S){f({type:"error",text:((w=(_=S.response)==null?void 0:_.data)==null?void 0:w.message)||"Registration failed"})}};return rt.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col",children:[rt.jsxs("div",{className:"flex justify-between items-center px-6 py-4 shadow-md bg-gray-800",children:[rt.jsx(Li,{to:"/",className:"text-2xl font-bold text-indigo-400",children:"WebWeaver"}),rt.jsx(Li,{to:"/dev/login",className:"text-sm text-gray-300 hover:text-indigo-400",children:"Already a dev? Login"})]}),rt.jsx("div",{className:"flex flex-1 items-center justify-center px-4",children:rt.jsxs("form",{onSubmit:d,className:"bg-gray-800 shadow-xl rounded-xl p-8 max-w-md w-full space-y-6",children:[rt.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Dev Register"}),l.text&&rt.jsx("div",{className:`text-sm text-center p-2 rounded ${l.type==="error"?"text-red-400":"text-green-400"}`,children:l.text}),rt.jsx("input",{type:"text",value:t,onChange:v=>e(v.target.value),placeholder:"Username",required:!0,className:"input"}),rt.jsx("input",{type:"email",value:o,onChange:v=>n(v.target.value),placeholder:"Email",required:!0,className:"input"}),rt.jsx("input",{type:"password",value:r,onChange:v=>i(v.target.value),placeholder:"Password",required:!0,className:"input"}),rt.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white font-semibold py-2 rounded-md hover:bg-indigo-700 transition",children:"Register"})]})})]})}function sE(){const[o,n]=Ht.useState([]),[t,e]=Ht.useState(!0),[r,i]=Ht.useState(""),l=ja();Ht.useEffect(()=>{(async()=>{var w,S;try{const O=await To.get("/api/v1/templates",{withCredentials:!0});n(O.data.templates)}catch(O){i(((S=(w=O.response)==null?void 0:w.data)==null?void 0:S.message)||"Error fetching templates")}finally{e(!1)}})()},[]);const f=async()=>{var _,w;try{await To.post("/api/v1/dev/logout",{},{withCredentials:!0}),localStorage.removeItem("devToken"),localStorage.removeItem("devRole"),l("/dev/login")}catch(S){alert(((w=(_=S.response)==null?void 0:_.data)==null?void 0:w.message)||"Logout failed")}},p=()=>{l("/dev/template/upload")},d=_=>{l("/dev/template/edit",{state:{template:_}})},v=_=>`<!DOCTYPE html>
      <html>
        <head>
          <style>
            ${_.css||""}
            body { margin: 0; padding: 0; overflow: hidden; }
          </style>
        </head>
        <body>${_.html||""}</body>
      </html>`;return rt.jsxs("div",{className:"min-h-screen bg-gray-950 text-gray-100 flex flex-col",children:[rt.jsxs("div",{className:"bg-gray-900 px-6 py-4 flex justify-between items-center border-b border-gray-800",children:[rt.jsx("h1",{className:"text-2xl font-bold text-indigo-400",children:"Developer Portal"}),rt.jsx("button",{onClick:f,className:"text-sm text-gray-300 hover:text-indigo-400 transition",children:"Logout"})]}),rt.jsxs("div",{className:"flex-1 p-6 max-w-7xl mx-auto w-full",children:[rt.jsx("div",{className:"flex justify-between items-center mb-8",children:rt.jsxs("div",{children:[rt.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Your Templates"}),rt.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[o.length," template",o.length!==1?"s":""]})]})}),rt.jsx("div",{className:"mb-8",children:rt.jsxs("div",{onClick:p,className:"bg-gray-900 border-2 border-dashed border-indigo-500/30 hover:border-indigo-500/50 rounded-xl p-8 text-center cursor-pointer transition-all hover:shadow-lg hover:shadow-indigo-500/10",children:[rt.jsx("div",{className:"mx-auto w-16 h-16 bg-indigo-500/10 rounded-full flex items-center justify-center mb-4",children:rt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:rt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),rt.jsx("h3",{className:"text-lg font-medium text-indigo-400 mb-1",children:"Create New Template"}),rt.jsx("p",{className:"text-gray-500 text-sm",children:"Design and publish a new template to the marketplace"})]})}),t?rt.jsx("div",{className:"flex justify-center items-center h-64",children:rt.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):r?rt.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 rounded-lg p-6 text-center",children:[rt.jsx("h3",{className:"text-lg font-medium text-red-400 mb-2",children:"Error loading templates"}),rt.jsx("p",{className:"text-gray-400",children:r})]}):o.length>0?rt.jsx("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:o.map(_=>rt.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl overflow-hidden hover:border-indigo-500/30 transition-all hover:shadow-lg",children:[rt.jsx("div",{className:"h-48 bg-white relative overflow-hidden",children:rt.jsx("iframe",{title:`preview-${_._id}`,srcDoc:v(_),sandbox:"allow-same-origin",className:"w-full h-full absolute top-0 left-0 border-0",style:{transform:"scale(0.8)",transformOrigin:"0 0",width:"125%",height:"125%"}})}),rt.jsxs("div",{className:"p-5",children:[rt.jsxs("div",{className:"flex justify-between items-start mb-3",children:[rt.jsx("h3",{className:"font-bold text-gray-100 text-lg",children:_.name}),rt.jsx("span",{className:"bg-gray-800 text-indigo-400 text-xs px-3 py-1 rounded-full",children:_.status||"Draft"})]}),rt.jsx("p",{className:"text-gray-500 text-sm mb-4",children:_.category||"Uncategorized"}),rt.jsxs("div",{className:"flex space-x-2",children:[rt.jsx("button",{onClick:()=>d(_),className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-md text-sm font-medium transition",children:"Edit"}),rt.jsx("button",{className:"bg-gray-800 hover:bg-gray-700 text-white py-2 px-4 rounded-md text-sm font-medium transition",children:"Stats"})]})]})]},_._id))}):rt.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-8 text-center",children:[rt.jsx("h3",{className:"text-xl font-medium text-gray-200 mb-2",children:"No templates yet"}),rt.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by creating your first template"}),rt.jsx("button",{onClick:p,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-md text-sm font-medium transition",children:"Create Template"})]})]}),rt.jsxs("div",{className:"bg-gray-900 border-t border-gray-800 py-4 px-6 text-center text-sm text-gray-500",children:["© ",new Date().getFullYear()," WebWeaver Developer Platform"]})]})}function lE(){const[o,n]=Ht.useState(""),[t,e]=Ht.useState(""),[r,i]=Ht.useState(null),[l,f]=Ht.useState(!1),p=ja(),d=async v=>{var _,w;v.preventDefault(),i(null);try{const S=await To.post("/api/v1/user/login",{email:o,password:t},{withCredentials:!0});f(!1),i(S.data.message),localStorage.setItem("userToken","authenticated"),localStorage.setItem("userRole",S.data.role),p("/user/dashboard")}catch(S){f(!0),i(((w=(_=S.response)==null?void 0:_.data)==null?void 0:w.message)||"Login failed")}};return rt.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col",children:[rt.jsxs("div",{className:"flex justify-between items-center px-6 py-4 shadow-md bg-gray-800",children:[rt.jsx(Li,{to:"/",className:"text-2xl font-bold text-indigo-400",children:"WebWeaver"}),rt.jsx(Li,{to:"/user/register",className:"text-sm text-gray-300 hover:text-indigo-400",children:"New here? Register"})]}),rt.jsx("div",{className:"flex flex-1 items-center justify-center px-4",children:rt.jsxs("form",{onSubmit:d,className:"bg-gray-800 shadow-xl rounded-xl p-8 max-w-md w-full space-y-6",children:[rt.jsx("h2",{className:"text-2xl font-semibold text-center text-white",children:"User Login"}),r&&rt.jsx("div",{className:`text-sm text-center font-medium px-3 py-2 rounded-md ${l?"text-red-400 bg-red-900/30":"text-green-400 bg-green-900/30"}`,children:r}),rt.jsx("input",{type:"email",value:o,onChange:v=>n(v.target.value),placeholder:"Email",required:!0,className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),rt.jsx("input",{type:"password",value:t,onChange:v=>e(v.target.value),placeholder:"Password",required:!0,className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),rt.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white font-semibold py-2 rounded-md hover:bg-indigo-700 transition",children:"Login"})]})})]})}function uE(){const[o,n]=Ht.useState(""),[t,e]=Ht.useState(""),[r,i]=Ht.useState(""),[l,f]=Ht.useState({type:"",text:""}),p=ja(),d=async v=>{var _,w;v.preventDefault();try{await To.post("/api/v1/user/register",{email:o,username:t,password:r}),f({type:"success",text:"Registered successfully"}),setTimeout(()=>p("/user/login"),1500)}catch(S){f({type:"error",text:((w=(_=S.response)==null?void 0:_.data)==null?void 0:w.message)||"Registration failed"})}};return rt.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col",children:[rt.jsxs("div",{className:"flex justify-between items-center px-6 py-4 shadow-md bg-gray-800",children:[rt.jsx(Li,{to:"/",className:"text-2xl font-bold text-indigo-400",children:"WebWeaver"}),rt.jsx(Li,{to:"/user/login",className:"text-sm text-gray-300 hover:text-indigo-400",children:"Already registered? Login"})]}),rt.jsx("div",{className:"flex flex-1 items-center justify-center px-4",children:rt.jsxs("form",{onSubmit:d,className:"bg-gray-800 shadow-xl rounded-xl p-8 max-w-md w-full space-y-6",children:[rt.jsx("h2",{className:"text-2xl font-semibold text-center",children:"User Register"}),l.text&&rt.jsx("div",{className:`text-sm text-center p-2 rounded ${l.type==="error"?"text-red-400":"text-green-400"}`,children:l.text}),rt.jsx("input",{type:"text",value:t,onChange:v=>e(v.target.value),placeholder:"Username",required:!0,className:"input"}),rt.jsx("input",{type:"email",value:o,onChange:v=>n(v.target.value),placeholder:"Email",required:!0,className:"input"}),rt.jsx("input",{type:"password",value:r,onChange:v=>i(v.target.value),placeholder:"Password",required:!0,className:"input"}),rt.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white font-semibold py-2 rounded-md hover:bg-indigo-700 transition",children:"Register"})]})})]})}function cE(){const[o,n]=Ht.useState([]),[t,e]=Ht.useState([]),[r,i]=Ht.useState(!0),[l,f]=Ht.useState(""),[p,d]=Ht.useState(""),v=ja();Ht.useEffect(()=>{(async()=>{var O,A;try{const P=await To.get("/api/v1/templates",{withCredentials:!0});n(P.data.templates),e(P.data.templates)}catch(P){f(((A=(O=P.response)==null?void 0:O.data)==null?void 0:A.message)||"Error fetching templates")}finally{i(!1)}})()},[]),Ht.useEffect(()=>{if(p.trim()==="")e(o);else{const S=o.filter(O=>{var A;return O.name.toLowerCase().includes(p.toLowerCase())||((A=O.category)==null?void 0:A.toLowerCase().includes(p.toLowerCase()))});e(S)}},[p,o]);const _=async()=>{try{await To.post("/api/v1/user/logout",{},{withCredentials:!0}),localStorage.removeItem("userToken"),localStorage.removeItem("userRole"),v("/user/login")}catch(S){console.error("Logout error:",S)}},w=S=>`<!DOCTYPE html>
      <html>
        <head>
          <style>
            ${S.css||""}
            body { margin: 0; padding: 0; overflow: hidden; }
          </style>
        </head>
        <body>${S.html||""}</body>
      </html>`;return rt.jsxs("div",{className:"min-h-screen bg-gray-950 text-gray-100 flex flex-col",children:[rt.jsxs("div",{className:"bg-gray-900 px-6 py-4 flex justify-between items-center border-b border-gray-800",children:[rt.jsxs("div",{className:"flex items-center space-x-4",children:[rt.jsx("h1",{className:"text-2xl font-bold text-indigo-400",children:"WebWeaver"}),rt.jsxs("nav",{className:"hidden md:flex space-x-1",children:[rt.jsx("button",{onClick:()=>v("/user/dashboard"),className:"px-3 py-1 text-sm rounded-md hover:bg-gray-800 transition-colors text-indigo-300 font-medium",children:"Templates"}),rt.jsx("button",{onClick:()=>v("/user/profile"),className:"px-3 py-1 text-sm rounded-md hover:bg-gray-800 transition-colors",children:"Profile"})]})]}),rt.jsxs("button",{onClick:_,className:"flex items-center gap-1.5 bg-gray-800 hover:bg-gray-700 text-white text-sm px-4 py-1.5 rounded-md transition-all duration-200",children:[rt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:rt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]}),rt.jsxs("div",{className:"flex-1 p-6 max-w-7xl mx-auto w-full",children:[rt.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[rt.jsxs("div",{children:[rt.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Templates Gallery"}),rt.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[t.length," template",t.length!==1?"s":""," available"]})]}),rt.jsxs("div",{className:"relative w-full md:w-64",children:[rt.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:rt.jsx("svg",{className:"h-4 w-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:rt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),rt.jsx("input",{type:"text",placeholder:"Search templates...",className:"block w-full pl-10 pr-3 py-2 bg-gray-900 border border-gray-800 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",value:p,onChange:S=>d(S.target.value)})]})]}),r?rt.jsx("div",{className:"flex justify-center items-center h-64",children:rt.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):l?rt.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 rounded-lg p-6 text-center",children:[rt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mx-auto text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:rt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),rt.jsx("h3",{className:"text-lg font-medium text-red-400 mt-4",children:"Error loading templates"}),rt.jsx("p",{className:"text-gray-400 mt-2",children:l})]}):t.length===0?rt.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-8 text-center",children:[rt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:rt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),rt.jsx("h3",{className:"text-xl font-medium text-gray-200 mt-4",children:p?"No matching templates found":"No templates available"}),rt.jsx("p",{className:"text-gray-500 mt-2 max-w-md mx-auto",children:p?"Try a different search term":"Check back later for new template additions"})]}):rt.jsx("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2 xl:grid-cols-3",children:t.map(S=>{var O;return rt.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl overflow-hidden hover:border-indigo-500/30 transition-all duration-300 hover:shadow-lg",children:[rt.jsx("div",{className:"h-64 bg-white overflow-hidden relative",children:rt.jsx("iframe",{title:`preview-${S._id}`,srcDoc:w(S),sandbox:"allow-same-origin",className:"w-full h-full absolute top-0 left-0 border-0",style:{transform:"scale(0.8)",transformOrigin:"0 0",width:"125%",height:"125%"}})}),rt.jsxs("div",{className:"p-5",children:[rt.jsxs("div",{className:"flex justify-between items-start mb-3",children:[rt.jsx("h3",{className:"font-bold text-gray-100 text-lg",children:S.name}),rt.jsx("span",{className:"bg-gray-800 text-indigo-400 text-xs px-3 py-1 rounded-full",children:S.category||"General"})]}),rt.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[rt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:rt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),((O=S.createdBy)==null?void 0:O.username)||"Unknown"]}),rt.jsx("button",{onClick:()=>v("/user/editor",{state:{template:S}}),className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2.5 rounded-md text-sm font-medium transition-colors",children:"Open in Editor"})]})]},S._id)})})]}),rt.jsxs("div",{className:"bg-gray-900 border-t border-gray-800 py-4 px-6 text-center text-sm text-gray-500",children:["© ",new Date().getFullYear()," WebWeaver. All rights reserved."]})]})}const fE=({allowedRole:o,children:n})=>{const t=localStorage.getItem("userToken"),e=localStorage.getItem("userRole");return!t||e!==o?rt.jsx(Lw,{to:"/user/login",replace:!0}):n};function dE(){return rt.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white flex flex-col",children:[rt.jsxs("nav",{className:"flex justify-between items-center px-8 py-6",children:[rt.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-400 to-purple-500 bg-clip-text text-transparent",children:"WebWeaver"}),rt.jsxs("div",{className:"flex space-x-6",children:[rt.jsx(Li,{to:"/user/login",className:"text-sm hover:text-indigo-400 transition",children:"Login"}),rt.jsx(Li,{to:"/user/register",className:"text-sm hover:text-indigo-400 transition",children:"Register"}),rt.jsx(Li,{to:"/dev/register",className:"text-sm text-indigo-400 hover:text-indigo-300 transition",children:"Developer?"})]})]}),rt.jsx("main",{className:"flex-1 flex flex-col justify-center items-center text-center px-4",children:rt.jsxs("div",{className:"max-w-2xl",children:[rt.jsx("h2",{className:"text-5xl font-extrabold mb-4",children:rt.jsx("span",{className:"bg-gradient-to-r from-indigo-400 to-purple-500 bg-clip-text text-transparent",children:"Craft Stunning Websites"})}),rt.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"With Zero Limits"}),rt.jsx("p",{className:"text-gray-400 text-lg mb-8",children:"Whether you're coding from scratch or using our visual builder, WebWeaver gives you the power to create anything you imagine."}),rt.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[rt.jsx(Li,{to:"/user/register",className:"bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-8 rounded-lg transition",children:"Start Building Free"}),rt.jsx(Li,{to:"/templates",className:"bg-gray-800 hover:bg-gray-700 text-white font-semibold py-3 px-8 rounded-lg transition",children:"Browse Templates"})]})]})}),rt.jsx("footer",{className:"bg-gray-900 text-center py-6 text-gray-500 text-sm border-t border-gray-700",children:"© 2025 WebWeaver. All rights reserved."})]})}function pE(){const[o,n]=Ht.useState(""),[t,e]=Ht.useState(""),[r,i]=Ht.useState(""),[l,f]=Ht.useState(""),[p,d]=Ht.useState("Other"),[v,_]=Ht.useState(null),[w,S]=Ht.useState(null),[O,A]=Ht.useState(!1),P=ja(),j=["Portfolio","Business","E-commerce","Blog","Landing Page","Educational","SaaS","Agency","Event","Resume","Restaurant","Travel","Photography","Health & Fitness","Real Estate","Technology","Non-Profit","Entertainment","Finance","Other"],z=async k=>{var G,ot;k.preventDefault(),A(!0);try{await To.post("/api/v1/templates/create",{name:o,html:t,css:r,js:l,category:p},{withCredentials:!0}),S("Template uploaded successfully!"),_(null),setTimeout(()=>P("/dev/dashboard"),1500)}catch(xt){_(((ot=(G=xt.response)==null?void 0:G.data)==null?void 0:ot.message)||"Failed to upload template"),S(null)}finally{A(!1)}};return rt.jsxs("div",{className:"min-h-screen bg-gray-950 text-gray-100 flex flex-col",children:[rt.jsxs("div",{className:"bg-gray-900 px-6 py-4 flex justify-between items-center border-b border-gray-800",children:[rt.jsx("h1",{className:"text-2xl font-bold text-indigo-400",children:"Developer Portal"}),rt.jsx("button",{onClick:()=>P("/dev/dashboard"),className:"text-sm text-gray-300 hover:text-indigo-400 transition",children:"← Back to Dashboard"})]}),rt.jsx("div",{className:"flex-1 p-6 flex items-center justify-center",children:rt.jsx("div",{className:"w-full max-w-4xl",children:rt.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl overflow-hidden",children:[rt.jsxs("div",{className:"bg-gray-800 px-6 py-4 border-b border-gray-700",children:[rt.jsx("h2",{className:"text-xl font-semibold text-indigo-400",children:"Upload New Template"}),rt.jsx("p",{className:"text-gray-400 text-sm",children:"Create and publish a new template to the marketplace"})]}),rt.jsxs("form",{onSubmit:z,className:"p-6 space-y-6",children:[v&&rt.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:v}),w&&rt.jsx("div",{className:"bg-green-900/50 border border-green-800 text-green-300 px-4 py-3 rounded-md",children:w}),rt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[rt.jsxs("div",{className:"space-y-6",children:[rt.jsxs("div",{children:[rt.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Template Name"}),rt.jsx("input",{type:"text",value:o,onChange:k=>n(k.target.value),placeholder:"My Awesome Template",required:!0,className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500"})]}),rt.jsxs("div",{children:[rt.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Category"}),rt.jsx("select",{value:p,onChange:k=>d(k.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",children:j.map(k=>rt.jsx("option",{value:k,children:k},k))})]})]}),rt.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-md h-full flex items-center justify-center",children:rt.jsxs("div",{className:"text-center p-4 text-gray-500",children:[rt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:rt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),rt.jsx("p",{children:"Template preview will appear here"})]})})]}),rt.jsxs("div",{className:"space-y-6",children:[rt.jsxs("div",{children:[rt.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"HTML"}),rt.jsx("textarea",{value:t,onChange:k=>e(k.target.value),placeholder:"<!DOCTYPE html>...",required:!0,className:"w-full px-4 py-3 h-40 bg-gray-800 border border-gray-700 rounded-md text-white font-mono text-sm placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500"})]}),rt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[rt.jsxs("div",{children:[rt.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"CSS"}),rt.jsx("textarea",{value:r,onChange:k=>i(k.target.value),placeholder:"body { ... }",required:!0,className:"w-full px-4 py-3 h-40 bg-gray-800 border border-gray-700 rounded-md text-white font-mono text-sm placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500"})]}),rt.jsxs("div",{children:[rt.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"JavaScript"}),rt.jsx("textarea",{value:l,onChange:k=>f(k.target.value),placeholder:"function() { ... }",required:!0,className:"w-full px-4 py-3 h-40 bg-gray-800 border border-gray-700 rounded-md text-white font-mono text-sm placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),rt.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-800",children:[rt.jsx("button",{type:"button",onClick:()=>P("/dev/dashboard"),className:"px-6 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-md transition",children:"Cancel"}),rt.jsx("button",{type:"submit",disabled:O,className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md transition flex items-center justify-center min-w-24",children:O?rt.jsxs(rt.Fragment,{children:[rt.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[rt.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),rt.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Uploading..."]}):"Upload Template"})]})]})]})})})]})}function Q_({children:o}){const[n,t]=Ht.useState(null);localStorage.getItem("devToken");const e=localStorage.getItem("devRole");return Ht.useEffect(()=>{(async()=>{try{const i=await To.get("/api/v1/dev/verify",{withCredentials:!0});t(i.data.isAuthenticated&&e==="dev")}catch{t(!1)}})()},[]),n===null?rt.jsx("div",{children:"Loading..."}):n?o:rt.jsx(Lw,{to:"/dev/login",replace:!0})}var hE={4729:(o,n,t)=>{var e,r,i;/*!
* Backbone.Undo.js v0.2
* 
* Copyright (c)2013 Oliver Sartun
* Released under the MIT License
*
* Documentation and full license available at
* https://github.com/osartun/Backbone.Undo.js
*/(function(l){r=[t(5706),t(4193)],e=l,i=typeof e=="function"?e.apply(n,r):e,i!==void 0&&(o.exports=i)})(function(l,f){var p=Array.prototype.slice;function d($,mt,X){return X.length<=4?$.call(mt,X[0],X[1],X[2],X[3]):$.apply(mt,X)}function v($,mt){return p.call($,mt)}function _($,mt){return $==null?!1:(l.isArray(mt)||(mt=v(arguments,1)),l.all(mt,function(X){return X in $}))}var w=function(){var $=!1,mt=-1;function X(){mt++,$=!0,l.defer(function(){$=!1})}return function(){return $||X(),mt}}();function S(){this.registeredObjects=[],this.cidIndexes=[]}S.prototype={isRegistered:function($){return $&&$.cid?this.registeredObjects[$.cid]:l.contains(this.registeredObjects,$)},register:function($){return this.isRegistered($)?!1:($&&$.cid?(this.registeredObjects[$.cid]=$,this.cidIndexes.push($.cid)):this.registeredObjects.push($),!0)},unregister:function($){if(this.isRegistered($)){if($&&$.cid)delete this.registeredObjects[$.cid],this.cidIndexes.splice(l.indexOf(this.cidIndexes,$.cid),1);else{var mt=l.indexOf(this.registeredObjects,$);this.registeredObjects.splice(mt,1)}return!0}return!1},get:function(){return l.map(this.cidIndexes,function($){return this.registeredObjects[$]},this).concat(this.registeredObjects)}};function O($,mt,X,B){for(var Q=0,J=mt.length,ft;Q<J;Q++)if(ft=mt[Q],!!ft){if($==="on"){if(!B.objectRegistry.register(ft))continue}else if(!B.objectRegistry.unregister(ft))continue;l.isFunction(ft[$])&&ft[$]("all",X,B)}}function A($,mt){var X=mt.type,B=mt.undoTypes,Q=!B[X]||B[X][$];l.isFunction(Q)&&Q(mt.object,mt.before,mt.after,mt.options)}function P($,mt,X,B,Q){if(!(X.isCurrentlyUndoRedoing||$==="undo"&&X.pointer===-1||$==="redo"&&X.pointer===X.length-1)){X.isCurrentlyUndoRedoing=!0;var J,ft,M=$==="undo";for(Q?ft=M&&X.pointer===X.length-1||!M&&X.pointer===-1?l.clone(X.models):p.apply(X.models,M?[0,X.pointer]:[X.pointer,X.length-1]):(J=X.at(M?X.pointer:X.pointer+1),ft=B?X.where({magicFusionIndex:J.get("magicFusionIndex")}):[J]),X.pointer+=(M?-1:1)*ft.length;J=M?ft.pop():ft.shift();)J[$]();X.isCurrentlyUndoRedoing=!1,mt.trigger($,mt)}}function j($,mt){var X=$.condition,B=typeof X;return B==="function"?!!d(X,$,mt):B==="boolean"?X:!0}function z($,mt,X,B){if($.track&&!$.isCurrentlyUndoRedoing&&mt in B&&j(B[mt],X)){var Q=d(B[mt].on,B[mt],X),J;if(_(Q,"object","before","after")){if(Q.type=mt,Q.magicFusionIndex=w(),Q.undoTypes=B,$.pointer<$.length-1)for(var J=$.length-$.pointer-1;J--;)$.pop();$.pointer=$.length,$.add(Q),$.length>$.maximumStackLength&&($.shift(),$.pointer--)}}}var k={add:{undo:function($,mt,X,B){$.remove(X,B)},redo:function($,mt,X,B){B.index&&(B.at=B.index),$.add(X,B)},on:function($,mt,X){return{object:mt,before:void 0,after:$,options:l.clone(X)}}},remove:{undo:function($,mt,X,B){"index"in B&&(B.at=B.index),$.add(mt,B)},redo:function($,mt,X,B){$.remove(mt,B)},on:function($,mt,X){return{object:mt,before:$,after:void 0,options:l.clone(X)}}},change:{undo:function($,mt,X,B){l.isEmpty(mt)?l.each(l.keys(X),$.unset,$):($.set(mt),B&&B.unsetData&&B.unsetData.before&&B.unsetData.before.length&&l.each(B.unsetData.before,$.unset,$))},redo:function($,mt,X,B){l.isEmpty(X)?l.each(l.keys(mt),$.unset,$):($.set(X),B&&B.unsetData&&B.unsetData.after&&B.unsetData.after.length&&l.each(B.unsetData.after,$.unset,$))},on:function($,mt){var X=$.changedAttributes(),B=l.keys(X),Q=l.pick($.previousAttributes(),B),J=l.keys(Q),ft=(mt||(mt={})).unsetData={after:[],before:[]};return B.length!=J.length&&(B.length>J.length?l.each(B,function(M){M in Q||ft.before.push(M)},this):l.each(J,function(M){M in X||ft.after.push(M)})),{object:$,before:Q,after:X,options:l.clone(mt)}}},reset:{undo:function($,mt,X){$.reset(mt)},redo:function($,mt,X){$.reset(X)},on:function($,mt){return{object:$,before:mt.previousModels,after:l.clone($.models)}}}};function G(){}G.prototype=k;function ot($,mt,X,B){if(typeof mt=="object")return l.each(mt,function(Q,J){$===2?ot($,Q,X,B):ot($,J,Q,X)});switch($){case 0:_(X,"undo","redo","on")&&l.all(l.pick(X,"undo","redo","on"),l.isFunction)&&(B[mt]=X);break;case 1:B[mt]&&l.isObject(X)&&(B[mt]=l.extend({},B[mt],X));break;case 2:delete B[mt];break}return this}var xt=f.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function($){A("undo",this.attributes)},redo:function($){A("redo",this.attributes)}}),Nt=f.Collection.extend({model:xt,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function($){this.maximumStackLength=$}}),vt=f.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function($){this.stack=new Nt,this.objectRegistry=new S,this.undoTypes=new G,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(mt,X){this.stack.setMaxLength(X)},this),$&&$.track&&this.startTracking(),$&&$.register&&(l.isArray($.register)||l.isArguments($.register)?d(this.register,this,$.register):this.register($.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function($){z(this.stack,$,v(arguments,1),this.undoTypes)},register:function(){O("on",arguments,this._addToStack,this)},unregister:function(){O("off",arguments,this._addToStack,this)},unregisterAll:function(){d(this.unregister,this,this.objectRegistry.get())},undo:function($){P("undo",this,this.stack,$)},undoAll:function(){P("undo",this,this.stack,!1,!0)},redo:function($){P("redo",this,this.stack,$)},redoAll:function(){P("redo",this,this.stack,!1,!0)},isAvailable:function($){var mt=this.stack,X=mt.length;switch($){case"undo":return X>0&&mt.pointer>-1;case"redo":return X>0&&mt.pointer<X-1;default:return!1}},merge:function($){for(var mt=l.isArray($)?$:v(arguments),X;X=mt.pop();)X instanceof vt&&X.stack instanceof Nt&&(X.stack=this.stack)},addUndoType:function($,mt){ot(0,$,mt,this.undoTypes)},changeUndoType:function($,mt){ot(1,$,mt,this.undoTypes)},removeUndoType:function($){ot(2,$,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return l.extend(vt,{defaults:function($){l.extend(vt.prototype.defaults,$)},addUndoType:function($,mt){ot(0,$,mt,k)},changeUndoType:function($,mt){ot(1,$,mt,k)},removeUndoType:function($){ot(2,$,void 0,k)}}),f.UndoManager=vt})},4193:(o,n,t)=>{var e,r;(function(i){var l=typeof self=="object"&&self.self===self&&self||typeof t.g=="object"&&t.g.global===t.g&&t.g;e=[t(5706),t(7774),n],r=(function(f,p,d){l.Backbone=i(l,d,f,p)}).apply(n,e),r!==void 0&&(o.exports=r)})(function(i,l,f,p){var d=i.Backbone,v=Array.prototype.slice;l.VERSION="1.4.1",l.$=p,l.noConflict=function(){return i.Backbone=d,this},l.emulateHTTP=!1,l.emulateJSON=!1;var _=l.Events={},w=/\s+/,S,O=function(N,Z,it,bt,kt){var tt=0,Pt;if(it&&typeof it=="object")for(bt!==void 0&&("context"in kt)&&kt.context===void 0&&(kt.context=bt),Pt=f.keys(it);tt<Pt.length;tt++)Z=O(N,Z,Pt[tt],it[Pt[tt]],kt);else if(it&&w.test(it))for(Pt=it.split(w);tt<Pt.length;tt++)Z=N(Z,Pt[tt],bt,kt);else Z=N(Z,it,bt,kt);return Z};_.on=function(N,Z,it){if(this._events=O(A,this._events||{},N,Z,{context:it,ctx:this,listening:S}),S){var bt=this._listeners||(this._listeners={});bt[S.id]=S,S.interop=!1}return this},_.listenTo=function(N,Z,it){if(!N)return this;var bt=N._listenId||(N._listenId=f.uniqueId("l")),kt=this._listeningTo||(this._listeningTo={}),tt=S=kt[bt];tt||(this._listenId||(this._listenId=f.uniqueId("l")),tt=S=kt[bt]=new ot(this,N));var Pt=P(N,Z,it,this);if(S=void 0,Pt)throw Pt;return tt.interop&&tt.on(Z,it),this};var A=function(N,Z,it,bt){if(it){var kt=N[Z]||(N[Z]=[]),tt=bt.context,Pt=bt.ctx,St=bt.listening;St&&St.count++,kt.push({callback:it,context:tt,ctx:tt||Pt,listening:St})}return N},P=function(N,Z,it,bt){try{N.on(Z,it,bt)}catch(kt){return kt}};_.off=function(N,Z,it){return this._events?(this._events=O(j,this._events,N,Z,{context:it,listeners:this._listeners}),this):this},_.stopListening=function(N,Z,it){var bt=this._listeningTo;if(!bt)return this;for(var kt=N?[N._listenId]:f.keys(bt),tt=0;tt<kt.length;tt++){var Pt=bt[kt[tt]];if(!Pt)break;Pt.obj.off(Z,it,this),Pt.interop&&Pt.off(Z,it)}return f.isEmpty(bt)&&(this._listeningTo=void 0),this};var j=function(N,Z,it,bt){if(N){var kt=bt.context,tt=bt.listeners,Pt=0,St;if(!Z&&!kt&&!it){for(St=f.keys(tt);Pt<St.length;Pt++)tt[St[Pt]].cleanup();return}for(St=Z?[Z]:f.keys(N);Pt<St.length;Pt++){Z=St[Pt];var we=N[Z];if(!we)break;for(var Ee=[],Ne=0;Ne<we.length;Ne++){var Y=we[Ne];if(it&&it!==Y.callback&&it!==Y.callback._callback||kt&&kt!==Y.context)Ee.push(Y);else{var gt=Y.listening;gt&&gt.off(Z,it)}}Ee.length?N[Z]=Ee:delete N[Z]}return N}};_.once=function(N,Z,it){var bt=O(z,{},N,Z,this.off.bind(this));return typeof N=="string"&&it==null&&(Z=void 0),this.on(bt,Z,it)},_.listenToOnce=function(N,Z,it){var bt=O(z,{},Z,it,this.stopListening.bind(this,N));return this.listenTo(N,bt)};var z=function(N,Z,it,bt){if(it){var kt=N[Z]=f.once(function(){bt(Z,kt),it.apply(this,arguments)});kt._callback=it}return N};_.trigger=function(N){if(!this._events)return this;for(var Z=Math.max(0,arguments.length-1),it=Array(Z),bt=0;bt<Z;bt++)it[bt]=arguments[bt+1];return O(k,this._events,N,void 0,it),this};var k=function(N,Z,it,bt){if(N){var kt=N[Z],tt=N.all;kt&&tt&&(tt=tt.slice()),kt&&G(kt,bt),tt&&G(tt,[Z].concat(bt))}return N},G=function(N,Z){var it,bt=-1,kt=N.length,tt=Z[0],Pt=Z[1],St=Z[2];switch(Z.length){case 0:for(;++bt<kt;)(it=N[bt]).callback.call(it.ctx);return;case 1:for(;++bt<kt;)(it=N[bt]).callback.call(it.ctx,tt);return;case 2:for(;++bt<kt;)(it=N[bt]).callback.call(it.ctx,tt,Pt);return;case 3:for(;++bt<kt;)(it=N[bt]).callback.call(it.ctx,tt,Pt,St);return;default:for(;++bt<kt;)(it=N[bt]).callback.apply(it.ctx,Z);return}},ot=function(N,Z){this.id=N._listenId,this.listener=N,this.obj=Z,this.interop=!0,this.count=0,this._events=void 0};ot.prototype.on=_.on,ot.prototype.off=function(N,Z){var it;this.interop?(this._events=O(j,this._events,N,Z,{context:void 0,listeners:void 0}),it=!this._events):(this.count--,it=this.count===0),it&&this.cleanup()},ot.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},_.bind=_.on,_.unbind=_.off,f.extend(l,_);var xt=l.Model=function(N,Z){var it=N||{};Z||(Z={}),this.preinitialize.apply(this,arguments),this.cid=f.uniqueId(this.cidPrefix),this.attributes={},Z.collection&&(this.collection=Z.collection),Z.parse&&(it=this.parse(it,Z)||{});var bt=f.result(this,"defaults");it=f.defaults(f.extend({},bt,it),bt),this.set(it,Z),this.changed={},this.initialize.apply(this,arguments)};f.extend(xt.prototype,_,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(N){return f.clone(this.attributes)},sync:function(){return l.sync.apply(this,arguments)},get:function(N){return this.attributes[N]},escape:function(N){return f.escape(this.get(N))},has:function(N){return this.get(N)!=null},matches:function(N){return!!f.iteratee(N,this)(this.attributes)},set:function(N,Z,it){if(N==null)return this;var bt;if(typeof N=="object"?(bt=N,it=Z):(bt={})[N]=Z,it||(it={}),!this._validate(bt,it))return!1;var kt=it.unset,tt=it.silent,Pt=[],St=this._changing;this._changing=!0,St||(this._previousAttributes=f.clone(this.attributes),this.changed={});var we=this.attributes,Ee=this.changed,Ne=this._previousAttributes;for(var Y in bt)Z=bt[Y],f.isEqual(we[Y],Z)||Pt.push(Y),f.isEqual(Ne[Y],Z)?delete Ee[Y]:Ee[Y]=Z,kt?delete we[Y]:we[Y]=Z;if(this.idAttribute in bt){var gt=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,gt,it)}if(!tt){Pt.length&&(this._pending=it);for(var F=0;F<Pt.length;F++)this.trigger("change:"+Pt[F],this,we[Pt[F]],it)}if(St)return this;if(!tt)for(;this._pending;)it=this._pending,this._pending=!1,this.trigger("change",this,it);return this._pending=!1,this._changing=!1,this},unset:function(N,Z){return this.set(N,void 0,f.extend({},Z,{unset:!0}))},clear:function(N){var Z={};for(var it in this.attributes)Z[it]=void 0;return this.set(Z,f.extend({},N,{unset:!0}))},hasChanged:function(N){return N==null?!f.isEmpty(this.changed):f.has(this.changed,N)},changedAttributes:function(N){if(!N)return this.hasChanged()?f.clone(this.changed):!1;var Z=this._changing?this._previousAttributes:this.attributes,it={},bt;for(var kt in N){var tt=N[kt];f.isEqual(Z[kt],tt)||(it[kt]=tt,bt=!0)}return bt?it:!1},previous:function(N){return N==null||!this._previousAttributes?null:this._previousAttributes[N]},previousAttributes:function(){return f.clone(this._previousAttributes)},fetch:function(N){N=f.extend({parse:!0},N);var Z=this,it=N.success;return N.success=function(bt){var kt=N.parse?Z.parse(bt,N):bt;if(!Z.set(kt,N))return!1;it&&it.call(N.context,Z,bt,N),Z.trigger("sync",Z,bt,N)},ge(this,N),this.sync("read",this,N)},save:function(N,Z,it){var bt;N==null||typeof N=="object"?(bt=N,it=Z):(bt={})[N]=Z,it=f.extend({validate:!0,parse:!0},it);var kt=it.wait;if(bt&&!kt){if(!this.set(bt,it))return!1}else if(!this._validate(bt,it))return!1;var tt=this,Pt=it.success,St=this.attributes;it.success=function(Ne){tt.attributes=St;var Y=it.parse?tt.parse(Ne,it):Ne;if(kt&&(Y=f.extend({},bt,Y)),Y&&!tt.set(Y,it))return!1;Pt&&Pt.call(it.context,tt,Ne,it),tt.trigger("sync",tt,Ne,it)},ge(this,it),bt&&kt&&(this.attributes=f.extend({},St,bt));var we=this.isNew()?"create":it.patch?"patch":"update";we==="patch"&&!it.attrs&&(it.attrs=bt);var Ee=this.sync(we,this,it);return this.attributes=St,Ee},destroy:function(N){N=N?f.clone(N):{};var Z=this,it=N.success,bt=N.wait,kt=function(){Z.stopListening(),Z.trigger("destroy",Z,Z.collection,N)};N.success=function(Pt){bt&&kt(),it&&it.call(N.context,Z,Pt,N),Z.isNew()||Z.trigger("sync",Z,Pt,N)};var tt=!1;return this.isNew()?f.defer(N.success):(ge(this,N),tt=this.sync("delete",this,N)),bt||kt(),tt},url:function(){var N=f.result(this,"urlRoot")||f.result(this.collection,"url")||Ae();if(this.isNew())return N;var Z=this.get(this.idAttribute);return N.replace(/[^\/]$/,"$&/")+encodeURIComponent(Z)},parse:function(N,Z){return N},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(N){return this._validate({},f.extend({},N,{validate:!0}))},_validate:function(N,Z){if(!Z.validate||!this.validate)return!0;N=f.extend({},this.attributes,N);var it=this.validationError=this.validate(N,Z)||null;return it?(this.trigger("invalid",this,it,f.extend(Z,{validationError:it})),!1):!0}});var Nt=l.Collection=function(N,Z){Z||(Z={}),this.preinitialize.apply(this,arguments),Z.model&&(this.model=Z.model),Z.comparator!==void 0&&(this.comparator=Z.comparator),this._reset(),this.initialize.apply(this,arguments),N&&this.reset(N,f.extend({silent:!0},Z))},vt={add:!0,remove:!0,merge:!0},$={add:!0,remove:!1},mt=function(N,Z,it){it=Math.min(Math.max(it,0),N.length);var bt=Array(N.length-it),kt=Z.length,tt;for(tt=0;tt<bt.length;tt++)bt[tt]=N[tt+it];for(tt=0;tt<kt;tt++)N[tt+it]=Z[tt];for(tt=0;tt<bt.length;tt++)N[tt+kt+it]=bt[tt]};f.extend(Nt.prototype,_,{model:xt,preinitialize:function(){},initialize:function(){},toJSON:function(N){return this.map(function(Z){return Z.toJSON(N)})},sync:function(){return l.sync.apply(this,arguments)},add:function(N,Z){return this.set(N,f.extend({merge:!1},Z,$))},remove:function(N,Z){Z=f.extend({},Z);var it=!f.isArray(N);N=it?[N]:N.slice();var bt=this._removeModels(N,Z);return!Z.silent&&bt.length&&(Z.changes={added:[],merged:[],removed:bt},this.trigger("update",this,Z)),it?bt[0]:bt},set:function(N,Z){if(N!=null){Z=f.extend({},vt,Z),Z.parse&&!this._isModel(N)&&(N=this.parse(N,Z)||[]);var it=!f.isArray(N);N=it?[N]:N.slice();var bt=Z.at;bt!=null&&(bt=+bt),bt>this.length&&(bt=this.length),bt<0&&(bt+=this.length+1);var kt=[],tt=[],Pt=[],St=[],we={},Ee=Z.add,Ne=Z.merge,Y=Z.remove,gt=!1,F=this.comparator&&bt==null&&Z.sort!==!1,Yt=f.isString(this.comparator)?this.comparator:null,Dt,te;for(te=0;te<N.length;te++){Dt=N[te];var _e=this.get(Dt);if(_e){if(Ne&&Dt!==_e){var me=this._isModel(Dt)?Dt.attributes:Dt;Z.parse&&(me=_e.parse(me,Z)),_e.set(me,Z),Pt.push(_e),F&&!gt&&(gt=_e.hasChanged(Yt))}we[_e.cid]||(we[_e.cid]=!0,kt.push(_e)),N[te]=_e}else Ee&&(Dt=N[te]=this._prepareModel(Dt,Z),Dt&&(tt.push(Dt),this._addReference(Dt,Z),we[Dt.cid]=!0,kt.push(Dt)))}if(Y){for(te=0;te<this.length;te++)Dt=this.models[te],we[Dt.cid]||St.push(Dt);St.length&&this._removeModels(St,Z)}var de=!1,De=!F&&Ee&&Y;if(kt.length&&De?(de=this.length!==kt.length||f.some(this.models,function(Ge,an){return Ge!==kt[an]}),this.models.length=0,mt(this.models,kt,0),this.length=this.models.length):tt.length&&(F&&(gt=!0),mt(this.models,tt,bt??this.length),this.length=this.models.length),gt&&this.sort({silent:!0}),!Z.silent){for(te=0;te<tt.length;te++)bt!=null&&(Z.index=bt+te),Dt=tt[te],Dt.trigger("add",Dt,this,Z);(gt||de)&&this.trigger("sort",this,Z),(tt.length||St.length||Pt.length)&&(Z.changes={added:tt,removed:St,merged:Pt},this.trigger("update",this,Z))}return it?N[0]:N}},reset:function(N,Z){Z=Z?f.clone(Z):{};for(var it=0;it<this.models.length;it++)this._removeReference(this.models[it],Z);return Z.previousModels=this.models,this._reset(),N=this.add(N,f.extend({silent:!0},Z)),Z.silent||this.trigger("reset",this,Z),N},push:function(N,Z){return this.add(N,f.extend({at:this.length},Z))},pop:function(N){var Z=this.at(this.length-1);return this.remove(Z,N)},unshift:function(N,Z){return this.add(N,f.extend({at:0},Z))},shift:function(N){var Z=this.at(0);return this.remove(Z,N)},slice:function(){return v.apply(this.models,arguments)},get:function(N){if(N!=null)return this._byId[N]||this._byId[this.modelId(this._isModel(N)?N.attributes:N,N.idAttribute)]||N.cid&&this._byId[N.cid]},has:function(N){return this.get(N)!=null},at:function(N){return N<0&&(N+=this.length),this.models[N]},where:function(N,Z){return this[Z?"find":"filter"](N)},findWhere:function(N){return this.where(N,!0)},sort:function(N){var Z=this.comparator;if(!Z)throw new Error("Cannot sort a set without a comparator");N||(N={});var it=Z.length;return f.isFunction(Z)&&(Z=Z.bind(this)),it===1||f.isString(Z)?this.models=this.sortBy(Z):this.models.sort(Z),N.silent||this.trigger("sort",this,N),this},pluck:function(N){return this.map(N+"")},fetch:function(N){N=f.extend({parse:!0},N);var Z=N.success,it=this;return N.success=function(bt){var kt=N.reset?"reset":"set";it[kt](bt,N),Z&&Z.call(N.context,it,bt,N),it.trigger("sync",it,bt,N)},ge(this,N),this.sync("read",this,N)},create:function(N,Z){Z=Z?f.clone(Z):{};var it=Z.wait;if(N=this._prepareModel(N,Z),!N)return!1;it||this.add(N,Z);var bt=this,kt=Z.success;return Z.success=function(tt,Pt,St){it&&bt.add(tt,St),kt&&kt.call(St.context,tt,Pt,St)},N.save(null,Z),N},parse:function(N,Z){return N},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(N,Z){return N[Z||this.model.prototype.idAttribute||"id"]},values:function(){return new B(this,Q)},keys:function(){return new B(this,J)},entries:function(){return new B(this,ft)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(N,Z){if(this._isModel(N))return N.collection||(N.collection=this),N;Z=Z?f.clone(Z):{},Z.collection=this;var it;return this.model.prototype?it=new this.model(N,Z):it=this.model(N,Z),it.validationError?(this.trigger("invalid",this,it.validationError,Z),!1):it},_removeModels:function(N,Z){for(var it=[],bt=0;bt<N.length;bt++){var kt=this.get(N[bt]);if(kt){var tt=this.indexOf(kt);this.models.splice(tt,1),this.length--,delete this._byId[kt.cid];var Pt=this.modelId(kt.attributes,kt.idAttribute);Pt!=null&&delete this._byId[Pt],Z.silent||(Z.index=tt,kt.trigger("remove",kt,this,Z)),it.push(kt),this._removeReference(kt,Z)}}return it},_isModel:function(N){return N instanceof xt},_addReference:function(N,Z){this._byId[N.cid]=N;var it=this.modelId(N.attributes,N.idAttribute);it!=null&&(this._byId[it]=N),N.on("all",this._onModelEvent,this)},_removeReference:function(N,Z){delete this._byId[N.cid];var it=this.modelId(N.attributes,N.idAttribute);it!=null&&delete this._byId[it],this===N.collection&&delete N.collection,N.off("all",this._onModelEvent,this)},_onModelEvent:function(N,Z,it,bt){if(Z){if((N==="add"||N==="remove")&&it!==this)return;if(N==="destroy"&&this.remove(Z,bt),N==="changeId"){var kt=this.modelId(Z.previousAttributes(),Z.idAttribute),tt=this.modelId(Z.attributes,Z.idAttribute);kt!=null&&delete this._byId[kt],tt!=null&&(this._byId[tt]=Z)}}this.trigger.apply(this,arguments)}});var X=typeof Symbol=="function"&&Symbol.iterator;X&&(Nt.prototype[X]=Nt.prototype.values);var B=function(N,Z){this._collection=N,this._kind=Z,this._index=0},Q=1,J=2,ft=3;X&&(B.prototype[X]=function(){return this}),B.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var N=this._collection.at(this._index);this._index++;var Z;if(this._kind===Q)Z=N;else{var it=this._collection.modelId(N.attributes,N.idAttribute);this._kind===J?Z=it:Z=[it,N]}return{value:Z,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var M=l.View=function(N){this.cid=f.uniqueId("view"),this.preinitialize.apply(this,arguments),f.extend(this,f.pick(N,yt)),this._ensureElement(),this.initialize.apply(this,arguments)},ht=/^(\S+)\s*(.*)$/,yt=["model","collection","el","id","attributes","className","tagName","events"];f.extend(M.prototype,_,{tagName:"div",$:function(N){return this.$el.find(N)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(N){return this.undelegateEvents(),this._setElement(N),this.delegateEvents(),this},_setElement:function(N){this.$el=N instanceof l.$?N:l.$(N),this.el=this.$el[0]},delegateEvents:function(N){if(N||(N=f.result(this,"events")),!N)return this;this.undelegateEvents();for(var Z in N){var it=N[Z];if(f.isFunction(it)||(it=this[it]),!!it){var bt=Z.match(ht);this.delegate(bt[1],bt[2],it.bind(this))}}return this},delegate:function(N,Z,it){return this.$el.on(N+".delegateEvents"+this.cid,Z,it),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(N,Z,it){return this.$el.off(N+".delegateEvents"+this.cid,Z,it),this},_createElement:function(N){return document.createElement(N)},_ensureElement:function(){if(this.el)this.setElement(f.result(this,"el"));else{var N=f.extend({},f.result(this,"attributes"));this.id&&(N.id=f.result(this,"id")),this.className&&(N.class=f.result(this,"className")),this.setElement(this._createElement(f.result(this,"tagName"))),this._setAttributes(N)}},_setAttributes:function(N){this.$el.attr(N)}});var Bt=function(N,Z,it,bt){switch(Z){case 1:return function(){return N[it](this[bt])};case 2:return function(kt){return N[it](this[bt],kt)};case 3:return function(kt,tt){return N[it](this[bt],Lt(kt,this),tt)};case 4:return function(kt,tt,Pt){return N[it](this[bt],Lt(kt,this),tt,Pt)};default:return function(){var kt=v.call(arguments);return kt.unshift(this[bt]),N[it].apply(N,kt)}}},nt=function(N,Z,it,bt){f.each(it,function(kt,tt){Z[tt]&&(N.prototype[tt]=Bt(Z,kt,tt,bt))})},Lt=function(N,Z){return f.isFunction(N)?N:f.isObject(N)&&!Z._isModel(N)?pt(N):f.isString(N)?function(it){return it.get(N)}:N},pt=function(N){var Z=f.matches(N);return function(it){return Z(it.attributes)}},Et={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},At={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};f.each([[Nt,Et,"models"],[xt,At,"attributes"]],function(N){var Z=N[0],it=N[1],bt=N[2];Z.mixin=function(kt){var tt=f.reduce(f.functions(kt),function(Pt,St){return Pt[St]=0,Pt},{});nt(Z,kt,tt,bt)},nt(Z,f,it,bt)}),l.sync=function(N,Z,it){var bt=Zt[N];f.defaults(it||(it={}),{emulateHTTP:l.emulateHTTP,emulateJSON:l.emulateJSON});var kt={type:bt,dataType:"json"};if(it.url||(kt.url=f.result(Z,"url")||Ae()),it.data==null&&Z&&(N==="create"||N==="update"||N==="patch")&&(kt.contentType="application/json",kt.data=JSON.stringify(it.attrs||Z.toJSON(it))),it.emulateJSON&&(kt.contentType="application/x-www-form-urlencoded",kt.data=kt.data?{model:kt.data}:{}),it.emulateHTTP&&(bt==="PUT"||bt==="DELETE"||bt==="PATCH")){kt.type="POST",it.emulateJSON&&(kt.data._method=bt);var tt=it.beforeSend;it.beforeSend=function(we){if(we.setRequestHeader("X-HTTP-Method-Override",bt),tt)return tt.apply(this,arguments)}}kt.type!=="GET"&&!it.emulateJSON&&(kt.processData=!1);var Pt=it.error;it.error=function(we,Ee,Ne){it.textStatus=Ee,it.errorThrown=Ne,Pt&&Pt.call(it.context,we,Ee,Ne)};var St=it.xhr=l.ajax(f.extend(kt,it));return Z.trigger("request",Z,St,it),St};var Zt={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};l.ajax=function(){return l.$.ajax.apply(l.$,arguments)};var Qt=l.Router=function(N){N||(N={}),this.preinitialize.apply(this,arguments),N.routes&&(this.routes=N.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},ne=/\((.*?)\)/g,oe=/(\(\?)?:\w+/g,Oe=/\*\w+/g,He=/[\-{}\[\]+?.,\\\^$|#\s]/g;f.extend(Qt.prototype,_,{preinitialize:function(){},initialize:function(){},route:function(N,Z,it){f.isRegExp(N)||(N=this._routeToRegExp(N)),f.isFunction(Z)&&(it=Z,Z=""),it||(it=this[Z]);var bt=this;return l.history.route(N,function(kt){var tt=bt._extractParameters(N,kt);bt.execute(it,tt,Z)!==!1&&(bt.trigger.apply(bt,["route:"+Z].concat(tt)),bt.trigger("route",Z,tt),l.history.trigger("route",bt,Z,tt))}),this},execute:function(N,Z,it){N&&N.apply(this,Z)},navigate:function(N,Z){return l.history.navigate(N,Z),this},_bindRoutes:function(){if(this.routes){this.routes=f.result(this,"routes");for(var N,Z=f.keys(this.routes);(N=Z.pop())!=null;)this.route(N,this.routes[N])}},_routeToRegExp:function(N){return N=N.replace(He,"\\$&").replace(ne,"(?:$1)?").replace(oe,function(Z,it){return it?Z:"([^/?]+)"}).replace(Oe,"([^?]*?)"),new RegExp("^"+N+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(N,Z){var it=N.exec(Z).slice(1);return f.map(it,function(bt,kt){return kt===it.length-1?bt||null:bt?decodeURIComponent(bt):null})}});var Se=l.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},_t=/^[#\/]|\s+$/g,se=/^\/+|\/+$/g,ue=/#.*$/;Se.started=!1,f.extend(Se.prototype,_,{interval:50,atRoot:function(){var N=this.location.pathname.replace(/[^\/]$/,"$&/");return N===this.root&&!this.getSearch()},matchRoot:function(){var N=this.decodeFragment(this.location.pathname),Z=N.slice(0,this.root.length-1)+"/";return Z===this.root},decodeFragment:function(N){return decodeURI(N.replace(/%25/g,"%2525"))},getSearch:function(){var N=this.location.href.replace(/#.*/,"").match(/\?.+/);return N?N[0]:""},getHash:function(N){var Z=(N||this).location.href.match(/#(.*)$/);return Z?Z[1]:""},getPath:function(){var N=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return N.charAt(0)==="/"?N.slice(1):N},getFragment:function(N){return N==null&&(this._usePushState||!this._wantsHashChange?N=this.getPath():N=this.getHash()),N.replace(_t,"")},start:function(N){if(Se.started)throw new Error("Backbone.history has already been started");if(Se.started=!0,this.options=f.extend({root:"/"},this.options,N),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(se,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var Z=this.root.slice(0,-1)||"/";return this.location.replace(Z+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var it=document.body,bt=it.insertBefore(this.iframe,it.firstChild).contentWindow;bt.document.open(),bt.document.close(),bt.location.hash="#"+this.fragment}var kt=window.addEventListener||function(tt,Pt){return attachEvent("on"+tt,Pt)};if(this._usePushState?kt("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?kt("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var N=window.removeEventListener||function(Z,it){return detachEvent("on"+Z,it)};this._usePushState?N("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&N("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Se.started=!1},route:function(N,Z){this.handlers.unshift({route:N,callback:Z})},checkUrl:function(N){var Z=this.getFragment();if(Z===this.fragment&&this.iframe&&(Z=this.getHash(this.iframe.contentWindow)),Z===this.fragment)return!1;this.iframe&&this.navigate(Z),this.loadUrl()},loadUrl:function(N){return this.matchRoot()?(N=this.fragment=this.getFragment(N),f.some(this.handlers,function(Z){if(Z.route.test(N))return Z.callback(N),!0})):!1},navigate:function(N,Z){if(!Se.started)return!1;(!Z||Z===!0)&&(Z={trigger:!!Z}),N=this.getFragment(N||"");var it=this.root;(N===""||N.charAt(0)==="?")&&(it=it.slice(0,-1)||"/");var bt=it+N;N=N.replace(ue,"");var kt=this.decodeFragment(N);if(this.fragment!==kt){if(this.fragment=kt,this._usePushState)this.history[Z.replace?"replaceState":"pushState"]({},document.title,bt);else if(this._wantsHashChange){if(this._updateHash(this.location,N,Z.replace),this.iframe&&N!==this.getHash(this.iframe.contentWindow)){var tt=this.iframe.contentWindow;Z.replace||(tt.document.open(),tt.document.close()),this._updateHash(tt.location,N,Z.replace)}}else return this.location.assign(bt);if(Z.trigger)return this.loadUrl(N)}},_updateHash:function(N,Z,it){if(it){var bt=N.href.replace(/(javascript:|#).*$/,"");N.replace(bt+"#"+Z)}else N.hash="#"+Z}}),l.history=new Se;var Ve=function(N,Z){var it=this,bt;return N&&f.has(N,"constructor")?bt=N.constructor:bt=function(){return it.apply(this,arguments)},f.extend(bt,it,Z),bt.prototype=f.create(it.prototype,N),bt.prototype.constructor=bt,bt.__super__=it.prototype,bt};xt.extend=Nt.extend=Qt.extend=M.extend=Se.extend=Ve;var Ae=function(){throw new Error('A "url" property or function must be specified')},ge=function(N,Z){var it=Z.error;Z.error=function(bt){it&&it.call(Z.context,N,bt,Z),N.trigger("error",N,bt,Z)}};return l})},3640:(o,n,t)=>{(function(e){e(t(4408))})(function(e){e.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(i,l){return/^[;{}]$/.test(l)}}),e.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(i,l,f,p){return this.jsonMode?/^[\[,{]$/.test(l)||/^}/.test(f):l==";"&&p.lexical&&p.lexical.type==")"?!1:/^[;{}]$/.test(l)&&!/^;/.test(f)}});var r=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;e.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(i,l,f,p){var d=!1;return this.configuration=="html"&&(d=p.context?r.test(p.context.tagName):!1),!d&&(i=="tag"&&/>$/.test(l)&&p.context||/^</.test(f))}}),e.defineExtension("commentRange",function(i,l,f){var p=this,d=e.innerMode(p.getMode(),p.getTokenAt(l).state).mode;p.operation(function(){if(i)p.replaceRange(d.commentEnd,f),p.replaceRange(d.commentStart,l),l.line==f.line&&l.ch==f.ch&&p.setCursor(l.line,l.ch+d.commentStart.length);else{var v=p.getRange(l,f),_=v.indexOf(d.commentStart),w=v.lastIndexOf(d.commentEnd);_>-1&&w>-1&&w>_&&(v=v.substr(0,_)+v.substring(_+d.commentStart.length,w)+v.substr(w+d.commentEnd.length)),p.replaceRange(v,l,f)}})}),e.defineExtension("autoIndentRange",function(i,l){var f=this;this.operation(function(){for(var p=i.line;p<=l.line;p++)f.indentLine(p,"smart")})}),e.defineExtension("autoFormatRange",function(i,l){var f=this,p=f.getMode(),d=f.getRange(i,l).split(`
`),v=e.copyState(p,f.getTokenAt(i).state),_=f.getOption("tabSize"),w="",S=0,O=i.ch===0;function A(){w+=`
`,O=!0,++S}for(var P=0;P<d.length;++P){for(var j=new e.StringStream(d[P],_);!j.eol();){var z=e.innerMode(p,v),k=p.token(j,v),G=j.current();j.start=j.pos,(!O||/\S/.test(G))&&(w+=G,O=!1),!O&&z.mode.newlineAfterToken&&z.mode.newlineAfterToken(k,G,j.string.slice(j.pos)||d[P+1]||"",z.state)&&A()}!j.pos&&p.blankLine&&p.blankLine(v),!O&&P<d.length-1&&A()}f.operation(function(){f.replaceRange(w,i,l);for(var ot=i.line+1,xt=i.line+S;ot<=xt;++ot)f.indentLine(ot,"smart");f.setSelection(i,f.getCursor(!1))})})})},4408:function(o){(function(n,t){o.exports=t()})(this,function(){var n=navigator.userAgent,t=navigator.platform,e=/gecko\/\d/i.test(n),r=/MSIE \d/.test(n),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),l=/Edge\/(\d+)/.exec(n),f=r||i||l,p=f&&(r?document.documentMode||6:+(l||i)[1]),d=!l&&/WebKit\//.test(n),v=d&&/Qt\/\d+\.\d+/.test(n),_=!l&&/Chrome\//.test(n),w=/Opera\//.test(n),S=/Apple Computer/.test(navigator.vendor),O=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),A=/PhantomJS/.test(n),P=S&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),j=/Android/.test(n),z=P||j||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),k=P||/Mac/.test(t),G=/\bCrOS\b/.test(n),ot=/win/i.test(t),xt=w&&n.match(/Version\/(\d*\.\d*)/);xt&&(xt=Number(xt[1])),xt&&xt>=15&&(w=!1,d=!0);var Nt=k&&(v||w&&(xt==null||xt<12.11)),vt=e||f&&p>=9;function $(s){return new RegExp("(^|\\s)"+s+"(?:$|\\s)\\s*")}var mt=function(s,c){var m=s.className,g=$(c).exec(m);if(g){var b=m.slice(g.index+g[0].length);s.className=m.slice(0,g.index)+(b?g[1]+b:"")}};function X(s){for(var c=s.childNodes.length;c>0;--c)s.removeChild(s.firstChild);return s}function B(s,c){return X(s).appendChild(c)}function Q(s,c,m,g){var b=document.createElement(s);if(m&&(b.className=m),g&&(b.style.cssText=g),typeof c=="string")b.appendChild(document.createTextNode(c));else if(c)for(var C=0;C<c.length;++C)b.appendChild(c[C]);return b}function J(s,c,m,g){var b=Q(s,c,m,g);return b.setAttribute("role","presentation"),b}var ft;document.createRange?ft=function(s,c,m,g){var b=document.createRange();return b.setEnd(g||s,m),b.setStart(s,c),b}:ft=function(s,c,m){var g=document.body.createTextRange();try{g.moveToElementText(s.parentNode)}catch{return g}return g.collapse(!0),g.moveEnd("character",m),g.moveStart("character",c),g};function M(s,c){if(c.nodeType==3&&(c=c.parentNode),s.contains)return s.contains(c);do if(c.nodeType==11&&(c=c.host),c==s)return!0;while(c=c.parentNode)}function ht(){var s;try{s=document.activeElement}catch{s=document.body||null}for(;s&&s.shadowRoot&&s.shadowRoot.activeElement;)s=s.shadowRoot.activeElement;return s}function yt(s,c){var m=s.className;$(c).test(m)||(s.className+=(m?" ":"")+c)}function Bt(s,c){for(var m=s.split(" "),g=0;g<m.length;g++)m[g]&&!$(m[g]).test(c)&&(c+=" "+m[g]);return c}var nt=function(s){s.select()};P?nt=function(s){s.selectionStart=0,s.selectionEnd=s.value.length}:f&&(nt=function(s){try{s.select()}catch{}});function Lt(s){var c=Array.prototype.slice.call(arguments,1);return function(){return s.apply(null,c)}}function pt(s,c,m){c||(c={});for(var g in s)s.hasOwnProperty(g)&&(m!==!1||!c.hasOwnProperty(g))&&(c[g]=s[g]);return c}function Et(s,c,m,g,b){c==null&&(c=s.search(/[^\s\u00a0]/),c==-1&&(c=s.length));for(var C=g||0,E=b||0;;){var D=s.indexOf("	",C);if(D<0||D>=c)return E+(c-C);E+=D-C,E+=m-E%m,C=D+1}}var At=function(){this.id=null,this.f=null,this.time=0,this.handler=Lt(this.onTimeout,this)};At.prototype.onTimeout=function(s){s.id=0,s.time<=+new Date?s.f():setTimeout(s.handler,s.time-+new Date)},At.prototype.set=function(s,c){this.f=c;var m=+new Date+s;(!this.id||m<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,s),this.time=m)};function Zt(s,c){for(var m=0;m<s.length;++m)if(s[m]==c)return m;return-1}var Qt=50,ne={toString:function(){return"CodeMirror.Pass"}},oe={scroll:!1},Oe={origin:"*mouse"},He={origin:"+move"};function Se(s,c,m){for(var g=0,b=0;;){var C=s.indexOf("	",g);C==-1&&(C=s.length);var E=C-g;if(C==s.length||b+E>=c)return g+Math.min(E,c-b);if(b+=C-g,b+=m-b%m,g=C+1,b>=c)return g}}var _t=[""];function se(s){for(;_t.length<=s;)_t.push(ue(_t)+" ");return _t[s]}function ue(s){return s[s.length-1]}function Ve(s,c){for(var m=[],g=0;g<s.length;g++)m[g]=c(s[g],g);return m}function Ae(s,c,m){for(var g=0,b=m(c);g<s.length&&m(s[g])<=b;)g++;s.splice(g,0,c)}function ge(){}function N(s,c){var m;return Object.create?m=Object.create(s):(ge.prototype=s,m=new ge),c&&pt(c,m),m}var Z=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function it(s){return/\w/.test(s)||s>""&&(s.toUpperCase()!=s.toLowerCase()||Z.test(s))}function bt(s,c){return c?c.source.indexOf("\\w")>-1&&it(s)?!0:c.test(s):it(s)}function kt(s){for(var c in s)if(s.hasOwnProperty(c)&&s[c])return!1;return!0}var tt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Pt(s){return s.charCodeAt(0)>=768&&tt.test(s)}function St(s,c,m){for(;(m<0?c>0:c<s.length)&&Pt(s.charAt(c));)c+=m;return c}function we(s,c,m){for(var g=c>m?-1:1;;){if(c==m)return c;var b=(c+m)/2,C=g<0?Math.ceil(b):Math.floor(b);if(C==c)return s(C)?c:m;s(C)?m=C:c=C+g}}function Ee(s,c,m,g){if(!s)return g(c,m,"ltr",0);for(var b=!1,C=0;C<s.length;++C){var E=s[C];(E.from<m&&E.to>c||c==m&&E.to==c)&&(g(Math.max(E.from,c),Math.min(E.to,m),E.level==1?"rtl":"ltr",C),b=!0)}b||g(c,m,"ltr")}var Ne=null;function Y(s,c,m){var g;Ne=null;for(var b=0;b<s.length;++b){var C=s[b];if(C.from<c&&C.to>c)return b;C.to==c&&(C.from!=C.to&&m=="before"?g=b:Ne=b),C.from==c&&(C.from!=C.to&&m!="before"?g=b:Ne=b)}return g??Ne}var gt=function(){var s="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",c="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function m(U){return U<=247?s.charAt(U):1424<=U&&U<=1524?"R":1536<=U&&U<=1785?c.charAt(U-1536):1774<=U&&U<=2220?"r":8192<=U&&U<=8203?"w":U==8204?"b":"L"}var g=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,b=/[stwN]/,C=/[LRr]/,E=/[Lb1n]/,D=/[1n]/;function R(U,et,at){this.level=U,this.from=et,this.to=at}return function(U,et){var at=et=="ltr"?"L":"R";if(U.length==0||et=="ltr"&&!g.test(U))return!1;for(var Mt=U.length,wt=[],Ft=0;Ft<Mt;++Ft)wt.push(m(U.charCodeAt(Ft)));for(var Wt=0,ce=at;Wt<Mt;++Wt){var be=wt[Wt];be=="m"?wt[Wt]=ce:ce=be}for(var Ce=0,ve=at;Ce<Mt;++Ce){var xe=wt[Ce];xe=="1"&&ve=="r"?wt[Ce]="n":C.test(xe)&&(ve=xe,xe=="r"&&(wt[Ce]="R"))}for(var Ie=1,ke=wt[0];Ie<Mt-1;++Ie){var Xe=wt[Ie];Xe=="+"&&ke=="1"&&wt[Ie+1]=="1"?wt[Ie]="1":Xe==","&&ke==wt[Ie+1]&&(ke=="1"||ke=="n")&&(wt[Ie]=ke),ke=Xe}for(var pn=0;pn<Mt;++pn){var Cr=wt[pn];if(Cr==",")wt[pn]="N";else if(Cr=="%"){var Hn=void 0;for(Hn=pn+1;Hn<Mt&&wt[Hn]=="%";++Hn);for(var Si=pn&&wt[pn-1]=="!"||Hn<Mt&&wt[Hn]=="1"?"1":"N",Zr=pn;Zr<Hn;++Zr)wt[Zr]=Si;pn=Hn-1}}for(var rr=0,zr=at;rr<Mt;++rr){var Rr=wt[rr];zr=="L"&&Rr=="1"?wt[rr]="L":C.test(Rr)&&(zr=Rr)}for(var Rn=0;Rn<Mt;++Rn)if(b.test(wt[Rn])){var on=void 0;for(on=Rn+1;on<Mt&&b.test(wt[on]);++on);for(var Wn=(Rn?wt[Rn-1]:at)=="L",ui=(on<Mt?wt[on]:at)=="L",ir=Wn==ui?Wn?"L":"R":at,os=Rn;os<on;++os)wt[os]=ir;Rn=on-1}for(var Fr=[],No,nn=0;nn<Mt;)if(E.test(wt[nn])){var ci=nn;for(++nn;nn<Mt&&E.test(wt[nn]);++nn);Fr.push(new R(0,ci,nn))}else{var Jr=nn,as=Fr.length,ss=et=="rtl"?1:0;for(++nn;nn<Mt&&wt[nn]!="L";++nn);for(var fi=Jr;fi<nn;)if(D.test(wt[fi])){Jr<fi&&(Fr.splice(as,0,new R(1,Jr,fi)),as+=ss);var ls=fi;for(++fi;fi<nn&&D.test(wt[fi]);++fi);Fr.splice(as,0,new R(2,ls,fi)),as+=ss,Jr=fi}else++fi;Jr<nn&&Fr.splice(as,0,new R(1,Jr,nn))}return et=="ltr"&&(Fr[0].level==1&&(No=U.match(/^\s+/))&&(Fr[0].from=No[0].length,Fr.unshift(new R(0,0,No[0].length))),ue(Fr).level==1&&(No=U.match(/\s+$/))&&(ue(Fr).to-=No[0].length,Fr.push(new R(0,Mt-No[0].length,Mt)))),et=="rtl"?Fr.reverse():Fr}}();function F(s,c){var m=s.order;return m==null&&(m=s.order=gt(s.text,c)),m}var Yt=[],Dt=function(s,c,m){if(s.addEventListener)s.addEventListener(c,m,!1);else if(s.attachEvent)s.attachEvent("on"+c,m);else{var g=s._handlers||(s._handlers={});g[c]=(g[c]||Yt).concat(m)}};function te(s,c){return s._handlers&&s._handlers[c]||Yt}function _e(s,c,m){if(s.removeEventListener)s.removeEventListener(c,m,!1);else if(s.detachEvent)s.detachEvent("on"+c,m);else{var g=s._handlers,b=g&&g[c];if(b){var C=Zt(b,m);C>-1&&(g[c]=b.slice(0,C).concat(b.slice(C+1)))}}}function me(s,c){var m=te(s,c);if(m.length)for(var g=Array.prototype.slice.call(arguments,2),b=0;b<m.length;++b)m[b].apply(null,g)}function de(s,c,m){return typeof c=="string"&&(c={type:c,preventDefault:function(){this.defaultPrevented=!0}}),me(s,m||c.type,s,c),_r(c)||c.codemirrorIgnore}function De(s){var c=s._handlers&&s._handlers.cursorActivity;if(c)for(var m=s.curOp.cursorActivityHandlers||(s.curOp.cursorActivityHandlers=[]),g=0;g<c.length;++g)Zt(m,c[g])==-1&&m.push(c[g])}function Ge(s,c){return te(s,c).length>0}function an(s){s.prototype.on=function(c,m){Dt(this,c,m)},s.prototype.off=function(c,m){_e(this,c,m)}}function tn(s){s.preventDefault?s.preventDefault():s.returnValue=!1}function Mn(s){s.stopPropagation?s.stopPropagation():s.cancelBubble=!0}function _r(s){return s.defaultPrevented!=null?s.defaultPrevented:s.returnValue==!1}function q(s){tn(s),Mn(s)}function ut(s){return s.target||s.srcElement}function Ot(s){var c=s.which;return c==null&&(s.button&1?c=1:s.button&2?c=3:s.button&4&&(c=2)),k&&s.ctrlKey&&c==1&&(c=3),c}var Xt=function(){if(f&&p<9)return!1;var s=Q("div");return"draggable"in s||"dragDrop"in s}(),he;function Ue(s){if(he==null){var c=Q("span","​");B(s,Q("span",[c,document.createTextNode("x")])),s.firstChild.offsetHeight!=0&&(he=c.offsetWidth<=1&&c.offsetHeight>2&&!(f&&p<8))}var m=he?Q("span","​"):Q("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return m.setAttribute("cm-text",""),m}var ze;function rn(s){if(ze!=null)return ze;var c=B(s,document.createTextNode("AخA")),m=ft(c,0,1).getBoundingClientRect(),g=ft(c,1,2).getBoundingClientRect();return X(s),!m||m.left==m.right?!1:ze=g.right-m.right<3}var vn=`

b`.split(/\n/).length!=3?function(s){for(var c=0,m=[],g=s.length;c<=g;){var b=s.indexOf(`
`,c);b==-1&&(b=s.length);var C=s.slice(c,s.charAt(b-1)=="\r"?b-1:b),E=C.indexOf("\r");E!=-1?(m.push(C.slice(0,E)),c+=E+1):(m.push(C),c=b+1)}return m}:function(s){return s.split(/\r\n?|\n/)},On=window.getSelection?function(s){try{return s.selectionStart!=s.selectionEnd}catch{return!1}}:function(s){var c;try{c=s.ownerDocument.selection.createRange()}catch{}return!c||c.parentElement()!=s?!1:c.compareEndPoints("StartToEnd",c)!=0},hi=function(){var s=Q("div");return"oncopy"in s?!0:(s.setAttribute("oncopy","return;"),typeof s.oncopy=="function")}(),Vn=null;function ti(s){if(Vn!=null)return Vn;var c=B(s,Q("span","x")),m=c.getBoundingClientRect(),g=ft(c,0,1).getBoundingClientRect();return Vn=Math.abs(m.left-g.left)>1}var vi={},fn={};function Gn(s,c){arguments.length>2&&(c.dependencies=Array.prototype.slice.call(arguments,2)),vi[s]=c}function Qe(s,c){fn[s]=c}function ar(s){if(typeof s=="string"&&fn.hasOwnProperty(s))s=fn[s];else if(s&&typeof s.name=="string"&&fn.hasOwnProperty(s.name)){var c=fn[s.name];typeof c=="string"&&(c={name:c}),s=N(c,s),s.name=c.name}else{if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(s))return ar("application/xml");if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(s))return ar("application/json")}return typeof s=="string"?{name:s}:s||{name:"null"}}function Be(s,c){c=ar(c);var m=vi[c.name];if(!m)return Be(s,"text/plain");var g=m(s,c);if(Er.hasOwnProperty(c.name)){var b=Er[c.name];for(var C in b)b.hasOwnProperty(C)&&(g.hasOwnProperty(C)&&(g["_"+C]=g[C]),g[C]=b[C])}if(g.name=c.name,c.helperType&&(g.helperType=c.helperType),c.modeProps)for(var E in c.modeProps)g[E]=c.modeProps[E];return g}var Er={};function xn(s,c){var m=Er.hasOwnProperty(s)?Er[s]:Er[s]={};pt(c,m)}function sr(s,c){if(c===!0)return c;if(s.copyState)return s.copyState(c);var m={};for(var g in c){var b=c[g];b instanceof Array&&(b=b.concat([])),m[g]=b}return m}function lr(s,c){for(var m;s.innerMode&&(m=s.innerMode(c),!(!m||m.mode==s));)c=m.state,s=m.mode;return m||{mode:s,state:c}}function ur(s,c,m){return s.startState?s.startState(c,m):!0}var un=function(s,c,m){this.pos=this.start=0,this.string=s,this.tabSize=c||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=m};un.prototype.eol=function(){return this.pos>=this.string.length},un.prototype.sol=function(){return this.pos==this.lineStart},un.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},un.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},un.prototype.eat=function(s){var c=this.string.charAt(this.pos),m;if(typeof s=="string"?m=c==s:m=c&&(s.test?s.test(c):s(c)),m)return++this.pos,c},un.prototype.eatWhile=function(s){for(var c=this.pos;this.eat(s););return this.pos>c},un.prototype.eatSpace=function(){for(var s=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>s},un.prototype.skipToEnd=function(){this.pos=this.string.length},un.prototype.skipTo=function(s){var c=this.string.indexOf(s,this.pos);if(c>-1)return this.pos=c,!0},un.prototype.backUp=function(s){this.pos-=s},un.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Et(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Et(this.string,this.lineStart,this.tabSize):0)},un.prototype.indentation=function(){return Et(this.string,null,this.tabSize)-(this.lineStart?Et(this.string,this.lineStart,this.tabSize):0)},un.prototype.match=function(s,c,m){if(typeof s=="string"){var g=function(E){return m?E.toLowerCase():E},b=this.string.substr(this.pos,s.length);if(g(b)==g(s))return c!==!1&&(this.pos+=s.length),!0}else{var C=this.string.slice(this.pos).match(s);return C&&C.index>0?null:(C&&c!==!1&&(this.pos+=C[0].length),C)}},un.prototype.current=function(){return this.string.slice(this.start,this.pos)},un.prototype.hideFirstChars=function(s,c){this.lineStart+=s;try{return c()}finally{this.lineStart-=s}},un.prototype.lookAhead=function(s){var c=this.lineOracle;return c&&c.lookAhead(s)},un.prototype.baseToken=function(){var s=this.lineOracle;return s&&s.baseToken(this.pos)};function Te(s,c){if(c-=s.first,c<0||c>=s.size)throw new Error("There is no line "+(c+s.first)+" in the document.");for(var m=s;!m.lines;)for(var g=0;;++g){var b=m.children[g],C=b.chunkSize();if(c<C){m=b;break}c-=C}return m.lines[c]}function br(s,c,m){var g=[],b=c.line;return s.iter(c.line,m.line+1,function(C){var E=C.text;b==m.line&&(E=E.slice(0,m.ch)),b==c.line&&(E=E.slice(c.ch)),g.push(E),++b}),g}function Un(s,c,m){var g=[];return s.iter(c,m,function(b){g.push(b.text)}),g}function Ar(s,c){var m=c-s.height;if(m)for(var g=s;g;g=g.parent)g.height+=m}function en(s){if(s.parent==null)return null;for(var c=s.parent,m=Zt(c.lines,s),g=c.parent;g;c=g,g=g.parent)for(var b=0;g.children[b]!=c;++b)m+=g.children[b].chunkSize();return m+c.first}function Sn(s,c){var m=s.first;t:do{for(var g=0;g<s.children.length;++g){var b=s.children[g],C=b.height;if(c<C){s=b;continue t}c-=C,m+=b.chunkSize()}return m}while(!s.lines);for(var E=0;E<s.lines.length;++E){var D=s.lines[E],R=D.height;if(c<R)break;c-=R}return m+E}function cr(s,c){return c>=s.first&&c<s.first+s.size}function gi(s,c){return String(s.lineNumberFormatter(c+s.firstLineNumber))}function ie(s,c,m){if(m===void 0&&(m=null),!(this instanceof ie))return new ie(s,c,m);this.line=s,this.ch=c,this.sticky=m}function Re(s,c){return s.line-c.line||s.ch-c.ch}function mi(s,c){return s.sticky==c.sticky&&Re(s,c)==0}function I(s){return ie(s.line,s.ch)}function st(s,c){return Re(s,c)<0?c:s}function qt(s,c){return Re(s,c)<0?s:c}function ee(s,c){return Math.max(s.first,Math.min(c,s.first+s.size-1))}function le(s,c){if(c.line<s.first)return ie(s.first,0);var m=s.first+s.size-1;return c.line>m?ie(m,Te(s,m).text.length):Je(c,Te(s,c.line).text.length)}function Je(s,c){var m=s.ch;return m==null||m>c?ie(s.line,c):m<0?ie(s.line,0):s}function $e(s,c){for(var m=[],g=0;g<c.length;g++)m[g]=le(s,c[g]);return m}var Ln=function(s,c){this.state=s,this.lookAhead=c},gn=function(s,c,m,g){this.state=c,this.doc=s,this.line=m,this.maxLookAhead=g||0,this.baseTokens=null,this.baseTokenPos=1};gn.prototype.lookAhead=function(s){var c=this.doc.getLine(this.line+s);return c!=null&&s>this.maxLookAhead&&(this.maxLookAhead=s),c},gn.prototype.baseToken=function(s){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=s;)this.baseTokenPos+=2;var c=this.baseTokens[this.baseTokenPos+1];return{type:c&&c.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-s}},gn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},gn.fromSaved=function(s,c,m){return c instanceof Ln?new gn(s,sr(s.mode,c.state),m,c.lookAhead):new gn(s,sr(s.mode,c),m)},gn.prototype.save=function(s){var c=s!==!1?sr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Ln(c,this.maxLookAhead):c};function Ei(s,c,m,g){var b=[s.state.modeGen],C={};Go(s,c.text,s.doc.mode,m,function(U,et){return b.push(U,et)},C,g);for(var E=m.state,D=function(U){m.baseTokens=b;var et=s.state.overlays[U],at=1,Mt=0;m.state=!0,Go(s,c.text,et.mode,m,function(wt,Ft){for(var Wt=at;Mt<wt;){var ce=b[at];ce>wt&&b.splice(at,1,wt,b[at+1],ce),at+=2,Mt=Math.min(wt,ce)}if(Ft)if(et.opaque)b.splice(Wt,at-Wt,wt,"overlay "+Ft),at=Wt+2;else for(;Wt<at;Wt+=2){var be=b[Wt+1];b[Wt+1]=(be?be+" ":"")+"overlay "+Ft}},C),m.state=E,m.baseTokens=null,m.baseTokenPos=1},R=0;R<s.state.overlays.length;++R)D(R);return{styles:b,classes:C.bgClass||C.textClass?C:null}}function Pr(s,c,m){if(!c.styles||c.styles[0]!=s.state.modeGen){var g=Ao(s,en(c)),b=c.text.length>s.options.maxHighlightLength&&sr(s.doc.mode,g.state),C=Ei(s,c,g);b&&(g.state=b),c.stateAfter=g.save(!b),c.styles=C.styles,C.classes?c.styleClasses=C.classes:c.styleClasses&&(c.styleClasses=null),m===s.doc.highlightFrontier&&(s.doc.modeFrontier=Math.max(s.doc.modeFrontier,++s.doc.highlightFrontier))}return c.styles}function Ao(s,c,m){var g=s.doc,b=s.display;if(!g.mode.startState)return new gn(g,!0,c);var C=eo(s,c,m),E=C>g.first&&Te(g,C-1).stateAfter,D=E?gn.fromSaved(g,E,C):new gn(g,ur(g.mode),C);return g.iter(C,c,function(R){qo(s,R.text,D);var U=D.line;R.stateAfter=U==c-1||U%5==0||U>=b.viewFrom&&U<b.viewTo?D.save():null,D.nextLine()}),m&&(g.modeFrontier=D.line),D}function qo(s,c,m,g){var b=s.doc.mode,C=new un(c,s.options.tabSize,m);for(C.start=C.pos=g||0,c==""&&Po(b,m.state);!C.eol();)to(b,C,m.state),C.start=C.pos}function Po(s,c){if(s.blankLine)return s.blankLine(c);if(s.innerMode){var m=lr(s,c);if(m.mode.blankLine)return m.mode.blankLine(m.state)}}function to(s,c,m,g){for(var b=0;b<10;b++){g&&(g[0]=lr(s,m).mode);var C=s.token(c,m);if(c.pos>c.start)return C}throw new Error("Mode "+s.name+" failed to advance stream.")}var fa=function(s,c,m){this.start=s.start,this.end=s.pos,this.string=s.current(),this.type=c||null,this.state=m};function da(s,c,m,g){var b=s.doc,C=b.mode,E;c=le(b,c);var D=Te(b,c.line),R=Ao(s,c.line,m),U=new un(D.text,s.options.tabSize,R),et;for(g&&(et=[]);(g||U.pos<c.ch)&&!U.eol();)U.start=U.pos,E=to(C,U,R.state),g&&et.push(new fa(U,E,sr(b.mode,R.state)));return g?et:new fa(U,E,R.state)}function Ai(s,c){if(s)for(;;){var m=s.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!m)break;s=s.slice(0,m.index)+s.slice(m.index+m[0].length);var g=m[1]?"bgClass":"textClass";c[g]==null?c[g]=m[2]:new RegExp("(?:^|\\s)"+m[2]+"(?:$|\\s)").test(c[g])||(c[g]+=" "+m[2])}return s}function Go(s,c,m,g,b,C,E){var D=m.flattenSpans;D==null&&(D=s.options.flattenSpans);var R=0,U=null,et=new un(c,s.options.tabSize,g),at,Mt=s.options.addModeClass&&[null];for(c==""&&Ai(Po(m,g.state),C);!et.eol();){if(et.pos>s.options.maxHighlightLength?(D=!1,E&&qo(s,c,g,et.pos),et.pos=c.length,at=null):at=Ai(to(m,et,g.state,Mt),C),Mt){var wt=Mt[0].name;wt&&(at="m-"+(at?wt+" "+at:wt))}if(!D||U!=at){for(;R<et.start;)R=Math.min(et.start,R+5e3),b(R,U);U=at}et.start=et.pos}for(;R<et.pos;){var Ft=Math.min(et.pos,R+5e3);b(Ft,U),R=Ft}}function eo(s,c,m){for(var g,b,C=s.doc,E=m?-1:c-(s.doc.mode.innerMode?1e3:100),D=c;D>E;--D){if(D<=C.first)return C.first;var R=Te(C,D-1),U=R.stateAfter;if(U&&(!m||D+(U instanceof Ln?U.lookAhead:0)<=C.modeFrontier))return D;var et=Et(R.text,null,s.options.tabSize);(b==null||g>et)&&(b=D-1,g=et)}return b}function pa(s,c){if(s.modeFrontier=Math.min(s.modeFrontier,c),!(s.highlightFrontier<c-10)){for(var m=s.first,g=c-1;g>m;g--){var b=Te(s,g).stateAfter;if(b&&(!(b instanceof Ln)||g+b.lookAhead<c)){m=g+1;break}}s.highlightFrontier=Math.min(s.highlightFrontier,m)}}var Qn=!1,wr=!1;function vs(){Qn=!0}function ei(){wr=!0}function ki(s,c,m){this.marker=s,this.from=c,this.to=m}function Nr(s,c){if(s)for(var m=0;m<s.length;++m){var g=s[m];if(g.marker==c)return g}}function zn(s,c){for(var m,g=0;g<s.length;++g)s[g]!=c&&(m||(m=[])).push(s[g]);return m}function Do(s,c,m){var g=m&&window.WeakSet&&(m.markedSpans||(m.markedSpans=new WeakSet));g&&g.has(s.markedSpans)?s.markedSpans.push(c):(s.markedSpans=s.markedSpans?s.markedSpans.concat([c]):[c],g&&g.add(s.markedSpans)),c.marker.attachLine(s)}function no(s,c,m){var g;if(s)for(var b=0;b<s.length;++b){var C=s[b],E=C.marker,D=C.from==null||(E.inclusiveLeft?C.from<=c:C.from<c);if(D||C.from==c&&E.type=="bookmark"&&(!m||!C.marker.insertLeft)){var R=C.to==null||(E.inclusiveRight?C.to>=c:C.to>c);(g||(g=[])).push(new ki(E,C.from,R?null:C.to))}}return g}function yi(s,c,m){var g;if(s)for(var b=0;b<s.length;++b){var C=s[b],E=C.marker,D=C.to==null||(E.inclusiveRight?C.to>=c:C.to>c);if(D||C.from==c&&E.type=="bookmark"&&(!m||C.marker.insertLeft)){var R=C.from==null||(E.inclusiveLeft?C.from<=c:C.from<c);(g||(g=[])).push(new ki(E,R?null:C.from-c,C.to==null?null:C.to-c))}}return g}function Ko(s,c){if(c.full)return null;var m=cr(s,c.from.line)&&Te(s,c.from.line).markedSpans,g=cr(s,c.to.line)&&Te(s,c.to.line).markedSpans;if(!m&&!g)return null;var b=c.from.ch,C=c.to.ch,E=Re(c.from,c.to)==0,D=no(m,b,E),R=yi(g,C,E),U=c.text.length==1,et=ue(c.text).length+(U?b:0);if(D)for(var at=0;at<D.length;++at){var Mt=D[at];if(Mt.to==null){var wt=Nr(R,Mt.marker);wt?U&&(Mt.to=wt.to==null?null:wt.to+et):Mt.to=b}}if(R)for(var Ft=0;Ft<R.length;++Ft){var Wt=R[Ft];if(Wt.to!=null&&(Wt.to+=et),Wt.from==null){var ce=Nr(D,Wt.marker);ce||(Wt.from=et,U&&(D||(D=[])).push(Wt))}else Wt.from+=et,U&&(D||(D=[])).push(Wt)}D&&(D=Wr(D)),R&&R!=D&&(R=Wr(R));var be=[D];if(!U){var Ce=c.text.length-2,ve;if(Ce>0&&D)for(var xe=0;xe<D.length;++xe)D[xe].to==null&&(ve||(ve=[])).push(new ki(D[xe].marker,null,null));for(var Ie=0;Ie<Ce;++Ie)be.push(ve);be.push(R)}return be}function Wr(s){for(var c=0;c<s.length;++c){var m=s[c];m.from!=null&&m.from==m.to&&m.marker.clearWhenEmpty!==!1&&s.splice(c--,1)}return s.length?s:null}function pr(s,c,m){var g=null;if(s.iter(c.line,m.line+1,function(wt){if(wt.markedSpans)for(var Ft=0;Ft<wt.markedSpans.length;++Ft){var Wt=wt.markedSpans[Ft].marker;Wt.readOnly&&(!g||Zt(g,Wt)==-1)&&(g||(g=[])).push(Wt)}}),!g)return null;for(var b=[{from:c,to:m}],C=0;C<g.length;++C)for(var E=g[C],D=E.find(0),R=0;R<b.length;++R){var U=b[R];if(!(Re(U.to,D.from)<0||Re(U.from,D.to)>0)){var et=[R,1],at=Re(U.from,D.from),Mt=Re(U.to,D.to);(at<0||!E.inclusiveLeft&&!at)&&et.push({from:U.from,to:D.from}),(Mt>0||!E.inclusiveRight&&!Mt)&&et.push({from:D.to,to:U.to}),b.splice.apply(b,et),R+=et.length-3}}return b}function ha(s){var c=s.markedSpans;if(c){for(var m=0;m<c.length;++m)c[m].marker.detachLine(s);s.markedSpans=null}}function ro(s,c){if(c){for(var m=0;m<c.length;++m)c[m].marker.attachLine(s);s.markedSpans=c}}function ni(s){return s.inclusiveLeft?-1:0}function Pi(s){return s.inclusiveRight?1:0}function io(s,c){var m=s.lines.length-c.lines.length;if(m!=0)return m;var g=s.find(),b=c.find(),C=Re(g.from,b.from)||ni(s)-ni(c);if(C)return-C;var E=Re(g.to,b.to)||Pi(s)-Pi(c);return E||c.id-s.id}function oo(s,c){var m=wr&&s.markedSpans,g;if(m)for(var b=void 0,C=0;C<m.length;++C)b=m[C],b.marker.collapsed&&(c?b.from:b.to)==null&&(!g||io(g,b.marker)<0)&&(g=b.marker);return g}function je(s){return oo(s,!0)}function Me(s){return oo(s,!1)}function dn(s,c){var m=wr&&s.markedSpans,g;if(m)for(var b=0;b<m.length;++b){var C=m[b];C.marker.collapsed&&(C.from==null||C.from<c)&&(C.to==null||C.to>c)&&(!g||io(g,C.marker)<0)&&(g=C.marker)}return g}function Pe(s,c,m,g,b){var C=Te(s,c),E=wr&&C.markedSpans;if(E)for(var D=0;D<E.length;++D){var R=E[D];if(R.marker.collapsed){var U=R.marker.find(0),et=Re(U.from,m)||ni(R.marker)-ni(b),at=Re(U.to,g)||Pi(R.marker)-Pi(b);if(!(et>=0&&at<=0||et<=0&&at>=0)&&(et<=0&&(R.marker.inclusiveRight&&b.inclusiveLeft?Re(U.to,m)>=0:Re(U.to,m)>0)||et>=0&&(R.marker.inclusiveRight&&b.inclusiveLeft?Re(U.from,g)<=0:Re(U.from,g)<0)))return!0}}}function Tn(s){for(var c;c=je(s);)s=c.find(-1,!0).line;return s}function Kn(s){for(var c;c=Me(s);)s=c.find(1,!0).line;return s}function xr(s){for(var c,m;c=Me(s);)s=c.find(1,!0).line,(m||(m=[])).push(s);return m}function ao(s,c){var m=Te(s,c),g=Tn(m);return m==g?c:en(g)}function qr(s,c){if(c>s.lastLine())return c;var m=Te(s,c),g;if(!Gr(s,m))return c;for(;g=Me(m);)m=g.find(1,!0).line;return en(m)+1}function Gr(s,c){var m=wr&&c.markedSpans;if(m){for(var g=void 0,b=0;b<m.length;++b)if(g=m[b],!!g.marker.collapsed){if(g.from==null)return!0;if(!g.marker.widgetNode&&g.from==0&&g.marker.inclusiveLeft&&kr(s,c,g))return!0}}}function kr(s,c,m){if(m.to==null){var g=m.marker.find(1,!0);return kr(s,g.line,Nr(g.line.markedSpans,m.marker))}if(m.marker.inclusiveRight&&m.to==c.text.length)return!0;for(var b=void 0,C=0;C<c.markedSpans.length;++C)if(b=c.markedSpans[C],b.marker.collapsed&&!b.marker.widgetNode&&b.from==m.to&&(b.to==null||b.to!=m.from)&&(b.marker.inclusiveLeft||m.marker.inclusiveRight)&&kr(s,c,b))return!0}function _i(s){s=Tn(s);for(var c=0,m=s.parent,g=0;g<m.lines.length;++g){var b=m.lines[g];if(b==s)break;c+=b.height}for(var C=m.parent;C;m=C,C=m.parent)for(var E=0;E<C.children.length;++E){var D=C.children[E];if(D==m)break;c+=D.height}return c}function Yo(s){if(s.height==0)return 0;for(var c=s.text.length,m,g=s;m=je(g);){var b=m.find(0,!0);g=b.from.line,c+=b.from.ch-b.to.ch}for(g=s;m=Me(g);){var C=m.find(0,!0);c-=g.text.length-C.from.ch,g=C.to.line,c+=g.text.length-C.to.ch}return c}function La(s){var c=s.display,m=s.doc;c.maxLine=Te(m,m.first),c.maxLineLength=Yo(c.maxLine),c.maxLineChanged=!0,m.iter(function(g){var b=Yo(g);b>c.maxLineLength&&(c.maxLineLength=b,c.maxLine=g)})}var Dr=function(s,c,m){this.text=s,ro(this,c),this.height=m?m(this):1};Dr.prototype.lineNo=function(){return en(this)},an(Dr);function Yu(s,c,m,g){s.text=c,s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null),s.order!=null&&(s.order=null),ha(s),ro(s,m);var b=g?g(s):1;b!=s.height&&Ar(s,b)}function Na(s){s.parent=null,ha(s)}var Xu={},zl={};function Fl(s,c){if(!s||/^\s*$/.test(s))return null;var m=c.addModeClass?zl:Xu;return m[s]||(m[s]=s.replace(/\S+/g,"cm-$&"))}function Zs(s,c){var m=J("span",null,null,d?"padding-right: .1px":null),g={pre:J("pre",[m],"CodeMirror-line"),content:m,col:0,pos:0,cm:s,trailingSpace:!1,splitSpaces:s.getOption("lineWrapping")};c.measure={};for(var b=0;b<=(c.rest?c.rest.length:0);b++){var C=b?c.rest[b-1]:c.line,E=void 0;g.pos=0,g.addToken=Wl,rn(s.display.measure)&&(E=F(C,s.doc.direction))&&(g.addToken=Ju(g.addToken,E)),g.map=[];var D=c!=s.display.externalMeasured&&en(C);Qu(C,g,Pr(s,C,D)),C.styleClasses&&(C.styleClasses.bgClass&&(g.bgClass=Bt(C.styleClasses.bgClass,g.bgClass||"")),C.styleClasses.textClass&&(g.textClass=Bt(C.styleClasses.textClass,g.textClass||""))),g.map.length==0&&g.map.push(0,0,g.content.appendChild(Ue(s.display.measure))),b==0?(c.measure.map=g.map,c.measure.cache={}):((c.measure.maps||(c.measure.maps=[])).push(g.map),(c.measure.caches||(c.measure.caches=[])).push({}))}if(d){var R=g.content.lastChild;(/\bcm-tab\b/.test(R.className)||R.querySelector&&R.querySelector(".cm-tab"))&&(g.content.className="cm-tab-wrap-hack")}return me(s,"renderLine",s,c.line,g.pre),g.pre.className&&(g.textClass=Bt(g.pre.className,g.textClass||"")),g}function Zu(s){var c=Q("span","•","cm-invalidchar");return c.title="\\u"+s.charCodeAt(0).toString(16),c.setAttribute("aria-label",c.title),c}function Wl(s,c,m,g,b,C,E){if(c){var D=s.splitSpaces?Js(c,s.trailingSpace):c,R=s.cm.state.specialChars,U=!1,et;if(!R.test(c))s.col+=c.length,et=document.createTextNode(D),s.map.push(s.pos,s.pos+c.length,et),f&&p<9&&(U=!0),s.pos+=c.length;else{et=document.createDocumentFragment();for(var at=0;;){R.lastIndex=at;var Mt=R.exec(c),wt=Mt?Mt.index-at:c.length-at;if(wt){var Ft=document.createTextNode(D.slice(at,at+wt));f&&p<9?et.appendChild(Q("span",[Ft])):et.appendChild(Ft),s.map.push(s.pos,s.pos+wt,Ft),s.col+=wt,s.pos+=wt}if(!Mt)break;at+=wt+1;var Wt=void 0;if(Mt[0]=="	"){var ce=s.cm.options.tabSize,be=ce-s.col%ce;Wt=et.appendChild(Q("span",se(be),"cm-tab")),Wt.setAttribute("role","presentation"),Wt.setAttribute("cm-text","	"),s.col+=be}else Mt[0]=="\r"||Mt[0]==`
`?(Wt=et.appendChild(Q("span",Mt[0]=="\r"?"␍":"␤","cm-invalidchar")),Wt.setAttribute("cm-text",Mt[0]),s.col+=1):(Wt=s.cm.options.specialCharPlaceholder(Mt[0]),Wt.setAttribute("cm-text",Mt[0]),f&&p<9?et.appendChild(Q("span",[Wt])):et.appendChild(Wt),s.col+=1);s.map.push(s.pos,s.pos+1,Wt),s.pos++}}if(s.trailingSpace=D.charCodeAt(c.length-1)==32,m||g||b||U||C||E){var Ce=m||"";g&&(Ce+=g),b&&(Ce+=b);var ve=Q("span",[et],Ce,C);if(E)for(var xe in E)E.hasOwnProperty(xe)&&xe!="style"&&xe!="class"&&ve.setAttribute(xe,E[xe]);return s.content.appendChild(ve)}s.content.appendChild(et)}}function Js(s,c){if(s.length>1&&!/  /.test(s))return s;for(var m=c,g="",b=0;b<s.length;b++){var C=s.charAt(b);C==" "&&m&&(b==s.length-1||s.charCodeAt(b+1)==32)&&(C=" "),g+=C,m=C==" "}return g}function Ju(s,c){return function(m,g,b,C,E,D,R){b=b?b+" cm-force-border":"cm-force-border";for(var U=m.pos,et=U+g.length;;){for(var at=void 0,Mt=0;Mt<c.length&&(at=c[Mt],!(at.to>U&&at.from<=U));Mt++);if(at.to>=et)return s(m,g,b,C,E,D,R);s(m,g.slice(0,at.to-U),b,C,null,D,R),C=null,g=g.slice(at.to-U),U=at.to}}}function ql(s,c,m,g){var b=!g&&m.widgetNode;b&&s.map.push(s.pos,s.pos+c,b),!g&&s.cm.display.input.needsContentAttribute&&(b||(b=s.content.appendChild(document.createElement("span"))),b.setAttribute("cm-marker",m.id)),b&&(s.cm.display.input.setUneditable(b),s.content.appendChild(b)),s.pos+=c,s.trailingSpace=!1}function Qu(s,c,m){var g=s.markedSpans,b=s.text,C=0;if(!g){for(var E=1;E<m.length;E+=2)c.addToken(c,b.slice(C,C=m[E]),Fl(m[E+1],c.cm.options));return}for(var D=b.length,R=0,U=1,et="",at,Mt,wt=0,Ft,Wt,ce,be,Ce;;){if(wt==R){Ft=Wt=ce=Mt="",Ce=null,be=null,wt=1/0;for(var ve=[],xe=void 0,Ie=0;Ie<g.length;++Ie){var ke=g[Ie],Xe=ke.marker;if(Xe.type=="bookmark"&&ke.from==R&&Xe.widgetNode)ve.push(Xe);else if(ke.from<=R&&(ke.to==null||ke.to>R||Xe.collapsed&&ke.to==R&&ke.from==R)){if(ke.to!=null&&ke.to!=R&&wt>ke.to&&(wt=ke.to,Wt=""),Xe.className&&(Ft+=" "+Xe.className),Xe.css&&(Mt=(Mt?Mt+";":"")+Xe.css),Xe.startStyle&&ke.from==R&&(ce+=" "+Xe.startStyle),Xe.endStyle&&ke.to==wt&&(xe||(xe=[])).push(Xe.endStyle,ke.to),Xe.title&&((Ce||(Ce={})).title=Xe.title),Xe.attributes)for(var pn in Xe.attributes)(Ce||(Ce={}))[pn]=Xe.attributes[pn];Xe.collapsed&&(!be||io(be.marker,Xe)<0)&&(be=ke)}else ke.from>R&&wt>ke.from&&(wt=ke.from)}if(xe)for(var Cr=0;Cr<xe.length;Cr+=2)xe[Cr+1]==wt&&(Wt+=" "+xe[Cr]);if(!be||be.from==R)for(var Hn=0;Hn<ve.length;++Hn)ql(c,0,ve[Hn]);if(be&&(be.from||0)==R){if(ql(c,(be.to==null?D+1:be.to)-R,be.marker,be.from==null),be.to==null)return;be.to==R&&(be=!1)}}if(R>=D)break;for(var Si=Math.min(D,wt);;){if(et){var Zr=R+et.length;if(!be){var rr=Zr>Si?et.slice(0,Si-R):et;c.addToken(c,rr,at?at+Ft:Ft,ce,R+rr.length==wt?Wt:"",Mt,Ce)}if(Zr>=Si){et=et.slice(Si-R),R=Si;break}R=Zr,ce=""}et=b.slice(C,C=m[U++]),at=Fl(m[U++],c.cm.options)}}}function gs(s,c,m){this.line=c,this.rest=xr(c),this.size=this.rest?en(ue(this.rest))-m+1:1,this.node=this.text=null,this.hidden=Gr(s,c)}function Qs(s,c,m){for(var g=[],b,C=c;C<m;C=b){var E=new gs(s.doc,Te(s.doc,C),C);b=C+E.size,g.push(E)}return g}var va=null;function $u(s){va?va.ops.push(s):s.ownsGroup=va={ops:[s],delayedCallbacks:[]}}function tc(s){var c=s.delayedCallbacks,m=0;do{for(;m<c.length;m++)c[m].call(null);for(var g=0;g<s.ops.length;g++){var b=s.ops[g];if(b.cursorActivityHandlers)for(;b.cursorActivityCalled<b.cursorActivityHandlers.length;)b.cursorActivityHandlers[b.cursorActivityCalled++].call(null,b.cm)}}while(m<c.length)}function Gl(s,c){var m=s.ownsGroup;if(m)try{tc(m)}finally{va=null,c(m)}}var ka=null;function $n(s,c){var m=te(s,c);if(m.length){var g=Array.prototype.slice.call(arguments,2),b;va?b=va.delayedCallbacks:ka?b=ka:(b=ka=[],setTimeout(Va,0));for(var C=function(D){b.push(function(){return m[D].apply(null,g)})},E=0;E<m.length;++E)C(E)}}function Va(){var s=ka;ka=null;for(var c=0;c<s.length;++c)s[c]()}function Xo(s,c,m,g){for(var b=0;b<c.changes.length;b++){var C=c.changes[b];C=="text"?Yl(s,c):C=="gutter"?so(s,c,m,g):C=="class"?Ha(s,c):C=="widget"&&nc(s,c,g)}c.changes=null}function Ua(s){return s.node==s.text&&(s.node=Q("div",null,null,"position: relative"),s.text.parentNode&&s.text.parentNode.replaceChild(s.node,s.text),s.node.appendChild(s.text),f&&p<8&&(s.node.style.zIndex=2)),s.node}function ec(s,c){var m=c.bgClass?c.bgClass+" "+(c.line.bgClass||""):c.line.bgClass;if(m&&(m+=" CodeMirror-linebackground"),c.background)m?c.background.className=m:(c.background.parentNode.removeChild(c.background),c.background=null);else if(m){var g=Ua(c);c.background=g.insertBefore(Q("div",null,m),g.firstChild),s.display.input.setUneditable(c.background)}}function Kl(s,c){var m=s.display.externalMeasured;return m&&m.line==c.line?(s.display.externalMeasured=null,c.measure=m.measure,m.built):Zs(s,c)}function Yl(s,c){var m=c.text.className,g=Kl(s,c);c.text==c.node&&(c.node=g.pre),c.text.parentNode.replaceChild(g.pre,c.text),c.text=g.pre,g.bgClass!=c.bgClass||g.textClass!=c.textClass?(c.bgClass=g.bgClass,c.textClass=g.textClass,Ha(s,c)):m&&(c.text.className=m)}function Ha(s,c){ec(s,c),c.line.wrapClass?Ua(c).className=c.line.wrapClass:c.node!=c.text&&(c.node.className="");var m=c.textClass?c.textClass+" "+(c.line.textClass||""):c.line.textClass;c.text.className=m||""}function so(s,c,m,g){if(c.gutter&&(c.node.removeChild(c.gutter),c.gutter=null),c.gutterBackground&&(c.node.removeChild(c.gutterBackground),c.gutterBackground=null),c.line.gutterClass){var b=Ua(c);c.gutterBackground=Q("div",null,"CodeMirror-gutter-background "+c.line.gutterClass,"left: "+(s.options.fixedGutter?g.fixedPos:-g.gutterTotalWidth)+"px; width: "+g.gutterTotalWidth+"px"),s.display.input.setUneditable(c.gutterBackground),b.insertBefore(c.gutterBackground,c.text)}var C=c.line.gutterMarkers;if(s.options.lineNumbers||C){var E=Ua(c),D=c.gutter=Q("div",null,"CodeMirror-gutter-wrapper","left: "+(s.options.fixedGutter?g.fixedPos:-g.gutterTotalWidth)+"px");if(D.setAttribute("aria-hidden","true"),s.display.input.setUneditable(D),E.insertBefore(D,c.text),c.line.gutterClass&&(D.className+=" "+c.line.gutterClass),s.options.lineNumbers&&(!C||!C["CodeMirror-linenumbers"])&&(c.lineNumber=D.appendChild(Q("div",gi(s.options,m),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+g.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+s.display.lineNumInnerWidth+"px"))),C)for(var R=0;R<s.display.gutterSpecs.length;++R){var U=s.display.gutterSpecs[R].className,et=C.hasOwnProperty(U)&&C[U];et&&D.appendChild(Q("div",[et],"CodeMirror-gutter-elt","left: "+g.gutterLeft[U]+"px; width: "+g.gutterWidth[U]+"px"))}}}function nc(s,c,m){c.alignable&&(c.alignable=null);for(var g=$("CodeMirror-linewidget"),b=c.node.firstChild,C=void 0;b;b=C)C=b.nextSibling,g.test(b.className)&&c.node.removeChild(b);ga(s,c,m)}function Xl(s,c,m,g){var b=Kl(s,c);return c.text=c.node=b.pre,b.bgClass&&(c.bgClass=b.bgClass),b.textClass&&(c.textClass=b.textClass),Ha(s,c),so(s,c,m,g),ga(s,c,g),c.node}function ga(s,c,m){if($s(s,c.line,c,m,!0),c.rest)for(var g=0;g<c.rest.length;g++)$s(s,c.rest[g],c,m,!1)}function $s(s,c,m,g,b){if(c.widgets)for(var C=Ua(m),E=0,D=c.widgets;E<D.length;++E){var R=D[E],U=Q("div",[R.node],"CodeMirror-linewidget"+(R.className?" "+R.className:""));R.handleMouseEvents||U.setAttribute("cm-ignore-events","true"),Zl(R,U,m,g),s.display.input.setUneditable(U),b&&R.above?C.insertBefore(U,m.gutter||m.text):C.appendChild(U),$n(R,"redraw")}}function Zl(s,c,m,g){if(s.noHScroll){(m.alignable||(m.alignable=[])).push(c);var b=g.wrapperWidth;c.style.left=g.fixedPos+"px",s.coverGutter||(b-=g.gutterTotalWidth,c.style.paddingLeft=g.gutterTotalWidth+"px"),c.style.width=b+"px"}s.coverGutter&&(c.style.zIndex=5,c.style.position="relative",s.noHScroll||(c.style.marginLeft=-g.gutterTotalWidth+"px"))}function ma(s){if(s.height!=null)return s.height;var c=s.doc.cm;if(!c)return 0;if(!M(document.body,s.node)){var m="position: relative;";s.coverGutter&&(m+="margin-left: -"+c.display.gutters.offsetWidth+"px;"),s.noHScroll&&(m+="width: "+c.display.wrapper.clientWidth+"px;"),B(c.display.measure,Q("div",[s.node],null,m))}return s.height=s.node.parentNode.offsetHeight}function Kr(s,c){for(var m=ut(c);m!=s.wrapper;m=m.parentNode)if(!m||m.nodeType==1&&m.getAttribute("cm-ignore-events")=="true"||m.parentNode==s.sizer&&m!=s.mover)return!0}function Ba(s){return s.lineSpace.offsetTop}function ms(s){return s.mover.offsetHeight-s.lineSpace.offsetHeight}function rc(s){if(s.cachedPaddingH)return s.cachedPaddingH;var c=B(s.measure,Q("pre","x","CodeMirror-line-like")),m=window.getComputedStyle?window.getComputedStyle(c):c.currentStyle,g={left:parseInt(m.paddingLeft),right:parseInt(m.paddingRight)};return!isNaN(g.left)&&!isNaN(g.right)&&(s.cachedPaddingH=g),g}function bi(s){return Qt-s.display.nativeBarWidth}function Zo(s){return s.display.scroller.clientWidth-bi(s)-s.display.barWidth}function L(s){return s.display.scroller.clientHeight-bi(s)-s.display.barHeight}function W(s,c,m){var g=s.options.lineWrapping,b=g&&Zo(s);if(!c.measure.heights||g&&c.measure.width!=b){var C=c.measure.heights=[];if(g){c.measure.width=b;for(var E=c.text.firstChild.getClientRects(),D=0;D<E.length-1;D++){var R=E[D],U=E[D+1];Math.abs(R.bottom-U.bottom)>2&&C.push((R.bottom+U.top)/2-m.top)}}C.push(m.bottom-m.top)}}function lt(s,c,m){if(s.line==c)return{map:s.measure.map,cache:s.measure.cache};for(var g=0;g<s.rest.length;g++)if(s.rest[g]==c)return{map:s.measure.maps[g],cache:s.measure.caches[g]};for(var b=0;b<s.rest.length;b++)if(en(s.rest[b])>m)return{map:s.measure.maps[b],cache:s.measure.caches[b],before:!0}}function ct(s,c){c=Tn(c);var m=en(c),g=s.display.externalMeasured=new gs(s.doc,c,m);g.lineN=m;var b=g.built=Zs(s,g);return g.text=b.pre,B(s.display.lineMeasure,b.pre),g}function jt(s,c,m,g){return pe(s,Kt(s,c),m,g)}function Tt(s,c){if(c>=s.display.viewFrom&&c<s.display.viewTo)return s.display.view[Fa(s,c)];var m=s.display.externalMeasured;if(m&&c>=m.lineN&&c<m.lineN+m.size)return m}function Kt(s,c){var m=en(c),g=Tt(s,m);g&&!g.text?g=null:g&&g.changes&&(Xo(s,g,m,lc(s)),s.curOp.forceUpdate=!0),g||(g=ct(s,c));var b=lt(g,c,m);return{line:c,view:g,rect:null,map:b.map,cache:b.cache,before:b.before,hasHeights:!1}}function pe(s,c,m,g,b){c.before&&(m=-1);var C=m+(g||""),E;return c.cache.hasOwnProperty(C)?E=c.cache[C]:(c.rect||(c.rect=c.view.text.getBoundingClientRect()),c.hasHeights||(W(s,c.view,c.rect),c.hasHeights=!0),E=Yr(s,c,m,g),E.bogus||(c.cache[C]=E)),{left:E.left,right:E.right,top:b?E.rtop:E.top,bottom:b?E.rbottom:E.bottom}}var Ye={left:0,right:0,top:0,bottom:0};function We(s,c,m){for(var g,b,C,E,D,R,U=0;U<s.length;U+=3)if(D=s[U],R=s[U+1],c<D?(b=0,C=1,E="left"):c<R?(b=c-D,C=b+1):(U==s.length-3||c==R&&s[U+3]>c)&&(C=R-D,b=C-1,c>=R&&(E="right")),b!=null){if(g=s[U+2],D==R&&m==(g.insertLeft?"left":"right")&&(E=m),m=="left"&&b==0)for(;U&&s[U-2]==s[U-3]&&s[U-1].insertLeft;)g=s[(U-=3)+2],E="left";if(m=="right"&&b==R-D)for(;U<s.length-3&&s[U+3]==s[U+4]&&!s[U+5].insertLeft;)g=s[(U+=3)+2],E="right";break}return{node:g,start:b,end:C,collapse:E,coverStart:D,coverEnd:R}}function hr(s,c){var m=Ye;if(c=="left")for(var g=0;g<s.length&&(m=s[g]).left==m.right;g++);else for(var b=s.length-1;b>=0&&(m=s[b]).left==m.right;b--);return m}function Yr(s,c,m,g){var b=We(c.map,m,g),C=b.node,E=b.start,D=b.end,R=b.collapse,U;if(C.nodeType==3){for(var et=0;et<4;et++){for(;E&&Pt(c.line.text.charAt(b.coverStart+E));)--E;for(;b.coverStart+D<b.coverEnd&&Pt(c.line.text.charAt(b.coverStart+D));)++D;if(f&&p<9&&E==0&&D==b.coverEnd-b.coverStart?U=C.parentNode.getBoundingClientRect():U=hr(ft(C,E,D).getClientRects(),g),U.left||U.right||E==0)break;D=E,E=E-1,R="right"}f&&p<11&&(U=ic(s.display.measure,U))}else{E>0&&(R=g="right");var at;s.options.lineWrapping&&(at=C.getClientRects()).length>1?U=at[g=="right"?at.length-1:0]:U=C.getBoundingClientRect()}if(f&&p<9&&!E&&(!U||!U.left&&!U.right)){var Mt=C.parentNode.getClientRects()[0];Mt?U={left:Mt.left,right:Mt.left+_s(s.display),top:Mt.top,bottom:Mt.bottom}:U=Ye}for(var wt=U.top-c.rect.top,Ft=U.bottom-c.rect.top,Wt=(wt+Ft)/2,ce=c.view.measure.heights,be=0;be<ce.length-1&&!(Wt<ce[be]);be++);var Ce=be?ce[be-1]:0,ve=ce[be],xe={left:(R=="right"?U.right:U.left)-c.rect.left,right:(R=="left"?U.left:U.right)-c.rect.left,top:Ce,bottom:ve};return!U.left&&!U.right&&(xe.bogus=!0),s.options.singleCursorHeightPerLine||(xe.rtop=wt,xe.rbottom=Ft),xe}function ic(s,c){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!ti(s))return c;var m=screen.logicalXDPI/screen.deviceXDPI,g=screen.logicalYDPI/screen.deviceYDPI;return{left:c.left*m,right:c.right*m,top:c.top*g,bottom:c.bottom*g}}function Jl(s){if(s.measure&&(s.measure.cache={},s.measure.heights=null,s.rest))for(var c=0;c<s.rest.length;c++)s.measure.caches[c]={}}function xp(s){s.display.externalMeasure=null,X(s.display.lineMeasure);for(var c=0;c<s.display.view.length;c++)Jl(s.display.view[c])}function Ql(s){xp(s),s.display.cachedCharWidth=s.display.cachedTextHeight=s.display.cachedPaddingH=null,s.options.lineWrapping||(s.display.maxLineChanged=!0),s.display.lineNumChars=null}function Di(){return _&&j?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function tl(){return _&&j?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function oc(s){var c=0;if(s.widgets)for(var m=0;m<s.widgets.length;++m)s.widgets[m].above&&(c+=ma(s.widgets[m]));return c}function $l(s,c,m,g,b){if(!b){var C=oc(c);m.top+=C,m.bottom+=C}if(g=="line")return m;g||(g="local");var E=_i(c);if(g=="local"?E+=Ba(s.display):E-=s.display.viewOffset,g=="page"||g=="window"){var D=s.display.lineSpace.getBoundingClientRect();E+=D.top+(g=="window"?0:tl());var R=D.left+(g=="window"?0:Di());m.left+=R,m.right+=R}return m.top+=E,m.bottom+=E,m}function jf(s,c,m){if(m=="div")return c;var g=c.left,b=c.top;if(m=="page")g-=Di(),b-=tl();else if(m=="local"||!m){var C=s.display.sizer.getBoundingClientRect();g+=C.left,b+=C.top}var E=s.display.lineSpace.getBoundingClientRect();return{left:g-E.left,top:b-E.top}}function tu(s,c,m,g,b){return g||(g=Te(s.doc,c.line)),$l(s,g,jt(s,g,c.ch,b),m)}function Vi(s,c,m,g,b,C){g=g||Te(s.doc,c.line),b||(b=Kt(s,g));function E(Ft,Wt){var ce=pe(s,b,Ft,Wt?"right":"left",C);return Wt?ce.left=ce.right:ce.right=ce.left,$l(s,g,ce,m)}var D=F(g,s.doc.direction),R=c.ch,U=c.sticky;if(R>=g.text.length?(R=g.text.length,U="before"):R<=0&&(R=0,U="after"),!D)return E(U=="before"?R-1:R,U=="before");function et(Ft,Wt,ce){var be=D[Wt],Ce=be.level==1;return E(ce?Ft-1:Ft,Ce!=ce)}var at=Y(D,R,U),Mt=Ne,wt=et(R,at,U=="before");return Mt!=null&&(wt.other=et(R,Mt,U!="before")),wt}function Sp(s,c){var m=0;c=le(s.doc,c),s.options.lineWrapping||(m=_s(s.display)*c.ch);var g=Te(s.doc,c.line),b=_i(g)+Ba(s.display);return{left:m,right:m,top:b,bottom:b+g.height}}function Ia(s,c,m,g,b){var C=ie(s,c,m);return C.xRel=b,g&&(C.outside=g),C}function eu(s,c,m){var g=s.doc;if(m+=s.display.viewOffset,m<0)return Ia(g.first,0,null,-1,-1);var b=Sn(g,m),C=g.first+g.size-1;if(b>C)return Ia(g.first+g.size-1,Te(g,C).text.length,null,1,1);c<0&&(c=0);for(var E=Te(g,b);;){var D=ys(s,E,b,c,m),R=dn(E,D.ch+(D.xRel>0||D.outside>0?1:0));if(!R)return D;var U=R.find(1);if(U.line==b)return U;E=Te(g,b=U.line)}}function el(s,c,m,g){g-=oc(c);var b=c.text.length,C=we(function(E){return pe(s,m,E-1).bottom<=g},b,0);return b=we(function(E){return pe(s,m,E).top>g},C,b),{begin:C,end:b}}function ac(s,c,m,g){m||(m=Kt(s,c));var b=$l(s,c,pe(s,m,g),"line").top;return el(s,c,m,b)}function sc(s,c,m,g){return s.bottom<=m?!1:s.top>m?!0:(g?s.left:s.right)>c}function ys(s,c,m,g,b){b-=_i(c);var C=Kt(s,c),E=oc(c),D=0,R=c.text.length,U=!0,et=F(c,s.doc.direction);if(et){var at=(s.options.lineWrapping?Rf:nl)(s,c,m,C,et,g,b);U=at.level!=1,D=U?at.from:at.to-1,R=U?at.to:at.from-1}var Mt=null,wt=null,Ft=we(function(Ie){var ke=pe(s,C,Ie);return ke.top+=E,ke.bottom+=E,sc(ke,g,b,!1)?(ke.top<=b&&ke.left<=g&&(Mt=Ie,wt=ke),!0):!1},D,R),Wt,ce,be=!1;if(wt){var Ce=g-wt.left<wt.right-g,ve=Ce==U;Ft=Mt+(ve?0:1),ce=ve?"after":"before",Wt=Ce?wt.left:wt.right}else{!U&&(Ft==R||Ft==D)&&Ft++,ce=Ft==0?"after":Ft==c.text.length?"before":pe(s,C,Ft-(U?1:0)).bottom+E<=b==U?"after":"before";var xe=Vi(s,ie(m,Ft,ce),"line",c,C);Wt=xe.left,be=b<xe.top?-1:b>=xe.bottom?1:0}return Ft=St(c.text,Ft,1),Ia(m,Ft,ce,be,g-Wt)}function nl(s,c,m,g,b,C,E){var D=we(function(at){var Mt=b[at],wt=Mt.level!=1;return sc(Vi(s,ie(m,wt?Mt.to:Mt.from,wt?"before":"after"),"line",c,g),C,E,!0)},0,b.length-1),R=b[D];if(D>0){var U=R.level!=1,et=Vi(s,ie(m,U?R.from:R.to,U?"after":"before"),"line",c,g);sc(et,C,E,!0)&&et.top>E&&(R=b[D-1])}return R}function Rf(s,c,m,g,b,C,E){var D=el(s,c,g,E),R=D.begin,U=D.end;/\s/.test(c.text.charAt(U-1))&&U--;for(var et=null,at=null,Mt=0;Mt<b.length;Mt++){var wt=b[Mt];if(!(wt.from>=U||wt.to<=R)){var Ft=wt.level!=1,Wt=pe(s,g,Ft?Math.min(U,wt.to)-1:Math.max(R,wt.from)).right,ce=Wt<C?C-Wt+1e9:Wt-C;(!et||at>ce)&&(et=wt,at=ce)}}return et||(et=b[b.length-1]),et.from<R&&(et={from:R,to:et.to,level:et.level}),et.to>U&&(et={from:et.from,to:U,level:et.level}),et}var za;function lo(s){if(s.cachedTextHeight!=null)return s.cachedTextHeight;if(za==null){za=Q("pre",null,"CodeMirror-line-like");for(var c=0;c<49;++c)za.appendChild(document.createTextNode("x")),za.appendChild(Q("br"));za.appendChild(document.createTextNode("x"))}B(s.measure,za);var m=za.offsetHeight/50;return m>3&&(s.cachedTextHeight=m),X(s.measure),m||1}function _s(s){if(s.cachedCharWidth!=null)return s.cachedCharWidth;var c=Q("span","xxxxxxxxxx"),m=Q("pre",[c],"CodeMirror-line-like");B(s.measure,m);var g=c.getBoundingClientRect(),b=(g.right-g.left)/10;return b>2&&(s.cachedCharWidth=b),b||10}function lc(s){for(var c=s.display,m={},g={},b=c.gutters.clientLeft,C=c.gutters.firstChild,E=0;C;C=C.nextSibling,++E){var D=s.display.gutterSpecs[E].className;m[D]=C.offsetLeft+C.clientLeft+b,g[D]=C.clientWidth}return{fixedPos:uc(c),gutterTotalWidth:c.gutters.offsetWidth,gutterLeft:m,gutterWidth:g,wrapperWidth:c.wrapper.clientWidth}}function uc(s){return s.scroller.getBoundingClientRect().left-s.sizer.getBoundingClientRect().left}function Cp(s){var c=lo(s.display),m=s.options.lineWrapping,g=m&&Math.max(5,s.display.scroller.clientWidth/_s(s.display)-3);return function(b){if(Gr(s.doc,b))return 0;var C=0;if(b.widgets)for(var E=0;E<b.widgets.length;E++)b.widgets[E].height&&(C+=b.widgets[E].height);return m?C+(Math.ceil(b.text.length/g)||1)*c:C+c}}function Lf(s){var c=s.doc,m=Cp(s);c.iter(function(g){var b=m(g);b!=g.height&&Ar(g,b)})}function bs(s,c,m,g){var b=s.display;if(!m&&ut(c).getAttribute("cm-not-content")=="true")return null;var C,E,D=b.lineSpace.getBoundingClientRect();try{C=c.clientX-D.left,E=c.clientY-D.top}catch{return null}var R=eu(s,C,E),U;if(g&&R.xRel>0&&(U=Te(s.doc,R.line).text).length==R.ch){var et=Et(U,U.length,s.options.tabSize)-U.length;R=ie(R.line,Math.max(0,Math.round((C-rc(s.display).left)/_s(s.display))-et))}return R}function Fa(s,c){if(c>=s.display.viewTo||(c-=s.display.viewFrom,c<0))return null;for(var m=s.display.view,g=0;g<m.length;g++)if(c-=m[g].size,c<0)return g}function ri(s,c,m,g){c==null&&(c=s.doc.first),m==null&&(m=s.doc.first+s.doc.size),g||(g=0);var b=s.display;if(g&&m<b.viewTo&&(b.updateLineNumbers==null||b.updateLineNumbers>c)&&(b.updateLineNumbers=c),s.curOp.viewChanged=!0,c>=b.viewTo)wr&&ao(s.doc,c)<b.viewTo&&Vr(s);else if(m<=b.viewFrom)wr&&qr(s.doc,m+g)>b.viewFrom?Vr(s):(b.viewFrom+=g,b.viewTo+=g);else if(c<=b.viewFrom&&m>=b.viewTo)Vr(s);else if(c<=b.viewFrom){var C=nu(s,m,m+g,1);C?(b.view=b.view.slice(C.index),b.viewFrom=C.lineN,b.viewTo+=g):Vr(s)}else if(m>=b.viewTo){var E=nu(s,c,c,-1);E?(b.view=b.view.slice(0,E.index),b.viewTo=E.lineN):Vr(s)}else{var D=nu(s,c,c,-1),R=nu(s,m,m+g,1);D&&R?(b.view=b.view.slice(0,D.index).concat(Qs(s,D.lineN,R.lineN)).concat(b.view.slice(R.index)),b.viewTo+=g):Vr(s)}var U=b.externalMeasured;U&&(m<U.lineN?U.lineN+=g:c<U.lineN+U.size&&(b.externalMeasured=null))}function Jo(s,c,m){s.curOp.viewChanged=!0;var g=s.display,b=s.display.externalMeasured;if(b&&c>=b.lineN&&c<b.lineN+b.size&&(g.externalMeasured=null),!(c<g.viewFrom||c>=g.viewTo)){var C=g.view[Fa(s,c)];if(C.node!=null){var E=C.changes||(C.changes=[]);Zt(E,m)==-1&&E.push(m)}}}function Vr(s){s.display.viewFrom=s.display.viewTo=s.doc.first,s.display.view=[],s.display.viewOffset=0}function nu(s,c,m,g){var b=Fa(s,c),C,E=s.display.view;if(!wr||m==s.doc.first+s.doc.size)return{index:b,lineN:m};for(var D=s.display.viewFrom,R=0;R<b;R++)D+=E[R].size;if(D!=c){if(g>0){if(b==E.length-1)return null;C=D+E[b].size-c,b++}else C=D-c;c+=C,m+=C}for(;ao(s.doc,m)!=m;){if(b==(g<0?0:E.length-1))return null;m+=g*E[b-(g<0?1:0)].size,b+=g}return{index:b,lineN:m}}function uo(s,c,m){var g=s.display,b=g.view;b.length==0||c>=g.viewTo||m<=g.viewFrom?(g.view=Qs(s,c,m),g.viewFrom=c):(g.viewFrom>c?g.view=Qs(s,c,g.viewFrom).concat(g.view):g.viewFrom<c&&(g.view=g.view.slice(Fa(s,c))),g.viewFrom=c,g.viewTo<m?g.view=g.view.concat(Qs(s,g.viewTo,m)):g.viewTo>m&&(g.view=g.view.slice(0,Fa(s,m)))),g.viewTo=m}function Ui(s){for(var c=s.display.view,m=0,g=0;g<c.length;g++){var b=c[g];!b.hidden&&(!b.node||b.changes)&&++m}return m}function Qo(s){s.display.input.showSelection(s.display.input.prepareSelection())}function cc(s,c){c===void 0&&(c=!0);for(var m=s.doc,g={},b=g.cursors=document.createDocumentFragment(),C=g.selection=document.createDocumentFragment(),E=0;E<m.sel.ranges.length;E++)if(!(!c&&E==m.sel.primIndex)){var D=m.sel.ranges[E];if(!(D.from().line>=s.display.viewTo||D.to().line<s.display.viewFrom)){var R=D.empty();(R||s.options.showCursorWhenSelecting)&&ru(s,D.head,b),R||Nf(s,D,C)}}return g}function ru(s,c,m){var g=Vi(s,c,"div",null,null,!s.options.singleCursorHeightPerLine),b=m.appendChild(Q("div"," ","CodeMirror-cursor"));if(b.style.left=g.left+"px",b.style.top=g.top+"px",b.style.height=Math.max(0,g.bottom-g.top)*s.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(s.getWrapperElement().className)){var C=tu(s,c,"div",null,null);C.right-C.left>0&&(b.style.width=C.right-C.left+"px")}if(g.other){var E=m.appendChild(Q("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));E.style.display="",E.style.left=g.other.left+"px",E.style.top=g.other.top+"px",E.style.height=(g.other.bottom-g.other.top)*.85+"px"}}function ws(s,c){return s.top-c.top||s.left-c.left}function Nf(s,c,m){var g=s.display,b=s.doc,C=document.createDocumentFragment(),E=rc(s.display),D=E.left,R=Math.max(g.sizerWidth,Zo(s)-g.sizer.offsetLeft)-E.right,U=b.direction=="ltr";function et(ve,xe,Ie,ke){xe<0&&(xe=0),xe=Math.round(xe),ke=Math.round(ke),C.appendChild(Q("div",null,"CodeMirror-selected","position: absolute; left: "+ve+`px;
                             top: `+xe+"px; width: "+(Ie??R-ve)+`px;
                             height: `+(ke-xe)+"px"))}function at(ve,xe,Ie){var ke=Te(b,ve),Xe=ke.text.length,pn,Cr;function Hn(rr,zr){return tu(s,ie(ve,rr),"div",ke,zr)}function Si(rr,zr,Rr){var Rn=ac(s,ke,null,rr),on=zr=="ltr"==(Rr=="after")?"left":"right",Wn=Rr=="after"?Rn.begin:Rn.end-(/\s/.test(ke.text.charAt(Rn.end-1))?2:1);return Hn(Wn,on)[on]}var Zr=F(ke,b.direction);return Ee(Zr,xe||0,Ie??Xe,function(rr,zr,Rr,Rn){var on=Rr=="ltr",Wn=Hn(rr,on?"left":"right"),ui=Hn(zr-1,on?"right":"left"),ir=xe==null&&rr==0,os=Ie==null&&zr==Xe,Fr=Rn==0,No=!Zr||Rn==Zr.length-1;if(ui.top-Wn.top<=3){var nn=(U?ir:os)&&Fr,ci=(U?os:ir)&&No,Jr=nn?D:(on?Wn:ui).left,as=ci?R:(on?ui:Wn).right;et(Jr,Wn.top,as-Jr,Wn.bottom)}else{var ss,fi,ls,Ci;on?(ss=U&&ir&&Fr?D:Wn.left,fi=U?R:Si(rr,Rr,"before"),ls=U?D:Si(zr,Rr,"after"),Ci=U&&os&&No?R:ui.right):(ss=U?Si(rr,Rr,"before"):D,fi=!U&&ir&&Fr?R:Wn.right,ls=!U&&os&&No?D:ui.left,Ci=U?Si(zr,Rr,"after"):R),et(ss,Wn.top,fi-ss,Wn.bottom),Wn.bottom<ui.top&&et(D,Wn.bottom,null,ui.top),et(ls,ui.top,Ci-ls,ui.bottom)}(!pn||ws(Wn,pn)<0)&&(pn=Wn),ws(ui,pn)<0&&(pn=ui),(!Cr||ws(Wn,Cr)<0)&&(Cr=Wn),ws(ui,Cr)<0&&(Cr=ui)}),{start:pn,end:Cr}}var Mt=c.from(),wt=c.to();if(Mt.line==wt.line)at(Mt.line,Mt.ch,wt.ch);else{var Ft=Te(b,Mt.line),Wt=Te(b,wt.line),ce=Tn(Ft)==Tn(Wt),be=at(Mt.line,Mt.ch,ce?Ft.text.length+1:null).end,Ce=at(wt.line,ce?0:null,wt.ch).start;ce&&(be.top<Ce.top-2?(et(be.right,be.top,null,be.bottom),et(D,Ce.top,Ce.left,Ce.bottom)):et(be.right,be.top,Ce.left-be.right,be.bottom)),be.bottom<Ce.top&&et(D,be.bottom,null,Ce.top)}m.appendChild(C)}function Wa(s){if(s.state.focused){var c=s.display;clearInterval(c.blinker);var m=!0;c.cursorDiv.style.visibility="",s.options.cursorBlinkRate>0?c.blinker=setInterval(function(){s.hasFocus()||il(s),c.cursorDiv.style.visibility=(m=!m)?"":"hidden"},s.options.cursorBlinkRate):s.options.cursorBlinkRate<0&&(c.cursorDiv.style.visibility="hidden")}}function kf(s){s.hasFocus()||(s.display.input.focus(),s.state.focused||qa(s))}function rl(s){s.state.delayingBlurEvent=!0,setTimeout(function(){s.state.delayingBlurEvent&&(s.state.delayingBlurEvent=!1,s.state.focused&&il(s))},100)}function qa(s,c){s.state.delayingBlurEvent&&!s.state.draggingText&&(s.state.delayingBlurEvent=!1),s.options.readOnly!="nocursor"&&(s.state.focused||(me(s,"focus",s,c),s.state.focused=!0,yt(s.display.wrapper,"CodeMirror-focused"),!s.curOp&&s.display.selForContextMenu!=s.doc.sel&&(s.display.input.reset(),d&&setTimeout(function(){return s.display.input.reset(!0)},20)),s.display.input.receivedFocus()),Wa(s))}function il(s,c){s.state.delayingBlurEvent||(s.state.focused&&(me(s,"blur",s,c),s.state.focused=!1,mt(s.display.wrapper,"CodeMirror-focused")),clearInterval(s.display.blinker),setTimeout(function(){s.state.focused||(s.display.shift=!1)},150))}function ii(s){for(var c=s.display,m=c.lineDiv.offsetTop,g=Math.max(0,c.scroller.getBoundingClientRect().top),b=c.lineDiv.getBoundingClientRect().top,C=0,E=0;E<c.view.length;E++){var D=c.view[E],R=s.options.lineWrapping,U=void 0,et=0;if(!D.hidden){if(b+=D.line.height,f&&p<8){var at=D.node.offsetTop+D.node.offsetHeight;U=at-m,m=at}else{var Mt=D.node.getBoundingClientRect();U=Mt.bottom-Mt.top,!R&&D.text.firstChild&&(et=D.text.firstChild.getBoundingClientRect().right-Mt.left-1)}var wt=D.line.height-U;if((wt>.005||wt<-.005)&&(b<g&&(C-=wt),Ar(D.line,U),fc(D.line),D.rest))for(var Ft=0;Ft<D.rest.length;Ft++)fc(D.rest[Ft]);if(et>s.display.sizerWidth){var Wt=Math.ceil(et/_s(s.display));Wt>s.display.maxLineLength&&(s.display.maxLineLength=Wt,s.display.maxLine=D.line,s.display.maxLineChanged=!0)}}}Math.abs(C)>2&&(c.scroller.scrollTop+=C)}function fc(s){if(s.widgets)for(var c=0;c<s.widgets.length;++c){var m=s.widgets[c],g=m.node.parentNode;g&&(m.height=g.offsetHeight)}}function co(s,c,m){var g=m&&m.top!=null?Math.max(0,m.top):s.scroller.scrollTop;g=Math.floor(g-Ba(s));var b=m&&m.bottom!=null?m.bottom:g+s.wrapper.clientHeight,C=Sn(c,g),E=Sn(c,b);if(m&&m.ensure){var D=m.ensure.from.line,R=m.ensure.to.line;D<C?(C=D,E=Sn(c,_i(Te(c,D))+s.wrapper.clientHeight)):Math.min(R,c.lastLine())>=E&&(C=Sn(c,_i(Te(c,R))-s.wrapper.clientHeight),E=R)}return{from:C,to:Math.max(E,C+1)}}function Op(s,c){if(!de(s,"scrollCursorIntoView")){var m=s.display,g=m.sizer.getBoundingClientRect(),b=null;if(c.top+g.top<0?b=!0:c.bottom+g.top>(window.innerHeight||document.documentElement.clientHeight)&&(b=!1),b!=null&&!A){var C=Q("div","​",null,`position: absolute;
                         top: `+(c.top-m.viewOffset-Ba(s.display))+`px;
                         height: `+(c.bottom-c.top+bi(s)+m.barHeight)+`px;
                         left: `+c.left+"px; width: "+Math.max(2,c.right-c.left)+"px;");s.display.lineSpace.appendChild(C),C.scrollIntoView(b),s.display.lineSpace.removeChild(C)}}}function dc(s,c,m,g){g==null&&(g=0);var b;!s.options.lineWrapping&&c==m&&(m=c.sticky=="before"?ie(c.line,c.ch+1,"before"):c,c=c.ch?ie(c.line,c.sticky=="before"?c.ch-1:c.ch,"after"):c);for(var C=0;C<5;C++){var E=!1,D=Vi(s,c),R=!m||m==c?D:Vi(s,m);b={left:Math.min(D.left,R.left),top:Math.min(D.top,R.top)-g,right:Math.max(D.left,R.left),bottom:Math.max(D.bottom,R.bottom)+g};var U=iu(s,b),et=s.doc.scrollTop,at=s.doc.scrollLeft;if(U.scrollTop!=null&&(oi(s,U.scrollTop),Math.abs(s.doc.scrollTop-et)>1&&(E=!0)),U.scrollLeft!=null&&(wi(s,U.scrollLeft),Math.abs(s.doc.scrollLeft-at)>1&&(E=!0)),!E)break}return b}function xs(s,c){var m=iu(s,c);m.scrollTop!=null&&oi(s,m.scrollTop),m.scrollLeft!=null&&wi(s,m.scrollLeft)}function iu(s,c){var m=s.display,g=lo(s.display);c.top<0&&(c.top=0);var b=s.curOp&&s.curOp.scrollTop!=null?s.curOp.scrollTop:m.scroller.scrollTop,C=L(s),E={};c.bottom-c.top>C&&(c.bottom=c.top+C);var D=s.doc.height+ms(m),R=c.top<g,U=c.bottom>D-g;if(c.top<b)E.scrollTop=R?0:c.top;else if(c.bottom>b+C){var et=Math.min(c.top,(U?D:c.bottom)-C);et!=b&&(E.scrollTop=et)}var at=s.options.fixedGutter?0:m.gutters.offsetWidth,Mt=s.curOp&&s.curOp.scrollLeft!=null?s.curOp.scrollLeft:m.scroller.scrollLeft-at,wt=Zo(s)-m.gutters.offsetWidth,Ft=c.right-c.left>wt;return Ft&&(c.right=c.left+wt),c.left<10?E.scrollLeft=0:c.left<Mt?E.scrollLeft=Math.max(0,c.left+at-(Ft?0:10)):c.right>wt+Mt-3&&(E.scrollLeft=c.right+(Ft?0:10)-wt),E}function ou(s,c){c!=null&&(Ss(s),s.curOp.scrollTop=(s.curOp.scrollTop==null?s.doc.scrollTop:s.curOp.scrollTop)+c)}function Mo(s){Ss(s);var c=s.getCursor();s.curOp.scrollToPos={from:c,to:c,margin:s.options.cursorScrollMargin}}function $o(s,c,m){(c!=null||m!=null)&&Ss(s),c!=null&&(s.curOp.scrollLeft=c),m!=null&&(s.curOp.scrollTop=m)}function pc(s,c){Ss(s),s.curOp.scrollToPos=c}function Ss(s){var c=s.curOp.scrollToPos;if(c){s.curOp.scrollToPos=null;var m=Sp(s,c.from),g=Sp(s,c.to);Hi(s,m,g,c.margin)}}function Hi(s,c,m,g){var b=iu(s,{left:Math.min(c.left,m.left),top:Math.min(c.top,m.top)-g,right:Math.max(c.right,m.right),bottom:Math.max(c.bottom,m.bottom)+g});$o(s,b.scrollLeft,b.scrollTop)}function oi(s,c){Math.abs(s.doc.scrollTop-c)<2||(e||Hr(s,{top:c}),Ga(s,c,!0),e&&Hr(s),Fi(s,100))}function Ga(s,c,m){c=Math.max(0,Math.min(s.display.scroller.scrollHeight-s.display.scroller.clientHeight,c)),!(s.display.scroller.scrollTop==c&&!m)&&(s.doc.scrollTop=c,s.display.scrollbars.setScrollTop(c),s.display.scroller.scrollTop!=c&&(s.display.scroller.scrollTop=c))}function wi(s,c,m,g){c=Math.max(0,Math.min(c,s.display.scroller.scrollWidth-s.display.scroller.clientWidth)),!((m?c==s.doc.scrollLeft:Math.abs(s.doc.scrollLeft-c)<2)&&!g)&&(s.doc.scrollLeft=c,Ap(s),s.display.scroller.scrollLeft!=c&&(s.display.scroller.scrollLeft=c),s.display.scrollbars.setScrollLeft(c))}function Bi(s){var c=s.display,m=c.gutters.offsetWidth,g=Math.round(s.doc.height+ms(s.display));return{clientHeight:c.scroller.clientHeight,viewHeight:c.wrapper.clientHeight,scrollWidth:c.scroller.scrollWidth,clientWidth:c.scroller.clientWidth,viewWidth:c.wrapper.clientWidth,barLeft:s.options.fixedGutter?m:0,docHeight:g,scrollHeight:g+bi(s)+c.barHeight,nativeBarWidth:c.nativeBarWidth,gutterWidth:m}}var Ii=function(s,c,m){this.cm=m;var g=this.vert=Q("div",[Q("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),b=this.horiz=Q("div",[Q("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");g.tabIndex=b.tabIndex=-1,s(g),s(b),Dt(g,"scroll",function(){g.clientHeight&&c(g.scrollTop,"vertical")}),Dt(b,"scroll",function(){b.clientWidth&&c(b.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,f&&p<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ii.prototype.update=function(s){var c=s.scrollWidth>s.clientWidth+1,m=s.scrollHeight>s.clientHeight+1,g=s.nativeBarWidth;if(m){this.vert.style.display="block",this.vert.style.bottom=c?g+"px":"0";var b=s.viewHeight-(c?g:0);this.vert.firstChild.style.height=Math.max(0,s.scrollHeight-s.clientHeight+b)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(c){this.horiz.style.display="block",this.horiz.style.right=m?g+"px":"0",this.horiz.style.left=s.barLeft+"px";var C=s.viewWidth-s.barLeft-(m?g:0);this.horiz.firstChild.style.width=Math.max(0,s.scrollWidth-s.clientWidth+C)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&s.clientHeight>0&&(g==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:m?g:0,bottom:c?g:0}},Ii.prototype.setScrollLeft=function(s){this.horiz.scrollLeft!=s&&(this.horiz.scrollLeft=s),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ii.prototype.setScrollTop=function(s){this.vert.scrollTop!=s&&(this.vert.scrollTop=s),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ii.prototype.zeroWidthHack=function(){var s=k&&!O?"12px":"18px";this.horiz.style.height=this.vert.style.width=s,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new At,this.disableVert=new At},Ii.prototype.enableZeroWidthBar=function(s,c,m){s.style.pointerEvents="auto";function g(){var b=s.getBoundingClientRect(),C=m=="vert"?document.elementFromPoint(b.right-1,(b.top+b.bottom)/2):document.elementFromPoint((b.right+b.left)/2,b.bottom-1);C!=s?s.style.pointerEvents="none":c.set(1e3,g)}c.set(1e3,g)},Ii.prototype.clear=function(){var s=this.horiz.parentNode;s.removeChild(this.horiz),s.removeChild(this.vert)};var ol=function(){};ol.prototype.update=function(){return{bottom:0,right:0}},ol.prototype.setScrollLeft=function(){},ol.prototype.setScrollTop=function(){},ol.prototype.clear=function(){};function Ka(s,c){c||(c=Bi(s));var m=s.display.barWidth,g=s.display.barHeight;hc(s,c);for(var b=0;b<4&&m!=s.display.barWidth||g!=s.display.barHeight;b++)m!=s.display.barWidth&&s.options.lineWrapping&&ii(s),hc(s,Bi(s)),m=s.display.barWidth,g=s.display.barHeight}function hc(s,c){var m=s.display,g=m.scrollbars.update(c);m.sizer.style.paddingRight=(m.barWidth=g.right)+"px",m.sizer.style.paddingBottom=(m.barHeight=g.bottom)+"px",m.heightForcer.style.borderBottom=g.bottom+"px solid transparent",g.right&&g.bottom?(m.scrollbarFiller.style.display="block",m.scrollbarFiller.style.height=g.bottom+"px",m.scrollbarFiller.style.width=g.right+"px"):m.scrollbarFiller.style.display="",g.bottom&&s.options.coverGutterNextToScrollbar&&s.options.fixedGutter?(m.gutterFiller.style.display="block",m.gutterFiller.style.height=g.bottom+"px",m.gutterFiller.style.width=c.gutterWidth+"px"):m.gutterFiller.style.display=""}var ai={native:Ii,null:ol};function tr(s){s.display.scrollbars&&(s.display.scrollbars.clear(),s.display.scrollbars.addClass&&mt(s.display.wrapper,s.display.scrollbars.addClass)),s.display.scrollbars=new ai[s.options.scrollbarStyle](function(c){s.display.wrapper.insertBefore(c,s.display.scrollbarFiller),Dt(c,"mousedown",function(){s.state.focused&&setTimeout(function(){return s.display.input.focus()},0)}),c.setAttribute("cm-not-content","true")},function(c,m){m=="horizontal"?wi(s,c):oi(s,c)},s),s.display.scrollbars.addClass&&yt(s.display.wrapper,s.display.scrollbars.addClass)}var En=0;function zi(s){s.curOp={cm:s,viewChanged:!1,startHeight:s.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++En,markArrays:null},$u(s.curOp)}function si(s){var c=s.curOp;c&&Gl(c,function(m){for(var g=0;g<m.ops.length;g++)m.ops[g].cm.curOp=null;Vf(m)})}function Vf(s){for(var c=s.ops,m=0;m<c.length;m++)Cs(c[m]);for(var g=0;g<c.length;g++)Tp(c[g]);for(var b=0;b<c.length;b++)Ep(c[b]);for(var C=0;C<c.length;C++)au(c[C]);for(var E=0;E<c.length;E++)su(c[E])}function Cs(s){var c=s.cm,m=c.display;Uf(c),s.updateMaxLine&&La(c),s.mustUpdate=s.viewChanged||s.forceUpdate||s.scrollTop!=null||s.scrollToPos&&(s.scrollToPos.from.line<m.viewFrom||s.scrollToPos.to.line>=m.viewTo)||m.maxLineChanged&&c.options.lineWrapping,s.update=s.mustUpdate&&new fo(c,s.mustUpdate&&{top:s.scrollTop,ensure:s.scrollToPos},s.forceUpdate)}function Tp(s){s.updatedDisplay=s.mustUpdate&&al(s.cm,s.update)}function Ep(s){var c=s.cm,m=c.display;s.updatedDisplay&&ii(c),s.barMeasure=Bi(c),m.maxLineChanged&&!c.options.lineWrapping&&(s.adjustWidthTo=jt(c,m.maxLine,m.maxLine.text.length).left+3,c.display.sizerWidth=s.adjustWidthTo,s.barMeasure.scrollWidth=Math.max(m.scroller.clientWidth,m.sizer.offsetLeft+s.adjustWidthTo+bi(c)+c.display.barWidth),s.maxScrollLeft=Math.max(0,m.sizer.offsetLeft+s.adjustWidthTo-Zo(c))),(s.updatedDisplay||s.selectionChanged)&&(s.preparedSelection=m.input.prepareSelection())}function au(s){var c=s.cm;s.adjustWidthTo!=null&&(c.display.sizer.style.minWidth=s.adjustWidthTo+"px",s.maxScrollLeft<c.doc.scrollLeft&&wi(c,Math.min(c.display.scroller.scrollLeft,s.maxScrollLeft),!0),c.display.maxLineChanged=!1);var m=s.focus&&s.focus==ht();s.preparedSelection&&c.display.input.showSelection(s.preparedSelection,m),(s.updatedDisplay||s.startHeight!=c.doc.height)&&Ka(c,s.barMeasure),s.updatedDisplay&&Bf(c,s.barMeasure),s.selectionChanged&&Wa(c),c.state.focused&&s.updateInput&&c.display.input.reset(s.typing),m&&kf(s.cm)}function su(s){var c=s.cm,m=c.display,g=c.doc;if(s.updatedDisplay&&Xa(c,s.update),m.wheelStartX!=null&&(s.scrollTop!=null||s.scrollLeft!=null||s.scrollToPos)&&(m.wheelStartX=m.wheelStartY=null),s.scrollTop!=null&&Ga(c,s.scrollTop,s.forceScroll),s.scrollLeft!=null&&wi(c,s.scrollLeft,!0,!0),s.scrollToPos){var b=dc(c,le(g,s.scrollToPos.from),le(g,s.scrollToPos.to),s.scrollToPos.margin);Op(c,b)}var C=s.maybeHiddenMarkers,E=s.maybeUnhiddenMarkers;if(C)for(var D=0;D<C.length;++D)C[D].lines.length||me(C[D],"hide");if(E)for(var R=0;R<E.length;++R)E[R].lines.length&&me(E[R],"unhide");m.wrapper.offsetHeight&&(g.scrollTop=c.display.scroller.scrollTop),s.changeObjs&&me(c,"changes",c,s.changeObjs),s.update&&s.update.finish()}function xi(s,c){if(s.curOp)return c();zi(s);try{return c()}finally{si(s)}}function er(s,c){return function(){if(s.curOp)return c.apply(s,arguments);zi(s);try{return c.apply(s,arguments)}finally{si(s)}}}function Ur(s){return function(){if(this.curOp)return s.apply(this,arguments);zi(this);try{return s.apply(this,arguments)}finally{si(this)}}}function Fn(s){return function(){var c=this.cm;if(!c||c.curOp)return s.apply(this,arguments);zi(c);try{return s.apply(this,arguments)}finally{si(c)}}}function Fi(s,c){s.doc.highlightFrontier<s.display.viewTo&&s.state.highlight.set(c,Lt(Ya,s))}function Ya(s){var c=s.doc;if(!(c.highlightFrontier>=s.display.viewTo)){var m=+new Date+s.options.workTime,g=Ao(s,c.highlightFrontier),b=[];c.iter(g.line,Math.min(c.first+c.size,s.display.viewTo+500),function(C){if(g.line>=s.display.viewFrom){var E=C.styles,D=C.text.length>s.options.maxHighlightLength?sr(c.mode,g.state):null,R=Ei(s,C,g,!0);D&&(g.state=D),C.styles=R.styles;var U=C.styleClasses,et=R.classes;et?C.styleClasses=et:U&&(C.styleClasses=null);for(var at=!E||E.length!=C.styles.length||U!=et&&(!U||!et||U.bgClass!=et.bgClass||U.textClass!=et.textClass),Mt=0;!at&&Mt<E.length;++Mt)at=E[Mt]!=C.styles[Mt];at&&b.push(g.line),C.stateAfter=g.save(),g.nextLine()}else C.text.length<=s.options.maxHighlightLength&&qo(s,C.text,g),C.stateAfter=g.line%5==0?g.save():null,g.nextLine();if(+new Date>m)return Fi(s,s.options.workDelay),!0}),c.highlightFrontier=g.line,c.modeFrontier=Math.max(c.modeFrontier,g.line),b.length&&xi(s,function(){for(var C=0;C<b.length;C++)Jo(s,b[C],"text")})}}var fo=function(s,c,m){var g=s.display;this.viewport=c,this.visible=co(g,s.doc,c),this.editorIsHidden=!g.wrapper.offsetWidth,this.wrapperHeight=g.wrapper.clientHeight,this.wrapperWidth=g.wrapper.clientWidth,this.oldDisplayWidth=Zo(s),this.force=m,this.dims=lc(s),this.events=[]};fo.prototype.signal=function(s,c){Ge(s,c)&&this.events.push(arguments)},fo.prototype.finish=function(){for(var s=0;s<this.events.length;s++)me.apply(null,this.events[s])};function Uf(s){var c=s.display;!c.scrollbarsClipped&&c.scroller.offsetWidth&&(c.nativeBarWidth=c.scroller.offsetWidth-c.scroller.clientWidth,c.heightForcer.style.height=bi(s)+"px",c.sizer.style.marginBottom=-c.nativeBarWidth+"px",c.sizer.style.borderRightWidth=bi(s)+"px",c.scrollbarsClipped=!0)}function Hf(s){if(s.hasFocus())return null;var c=ht();if(!c||!M(s.display.lineDiv,c))return null;var m={activeElt:c};if(window.getSelection){var g=window.getSelection();g.anchorNode&&g.extend&&M(s.display.lineDiv,g.anchorNode)&&(m.anchorNode=g.anchorNode,m.anchorOffset=g.anchorOffset,m.focusNode=g.focusNode,m.focusOffset=g.focusOffset)}return m}function lu(s){if(!(!s||!s.activeElt||s.activeElt==ht())&&(s.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(s.activeElt.nodeName)&&s.anchorNode&&M(document.body,s.anchorNode)&&M(document.body,s.focusNode))){var c=window.getSelection(),m=document.createRange();m.setEnd(s.anchorNode,s.anchorOffset),m.collapse(!1),c.removeAllRanges(),c.addRange(m),c.extend(s.focusNode,s.focusOffset)}}function al(s,c){var m=s.display,g=s.doc;if(c.editorIsHidden)return Vr(s),!1;if(!c.force&&c.visible.from>=m.viewFrom&&c.visible.to<=m.viewTo&&(m.updateLineNumbers==null||m.updateLineNumbers>=m.viewTo)&&m.renderedView==m.view&&Ui(s)==0)return!1;Pp(s)&&(Vr(s),c.dims=lc(s));var b=g.first+g.size,C=Math.max(c.visible.from-s.options.viewportMargin,g.first),E=Math.min(b,c.visible.to+s.options.viewportMargin);m.viewFrom<C&&C-m.viewFrom<20&&(C=Math.max(g.first,m.viewFrom)),m.viewTo>E&&m.viewTo-E<20&&(E=Math.min(b,m.viewTo)),wr&&(C=ao(s.doc,C),E=qr(s.doc,E));var D=C!=m.viewFrom||E!=m.viewTo||m.lastWrapHeight!=c.wrapperHeight||m.lastWrapWidth!=c.wrapperWidth;uo(s,C,E),m.viewOffset=_i(Te(s.doc,m.viewFrom)),s.display.mover.style.top=m.viewOffset+"px";var R=Ui(s);if(!D&&R==0&&!c.force&&m.renderedView==m.view&&(m.updateLineNumbers==null||m.updateLineNumbers>=m.viewTo))return!1;var U=Hf(s);return R>4&&(m.lineDiv.style.display="none"),vc(s,m.updateLineNumbers,c.dims),R>4&&(m.lineDiv.style.display=""),m.renderedView=m.view,lu(U),X(m.cursorDiv),X(m.selectionDiv),m.gutters.style.height=m.sizer.style.minHeight=0,D&&(m.lastWrapHeight=c.wrapperHeight,m.lastWrapWidth=c.wrapperWidth,Fi(s,400)),m.updateLineNumbers=null,!0}function Xa(s,c){for(var m=c.viewport,g=!0;;g=!1){if(!g||!s.options.lineWrapping||c.oldDisplayWidth==Zo(s)){if(m&&m.top!=null&&(m={top:Math.min(s.doc.height+ms(s.display)-L(s),m.top)}),c.visible=co(s.display,s.doc,m),c.visible.from>=s.display.viewFrom&&c.visible.to<=s.display.viewTo)break}else g&&(c.visible=co(s.display,s.doc,m));if(!al(s,c))break;ii(s);var b=Bi(s);Qo(s),Ka(s,b),Bf(s,b),c.force=!1}c.signal(s,"update",s),(s.display.viewFrom!=s.display.reportedViewFrom||s.display.viewTo!=s.display.reportedViewTo)&&(c.signal(s,"viewportChange",s,s.display.viewFrom,s.display.viewTo),s.display.reportedViewFrom=s.display.viewFrom,s.display.reportedViewTo=s.display.viewTo)}function Hr(s,c){var m=new fo(s,c);if(al(s,m)){ii(s),Xa(s,m);var g=Bi(s);Qo(s),Ka(s,g),Bf(s,g),m.finish()}}function vc(s,c,m){var g=s.display,b=s.options.lineNumbers,C=g.lineDiv,E=C.firstChild;function D(Ft){var Wt=Ft.nextSibling;return d&&k&&s.display.currentWheelTarget==Ft?Ft.style.display="none":Ft.parentNode.removeChild(Ft),Wt}for(var R=g.view,U=g.viewFrom,et=0;et<R.length;et++){var at=R[et];if(!at.hidden)if(!at.node||at.node.parentNode!=C){var Mt=Xl(s,at,U,m);C.insertBefore(Mt,E)}else{for(;E!=at.node;)E=D(E);var wt=b&&c!=null&&c<=U&&at.lineNumber;at.changes&&(Zt(at.changes,"gutter")>-1&&(wt=!1),Xo(s,at,U,m)),wt&&(X(at.lineNumber),at.lineNumber.appendChild(document.createTextNode(gi(s.options,U)))),E=at.node.nextSibling}U+=at.size}for(;E;)E=D(E)}function gc(s){var c=s.gutters.offsetWidth;s.sizer.style.marginLeft=c+"px",$n(s,"gutterChanged",s)}function Bf(s,c){s.display.sizer.style.minHeight=c.docHeight+"px",s.display.heightForcer.style.top=c.docHeight+"px",s.display.gutters.style.height=c.docHeight+s.display.barHeight+bi(s)+"px"}function Ap(s){var c=s.display,m=c.view;if(!(!c.alignWidgets&&(!c.gutters.firstChild||!s.options.fixedGutter))){for(var g=uc(c)-c.scroller.scrollLeft+s.doc.scrollLeft,b=c.gutters.offsetWidth,C=g+"px",E=0;E<m.length;E++)if(!m[E].hidden){s.options.fixedGutter&&(m[E].gutter&&(m[E].gutter.style.left=C),m[E].gutterBackground&&(m[E].gutterBackground.style.left=C));var D=m[E].alignable;if(D)for(var R=0;R<D.length;R++)D[R].style.left=C}s.options.fixedGutter&&(c.gutters.style.left=g+b+"px")}}function Pp(s){if(!s.options.lineNumbers)return!1;var c=s.doc,m=gi(s.options,c.first+c.size-1),g=s.display;if(m.length!=g.lineNumChars){var b=g.measure.appendChild(Q("div",[Q("div",m)],"CodeMirror-linenumber CodeMirror-gutter-elt")),C=b.firstChild.offsetWidth,E=b.offsetWidth-C;return g.lineGutter.style.width="",g.lineNumInnerWidth=Math.max(C,g.lineGutter.offsetWidth-E)+1,g.lineNumWidth=g.lineNumInnerWidth+E,g.lineNumChars=g.lineNumInnerWidth?m.length:-1,g.lineGutter.style.width=g.lineNumWidth+"px",gc(s.display),!0}return!1}function vr(s,c){for(var m=[],g=!1,b=0;b<s.length;b++){var C=s[b],E=null;if(typeof C!="string"&&(E=C.style,C=C.className),C=="CodeMirror-linenumbers")if(c)g=!0;else continue;m.push({className:C,style:E})}return c&&!g&&m.push({className:"CodeMirror-linenumbers",style:null}),m}function mc(s){var c=s.gutters,m=s.gutterSpecs;X(c),s.lineGutter=null;for(var g=0;g<m.length;++g){var b=m[g],C=b.className,E=b.style,D=c.appendChild(Q("div",null,"CodeMirror-gutter "+C));E&&(D.style.cssText=E),C=="CodeMirror-linenumbers"&&(s.lineGutter=D,D.style.width=(s.lineNumWidth||1)+"px")}c.style.display=m.length?"":"none",gc(s)}function ya(s){mc(s.display),ri(s),Ap(s)}function uu(s,c,m,g){var b=this;this.input=m,b.scrollbarFiller=Q("div",null,"CodeMirror-scrollbar-filler"),b.scrollbarFiller.setAttribute("cm-not-content","true"),b.gutterFiller=Q("div",null,"CodeMirror-gutter-filler"),b.gutterFiller.setAttribute("cm-not-content","true"),b.lineDiv=J("div",null,"CodeMirror-code"),b.selectionDiv=Q("div",null,null,"position: relative; z-index: 1"),b.cursorDiv=Q("div",null,"CodeMirror-cursors"),b.measure=Q("div",null,"CodeMirror-measure"),b.lineMeasure=Q("div",null,"CodeMirror-measure"),b.lineSpace=J("div",[b.measure,b.lineMeasure,b.selectionDiv,b.cursorDiv,b.lineDiv],null,"position: relative; outline: none");var C=J("div",[b.lineSpace],"CodeMirror-lines");b.mover=Q("div",[C],null,"position: relative"),b.sizer=Q("div",[b.mover],"CodeMirror-sizer"),b.sizerWidth=null,b.heightForcer=Q("div",null,null,"position: absolute; height: "+Qt+"px; width: 1px;"),b.gutters=Q("div",null,"CodeMirror-gutters"),b.lineGutter=null,b.scroller=Q("div",[b.sizer,b.heightForcer,b.gutters],"CodeMirror-scroll"),b.scroller.setAttribute("tabIndex","-1"),b.wrapper=Q("div",[b.scrollbarFiller,b.gutterFiller,b.scroller],"CodeMirror"),b.wrapper.setAttribute("translate","no"),f&&p<8&&(b.gutters.style.zIndex=-1,b.scroller.style.paddingRight=0),!d&&!(e&&z)&&(b.scroller.draggable=!0),s&&(s.appendChild?s.appendChild(b.wrapper):s(b.wrapper)),b.viewFrom=b.viewTo=c.first,b.reportedViewFrom=b.reportedViewTo=c.first,b.view=[],b.renderedView=null,b.externalMeasured=null,b.viewOffset=0,b.lastWrapHeight=b.lastWrapWidth=0,b.updateLineNumbers=null,b.nativeBarWidth=b.barHeight=b.barWidth=0,b.scrollbarsClipped=!1,b.lineNumWidth=b.lineNumInnerWidth=b.lineNumChars=null,b.alignWidgets=!1,b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,b.maxLine=null,b.maxLineLength=0,b.maxLineChanged=!1,b.wheelDX=b.wheelDY=b.wheelStartX=b.wheelStartY=null,b.shift=!1,b.selForContextMenu=null,b.activeTouch=null,b.gutterSpecs=vr(g.gutters,g.lineNumbers),mc(b),m.init(b)}var sl=0,Br=null;f?Br=-.53:e?Br=15:_?Br=-.7:S&&(Br=-1/3);function Os(s){var c=s.wheelDeltaX,m=s.wheelDeltaY;return c==null&&s.detail&&s.axis==s.HORIZONTAL_AXIS&&(c=s.detail),m==null&&s.detail&&s.axis==s.VERTICAL_AXIS?m=s.detail:m==null&&(m=s.wheelDelta),{x:c,y:m}}function wg(s){var c=Os(s);return c.x*=Br,c.y*=Br,c}function If(s,c){var m=Os(c),g=m.x,b=m.y,C=s.display,E=C.scroller,D=E.scrollWidth>E.clientWidth,R=E.scrollHeight>E.clientHeight;if(g&&D||b&&R){if(b&&k&&d){t:for(var U=c.target,et=C.view;U!=E;U=U.parentNode)for(var at=0;at<et.length;at++)if(et[at].node==U){s.display.currentWheelTarget=U;break t}}if(g&&!e&&!w&&Br!=null){b&&R&&oi(s,Math.max(0,E.scrollTop+b*Br)),wi(s,Math.max(0,E.scrollLeft+g*Br)),(!b||b&&R)&&tn(c),C.wheelStartX=null;return}if(b&&Br!=null){var Mt=b*Br,wt=s.doc.scrollTop,Ft=wt+C.wrapper.clientHeight;Mt<0?wt=Math.max(0,wt+Mt-50):Ft=Math.min(s.doc.height,Ft+Mt+50),Hr(s,{top:wt,bottom:Ft})}sl<20&&(C.wheelStartX==null?(C.wheelStartX=E.scrollLeft,C.wheelStartY=E.scrollTop,C.wheelDX=g,C.wheelDY=b,setTimeout(function(){if(C.wheelStartX!=null){var Wt=E.scrollLeft-C.wheelStartX,ce=E.scrollTop-C.wheelStartY,be=ce&&C.wheelDY&&ce/C.wheelDY||Wt&&C.wheelDX&&Wt/C.wheelDX;C.wheelStartX=C.wheelStartY=null,be&&(Br=(Br*sl+be)/(sl+1),++sl)}},200)):(C.wheelDX+=g,C.wheelDY+=b))}}var Wi=function(s,c){this.ranges=s,this.primIndex=c};Wi.prototype.primary=function(){return this.ranges[this.primIndex]},Wi.prototype.equals=function(s){if(s==this)return!0;if(s.primIndex!=this.primIndex||s.ranges.length!=this.ranges.length)return!1;for(var c=0;c<this.ranges.length;c++){var m=this.ranges[c],g=s.ranges[c];if(!mi(m.anchor,g.anchor)||!mi(m.head,g.head))return!1}return!0},Wi.prototype.deepCopy=function(){for(var s=[],c=0;c<this.ranges.length;c++)s[c]=new bn(I(this.ranges[c].anchor),I(this.ranges[c].head));return new Wi(s,this.primIndex)},Wi.prototype.somethingSelected=function(){for(var s=0;s<this.ranges.length;s++)if(!this.ranges[s].empty())return!0;return!1},Wi.prototype.contains=function(s,c){c||(c=s);for(var m=0;m<this.ranges.length;m++){var g=this.ranges[m];if(Re(c,g.from())>=0&&Re(s,g.to())<=0)return m}return-1};var bn=function(s,c){this.anchor=s,this.head=c};bn.prototype.from=function(){return qt(this.anchor,this.head)},bn.prototype.to=function(){return st(this.anchor,this.head)},bn.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Xr(s,c,m){var g=s&&s.options.selectionsMayTouch,b=c[m];c.sort(function(Mt,wt){return Re(Mt.from(),wt.from())}),m=Zt(c,b);for(var C=1;C<c.length;C++){var E=c[C],D=c[C-1],R=Re(D.to(),E.from());if(g&&!E.empty()?R>0:R>=0){var U=qt(D.from(),E.from()),et=st(D.to(),E.to()),at=D.empty()?E.from()==E.head:D.from()==D.head;C<=m&&--m,c.splice(--C,2,new bn(at?et:U,at?U:et))}}return new Wi(c,m)}function ta(s,c){return new Wi([new bn(s,c||s)],0)}function jo(s){return s.text?ie(s.from.line+s.text.length-1,ue(s.text).length+(s.text.length==1?s.from.ch:0)):s.to}function zf(s,c){if(Re(s,c.from)<0)return s;if(Re(s,c.to)<=0)return jo(c);var m=s.line+c.text.length-(c.to.line-c.from.line)-1,g=s.ch;return s.line==c.to.line&&(g+=jo(c).ch-c.to.ch),ie(m,g)}function Ts(s,c){for(var m=[],g=0;g<s.sel.ranges.length;g++){var b=s.sel.ranges[g];m.push(new bn(zf(b.anchor,c),zf(b.head,c)))}return Xr(s.cm,m,s.sel.primIndex)}function Ff(s,c,m){return s.line==c.line?ie(m.line,s.ch-c.ch+m.ch):ie(m.line+(s.line-c.line),s.ch)}function yc(s,c,m){for(var g=[],b=ie(s.first,0),C=b,E=0;E<c.length;E++){var D=c[E],R=Ff(D.from,b,C),U=Ff(jo(D),b,C);if(b=D.to,C=U,m=="around"){var et=s.sel.ranges[E],at=Re(et.head,et.anchor)<0;g[E]=new bn(at?U:R,at?R:U)}else g[E]=new bn(R,R)}return new Wi(g,s.sel.primIndex)}function cu(s){s.doc.mode=Be(s.options,s.doc.modeOption),ll(s)}function ll(s){s.doc.iter(function(c){c.stateAfter&&(c.stateAfter=null),c.styles&&(c.styles=null)}),s.doc.modeFrontier=s.doc.highlightFrontier=s.doc.first,Fi(s,100),s.state.modeGen++,s.curOp&&ri(s)}function fu(s,c){return c.from.ch==0&&c.to.ch==0&&ue(c.text)==""&&(!s.cm||s.cm.options.wholeLineUpdateBefore)}function _c(s,c,m,g){function b(Ce){return m?m[Ce]:null}function C(Ce,ve,xe){Yu(Ce,ve,xe,g),$n(Ce,"change",Ce,c)}function E(Ce,ve){for(var xe=[],Ie=Ce;Ie<ve;++Ie)xe.push(new Dr(U[Ie],b(Ie),g));return xe}var D=c.from,R=c.to,U=c.text,et=Te(s,D.line),at=Te(s,R.line),Mt=ue(U),wt=b(U.length-1),Ft=R.line-D.line;if(c.full)s.insert(0,E(0,U.length)),s.remove(U.length,s.size-U.length);else if(fu(s,c)){var Wt=E(0,U.length-1);C(at,at.text,wt),Ft&&s.remove(D.line,Ft),Wt.length&&s.insert(D.line,Wt)}else if(et==at)if(U.length==1)C(et,et.text.slice(0,D.ch)+Mt+et.text.slice(R.ch),wt);else{var ce=E(1,U.length-1);ce.push(new Dr(Mt+et.text.slice(R.ch),wt,g)),C(et,et.text.slice(0,D.ch)+U[0],b(0)),s.insert(D.line+1,ce)}else if(U.length==1)C(et,et.text.slice(0,D.ch)+U[0]+at.text.slice(R.ch),b(0)),s.remove(D.line+1,Ft);else{C(et,et.text.slice(0,D.ch)+U[0],b(0)),C(at,Mt+at.text.slice(R.ch),wt);var be=E(1,U.length-1);Ft>1&&s.remove(D.line+1,Ft-1),s.insert(D.line+1,be)}$n(s,"change",s,c)}function po(s,c,m){function g(b,C,E){if(b.linked)for(var D=0;D<b.linked.length;++D){var R=b.linked[D];if(R.doc!=C){var U=E&&R.sharedHist;m&&!U||(c(R.doc,U),g(R.doc,b,U))}}}g(s,null,!0)}function Wf(s,c){if(c.cm)throw new Error("This document is already in use.");s.doc=c,c.cm=s,Lf(s),cu(s),qf(s),s.options.direction=c.direction,s.options.lineWrapping||La(s),s.options.mode=c.modeOption,ri(s)}function qf(s){(s.doc.direction=="rtl"?yt:mt)(s.display.lineDiv,"CodeMirror-rtl")}function Za(s){xi(s,function(){qf(s),ri(s)})}function ul(s){this.done=[],this.undone=[],this.undoDepth=s?s.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=s?s.maxGeneration:1}function du(s,c){var m={from:I(c.from),to:jo(c),text:br(s,c.from,c.to)};return fl(s,m,c.from.line,c.to.line+1),po(s,function(g){return fl(g,m,c.from.line,c.to.line+1)},!0),m}function _a(s){for(;s.length;){var c=ue(s);if(c.ranges)s.pop();else break}}function Ja(s,c){if(c)return _a(s.done),ue(s.done);if(s.done.length&&!ue(s.done).ranges)return ue(s.done);if(s.done.length>1&&!s.done[s.done.length-2].ranges)return s.done.pop(),ue(s.done)}function cl(s,c,m,g){var b=s.history;b.undone.length=0;var C=+new Date,E,D;if((b.lastOp==g||b.lastOrigin==c.origin&&c.origin&&(c.origin.charAt(0)=="+"&&b.lastModTime>C-(s.cm?s.cm.options.historyEventDelay:500)||c.origin.charAt(0)=="*"))&&(E=Ja(b,b.lastOp==g)))D=ue(E.changes),Re(c.from,c.to)==0&&Re(c.from,D.to)==0?D.to=jo(c):E.changes.push(du(s,c));else{var R=ue(b.done);for((!R||!R.ranges)&&Qa(s.sel,b.done),E={changes:[du(s,c)],generation:b.generation},b.done.push(E);b.done.length>b.undoDepth;)b.done.shift(),b.done[0].ranges||b.done.shift()}b.done.push(m),b.generation=++b.maxGeneration,b.lastModTime=b.lastSelTime=C,b.lastOp=b.lastSelOp=g,b.lastOrigin=b.lastSelOrigin=c.origin,D||me(s,"historyAdded")}function Gf(s,c,m,g){var b=c.charAt(0);return b=="*"||b=="+"&&m.ranges.length==g.ranges.length&&m.somethingSelected()==g.somethingSelected()&&new Date-s.history.lastSelTime<=(s.cm?s.cm.options.historyEventDelay:500)}function Kf(s,c,m,g){var b=s.history,C=g&&g.origin;m==b.lastSelOp||C&&b.lastSelOrigin==C&&(b.lastModTime==b.lastSelTime&&b.lastOrigin==C||Gf(s,C,ue(b.done),c))?b.done[b.done.length-1]=c:Qa(c,b.done),b.lastSelTime=+new Date,b.lastSelOrigin=C,b.lastSelOp=m,g&&g.clearRedo!==!1&&_a(b.undone)}function Qa(s,c){var m=ue(c);m&&m.ranges&&m.equals(s)||c.push(s)}function fl(s,c,m,g){var b=c["spans_"+s.id],C=0;s.iter(Math.max(s.first,m),Math.min(s.first+s.size,g),function(E){E.markedSpans&&((b||(b=c["spans_"+s.id]={}))[C]=E.markedSpans),++C})}function Dp(s){if(!s)return null;for(var c,m=0;m<s.length;++m)s[m].marker.explicitlyCleared?c||(c=s.slice(0,m)):c&&c.push(s[m]);return c?c.length?c:null:s}function Mp(s,c){var m=c["spans_"+s.id];if(!m)return null;for(var g=[],b=0;b<c.text.length;++b)g.push(Dp(m[b]));return g}function Es(s,c){var m=Mp(s,c),g=Ko(s,c);if(!m)return g;if(!g)return m;for(var b=0;b<m.length;++b){var C=m[b],E=g[b];if(C&&E)t:for(var D=0;D<E.length;++D){for(var R=E[D],U=0;U<C.length;++U)if(C[U].marker==R.marker)continue t;C.push(R)}else E&&(m[b]=E)}return m}function ba(s,c,m){for(var g=[],b=0;b<s.length;++b){var C=s[b];if(C.ranges){g.push(m?Wi.prototype.deepCopy.call(C):C);continue}var E=C.changes,D=[];g.push({changes:D});for(var R=0;R<E.length;++R){var U=E[R],et=void 0;if(D.push({from:U.from,to:U.to,text:U.text}),c)for(var at in U)(et=at.match(/^spans_(\d+)$/))&&Zt(c,Number(et[1]))>-1&&(ue(D)[at]=U[at],delete U[at])}}return g}function bc(s,c,m,g){if(g){var b=s.anchor;if(m){var C=Re(c,b)<0;C!=Re(m,b)<0?(b=c,c=m):C!=Re(c,m)<0&&(c=m)}return new bn(b,c)}else return new bn(m||c,c)}function dl(s,c,m,g,b){b==null&&(b=s.cm&&(s.cm.display.shift||s.extend)),Sr(s,new Wi([bc(s.sel.primary(),c,m,b)],0),g)}function wc(s,c,m){for(var g=[],b=s.cm&&(s.cm.display.shift||s.extend),C=0;C<s.sel.ranges.length;C++)g[C]=bc(s.sel.ranges[C],c[C],null,b);var E=Xr(s.cm,g,s.sel.primIndex);Sr(s,E,m)}function ea(s,c,m,g){var b=s.sel.ranges.slice(0);b[c]=m,Sr(s,Xr(s.cm,b,s.sel.primIndex),g)}function sn(s,c,m,g){Sr(s,ta(c,m),g)}function jn(s,c,m){var g={ranges:c.ranges,update:function(b){this.ranges=[];for(var C=0;C<b.length;C++)this.ranges[C]=new bn(le(s,b[C].anchor),le(s,b[C].head))},origin:m&&m.origin};return me(s,"beforeSelectionChange",s,g),s.cm&&me(s.cm,"beforeSelectionChange",s.cm,g),g.ranges!=c.ranges?Xr(s.cm,g.ranges,g.ranges.length-1):c}function gr(s,c,m){var g=s.history.done,b=ue(g);b&&b.ranges?(g[g.length-1]=c,wa(s,c,m)):Sr(s,c,m)}function Sr(s,c,m){wa(s,c,m),Kf(s,s.sel,s.cm?s.cm.curOp.id:NaN,m)}function wa(s,c,m){(Ge(s,"beforeSelectionChange")||s.cm&&Ge(s.cm,"beforeSelectionChange"))&&(c=jn(s,c,m));var g=m&&m.bias||(Re(c.primary().head,s.sel.primary().head)<0?-1:1);$a(s,pl(s,c,g,!0)),!(m&&m.scroll===!1)&&s.cm&&s.cm.getOption("readOnly")!="nocursor"&&Mo(s.cm)}function $a(s,c){c.equals(s.sel)||(s.sel=c,s.cm&&(s.cm.curOp.updateInput=1,s.cm.curOp.selectionChanged=!0,De(s.cm)),$n(s,"cursorActivity",s))}function pu(s){$a(s,pl(s,s.sel,null,!1))}function pl(s,c,m,g){for(var b,C=0;C<c.ranges.length;C++){var E=c.ranges[C],D=c.ranges.length==s.sel.ranges.length&&s.sel.ranges[C],R=xc(s,E.anchor,D&&D.anchor,m,g),U=xc(s,E.head,D&&D.head,m,g);(b||R!=E.anchor||U!=E.head)&&(b||(b=c.ranges.slice(0,C)),b[C]=new bn(R,U))}return b?Xr(s.cm,b,c.primIndex):c}function Ro(s,c,m,g,b){var C=Te(s,c.line);if(C.markedSpans)for(var E=0;E<C.markedSpans.length;++E){var D=C.markedSpans[E],R=D.marker,U="selectLeft"in R?!R.selectLeft:R.inclusiveLeft,et="selectRight"in R?!R.selectRight:R.inclusiveRight;if((D.from==null||(U?D.from<=c.ch:D.from<c.ch))&&(D.to==null||(et?D.to>=c.ch:D.to>c.ch))){if(b&&(me(R,"beforeCursorEnter"),R.explicitlyCleared))if(C.markedSpans){--E;continue}else break;if(!R.atomic)continue;if(m){var at=R.find(g<0?1:-1),Mt=void 0;if((g<0?et:U)&&(at=fr(s,at,-g,at&&at.line==c.line?C:null)),at&&at.line==c.line&&(Mt=Re(at,m))&&(g<0?Mt<0:Mt>0))return Ro(s,at,c,g,b)}var wt=R.find(g<0?-1:1);return(g<0?U:et)&&(wt=fr(s,wt,g,wt.line==c.line?C:null)),wt?Ro(s,wt,c,g,b):null}}return c}function xc(s,c,m,g,b){var C=g||1,E=Ro(s,c,m,C,b)||!b&&Ro(s,c,m,C,!0)||Ro(s,c,m,-C,b)||!b&&Ro(s,c,m,-C,!0);return E||(s.cantEdit=!0,ie(s.first,0))}function fr(s,c,m,g){return m<0&&c.ch==0?c.line>s.first?le(s,ie(c.line-1)):null:m>0&&c.ch==(g||Te(s,c.line)).text.length?c.line<s.first+s.size-1?ie(c.line+1,0):null:new ie(c.line,c.ch+m)}function Sc(s){s.setSelection(ie(s.firstLine(),0),ie(s.lastLine()),oe)}function Cc(s,c,m){var g={canceled:!1,from:c.from,to:c.to,text:c.text,origin:c.origin,cancel:function(){return g.canceled=!0}};return m&&(g.update=function(b,C,E,D){b&&(g.from=le(s,b)),C&&(g.to=le(s,C)),E&&(g.text=E),D!==void 0&&(g.origin=D)}),me(s,"beforeChange",s,g),s.cm&&me(s.cm,"beforeChange",s.cm,g),g.canceled?(s.cm&&(s.cm.curOp.updateInput=2),null):{from:g.from,to:g.to,text:g.text,origin:g.origin}}function As(s,c,m){if(s.cm){if(!s.cm.curOp)return er(s.cm,As)(s,c,m);if(s.cm.state.suppressEdits)return}if(!((Ge(s,"beforeChange")||s.cm&&Ge(s.cm,"beforeChange"))&&(c=Cc(s,c,!0),!c))){var g=Qn&&!m&&pr(s,c.from,c.to);if(g)for(var b=g.length-1;b>=0;--b)Yf(s,{from:g[b].from,to:g[b].to,text:b?[""]:c.text,origin:c.origin});else Yf(s,c)}}function Yf(s,c){if(!(c.text.length==1&&c.text[0]==""&&Re(c.from,c.to)==0)){var m=Ts(s,c);cl(s,c,m,s.cm?s.cm.curOp.id:NaN),Ps(s,c,m,Ko(s,c));var g=[];po(s,function(b,C){!C&&Zt(g,b.history)==-1&&(hl(b.history,c),g.push(b.history)),Ps(b,c,null,Ko(b,c))})}}function Oc(s,c,m){var g=s.cm&&s.cm.state.suppressEdits;if(!(g&&!m)){for(var b=s.history,C,E=s.sel,D=c=="undo"?b.done:b.undone,R=c=="undo"?b.undone:b.done,U=0;U<D.length&&(C=D[U],!(m?C.ranges&&!C.equals(s.sel):!C.ranges));U++);if(U!=D.length){for(b.lastOrigin=b.lastSelOrigin=null;;)if(C=D.pop(),C.ranges){if(Qa(C,R),m&&!C.equals(s.sel)){Sr(s,C,{clearRedo:!1});return}E=C}else if(g){D.push(C);return}else break;var et=[];Qa(E,R),R.push({changes:et,generation:b.generation}),b.generation=C.generation||++b.maxGeneration;for(var at=Ge(s,"beforeChange")||s.cm&&Ge(s.cm,"beforeChange"),Mt=function(Wt){var ce=C.changes[Wt];if(ce.origin=c,at&&!Cc(s,ce,!1))return D.length=0,{};et.push(du(s,ce));var be=Wt?Ts(s,ce):ue(D);Ps(s,ce,be,Es(s,ce)),!Wt&&s.cm&&s.cm.scrollIntoView({from:ce.from,to:jo(ce)});var Ce=[];po(s,function(ve,xe){!xe&&Zt(Ce,ve.history)==-1&&(hl(ve.history,ce),Ce.push(ve.history)),Ps(ve,ce,null,Es(ve,ce))})},wt=C.changes.length-1;wt>=0;--wt){var Ft=Mt(wt);if(Ft)return Ft.v}}}}function Tc(s,c){if(c!=0&&(s.first+=c,s.sel=new Wi(Ve(s.sel.ranges,function(b){return new bn(ie(b.anchor.line+c,b.anchor.ch),ie(b.head.line+c,b.head.ch))}),s.sel.primIndex),s.cm)){ri(s.cm,s.first,s.first-c,c);for(var m=s.cm.display,g=m.viewFrom;g<m.viewTo;g++)Jo(s.cm,g,"gutter")}}function Ps(s,c,m,g){if(s.cm&&!s.cm.curOp)return er(s.cm,Ps)(s,c,m,g);if(c.to.line<s.first){Tc(s,c.text.length-1-(c.to.line-c.from.line));return}if(!(c.from.line>s.lastLine())){if(c.from.line<s.first){var b=c.text.length-1-(s.first-c.from.line);Tc(s,b),c={from:ie(s.first,0),to:ie(c.to.line+b,c.to.ch),text:[ue(c.text)],origin:c.origin}}var C=s.lastLine();c.to.line>C&&(c={from:c.from,to:ie(C,Te(s,C).text.length),text:[c.text[0]],origin:c.origin}),c.removed=br(s,c.from,c.to),m||(m=Ts(s,c)),s.cm?Xf(s.cm,c,g):_c(s,c,g),wa(s,m,oe),s.cantEdit&&xc(s,ie(s.firstLine(),0))&&(s.cantEdit=!1)}}function Xf(s,c,m){var g=s.doc,b=s.display,C=c.from,E=c.to,D=!1,R=C.line;s.options.lineWrapping||(R=en(Tn(Te(g,C.line))),g.iter(R,E.line+1,function(wt){if(wt==b.maxLine)return D=!0,!0})),g.sel.contains(c.from,c.to)>-1&&De(s),_c(g,c,m,Cp(s)),s.options.lineWrapping||(g.iter(R,C.line+c.text.length,function(wt){var Ft=Yo(wt);Ft>b.maxLineLength&&(b.maxLine=wt,b.maxLineLength=Ft,b.maxLineChanged=!0,D=!1)}),D&&(s.curOp.updateMaxLine=!0)),pa(g,C.line),Fi(s,400);var U=c.text.length-(E.line-C.line)-1;c.full?ri(s):C.line==E.line&&c.text.length==1&&!fu(s.doc,c)?Jo(s,C.line,"text"):ri(s,C.line,E.line+1,U);var et=Ge(s,"changes"),at=Ge(s,"change");if(at||et){var Mt={from:C,to:E,text:c.text,removed:c.removed,origin:c.origin};at&&$n(s,"change",s,Mt),et&&(s.curOp.changeObjs||(s.curOp.changeObjs=[])).push(Mt)}s.display.selForContextMenu=null}function Mr(s,c,m,g,b){var C;g||(g=m),Re(g,m)<0&&(C=[g,m],m=C[0],g=C[1]),typeof c=="string"&&(c=s.splitLines(c)),As(s,{from:m,to:g,text:c,origin:b})}function mr(s,c,m,g){m<s.line?s.line+=g:c<s.line&&(s.line=c,s.ch=0)}function Ec(s,c,m,g){for(var b=0;b<s.length;++b){var C=s[b],E=!0;if(C.ranges){C.copied||(C=s[b]=C.deepCopy(),C.copied=!0);for(var D=0;D<C.ranges.length;D++)mr(C.ranges[D].anchor,c,m,g),mr(C.ranges[D].head,c,m,g);continue}for(var R=0;R<C.changes.length;++R){var U=C.changes[R];if(m<U.from.line)U.from=ie(U.from.line+g,U.from.ch),U.to=ie(U.to.line+g,U.to.ch);else if(c<=U.to.line){E=!1;break}}E||(s.splice(0,b+1),b=0)}}function hl(s,c){var m=c.from.line,g=c.to.line,b=c.text.length-(g-m)-1;Ec(s.done,m,g,b),Ec(s.undone,m,g,b)}function ts(s,c,m,g){var b=c,C=c;return typeof c=="number"?C=Te(s,ee(s,c)):b=en(c),b==null?null:(g(C,b)&&s.cm&&Jo(s.cm,b,m),C)}function Ds(s){this.lines=s,this.parent=null;for(var c=0,m=0;m<s.length;++m)s[m].parent=this,c+=s[m].height;this.height=c}Ds.prototype={chunkSize:function(){return this.lines.length},removeInner:function(s,c){for(var m=s,g=s+c;m<g;++m){var b=this.lines[m];this.height-=b.height,Na(b),$n(b,"delete")}this.lines.splice(s,c)},collapse:function(s){s.push.apply(s,this.lines)},insertInner:function(s,c,m){this.height+=m,this.lines=this.lines.slice(0,s).concat(c).concat(this.lines.slice(s));for(var g=0;g<c.length;++g)c[g].parent=this},iterN:function(s,c,m){for(var g=s+c;s<g;++s)if(m(this.lines[s]))return!0}};function qi(s){this.children=s;for(var c=0,m=0,g=0;g<s.length;++g){var b=s[g];c+=b.chunkSize(),m+=b.height,b.parent=this}this.size=c,this.height=m,this.parent=null}qi.prototype={chunkSize:function(){return this.size},removeInner:function(s,c){this.size-=c;for(var m=0;m<this.children.length;++m){var g=this.children[m],b=g.chunkSize();if(s<b){var C=Math.min(c,b-s),E=g.height;if(g.removeInner(s,C),this.height-=E-g.height,b==C&&(this.children.splice(m--,1),g.parent=null),(c-=C)==0)break;s=0}else s-=b}if(this.size-c<25&&(this.children.length>1||!(this.children[0]instanceof Ds))){var D=[];this.collapse(D),this.children=[new Ds(D)],this.children[0].parent=this}},collapse:function(s){for(var c=0;c<this.children.length;++c)this.children[c].collapse(s)},insertInner:function(s,c,m){this.size+=c.length,this.height+=m;for(var g=0;g<this.children.length;++g){var b=this.children[g],C=b.chunkSize();if(s<=C){if(b.insertInner(s,c,m),b.lines&&b.lines.length>50){for(var E=b.lines.length%25+25,D=E;D<b.lines.length;){var R=new Ds(b.lines.slice(D,D+=25));b.height-=R.height,this.children.splice(++g,0,R),R.parent=this}b.lines=b.lines.slice(0,E),this.maybeSpill()}break}s-=C}},maybeSpill:function(){if(!(this.children.length<=10)){var s=this;do{var c=s.children.splice(s.children.length-5,5),m=new qi(c);if(s.parent){s.size-=m.size,s.height-=m.height;var b=Zt(s.parent.children,s);s.parent.children.splice(b+1,0,m)}else{var g=new qi(s.children);g.parent=s,s.children=[g,m],s=g}m.parent=s.parent}while(s.children.length>10);s.parent.maybeSpill()}},iterN:function(s,c,m){for(var g=0;g<this.children.length;++g){var b=this.children[g],C=b.chunkSize();if(s<C){var E=Math.min(c,C-s);if(b.iterN(s,E,m))return!0;if((c-=E)==0)break;s=0}else s-=C}}};var es=function(s,c,m){if(m)for(var g in m)m.hasOwnProperty(g)&&(this[g]=m[g]);this.doc=s,this.node=c};es.prototype.clear=function(){var s=this.doc.cm,c=this.line.widgets,m=this.line,g=en(m);if(!(g==null||!c)){for(var b=0;b<c.length;++b)c[b]==this&&c.splice(b--,1);c.length||(m.widgets=null);var C=ma(this);Ar(m,Math.max(0,m.height-C)),s&&(xi(s,function(){Ac(s,m,-C),Jo(s,g,"widget")}),$n(s,"lineWidgetCleared",s,this,g))}},es.prototype.changed=function(){var s=this,c=this.height,m=this.doc.cm,g=this.line;this.height=null;var b=ma(this)-c;b&&(Gr(this.doc,g)||Ar(g,g.height+b),m&&xi(m,function(){m.curOp.forceUpdate=!0,Ac(m,g,b),$n(m,"lineWidgetChanged",m,s,en(g))}))},an(es);function Ac(s,c,m){_i(c)<(s.curOp&&s.curOp.scrollTop||s.doc.scrollTop)&&ou(s,m)}function Zf(s,c,m,g){var b=new es(s,m,g),C=s.cm;return C&&b.noHScroll&&(C.display.alignWidgets=!0),ts(s,c,"widget",function(E){var D=E.widgets||(E.widgets=[]);if(b.insertAt==null?D.push(b):D.splice(Math.min(D.length,Math.max(0,b.insertAt)),0,b),b.line=E,C&&!Gr(s,E)){var R=_i(E)<s.scrollTop;Ar(E,E.height+ma(b)),R&&ou(C,b.height),C.curOp.forceUpdate=!0}return!0}),C&&$n(C,"lineWidgetAdded",C,b,typeof c=="number"?c:en(c)),b}var Jf=0,xa=function(s,c){this.lines=[],this.type=c,this.doc=s,this.id=++Jf};xa.prototype.clear=function(){if(!this.explicitlyCleared){var s=this.doc.cm,c=s&&!s.curOp;if(c&&zi(s),Ge(this,"clear")){var m=this.find();m&&$n(this,"clear",m.from,m.to)}for(var g=null,b=null,C=0;C<this.lines.length;++C){var E=this.lines[C],D=Nr(E.markedSpans,this);s&&!this.collapsed?Jo(s,en(E),"text"):s&&(D.to!=null&&(b=en(E)),D.from!=null&&(g=en(E))),E.markedSpans=zn(E.markedSpans,D),D.from==null&&this.collapsed&&!Gr(this.doc,E)&&s&&Ar(E,lo(s.display))}if(s&&this.collapsed&&!s.options.lineWrapping)for(var R=0;R<this.lines.length;++R){var U=Tn(this.lines[R]),et=Yo(U);et>s.display.maxLineLength&&(s.display.maxLine=U,s.display.maxLineLength=et,s.display.maxLineChanged=!0)}g!=null&&s&&this.collapsed&&ri(s,g,b+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,s&&pu(s.doc)),s&&$n(s,"markerCleared",s,this,g,b),c&&si(s),this.parent&&this.parent.clear()}},xa.prototype.find=function(s,c){s==null&&this.type=="bookmark"&&(s=1);for(var m,g,b=0;b<this.lines.length;++b){var C=this.lines[b],E=Nr(C.markedSpans,this);if(E.from!=null&&(m=ie(c?C:en(C),E.from),s==-1))return m;if(E.to!=null&&(g=ie(c?C:en(C),E.to),s==1))return g}return m&&{from:m,to:g}},xa.prototype.changed=function(){var s=this,c=this.find(-1,!0),m=this,g=this.doc.cm;!c||!g||xi(g,function(){var b=c.line,C=en(c.line),E=Tt(g,C);if(E&&(Jl(E),g.curOp.selectionChanged=g.curOp.forceUpdate=!0),g.curOp.updateMaxLine=!0,!Gr(m.doc,b)&&m.height!=null){var D=m.height;m.height=null;var R=ma(m)-D;R&&Ar(b,b.height+R)}$n(g,"markerChanged",g,s)})},xa.prototype.attachLine=function(s){if(!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;(!c.maybeHiddenMarkers||Zt(c.maybeHiddenMarkers,this)==-1)&&(c.maybeUnhiddenMarkers||(c.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(s)},xa.prototype.detachLine=function(s){if(this.lines.splice(Zt(this.lines,s),1),!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;(c.maybeHiddenMarkers||(c.maybeHiddenMarkers=[])).push(this)}},an(xa);function Ms(s,c,m,g,b){if(g&&g.shared)return jp(s,c,m,g,b);if(s.cm&&!s.cm.curOp)return er(s.cm,Ms)(s,c,m,g,b);var C=new xa(s,b),E=Re(c,m);if(g&&pt(g,C,!1),E>0||E==0&&C.clearWhenEmpty!==!1)return C;if(C.replacedWith&&(C.collapsed=!0,C.widgetNode=J("span",[C.replacedWith],"CodeMirror-widget"),g.handleMouseEvents||C.widgetNode.setAttribute("cm-ignore-events","true"),g.insertLeft&&(C.widgetNode.insertLeft=!0)),C.collapsed){if(Pe(s,c.line,c,m,C)||c.line!=m.line&&Pe(s,m.line,c,m,C))throw new Error("Inserting collapsed marker partially overlapping an existing one");ei()}C.addToHistory&&cl(s,{from:c,to:m,origin:"markText"},s.sel,NaN);var D=c.line,R=s.cm,U;if(s.iter(D,m.line+1,function(at){R&&C.collapsed&&!R.options.lineWrapping&&Tn(at)==R.display.maxLine&&(U=!0),C.collapsed&&D!=c.line&&Ar(at,0),Do(at,new ki(C,D==c.line?c.ch:null,D==m.line?m.ch:null),s.cm&&s.cm.curOp),++D}),C.collapsed&&s.iter(c.line,m.line+1,function(at){Gr(s,at)&&Ar(at,0)}),C.clearOnEnter&&Dt(C,"beforeCursorEnter",function(){return C.clear()}),C.readOnly&&(vs(),(s.history.done.length||s.history.undone.length)&&s.clearHistory()),C.collapsed&&(C.id=++Jf,C.atomic=!0),R){if(U&&(R.curOp.updateMaxLine=!0),C.collapsed)ri(R,c.line,m.line+1);else if(C.className||C.startStyle||C.endStyle||C.css||C.attributes||C.title)for(var et=c.line;et<=m.line;et++)Jo(R,et,"text");C.atomic&&pu(R.doc),$n(R,"markerAdded",R,C)}return C}var vl=function(s,c){this.markers=s,this.primary=c;for(var m=0;m<s.length;++m)s[m].parent=this};vl.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var s=0;s<this.markers.length;++s)this.markers[s].clear();$n(this,"clear")}},vl.prototype.find=function(s,c){return this.primary.find(s,c)},an(vl);function jp(s,c,m,g,b){g=pt(g),g.shared=!1;var C=[Ms(s,c,m,g,b)],E=C[0],D=g.widgetNode;return po(s,function(R){D&&(g.widgetNode=D.cloneNode(!0)),C.push(Ms(R,le(R,c),le(R,m),g,b));for(var U=0;U<R.linked.length;++U)if(R.linked[U].isParent)return;E=ue(C)}),new vl(C,E)}function Qf(s){return s.findMarks(ie(s.first,0),s.clipPos(ie(s.lastLine())),function(c){return c.parent})}function $f(s,c){for(var m=0;m<c.length;m++){var g=c[m],b=g.find(),C=s.clipPos(b.from),E=s.clipPos(b.to);if(Re(C,E)){var D=Ms(s,C,E,g.primary,g.primary.type);g.markers.push(D),D.parent=g}}}function Rp(s){for(var c=function(g){var b=s[g],C=[b.primary.doc];po(b.primary.doc,function(R){return C.push(R)});for(var E=0;E<b.markers.length;E++){var D=b.markers[E];Zt(C,D.doc)==-1&&(D.parent=null,b.markers.splice(E--,1))}},m=0;m<s.length;m++)c(m)}var xg=0,li=function(s,c,m,g,b){if(!(this instanceof li))return new li(s,c,m,g,b);m==null&&(m=0),qi.call(this,[new Ds([new Dr("",null)])]),this.first=m,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=m;var C=ie(m,0);this.sel=ta(C),this.history=new ul(null),this.id=++xg,this.modeOption=c,this.lineSep=g,this.direction=b=="rtl"?"rtl":"ltr",this.extend=!1,typeof s=="string"&&(s=this.splitLines(s)),_c(this,{from:C,to:C,text:s}),Sr(this,ta(C),oe)};li.prototype=N(qi.prototype,{constructor:li,iter:function(s,c,m){m?this.iterN(s-this.first,c-s,m):this.iterN(this.first,this.first+this.size,s)},insert:function(s,c){for(var m=0,g=0;g<c.length;++g)m+=c[g].height;this.insertInner(s-this.first,c,m)},remove:function(s,c){this.removeInner(s-this.first,c)},getValue:function(s){var c=Un(this,this.first,this.first+this.size);return s===!1?c:c.join(s||this.lineSeparator())},setValue:Fn(function(s){var c=ie(this.first,0),m=this.first+this.size-1;As(this,{from:c,to:ie(m,Te(this,m).text.length),text:this.splitLines(s),origin:"setValue",full:!0},!0),this.cm&&$o(this.cm,0,0),Sr(this,ta(c),oe)}),replaceRange:function(s,c,m,g){c=le(this,c),m=m?le(this,m):c,Mr(this,s,c,m,g)},getRange:function(s,c,m){var g=br(this,le(this,s),le(this,c));return m===!1?g:m===""?g.join(""):g.join(m||this.lineSeparator())},getLine:function(s){var c=this.getLineHandle(s);return c&&c.text},getLineHandle:function(s){if(cr(this,s))return Te(this,s)},getLineNumber:function(s){return en(s)},getLineHandleVisualStart:function(s){return typeof s=="number"&&(s=Te(this,s)),Tn(s)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(s){return le(this,s)},getCursor:function(s){var c=this.sel.primary(),m;return s==null||s=="head"?m=c.head:s=="anchor"?m=c.anchor:s=="end"||s=="to"||s===!1?m=c.to():m=c.from(),m},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Fn(function(s,c,m){sn(this,le(this,typeof s=="number"?ie(s,c||0):s),null,m)}),setSelection:Fn(function(s,c,m){sn(this,le(this,s),le(this,c||s),m)}),extendSelection:Fn(function(s,c,m){dl(this,le(this,s),c&&le(this,c),m)}),extendSelections:Fn(function(s,c){wc(this,$e(this,s),c)}),extendSelectionsBy:Fn(function(s,c){var m=Ve(this.sel.ranges,s);wc(this,$e(this,m),c)}),setSelections:Fn(function(s,c,m){if(s.length){for(var g=[],b=0;b<s.length;b++)g[b]=new bn(le(this,s[b].anchor),le(this,s[b].head||s[b].anchor));c==null&&(c=Math.min(s.length-1,this.sel.primIndex)),Sr(this,Xr(this.cm,g,c),m)}}),addSelection:Fn(function(s,c,m){var g=this.sel.ranges.slice(0);g.push(new bn(le(this,s),le(this,c||s))),Sr(this,Xr(this.cm,g,g.length-1),m)}),getSelection:function(s){for(var c=this.sel.ranges,m,g=0;g<c.length;g++){var b=br(this,c[g].from(),c[g].to());m=m?m.concat(b):b}return s===!1?m:m.join(s||this.lineSeparator())},getSelections:function(s){for(var c=[],m=this.sel.ranges,g=0;g<m.length;g++){var b=br(this,m[g].from(),m[g].to());s!==!1&&(b=b.join(s||this.lineSeparator())),c[g]=b}return c},replaceSelection:function(s,c,m){for(var g=[],b=0;b<this.sel.ranges.length;b++)g[b]=s;this.replaceSelections(g,c,m||"+input")},replaceSelections:Fn(function(s,c,m){for(var g=[],b=this.sel,C=0;C<b.ranges.length;C++){var E=b.ranges[C];g[C]={from:E.from(),to:E.to(),text:this.splitLines(s[C]),origin:m}}for(var D=c&&c!="end"&&yc(this,g,c),R=g.length-1;R>=0;R--)As(this,g[R]);D?gr(this,D):this.cm&&Mo(this.cm)}),undo:Fn(function(){Oc(this,"undo")}),redo:Fn(function(){Oc(this,"redo")}),undoSelection:Fn(function(){Oc(this,"undo",!0)}),redoSelection:Fn(function(){Oc(this,"redo",!0)}),setExtending:function(s){this.extend=s},getExtending:function(){return this.extend},historySize:function(){for(var s=this.history,c=0,m=0,g=0;g<s.done.length;g++)s.done[g].ranges||++c;for(var b=0;b<s.undone.length;b++)s.undone[b].ranges||++m;return{undo:c,redo:m}},clearHistory:function(){var s=this;this.history=new ul(this.history),po(this,function(c){return c.history=s.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(s){return s&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(s){return this.history.generation==(s||this.cleanGeneration)},getHistory:function(){return{done:ba(this.history.done),undone:ba(this.history.undone)}},setHistory:function(s){var c=this.history=new ul(this.history);c.done=ba(s.done.slice(0),null,!0),c.undone=ba(s.undone.slice(0),null,!0)},setGutterMarker:Fn(function(s,c,m){return ts(this,s,"gutter",function(g){var b=g.gutterMarkers||(g.gutterMarkers={});return b[c]=m,!m&&kt(b)&&(g.gutterMarkers=null),!0})}),clearGutter:Fn(function(s){var c=this;this.iter(function(m){m.gutterMarkers&&m.gutterMarkers[s]&&ts(c,m,"gutter",function(){return m.gutterMarkers[s]=null,kt(m.gutterMarkers)&&(m.gutterMarkers=null),!0})})}),lineInfo:function(s){var c;if(typeof s=="number"){if(!cr(this,s)||(c=s,s=Te(this,s),!s))return null}else if(c=en(s),c==null)return null;return{line:c,handle:s,text:s.text,gutterMarkers:s.gutterMarkers,textClass:s.textClass,bgClass:s.bgClass,wrapClass:s.wrapClass,widgets:s.widgets}},addLineClass:Fn(function(s,c,m){return ts(this,s,c=="gutter"?"gutter":"class",function(g){var b=c=="text"?"textClass":c=="background"?"bgClass":c=="gutter"?"gutterClass":"wrapClass";if(!g[b])g[b]=m;else{if($(m).test(g[b]))return!1;g[b]+=" "+m}return!0})}),removeLineClass:Fn(function(s,c,m){return ts(this,s,c=="gutter"?"gutter":"class",function(g){var b=c=="text"?"textClass":c=="background"?"bgClass":c=="gutter"?"gutterClass":"wrapClass",C=g[b];if(C)if(m==null)g[b]=null;else{var E=C.match($(m));if(!E)return!1;var D=E.index+E[0].length;g[b]=C.slice(0,E.index)+(!E.index||D==C.length?"":" ")+C.slice(D)||null}else return!1;return!0})}),addLineWidget:Fn(function(s,c,m){return Zf(this,s,c,m)}),removeLineWidget:function(s){s.clear()},markText:function(s,c,m){return Ms(this,le(this,s),le(this,c),m,m&&m.type||"range")},setBookmark:function(s,c){var m={replacedWith:c&&(c.nodeType==null?c.widget:c),insertLeft:c&&c.insertLeft,clearWhenEmpty:!1,shared:c&&c.shared,handleMouseEvents:c&&c.handleMouseEvents};return s=le(this,s),Ms(this,s,s,m,"bookmark")},findMarksAt:function(s){s=le(this,s);var c=[],m=Te(this,s.line).markedSpans;if(m)for(var g=0;g<m.length;++g){var b=m[g];(b.from==null||b.from<=s.ch)&&(b.to==null||b.to>=s.ch)&&c.push(b.marker.parent||b.marker)}return c},findMarks:function(s,c,m){s=le(this,s),c=le(this,c);var g=[],b=s.line;return this.iter(s.line,c.line+1,function(C){var E=C.markedSpans;if(E)for(var D=0;D<E.length;D++){var R=E[D];!(R.to!=null&&b==s.line&&s.ch>=R.to||R.from==null&&b!=s.line||R.from!=null&&b==c.line&&R.from>=c.ch)&&(!m||m(R.marker))&&g.push(R.marker.parent||R.marker)}++b}),g},getAllMarks:function(){var s=[];return this.iter(function(c){var m=c.markedSpans;if(m)for(var g=0;g<m.length;++g)m[g].from!=null&&s.push(m[g].marker)}),s},posFromIndex:function(s){var c,m=this.first,g=this.lineSeparator().length;return this.iter(function(b){var C=b.text.length+g;if(C>s)return c=s,!0;s-=C,++m}),le(this,ie(m,c))},indexFromPos:function(s){s=le(this,s);var c=s.ch;if(s.line<this.first||s.ch<0)return 0;var m=this.lineSeparator().length;return this.iter(this.first,s.line,function(g){c+=g.text.length+m}),c},copy:function(s){var c=new li(Un(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return c.scrollTop=this.scrollTop,c.scrollLeft=this.scrollLeft,c.sel=this.sel,c.extend=!1,s&&(c.history.undoDepth=this.history.undoDepth,c.setHistory(this.getHistory())),c},linkedDoc:function(s){s||(s={});var c=this.first,m=this.first+this.size;s.from!=null&&s.from>c&&(c=s.from),s.to!=null&&s.to<m&&(m=s.to);var g=new li(Un(this,c,m),s.mode||this.modeOption,c,this.lineSep,this.direction);return s.sharedHist&&(g.history=this.history),(this.linked||(this.linked=[])).push({doc:g,sharedHist:s.sharedHist}),g.linked=[{doc:this,isParent:!0,sharedHist:s.sharedHist}],$f(g,Qf(this)),g},unlinkDoc:function(s){if(s instanceof An&&(s=s.doc),this.linked)for(var c=0;c<this.linked.length;++c){var m=this.linked[c];if(m.doc==s){this.linked.splice(c,1),s.unlinkDoc(this),Rp(Qf(this));break}}if(s.history==this.history){var g=[s.id];po(s,function(b){return g.push(b.id)},!0),s.history=new ul(null),s.history.done=ba(this.history.done,g),s.history.undone=ba(this.history.undone,g)}},iterLinkedDocs:function(s){po(this,s)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(s){return this.lineSep?s.split(this.lineSep):vn(s)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Fn(function(s){s!="rtl"&&(s="ltr"),s!=this.direction&&(this.direction=s,this.iter(function(c){return c.order=null}),this.cm&&Za(this.cm))})}),li.prototype.eachLine=li.prototype.iter;var td=0;function Lp(s){var c=this;if(nd(c),!(de(c,s)||Kr(c.display,s))){tn(s),f&&(td=+new Date);var m=bs(c,s,!0),g=s.dataTransfer.files;if(!(!m||c.isReadOnly()))if(g&&g.length&&window.FileReader&&window.File)for(var b=g.length,C=Array(b),E=0,D=function(){++E==b&&er(c,function(){m=le(c.doc,m);var wt={from:m,to:m,text:c.doc.splitLines(C.filter(function(Ft){return Ft!=null}).join(c.doc.lineSeparator())),origin:"paste"};As(c.doc,wt),gr(c.doc,ta(le(c.doc,m),le(c.doc,jo(wt))))})()},R=function(wt,Ft){if(c.options.allowDropFileTypes&&Zt(c.options.allowDropFileTypes,wt.type)==-1){D();return}var Wt=new FileReader;Wt.onerror=function(){return D()},Wt.onload=function(){var ce=Wt.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ce)){D();return}C[Ft]=ce,D()},Wt.readAsText(wt)},U=0;U<g.length;U++)R(g[U],U);else{if(c.state.draggingText&&c.doc.sel.contains(m)>-1){c.state.draggingText(s),setTimeout(function(){return c.display.input.focus()},20);return}try{var et=s.dataTransfer.getData("Text");if(et){var at;if(c.state.draggingText&&!c.state.draggingText.copy&&(at=c.listSelections()),wa(c.doc,ta(m,m)),at)for(var Mt=0;Mt<at.length;++Mt)Mr(c.doc,"",at[Mt].anchor,at[Mt].head,"drag");c.replaceSelection(et,"around","paste"),c.display.input.focus()}}catch{}}}}function ed(s,c){if(f&&(!s.state.draggingText||+new Date-td<100)){q(c);return}if(!(de(s,c)||Kr(s.display,c))&&(c.dataTransfer.setData("Text",s.getSelection()),c.dataTransfer.effectAllowed="copyMove",c.dataTransfer.setDragImage&&!S)){var m=Q("img",null,null,"position: fixed; left: 0; top: 0;");m.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",w&&(m.width=m.height=1,s.display.wrapper.appendChild(m),m._top=m.offsetTop),c.dataTransfer.setDragImage(m,0,0),w&&m.parentNode.removeChild(m)}}function Np(s,c){var m=bs(s,c);if(m){var g=document.createDocumentFragment();ru(s,m,g),s.display.dragCursor||(s.display.dragCursor=Q("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),s.display.lineSpace.insertBefore(s.display.dragCursor,s.display.cursorDiv)),B(s.display.dragCursor,g)}}function nd(s){s.display.dragCursor&&(s.display.lineSpace.removeChild(s.display.dragCursor),s.display.dragCursor=null)}function rd(s){if(document.getElementsByClassName){for(var c=document.getElementsByClassName("CodeMirror"),m=[],g=0;g<c.length;g++){var b=c[g].CodeMirror;b&&m.push(b)}m.length&&m[0].operation(function(){for(var C=0;C<m.length;C++)s(m[C])})}}var id=!1;function kp(){id||(Sg(),id=!0)}function Sg(){var s;Dt(window,"resize",function(){s==null&&(s=setTimeout(function(){s=null,rd(Vp)},100))}),Dt(window,"blur",function(){return rd(il)})}function Vp(s){var c=s.display;c.cachedCharWidth=c.cachedTextHeight=c.cachedPaddingH=null,c.scrollbarsClipped=!1,s.setSize()}for(var Gi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ns=0;ns<10;ns++)Gi[ns+48]=Gi[ns+96]=String(ns);for(var hu=65;hu<=90;hu++)Gi[hu]=String.fromCharCode(hu);for(var rs=1;rs<=12;rs++)Gi[rs+111]=Gi[rs+63235]="F"+rs;var Ki={};Ki.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ki.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ki.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ki.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ki.default=k?Ki.macDefault:Ki.pcDefault;function Up(s){var c=s.split(/-(?!$)/);s=c[c.length-1];for(var m,g,b,C,E=0;E<c.length-1;E++){var D=c[E];if(/^(cmd|meta|m)$/i.test(D))C=!0;else if(/^a(lt)?$/i.test(D))m=!0;else if(/^(c|ctrl|control)$/i.test(D))g=!0;else if(/^s(hift)?$/i.test(D))b=!0;else throw new Error("Unrecognized modifier name: "+D)}return m&&(s="Alt-"+s),g&&(s="Ctrl-"+s),C&&(s="Cmd-"+s),b&&(s="Shift-"+s),s}function Hp(s){var c={};for(var m in s)if(s.hasOwnProperty(m)){var g=s[m];if(/^(name|fallthrough|(de|at)tach)$/.test(m))continue;if(g=="..."){delete s[m];continue}for(var b=Ve(m.split(" "),Up),C=0;C<b.length;C++){var E=void 0,D=void 0;C==b.length-1?(D=b.join(" "),E=g):(D=b.slice(0,C+1).join(" "),E="...");var R=c[D];if(!R)c[D]=E;else if(R!=E)throw new Error("Inconsistent bindings for "+D)}delete s[m]}for(var U in c)s[U]=c[U];return s}function js(s,c,m,g){c=gl(c);var b=c.call?c.call(s,g):c[s];if(b===!1)return"nothing";if(b==="...")return"multi";if(b!=null&&m(b))return"handled";if(c.fallthrough){if(Object.prototype.toString.call(c.fallthrough)!="[object Array]")return js(s,c.fallthrough,m,g);for(var C=0;C<c.fallthrough.length;C++){var E=js(s,c.fallthrough[C],m,g);if(E)return E}}}function od(s){var c=typeof s=="string"?s:Gi[s.keyCode];return c=="Ctrl"||c=="Alt"||c=="Shift"||c=="Mod"}function ad(s,c,m){var g=s;return c.altKey&&g!="Alt"&&(s="Alt-"+s),(Nt?c.metaKey:c.ctrlKey)&&g!="Ctrl"&&(s="Ctrl-"+s),(Nt?c.ctrlKey:c.metaKey)&&g!="Mod"&&(s="Cmd-"+s),!m&&c.shiftKey&&g!="Shift"&&(s="Shift-"+s),s}function sd(s,c){if(w&&s.keyCode==34&&s.char)return!1;var m=Gi[s.keyCode];return m==null||s.altGraphKey?!1:(s.keyCode==3&&s.code&&(m=s.code),ad(m,s,c))}function gl(s){return typeof s=="string"?Ki[s]:s}function Rs(s,c){for(var m=s.doc.sel.ranges,g=[],b=0;b<m.length;b++){for(var C=c(m[b]);g.length&&Re(C.from,ue(g).to)<=0;){var E=g.pop();if(Re(E.from,C.from)<0){C.from=E.from;break}}g.push(C)}xi(s,function(){for(var D=g.length-1;D>=0;D--)Mr(s.doc,"",g[D].from,g[D].to,"+delete");Mo(s)})}function Pc(s,c,m){var g=St(s.text,c+m,m);return g<0||g>s.text.length?null:g}function vu(s,c,m){var g=Pc(s,c.ch,m);return g==null?null:new ie(c.line,g,m<0?"after":"before")}function Dc(s,c,m,g,b){if(s){c.doc.direction=="rtl"&&(b=-b);var C=F(m,c.doc.direction);if(C){var E=b<0?ue(C):C[0],D=b<0==(E.level==1),R=D?"after":"before",U;if(E.level>0||c.doc.direction=="rtl"){var et=Kt(c,m);U=b<0?m.text.length-1:0;var at=pe(c,et,U).top;U=we(function(Mt){return pe(c,et,Mt).top==at},b<0==(E.level==1)?E.from:E.to-1,U),R=="before"&&(U=Pc(m,U,1))}else U=b<0?E.to:E.from;return new ie(g,U,R)}}return new ie(g,b<0?m.text.length:0,b<0?"before":"after")}function Bp(s,c,m,g){var b=F(c,s.doc.direction);if(!b)return vu(c,m,g);m.ch>=c.text.length?(m.ch=c.text.length,m.sticky="before"):m.ch<=0&&(m.ch=0,m.sticky="after");var C=Y(b,m.ch,m.sticky),E=b[C];if(s.doc.direction=="ltr"&&E.level%2==0&&(g>0?E.to>m.ch:E.from<m.ch))return vu(c,m,g);var D=function(be,Ce){return Pc(c,be instanceof ie?be.ch:be,Ce)},R,U=function(be){return s.options.lineWrapping?(R=R||Kt(s,c),ac(s,c,R,be)):{begin:0,end:c.text.length}},et=U(m.sticky=="before"?D(m,-1):m.ch);if(s.doc.direction=="rtl"||E.level==1){var at=E.level==1==g<0,Mt=D(m,at?1:-1);if(Mt!=null&&(at?Mt<=E.to&&Mt<=et.end:Mt>=E.from&&Mt>=et.begin)){var wt=at?"before":"after";return new ie(m.line,Mt,wt)}}var Ft=function(be,Ce,ve){for(var xe=function(pn,Cr){return Cr?new ie(m.line,D(pn,1),"before"):new ie(m.line,pn,"after")};be>=0&&be<b.length;be+=Ce){var Ie=b[be],ke=Ce>0==(Ie.level!=1),Xe=ke?ve.begin:D(ve.end,-1);if(Ie.from<=Xe&&Xe<Ie.to||(Xe=ke?Ie.from:D(Ie.to,-1),ve.begin<=Xe&&Xe<ve.end))return xe(Xe,ke)}},Wt=Ft(C+g,g,et);if(Wt)return Wt;var ce=g>0?et.end:D(et.begin,-1);return ce!=null&&!(g>0&&ce==c.text.length)&&(Wt=Ft(g>0?0:b.length-1,g,U(ce)),Wt)?Wt:null}var gu={selectAll:Sc,singleSelection:function(s){return s.setSelection(s.getCursor("anchor"),s.getCursor("head"),oe)},killLine:function(s){return Rs(s,function(c){if(c.empty()){var m=Te(s.doc,c.head.line).text.length;return c.head.ch==m&&c.head.line<s.lastLine()?{from:c.head,to:ie(c.head.line+1,0)}:{from:c.head,to:ie(c.head.line,m)}}else return{from:c.from(),to:c.to()}})},deleteLine:function(s){return Rs(s,function(c){return{from:ie(c.from().line,0),to:le(s.doc,ie(c.to().line+1,0))}})},delLineLeft:function(s){return Rs(s,function(c){return{from:ie(c.from().line,0),to:c.from()}})},delWrappedLineLeft:function(s){return Rs(s,function(c){var m=s.charCoords(c.head,"div").top+5,g=s.coordsChar({left:0,top:m},"div");return{from:g,to:c.from()}})},delWrappedLineRight:function(s){return Rs(s,function(c){var m=s.charCoords(c.head,"div").top+5,g=s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:m},"div");return{from:c.from(),to:g}})},undo:function(s){return s.undo()},redo:function(s){return s.redo()},undoSelection:function(s){return s.undoSelection()},redoSelection:function(s){return s.redoSelection()},goDocStart:function(s){return s.extendSelection(ie(s.firstLine(),0))},goDocEnd:function(s){return s.extendSelection(ie(s.lastLine()))},goLineStart:function(s){return s.extendSelectionsBy(function(c){return Mc(s,c.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(s){return s.extendSelectionsBy(function(c){return ld(s,c.head)},{origin:"+move",bias:1})},goLineEnd:function(s){return s.extendSelectionsBy(function(c){return Ip(s,c.head.line)},{origin:"+move",bias:-1})},goLineRight:function(s){return s.extendSelectionsBy(function(c){var m=s.cursorCoords(c.head,"div").top+5;return s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:m},"div")},He)},goLineLeft:function(s){return s.extendSelectionsBy(function(c){var m=s.cursorCoords(c.head,"div").top+5;return s.coordsChar({left:0,top:m},"div")},He)},goLineLeftSmart:function(s){return s.extendSelectionsBy(function(c){var m=s.cursorCoords(c.head,"div").top+5,g=s.coordsChar({left:0,top:m},"div");return g.ch<s.getLine(g.line).search(/\S/)?ld(s,c.head):g},He)},goLineUp:function(s){return s.moveV(-1,"line")},goLineDown:function(s){return s.moveV(1,"line")},goPageUp:function(s){return s.moveV(-1,"page")},goPageDown:function(s){return s.moveV(1,"page")},goCharLeft:function(s){return s.moveH(-1,"char")},goCharRight:function(s){return s.moveH(1,"char")},goColumnLeft:function(s){return s.moveH(-1,"column")},goColumnRight:function(s){return s.moveH(1,"column")},goWordLeft:function(s){return s.moveH(-1,"word")},goGroupRight:function(s){return s.moveH(1,"group")},goGroupLeft:function(s){return s.moveH(-1,"group")},goWordRight:function(s){return s.moveH(1,"word")},delCharBefore:function(s){return s.deleteH(-1,"codepoint")},delCharAfter:function(s){return s.deleteH(1,"char")},delWordBefore:function(s){return s.deleteH(-1,"word")},delWordAfter:function(s){return s.deleteH(1,"word")},delGroupBefore:function(s){return s.deleteH(-1,"group")},delGroupAfter:function(s){return s.deleteH(1,"group")},indentAuto:function(s){return s.indentSelection("smart")},indentMore:function(s){return s.indentSelection("add")},indentLess:function(s){return s.indentSelection("subtract")},insertTab:function(s){return s.replaceSelection("	")},insertSoftTab:function(s){for(var c=[],m=s.listSelections(),g=s.options.tabSize,b=0;b<m.length;b++){var C=m[b].from(),E=Et(s.getLine(C.line),C.ch,g);c.push(se(g-E%g))}s.replaceSelections(c)},defaultTab:function(s){s.somethingSelected()?s.indentSelection("add"):s.execCommand("insertTab")},transposeChars:function(s){return xi(s,function(){for(var c=s.listSelections(),m=[],g=0;g<c.length;g++)if(c[g].empty()){var b=c[g].head,C=Te(s.doc,b.line).text;if(C){if(b.ch==C.length&&(b=new ie(b.line,b.ch-1)),b.ch>0)b=new ie(b.line,b.ch+1),s.replaceRange(C.charAt(b.ch-1)+C.charAt(b.ch-2),ie(b.line,b.ch-2),b,"+transpose");else if(b.line>s.doc.first){var E=Te(s.doc,b.line-1).text;E&&(b=new ie(b.line,1),s.replaceRange(C.charAt(0)+s.doc.lineSeparator()+E.charAt(E.length-1),ie(b.line-1,E.length-1),b,"+transpose"))}}m.push(new bn(b,b))}s.setSelections(m)})},newlineAndIndent:function(s){return xi(s,function(){for(var c=s.listSelections(),m=c.length-1;m>=0;m--)s.replaceRange(s.doc.lineSeparator(),c[m].anchor,c[m].head,"+input");c=s.listSelections();for(var g=0;g<c.length;g++)s.indentLine(c[g].from().line,null,!0);Mo(s)})},openLine:function(s){return s.replaceSelection(`
`,"start")},toggleOverwrite:function(s){return s.toggleOverwrite()}};function Mc(s,c){var m=Te(s.doc,c),g=Tn(m);return g!=m&&(c=en(g)),Dc(!0,s,g,c,1)}function Ip(s,c){var m=Te(s.doc,c),g=Kn(m);return g!=m&&(c=en(g)),Dc(!0,s,m,c,-1)}function ld(s,c){var m=Mc(s,c.line),g=Te(s.doc,m.line),b=F(g,s.doc.direction);if(!b||b[0].level==0){var C=Math.max(m.ch,g.text.search(/\S/)),E=c.line==m.line&&c.ch<=C&&c.ch;return ie(m.line,E?0:C,m.sticky)}return m}function ml(s,c,m){if(typeof c=="string"&&(c=gu[c],!c))return!1;s.display.input.ensurePolled();var g=s.display.shift,b=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),m&&(s.display.shift=!1),b=c(s)!=ne}finally{s.display.shift=g,s.state.suppressEdits=!1}return b}function zp(s,c,m){for(var g=0;g<s.state.keyMaps.length;g++){var b=js(c,s.state.keyMaps[g],m,s);if(b)return b}return s.options.extraKeys&&js(c,s.options.extraKeys,m,s)||js(c,s.options.keyMap,m,s)}var Fp=new At;function mu(s,c,m,g){var b=s.state.keySeq;if(b){if(od(c))return"handled";if(/\'$/.test(c)?s.state.keySeq=null:Fp.set(50,function(){s.state.keySeq==b&&(s.state.keySeq=null,s.display.input.reset())}),Wp(s,b+" "+c,m,g))return!0}return Wp(s,c,m,g)}function Wp(s,c,m,g){var b=zp(s,c,g);return b=="multi"&&(s.state.keySeq=c),b=="handled"&&$n(s,"keyHandled",s,c,m),(b=="handled"||b=="multi")&&(tn(m),Wa(s)),!!b}function ud(s,c){var m=sd(c,!0);return m?c.shiftKey&&!s.state.keySeq?mu(s,"Shift-"+m,c,function(g){return ml(s,g,!0)})||mu(s,m,c,function(g){if(typeof g=="string"?/^go[A-Z]/.test(g):g.motion)return ml(s,g)}):mu(s,m,c,function(g){return ml(s,g)}):!1}function yu(s,c,m){return mu(s,"'"+m+"'",c,function(g){return ml(s,g,!0)})}var _u=null;function bu(s){var c=this;if(!(s.target&&s.target!=c.display.input.getField())&&(c.curOp.focus=ht(),!de(c,s))){f&&p<11&&s.keyCode==27&&(s.returnValue=!1);var m=s.keyCode;c.display.shift=m==16||s.shiftKey;var g=ud(c,s);w&&(_u=g?m:null,!g&&m==88&&!hi&&(k?s.metaKey:s.ctrlKey)&&c.replaceSelection("",null,"cut")),e&&!k&&!g&&m==46&&s.shiftKey&&!s.ctrlKey&&document.execCommand&&document.execCommand("cut"),m==18&&!/\bCodeMirror-crosshair\b/.test(c.display.lineDiv.className)&&qp(c)}}function qp(s){var c=s.display.lineDiv;yt(c,"CodeMirror-crosshair");function m(g){(g.keyCode==18||!g.altKey)&&(mt(c,"CodeMirror-crosshair"),_e(document,"keyup",m),_e(document,"mouseover",m))}Dt(document,"keyup",m),Dt(document,"mouseover",m)}function cd(s){s.keyCode==16&&(this.doc.sel.shift=!1),de(this,s)}function wu(s){var c=this;if(!(s.target&&s.target!=c.display.input.getField())&&!(Kr(c.display,s)||de(c,s)||s.ctrlKey&&!s.altKey||k&&s.metaKey)){var m=s.keyCode,g=s.charCode;if(w&&m==_u){_u=null,tn(s);return}if(!(w&&(!s.which||s.which<10)&&ud(c,s))){var b=String.fromCharCode(g??m);b!="\b"&&(yu(c,s,b)||c.display.input.onKeyPress(s))}}}var Gp=400,jc=function(s,c,m){this.time=s,this.pos=c,this.button=m};jc.prototype.compare=function(s,c,m){return this.time+Gp>s&&Re(c,this.pos)==0&&m==this.button};var xu,na;function Su(s,c){var m=+new Date;return na&&na.compare(m,s,c)?(xu=na=null,"triple"):xu&&xu.compare(m,s,c)?(na=new jc(m,s,c),xu=null,"double"):(xu=new jc(m,s,c),na=null,"single")}function Cu(s){var c=this,m=c.display;if(!(de(c,s)||m.activeTouch&&m.input.supportsTouch())){if(m.input.ensurePolled(),m.shift=s.shiftKey,Kr(m,s)){d||(m.scroller.draggable=!1,setTimeout(function(){return m.scroller.draggable=!0},100));return}if(!ra(c,s)){var g=bs(c,s),b=Ot(s),C=g?Su(g,b):"single";window.focus(),b==1&&c.state.selectingText&&c.state.selectingText(s),!(g&&Ou(c,b,g,C,s))&&(b==1?g?Kp(c,g,C,s):ut(s)==m.scroller&&tn(s):b==2?(g&&dl(c.doc,g),setTimeout(function(){return m.input.focus()},20)):b==3&&(vt?c.display.input.onContextMenu(s):rl(c)))}}}function Ou(s,c,m,g,b){var C="Click";return g=="double"?C="Double"+C:g=="triple"&&(C="Triple"+C),C=(c==1?"Left":c==2?"Middle":"Right")+C,mu(s,ad(C,b),b,function(E){if(typeof E=="string"&&(E=gu[E]),!E)return!1;var D=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),D=E(s,m)!=ne}finally{s.state.suppressEdits=!1}return D})}function Rc(s,c,m){var g=s.getOption("configureMouse"),b=g?g(s,c,m):{};if(b.unit==null){var C=G?m.shiftKey&&m.metaKey:m.altKey;b.unit=C?"rectangle":c=="single"?"char":c=="double"?"word":"line"}return(b.extend==null||s.doc.extend)&&(b.extend=s.doc.extend||m.shiftKey),b.addNew==null&&(b.addNew=k?m.metaKey:m.ctrlKey),b.moveOnDrag==null&&(b.moveOnDrag=!(k?m.altKey:m.ctrlKey)),b}function Kp(s,c,m,g){f?setTimeout(Lt(kf,s),0):s.curOp.focus=ht();var b=Rc(s,m,g),C=s.doc.sel,E;s.options.dragDrop&&Xt&&!s.isReadOnly()&&m=="single"&&(E=C.contains(c))>-1&&(Re((E=C.ranges[E]).from(),c)<0||c.xRel>0)&&(Re(E.to(),c)>0||c.xRel<0)?Yp(s,g,c,b):Xp(s,g,c,b)}function Yp(s,c,m,g){var b=s.display,C=!1,E=er(s,function(U){d&&(b.scroller.draggable=!1),s.state.draggingText=!1,s.state.delayingBlurEvent&&(s.hasFocus()?s.state.delayingBlurEvent=!1:rl(s)),_e(b.wrapper.ownerDocument,"mouseup",E),_e(b.wrapper.ownerDocument,"mousemove",D),_e(b.scroller,"dragstart",R),_e(b.scroller,"drop",E),C||(tn(U),g.addNew||dl(s.doc,m,null,null,g.extend),d&&!S||f&&p==9?setTimeout(function(){b.wrapper.ownerDocument.body.focus({preventScroll:!0}),b.input.focus()},20):b.input.focus())}),D=function(U){C=C||Math.abs(c.clientX-U.clientX)+Math.abs(c.clientY-U.clientY)>=10},R=function(){return C=!0};d&&(b.scroller.draggable=!0),s.state.draggingText=E,E.copy=!g.moveOnDrag,Dt(b.wrapper.ownerDocument,"mouseup",E),Dt(b.wrapper.ownerDocument,"mousemove",D),Dt(b.scroller,"dragstart",R),Dt(b.scroller,"drop",E),s.state.delayingBlurEvent=!0,setTimeout(function(){return b.input.focus()},20),b.scroller.dragDrop&&b.scroller.dragDrop()}function Ls(s,c,m){if(m=="char")return new bn(c,c);if(m=="word")return s.findWordAt(c);if(m=="line")return new bn(ie(c.line,0),le(s.doc,ie(c.line+1,0)));var g=m(s,c);return new bn(g.from,g.to)}function Xp(s,c,m,g){f&&rl(s);var b=s.display,C=s.doc;tn(c);var E,D,R=C.sel,U=R.ranges;if(g.addNew&&!g.extend?(D=C.sel.contains(m),D>-1?E=U[D]:E=new bn(m,m)):(E=C.sel.primary(),D=C.sel.primIndex),g.unit=="rectangle")g.addNew||(E=new bn(m,m)),m=bs(s,c,!0,!0),D=-1;else{var et=Ls(s,m,g.unit);g.extend?E=bc(E,et.anchor,et.head,g.extend):E=et}g.addNew?D==-1?(D=U.length,Sr(C,Xr(s,U.concat([E]),D),{scroll:!1,origin:"*mouse"})):U.length>1&&U[D].empty()&&g.unit=="char"&&!g.extend?(Sr(C,Xr(s,U.slice(0,D).concat(U.slice(D+1)),0),{scroll:!1,origin:"*mouse"}),R=C.sel):ea(C,D,E,Oe):(D=0,Sr(C,new Wi([E],0),Oe),R=C.sel);var at=m;function Mt(ve){if(Re(at,ve)!=0)if(at=ve,g.unit=="rectangle"){for(var xe=[],Ie=s.options.tabSize,ke=Et(Te(C,m.line).text,m.ch,Ie),Xe=Et(Te(C,ve.line).text,ve.ch,Ie),pn=Math.min(ke,Xe),Cr=Math.max(ke,Xe),Hn=Math.min(m.line,ve.line),Si=Math.min(s.lastLine(),Math.max(m.line,ve.line));Hn<=Si;Hn++){var Zr=Te(C,Hn).text,rr=Se(Zr,pn,Ie);pn==Cr?xe.push(new bn(ie(Hn,rr),ie(Hn,rr))):Zr.length>rr&&xe.push(new bn(ie(Hn,rr),ie(Hn,Se(Zr,Cr,Ie))))}xe.length||xe.push(new bn(m,m)),Sr(C,Xr(s,R.ranges.slice(0,D).concat(xe),D),{origin:"*mouse",scroll:!1}),s.scrollIntoView(ve)}else{var zr=E,Rr=Ls(s,ve,g.unit),Rn=zr.anchor,on;Re(Rr.anchor,Rn)>0?(on=Rr.head,Rn=qt(zr.from(),Rr.anchor)):(on=Rr.anchor,Rn=st(zr.to(),Rr.head));var Wn=R.ranges.slice(0);Wn[D]=ho(s,new bn(le(C,Rn),on)),Sr(C,Xr(s,Wn,D),Oe)}}var wt=b.wrapper.getBoundingClientRect(),Ft=0;function Wt(ve){var xe=++Ft,Ie=bs(s,ve,!0,g.unit=="rectangle");if(Ie)if(Re(Ie,at)!=0){s.curOp.focus=ht(),Mt(Ie);var ke=co(b,C);(Ie.line>=ke.to||Ie.line<ke.from)&&setTimeout(er(s,function(){Ft==xe&&Wt(ve)}),150)}else{var Xe=ve.clientY<wt.top?-20:ve.clientY>wt.bottom?20:0;Xe&&setTimeout(er(s,function(){Ft==xe&&(b.scroller.scrollTop+=Xe,Wt(ve))}),50)}}function ce(ve){s.state.selectingText=!1,Ft=1/0,ve&&(tn(ve),b.input.focus()),_e(b.wrapper.ownerDocument,"mousemove",be),_e(b.wrapper.ownerDocument,"mouseup",Ce),C.history.lastSelOrigin=null}var be=er(s,function(ve){ve.buttons===0||!Ot(ve)?ce(ve):Wt(ve)}),Ce=er(s,ce);s.state.selectingText=Ce,Dt(b.wrapper.ownerDocument,"mousemove",be),Dt(b.wrapper.ownerDocument,"mouseup",Ce)}function ho(s,c){var m=c.anchor,g=c.head,b=Te(s.doc,m.line);if(Re(m,g)==0&&m.sticky==g.sticky)return c;var C=F(b);if(!C)return c;var E=Y(C,m.ch,m.sticky),D=C[E];if(D.from!=m.ch&&D.to!=m.ch)return c;var R=E+(D.from==m.ch==(D.level!=1)?0:1);if(R==0||R==C.length)return c;var U;if(g.line!=m.line)U=(g.line-m.line)*(s.doc.direction=="ltr"?1:-1)>0;else{var et=Y(C,g.ch,g.sticky),at=et-E||(g.ch-m.ch)*(D.level==1?-1:1);et==R-1||et==R?U=at<0:U=at>0}var Mt=C[R+(U?-1:0)],wt=U==(Mt.level==1),Ft=wt?Mt.from:Mt.to,Wt=wt?"after":"before";return m.ch==Ft&&m.sticky==Wt?c:new bn(new ie(m.line,Ft,Wt),g)}function Lo(s,c,m,g){var b,C;if(c.touches)b=c.touches[0].clientX,C=c.touches[0].clientY;else try{b=c.clientX,C=c.clientY}catch{return!1}if(b>=Math.floor(s.display.gutters.getBoundingClientRect().right))return!1;g&&tn(c);var E=s.display,D=E.lineDiv.getBoundingClientRect();if(C>D.bottom||!Ge(s,m))return _r(c);C-=D.top-E.viewOffset;for(var R=0;R<s.display.gutterSpecs.length;++R){var U=E.gutters.childNodes[R];if(U&&U.getBoundingClientRect().right>=b){var et=Sn(s.doc,C),at=s.display.gutterSpecs[R];return me(s,m,s,et,at.className,c),_r(c)}}}function ra(s,c){return Lo(s,c,"gutterClick",!0)}function fd(s,c){Kr(s.display,c)||is(s,c)||de(s,c,"contextmenu")||vt||s.display.input.onContextMenu(c)}function is(s,c){return Ge(s,"gutterContextMenu")?Lo(s,c,"gutterContextMenu",!1):!1}function ia(s){s.display.wrapper.className=s.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+s.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ql(s)}var Yn={toString:function(){return"CodeMirror.Init"}},Tu={},yl={};function dd(s){var c=s.optionHandlers;function m(g,b,C,E){s.defaults[g]=b,C&&(c[g]=E?function(D,R,U){U!=Yn&&C(D,R,U)}:C)}s.defineOption=m,s.Init=Yn,m("value","",function(g,b){return g.setValue(b)},!0),m("mode",null,function(g,b){g.doc.modeOption=b,cu(g)},!0),m("indentUnit",2,cu,!0),m("indentWithTabs",!1),m("smartIndent",!0),m("tabSize",4,function(g){ll(g),Ql(g),ri(g)},!0),m("lineSeparator",null,function(g,b){if(g.doc.lineSep=b,!!b){var C=[],E=g.doc.first;g.doc.iter(function(R){for(var U=0;;){var et=R.text.indexOf(b,U);if(et==-1)break;U=et+b.length,C.push(ie(E,et))}E++});for(var D=C.length-1;D>=0;D--)Mr(g.doc,b,C[D],ie(C[D].line,C[D].ch+b.length))}}),m("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(g,b,C){g.state.specialChars=new RegExp(b.source+(b.test("	")?"":"|	"),"g"),C!=Yn&&g.refresh()}),m("specialCharPlaceholder",Zu,function(g){return g.refresh()},!0),m("electricChars",!0),m("inputStyle",z?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),m("spellcheck",!1,function(g,b){return g.getInputField().spellcheck=b},!0),m("autocorrect",!1,function(g,b){return g.getInputField().autocorrect=b},!0),m("autocapitalize",!1,function(g,b){return g.getInputField().autocapitalize=b},!0),m("rtlMoveVisually",!ot),m("wholeLineUpdateBefore",!0),m("theme","default",function(g){ia(g),ya(g)},!0),m("keyMap","default",function(g,b,C){var E=gl(b),D=C!=Yn&&gl(C);D&&D.detach&&D.detach(g,E),E.attach&&E.attach(g,D||null)}),m("extraKeys",null),m("configureMouse",null),m("lineWrapping",!1,Jp,!0),m("gutters",[],function(g,b){g.display.gutterSpecs=vr(b,g.options.lineNumbers),ya(g)},!0),m("fixedGutter",!0,function(g,b){g.display.gutters.style.left=b?uc(g.display)+"px":"0",g.refresh()},!0),m("coverGutterNextToScrollbar",!1,function(g){return Ka(g)},!0),m("scrollbarStyle","native",function(g){tr(g),Ka(g),g.display.scrollbars.setScrollTop(g.doc.scrollTop),g.display.scrollbars.setScrollLeft(g.doc.scrollLeft)},!0),m("lineNumbers",!1,function(g,b){g.display.gutterSpecs=vr(g.options.gutters,b),ya(g)},!0),m("firstLineNumber",1,ya,!0),m("lineNumberFormatter",function(g){return g},ya,!0),m("showCursorWhenSelecting",!1,Qo,!0),m("resetSelectionOnContextMenu",!0),m("lineWiseCopyCut",!0),m("pasteLinesPerSelection",!0),m("selectionsMayTouch",!1),m("readOnly",!1,function(g,b){b=="nocursor"&&(il(g),g.display.input.blur()),g.display.input.readOnlyChanged(b)}),m("screenReaderLabel",null,function(g,b){b=b===""?null:b,g.display.input.screenReaderLabelChanged(b)}),m("disableInput",!1,function(g,b){b||g.display.input.reset()},!0),m("dragDrop",!0,Zp),m("allowDropFileTypes",null),m("cursorBlinkRate",530),m("cursorScrollMargin",0),m("cursorHeight",1,Qo,!0),m("singleCursorHeightPerLine",!0,Qo,!0),m("workTime",100),m("workDelay",100),m("flattenSpans",!0,ll,!0),m("addModeClass",!1,ll,!0),m("pollInterval",100),m("undoDepth",200,function(g,b){return g.doc.history.undoDepth=b}),m("historyEventDelay",1250),m("viewportMargin",10,function(g){return g.refresh()},!0),m("maxHighlightLength",1e4,ll,!0),m("moveInputWithCursor",!0,function(g,b){b||g.display.input.resetPosition()}),m("tabindex",null,function(g,b){return g.display.input.getField().tabIndex=b||""}),m("autofocus",null),m("direction","ltr",function(g,b){return g.doc.setDirection(b)},!0),m("phrases",null)}function Zp(s,c,m){var g=m&&m!=Yn;if(!c!=!g){var b=s.display.dragFunctions,C=c?Dt:_e;C(s.display.scroller,"dragstart",b.start),C(s.display.scroller,"dragenter",b.enter),C(s.display.scroller,"dragover",b.over),C(s.display.scroller,"dragleave",b.leave),C(s.display.scroller,"drop",b.drop)}}function Jp(s){s.options.lineWrapping?(yt(s.display.wrapper,"CodeMirror-wrap"),s.display.sizer.style.minWidth="",s.display.sizerWidth=null):(mt(s.display.wrapper,"CodeMirror-wrap"),La(s)),Lf(s),ri(s),Ql(s),setTimeout(function(){return Ka(s)},100)}function An(s,c){var m=this;if(!(this instanceof An))return new An(s,c);this.options=c=c?pt(c):{},pt(Tu,c,!1);var g=c.value;typeof g=="string"?g=new li(g,c.mode,null,c.lineSeparator,c.direction):c.mode&&(g.modeOption=c.mode),this.doc=g;var b=new An.inputStyles[c.inputStyle](this),C=this.display=new uu(s,g,b,c);C.wrapper.CodeMirror=this,ia(this),c.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),tr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new At,keySeq:null,specialChars:null},c.autofocus&&!z&&C.input.focus(),f&&p<11&&setTimeout(function(){return m.display.input.reset(!0)},20),Lc(this),kp(),zi(this),this.curOp.forceUpdate=!0,Wf(this,g),c.autofocus&&!z||this.hasFocus()?setTimeout(function(){m.hasFocus()&&!m.state.focused&&qa(m)},20):il(this);for(var E in yl)yl.hasOwnProperty(E)&&yl[E](this,c[E],Yn);Pp(this),c.finishInit&&c.finishInit(this);for(var D=0;D<Nc.length;++D)Nc[D](this);si(this),d&&c.lineWrapping&&getComputedStyle(C.lineDiv).textRendering=="optimizelegibility"&&(C.lineDiv.style.textRendering="auto")}An.defaults=Tu,An.optionHandlers=yl;function Lc(s){var c=s.display;Dt(c.scroller,"mousedown",er(s,Cu)),f&&p<11?Dt(c.scroller,"dblclick",er(s,function(R){if(!de(s,R)){var U=bs(s,R);if(!(!U||ra(s,R)||Kr(s.display,R))){tn(R);var et=s.findWordAt(U);dl(s.doc,et.anchor,et.head)}}})):Dt(c.scroller,"dblclick",function(R){return de(s,R)||tn(R)}),Dt(c.scroller,"contextmenu",function(R){return fd(s,R)}),Dt(c.input.getField(),"contextmenu",function(R){c.scroller.contains(R.target)||fd(s,R)});var m,g={end:0};function b(){c.activeTouch&&(m=setTimeout(function(){return c.activeTouch=null},1e3),g=c.activeTouch,g.end=+new Date)}function C(R){if(R.touches.length!=1)return!1;var U=R.touches[0];return U.radiusX<=1&&U.radiusY<=1}function E(R,U){if(U.left==null)return!0;var et=U.left-R.left,at=U.top-R.top;return et*et+at*at>20*20}Dt(c.scroller,"touchstart",function(R){if(!de(s,R)&&!C(R)&&!ra(s,R)){c.input.ensurePolled(),clearTimeout(m);var U=+new Date;c.activeTouch={start:U,moved:!1,prev:U-g.end<=300?g:null},R.touches.length==1&&(c.activeTouch.left=R.touches[0].pageX,c.activeTouch.top=R.touches[0].pageY)}}),Dt(c.scroller,"touchmove",function(){c.activeTouch&&(c.activeTouch.moved=!0)}),Dt(c.scroller,"touchend",function(R){var U=c.activeTouch;if(U&&!Kr(c,R)&&U.left!=null&&!U.moved&&new Date-U.start<300){var et=s.coordsChar(c.activeTouch,"page"),at;!U.prev||E(U,U.prev)?at=new bn(et,et):!U.prev.prev||E(U,U.prev.prev)?at=s.findWordAt(et):at=new bn(ie(et.line,0),le(s.doc,ie(et.line+1,0))),s.setSelection(at.anchor,at.head),s.focus(),tn(R)}b()}),Dt(c.scroller,"touchcancel",b),Dt(c.scroller,"scroll",function(){c.scroller.clientHeight&&(oi(s,c.scroller.scrollTop),wi(s,c.scroller.scrollLeft,!0),me(s,"scroll",s))}),Dt(c.scroller,"mousewheel",function(R){return If(s,R)}),Dt(c.scroller,"DOMMouseScroll",function(R){return If(s,R)}),Dt(c.wrapper,"scroll",function(){return c.wrapper.scrollTop=c.wrapper.scrollLeft=0}),c.dragFunctions={enter:function(R){de(s,R)||q(R)},over:function(R){de(s,R)||(Np(s,R),q(R))},start:function(R){return ed(s,R)},drop:er(s,Lp),leave:function(R){de(s,R)||nd(s)}};var D=c.input.getField();Dt(D,"keyup",function(R){return cd.call(s,R)}),Dt(D,"keydown",er(s,bu)),Dt(D,"keypress",er(s,wu)),Dt(D,"focus",function(R){return qa(s,R)}),Dt(D,"blur",function(R){return il(s,R)})}var Nc=[];An.defineInitHook=function(s){return Nc.push(s)};function _l(s,c,m,g){var b=s.doc,C;m==null&&(m="add"),m=="smart"&&(b.mode.indent?C=Ao(s,c).state:m="prev");var E=s.options.tabSize,D=Te(b,c),R=Et(D.text,null,E);D.stateAfter&&(D.stateAfter=null);var U=D.text.match(/^\s*/)[0],et;if(!g&&!/\S/.test(D.text))et=0,m="not";else if(m=="smart"&&(et=b.mode.indent(C,D.text.slice(U.length),D.text),et==ne||et>150)){if(!g)return;m="prev"}m=="prev"?c>b.first?et=Et(Te(b,c-1).text,null,E):et=0:m=="add"?et=R+s.options.indentUnit:m=="subtract"?et=R-s.options.indentUnit:typeof m=="number"&&(et=R+m),et=Math.max(0,et);var at="",Mt=0;if(s.options.indentWithTabs)for(var wt=Math.floor(et/E);wt;--wt)Mt+=E,at+="	";if(Mt<et&&(at+=se(et-Mt)),at!=U)return Mr(b,at,ie(c,0),ie(c,U.length),"+input"),D.stateAfter=null,!0;for(var Ft=0;Ft<b.sel.ranges.length;Ft++){var Wt=b.sel.ranges[Ft];if(Wt.head.line==c&&Wt.head.ch<U.length){var ce=ie(c,U.length);ea(b,Ft,new bn(ce,ce));break}}}var vo=null;function Ns(s){vo=s}function kc(s,c,m,g,b){var C=s.doc;s.display.shift=!1,g||(g=C.sel);var E=+new Date-200,D=b=="paste"||s.state.pasteIncoming>E,R=vn(c),U=null;if(D&&g.ranges.length>1)if(vo&&vo.text.join(`
`)==c){if(g.ranges.length%vo.text.length==0){U=[];for(var et=0;et<vo.text.length;et++)U.push(C.splitLines(vo.text[et]))}}else R.length==g.ranges.length&&s.options.pasteLinesPerSelection&&(U=Ve(R,function(be){return[be]}));for(var at=s.curOp.updateInput,Mt=g.ranges.length-1;Mt>=0;Mt--){var wt=g.ranges[Mt],Ft=wt.from(),Wt=wt.to();wt.empty()&&(m&&m>0?Ft=ie(Ft.line,Ft.ch-m):s.state.overwrite&&!D?Wt=ie(Wt.line,Math.min(Te(C,Wt.line).text.length,Wt.ch+ue(R).length)):D&&vo&&vo.lineWise&&vo.text.join(`
`)==R.join(`
`)&&(Ft=Wt=ie(Ft.line,0)));var ce={from:Ft,to:Wt,text:U?U[Mt%U.length]:R,origin:b||(D?"paste":s.state.cutIncoming>E?"cut":"+input")};As(s.doc,ce),$n(s,"inputRead",s,ce)}c&&!D&&pd(s,c),Mo(s),s.curOp.updateInput<2&&(s.curOp.updateInput=at),s.curOp.typing=!0,s.state.pasteIncoming=s.state.cutIncoming=-1}function Vc(s,c){var m=s.clipboardData&&s.clipboardData.getData("Text");if(m)return s.preventDefault(),!c.isReadOnly()&&!c.options.disableInput&&xi(c,function(){return kc(c,m,0,null,"paste")}),!0}function pd(s,c){if(!(!s.options.electricChars||!s.options.smartIndent))for(var m=s.doc.sel,g=m.ranges.length-1;g>=0;g--){var b=m.ranges[g];if(!(b.head.ch>100||g&&m.ranges[g-1].head.line==b.head.line)){var C=s.getModeAt(b.head),E=!1;if(C.electricChars){for(var D=0;D<C.electricChars.length;D++)if(c.indexOf(C.electricChars.charAt(D))>-1){E=_l(s,b.head.line,"smart");break}}else C.electricInput&&C.electricInput.test(Te(s.doc,b.head.line).text.slice(0,b.head.ch))&&(E=_l(s,b.head.line,"smart"));E&&$n(s,"electricInput",s,b.head.line)}}}function hd(s){for(var c=[],m=[],g=0;g<s.doc.sel.ranges.length;g++){var b=s.doc.sel.ranges[g].head.line,C={anchor:ie(b,0),head:ie(b+1,0)};m.push(C),c.push(s.getRange(C.anchor,C.head))}return{text:c,ranges:m}}function Qp(s,c,m,g){s.setAttribute("autocorrect",m?"":"off"),s.setAttribute("autocapitalize",g?"":"off"),s.setAttribute("spellcheck",!!c)}function vd(){var s=Q("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),c=Q("div",[s],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return d?s.style.width="1000px":s.setAttribute("wrap","off"),P&&(s.style.border="1px solid black"),Qp(s),c}function Ir(s){var c=s.optionHandlers,m=s.helpers={};s.prototype={constructor:s,focus:function(){window.focus(),this.display.input.focus()},setOption:function(g,b){var C=this.options,E=C[g];C[g]==b&&g!="mode"||(C[g]=b,c.hasOwnProperty(g)&&er(this,c[g])(this,b,E),me(this,"optionChange",this,g))},getOption:function(g){return this.options[g]},getDoc:function(){return this.doc},addKeyMap:function(g,b){this.state.keyMaps[b?"push":"unshift"](gl(g))},removeKeyMap:function(g){for(var b=this.state.keyMaps,C=0;C<b.length;++C)if(b[C]==g||b[C].name==g)return b.splice(C,1),!0},addOverlay:Ur(function(g,b){var C=g.token?g:s.getMode(this.options,g);if(C.startState)throw new Error("Overlays may not be stateful.");Ae(this.state.overlays,{mode:C,modeSpec:g,opaque:b&&b.opaque,priority:b&&b.priority||0},function(E){return E.priority}),this.state.modeGen++,ri(this)}),removeOverlay:Ur(function(g){for(var b=this.state.overlays,C=0;C<b.length;++C){var E=b[C].modeSpec;if(E==g||typeof g=="string"&&E.name==g){b.splice(C,1),this.state.modeGen++,ri(this);return}}}),indentLine:Ur(function(g,b,C){typeof b!="string"&&typeof b!="number"&&(b==null?b=this.options.smartIndent?"smart":"prev":b=b?"add":"subtract"),cr(this.doc,g)&&_l(this,g,b,C)}),indentSelection:Ur(function(g){for(var b=this.doc.sel.ranges,C=-1,E=0;E<b.length;E++){var D=b[E];if(D.empty())D.head.line>C&&(_l(this,D.head.line,g,!0),C=D.head.line,E==this.doc.sel.primIndex&&Mo(this));else{var R=D.from(),U=D.to(),et=Math.max(C,R.line);C=Math.min(this.lastLine(),U.line-(U.ch?0:1))+1;for(var at=et;at<C;++at)_l(this,at,g);var Mt=this.doc.sel.ranges;R.ch==0&&b.length==Mt.length&&Mt[E].from().ch>0&&ea(this.doc,E,new bn(R,Mt[E].to()),oe)}}}),getTokenAt:function(g,b){return da(this,g,b)},getLineTokens:function(g,b){return da(this,ie(g),b,!0)},getTokenTypeAt:function(g){g=le(this.doc,g);var b=Pr(this,Te(this.doc,g.line)),C=0,E=(b.length-1)/2,D=g.ch,R;if(D==0)R=b[2];else for(;;){var U=C+E>>1;if((U?b[U*2-1]:0)>=D)E=U;else if(b[U*2+1]<D)C=U+1;else{R=b[U*2+2];break}}var et=R?R.indexOf("overlay "):-1;return et<0?R:et==0?null:R.slice(0,et-1)},getModeAt:function(g){var b=this.doc.mode;return b.innerMode?s.innerMode(b,this.getTokenAt(g).state).mode:b},getHelper:function(g,b){return this.getHelpers(g,b)[0]},getHelpers:function(g,b){var C=[];if(!m.hasOwnProperty(b))return C;var E=m[b],D=this.getModeAt(g);if(typeof D[b]=="string")E[D[b]]&&C.push(E[D[b]]);else if(D[b])for(var R=0;R<D[b].length;R++){var U=E[D[b][R]];U&&C.push(U)}else D.helperType&&E[D.helperType]?C.push(E[D.helperType]):E[D.name]&&C.push(E[D.name]);for(var et=0;et<E._global.length;et++){var at=E._global[et];at.pred(D,this)&&Zt(C,at.val)==-1&&C.push(at.val)}return C},getStateAfter:function(g,b){var C=this.doc;return g=ee(C,g??C.first+C.size-1),Ao(this,g+1,b).state},cursorCoords:function(g,b){var C,E=this.doc.sel.primary();return g==null?C=E.head:typeof g=="object"?C=le(this.doc,g):C=g?E.from():E.to(),Vi(this,C,b||"page")},charCoords:function(g,b){return tu(this,le(this.doc,g),b||"page")},coordsChar:function(g,b){return g=jf(this,g,b||"page"),eu(this,g.left,g.top)},lineAtHeight:function(g,b){return g=jf(this,{top:g,left:0},b||"page").top,Sn(this.doc,g+this.display.viewOffset)},heightAtLine:function(g,b,C){var E=!1,D;if(typeof g=="number"){var R=this.doc.first+this.doc.size-1;g<this.doc.first?g=this.doc.first:g>R&&(g=R,E=!0),D=Te(this.doc,g)}else D=g;return $l(this,D,{top:0,left:0},b||"page",C||E).top+(E?this.doc.height-_i(D):0)},defaultTextHeight:function(){return lo(this.display)},defaultCharWidth:function(){return _s(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(g,b,C,E,D){var R=this.display;g=Vi(this,le(this.doc,g));var U=g.bottom,et=g.left;if(b.style.position="absolute",b.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(b),R.sizer.appendChild(b),E=="over")U=g.top;else if(E=="above"||E=="near"){var at=Math.max(R.wrapper.clientHeight,this.doc.height),Mt=Math.max(R.sizer.clientWidth,R.lineSpace.clientWidth);(E=="above"||g.bottom+b.offsetHeight>at)&&g.top>b.offsetHeight?U=g.top-b.offsetHeight:g.bottom+b.offsetHeight<=at&&(U=g.bottom),et+b.offsetWidth>Mt&&(et=Mt-b.offsetWidth)}b.style.top=U+"px",b.style.left=b.style.right="",D=="right"?(et=R.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):(D=="left"?et=0:D=="middle"&&(et=(R.sizer.clientWidth-b.offsetWidth)/2),b.style.left=et+"px"),C&&xs(this,{left:et,top:U,right:et+b.offsetWidth,bottom:U+b.offsetHeight})},triggerOnKeyDown:Ur(bu),triggerOnKeyPress:Ur(wu),triggerOnKeyUp:cd,triggerOnMouseDown:Ur(Cu),execCommand:function(g){if(gu.hasOwnProperty(g))return gu[g].call(null,this)},triggerElectric:Ur(function(g){pd(this,g)}),findPosH:function(g,b,C,E){var D=1;b<0&&(D=-1,b=-b);for(var R=le(this.doc,g),U=0;U<b&&(R=jr(this.doc,R,D,C,E),!R.hitSide);++U);return R},moveH:Ur(function(g,b){var C=this;this.extendSelectionsBy(function(E){return C.display.shift||C.doc.extend||E.empty()?jr(C.doc,E.head,g,b,C.options.rtlMoveVisually):g<0?E.from():E.to()},He)}),deleteH:Ur(function(g,b){var C=this.doc.sel,E=this.doc;C.somethingSelected()?E.replaceSelection("",null,"+delete"):Rs(this,function(D){var R=jr(E,D.head,g,b,!1);return g<0?{from:R,to:D.head}:{from:D.head,to:R}})}),findPosV:function(g,b,C,E){var D=1,R=E;b<0&&(D=-1,b=-b);for(var U=le(this.doc,g),et=0;et<b;++et){var at=Vi(this,U,"div");if(R==null?R=at.left:at.left=R,U=gd(this,at,D,C),U.hitSide)break}return U},moveV:Ur(function(g,b){var C=this,E=this.doc,D=[],R=!this.display.shift&&!E.extend&&E.sel.somethingSelected();if(E.extendSelectionsBy(function(et){if(R)return g<0?et.from():et.to();var at=Vi(C,et.head,"div");et.goalColumn!=null&&(at.left=et.goalColumn),D.push(at.left);var Mt=gd(C,at,g,b);return b=="page"&&et==E.sel.primary()&&ou(C,tu(C,Mt,"div").top-at.top),Mt},He),D.length)for(var U=0;U<E.sel.ranges.length;U++)E.sel.ranges[U].goalColumn=D[U]}),findWordAt:function(g){var b=this.doc,C=Te(b,g.line).text,E=g.ch,D=g.ch;if(C){var R=this.getHelper(g,"wordChars");(g.sticky=="before"||D==C.length)&&E?--E:++D;for(var U=C.charAt(E),et=bt(U,R)?function(at){return bt(at,R)}:/\s/.test(U)?function(at){return/\s/.test(at)}:function(at){return!/\s/.test(at)&&!bt(at)};E>0&&et(C.charAt(E-1));)--E;for(;D<C.length&&et(C.charAt(D));)++D}return new bn(ie(g.line,E),ie(g.line,D))},toggleOverwrite:function(g){g!=null&&g==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?yt(this.display.cursorDiv,"CodeMirror-overwrite"):mt(this.display.cursorDiv,"CodeMirror-overwrite"),me(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ht()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Ur(function(g,b){$o(this,g,b)}),getScrollInfo:function(){var g=this.display.scroller;return{left:g.scrollLeft,top:g.scrollTop,height:g.scrollHeight-bi(this)-this.display.barHeight,width:g.scrollWidth-bi(this)-this.display.barWidth,clientHeight:L(this),clientWidth:Zo(this)}},scrollIntoView:Ur(function(g,b){g==null?(g={from:this.doc.sel.primary().head,to:null},b==null&&(b=this.options.cursorScrollMargin)):typeof g=="number"?g={from:ie(g,0),to:null}:g.from==null&&(g={from:g,to:null}),g.to||(g.to=g.from),g.margin=b||0,g.from.line!=null?pc(this,g):Hi(this,g.from,g.to,g.margin)}),setSize:Ur(function(g,b){var C=this,E=function(R){return typeof R=="number"||/^\d+$/.test(String(R))?R+"px":R};g!=null&&(this.display.wrapper.style.width=E(g)),b!=null&&(this.display.wrapper.style.height=E(b)),this.options.lineWrapping&&xp(this);var D=this.display.viewFrom;this.doc.iter(D,this.display.viewTo,function(R){if(R.widgets){for(var U=0;U<R.widgets.length;U++)if(R.widgets[U].noHScroll){Jo(C,D,"widget");break}}++D}),this.curOp.forceUpdate=!0,me(this,"refresh",this)}),operation:function(g){return xi(this,g)},startOperation:function(){return zi(this)},endOperation:function(){return si(this)},refresh:Ur(function(){var g=this.display.cachedTextHeight;ri(this),this.curOp.forceUpdate=!0,Ql(this),$o(this,this.doc.scrollLeft,this.doc.scrollTop),gc(this.display),(g==null||Math.abs(g-lo(this.display))>.5||this.options.lineWrapping)&&Lf(this),me(this,"refresh",this)}),swapDoc:Ur(function(g){var b=this.doc;return b.cm=null,this.state.selectingText&&this.state.selectingText(),Wf(this,g),Ql(this),this.display.input.reset(),$o(this,g.scrollLeft,g.scrollTop),this.curOp.forceScroll=!0,$n(this,"swapDoc",this,b),b}),phrase:function(g){var b=this.options.phrases;return b&&Object.prototype.hasOwnProperty.call(b,g)?b[g]:g},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},an(s),s.registerHelper=function(g,b,C){m.hasOwnProperty(g)||(m[g]=s[g]={_global:[]}),m[g][b]=C},s.registerGlobalHelper=function(g,b,C,E){s.registerHelper(g,b,E),m[g]._global.push({pred:C,val:E})}}function jr(s,c,m,g,b){var C=c,E=m,D=Te(s,c.line),R=b&&s.direction=="rtl"?-m:m;function U(){var Ce=c.line+R;return Ce<s.first||Ce>=s.first+s.size?!1:(c=new ie(Ce,c.ch,c.sticky),D=Te(s,Ce))}function et(Ce){var ve;if(g=="codepoint"){var xe=D.text.charCodeAt(c.ch+(m>0?0:-1));if(isNaN(xe))ve=null;else{var Ie=m>0?xe>=55296&&xe<56320:xe>=56320&&xe<57343;ve=new ie(c.line,Math.max(0,Math.min(D.text.length,c.ch+m*(Ie?2:1))),-m)}}else b?ve=Bp(s.cm,D,c,m):ve=vu(D,c,m);if(ve==null)if(!Ce&&U())c=Dc(b,s.cm,D,c.line,R);else return!1;else c=ve;return!0}if(g=="char"||g=="codepoint")et();else if(g=="column")et(!0);else if(g=="word"||g=="group")for(var at=null,Mt=g=="group",wt=s.cm&&s.cm.getHelper(c,"wordChars"),Ft=!0;!(m<0&&!et(!Ft));Ft=!1){var Wt=D.text.charAt(c.ch)||`
`,ce=bt(Wt,wt)?"w":Mt&&Wt==`
`?"n":!Mt||/\s/.test(Wt)?null:"p";if(Mt&&!Ft&&!ce&&(ce="s"),at&&at!=ce){m<0&&(m=1,et(),c.sticky="after");break}if(ce&&(at=ce),m>0&&!et(!Ft))break}var be=xc(s,c,C,E,!0);return mi(C,be)&&(be.hitSide=!0),be}function gd(s,c,m,g){var b=s.doc,C=c.left,E;if(g=="page"){var D=Math.min(s.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),R=Math.max(D-.5*lo(s.display),3);E=(m>0?c.bottom:c.top)+m*R}else g=="line"&&(E=m>0?c.bottom+3:c.top-3);for(var U;U=eu(s,C,E),!!U.outside;){if(m<0?E<=0:E>=b.height){U.hitSide=!0;break}E+=m*5}return U}var Pn=function(s){this.cm=s,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new At,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Pn.prototype.init=function(s){var c=this,m=this,g=m.cm,b=m.div=s.lineDiv;b.contentEditable=!0,Qp(b,g.options.spellcheck,g.options.autocorrect,g.options.autocapitalize);function C(D){for(var R=D.target;R;R=R.parentNode){if(R==b)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(R.className))break}return!1}Dt(b,"paste",function(D){!C(D)||de(g,D)||Vc(D,g)||p<=11&&setTimeout(er(g,function(){return c.updateFromDOM()}),20)}),Dt(b,"compositionstart",function(D){c.composing={data:D.data,done:!1}}),Dt(b,"compositionupdate",function(D){c.composing||(c.composing={data:D.data,done:!1})}),Dt(b,"compositionend",function(D){c.composing&&(D.data!=c.composing.data&&c.readFromDOMSoon(),c.composing.done=!0)}),Dt(b,"touchstart",function(){return m.forceCompositionEnd()}),Dt(b,"input",function(){c.composing||c.readFromDOMSoon()});function E(D){if(!(!C(D)||de(g,D))){if(g.somethingSelected())Ns({lineWise:!1,text:g.getSelections()}),D.type=="cut"&&g.replaceSelection("",null,"cut");else if(g.options.lineWiseCopyCut){var R=hd(g);Ns({lineWise:!0,text:R.text}),D.type=="cut"&&g.operation(function(){g.setSelections(R.ranges,0,oe),g.replaceSelection("",null,"cut")})}else return;if(D.clipboardData){D.clipboardData.clearData();var U=vo.text.join(`
`);if(D.clipboardData.setData("Text",U),D.clipboardData.getData("Text")==U){D.preventDefault();return}}var et=vd(),at=et.firstChild;g.display.lineSpace.insertBefore(et,g.display.lineSpace.firstChild),at.value=vo.text.join(`
`);var Mt=ht();nt(at),setTimeout(function(){g.display.lineSpace.removeChild(et),Mt.focus(),Mt==b&&m.showPrimarySelection()},50)}}Dt(b,"copy",E),Dt(b,"cut",E)},Pn.prototype.screenReaderLabelChanged=function(s){s?this.div.setAttribute("aria-label",s):this.div.removeAttribute("aria-label")},Pn.prototype.prepareSelection=function(){var s=cc(this.cm,!1);return s.focus=ht()==this.div,s},Pn.prototype.showSelection=function(s,c){!s||!this.cm.display.view.length||((s.focus||c)&&this.showPrimarySelection(),this.showMultipleSelections(s))},Pn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Pn.prototype.showPrimarySelection=function(){var s=this.getSelection(),c=this.cm,m=c.doc.sel.primary(),g=m.from(),b=m.to();if(c.display.viewTo==c.display.viewFrom||g.line>=c.display.viewTo||b.line<c.display.viewFrom){s.removeAllRanges();return}var C=bl(c,s.anchorNode,s.anchorOffset),E=bl(c,s.focusNode,s.focusOffset);if(!(C&&!C.bad&&E&&!E.bad&&Re(qt(C,E),g)==0&&Re(st(C,E),b)==0)){var D=c.display.view,R=g.line>=c.display.viewFrom&&md(c,g)||{node:D[0].measure.map[2],offset:0},U=b.line<c.display.viewTo&&md(c,b);if(!U){var et=D[D.length-1].measure,at=et.maps?et.maps[et.maps.length-1]:et.map;U={node:at[at.length-1],offset:at[at.length-2]-at[at.length-3]}}if(!R||!U){s.removeAllRanges();return}var Mt=s.rangeCount&&s.getRangeAt(0),wt;try{wt=ft(R.node,R.offset,U.offset,U.node)}catch{}wt&&(!e&&c.state.focused?(s.collapse(R.node,R.offset),wt.collapsed||(s.removeAllRanges(),s.addRange(wt))):(s.removeAllRanges(),s.addRange(wt)),Mt&&s.anchorNode==null?s.addRange(Mt):e&&this.startGracePeriod()),this.rememberSelection()}},Pn.prototype.startGracePeriod=function(){var s=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){s.gracePeriod=!1,s.selectionChanged()&&s.cm.operation(function(){return s.cm.curOp.selectionChanged=!0})},20)},Pn.prototype.showMultipleSelections=function(s){B(this.cm.display.cursorDiv,s.cursors),B(this.cm.display.selectionDiv,s.selection)},Pn.prototype.rememberSelection=function(){var s=this.getSelection();this.lastAnchorNode=s.anchorNode,this.lastAnchorOffset=s.anchorOffset,this.lastFocusNode=s.focusNode,this.lastFocusOffset=s.focusOffset},Pn.prototype.selectionInEditor=function(){var s=this.getSelection();if(!s.rangeCount)return!1;var c=s.getRangeAt(0).commonAncestorContainer;return M(this.div,c)},Pn.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ht()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Pn.prototype.blur=function(){this.div.blur()},Pn.prototype.getField=function(){return this.div},Pn.prototype.supportsTouch=function(){return!0},Pn.prototype.receivedFocus=function(){var s=this,c=this;this.selectionInEditor()?setTimeout(function(){return s.pollSelection()},20):xi(this.cm,function(){return c.cm.curOp.selectionChanged=!0});function m(){c.cm.state.focused&&(c.pollSelection(),c.polling.set(c.cm.options.pollInterval,m))}this.polling.set(this.cm.options.pollInterval,m)},Pn.prototype.selectionChanged=function(){var s=this.getSelection();return s.anchorNode!=this.lastAnchorNode||s.anchorOffset!=this.lastAnchorOffset||s.focusNode!=this.lastFocusNode||s.focusOffset!=this.lastFocusOffset},Pn.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var s=this.getSelection(),c=this.cm;if(j&&_&&this.cm.display.gutterSpecs.length&&$p(s.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var m=bl(c,s.anchorNode,s.anchorOffset),g=bl(c,s.focusNode,s.focusOffset);m&&g&&xi(c,function(){Sr(c.doc,ta(m,g),oe),(m.bad||g.bad)&&(c.curOp.selectionChanged=!0)})}}},Pn.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var s=this.cm,c=s.display,m=s.doc.sel.primary(),g=m.from(),b=m.to();if(g.ch==0&&g.line>s.firstLine()&&(g=ie(g.line-1,Te(s.doc,g.line-1).length)),b.ch==Te(s.doc,b.line).text.length&&b.line<s.lastLine()&&(b=ie(b.line+1,0)),g.line<c.viewFrom||b.line>c.viewTo-1)return!1;var C,E,D;g.line==c.viewFrom||(C=Fa(s,g.line))==0?(E=en(c.view[0].line),D=c.view[0].node):(E=en(c.view[C].line),D=c.view[C-1].node.nextSibling);var R=Fa(s,b.line),U,et;if(R==c.view.length-1?(U=c.viewTo-1,et=c.lineDiv.lastChild):(U=en(c.view[R+1].line)-1,et=c.view[R+1].node.previousSibling),!D)return!1;for(var at=s.doc.splitLines(Uc(s,D,et,E,U)),Mt=br(s.doc,ie(E,0),ie(U,Te(s.doc,U).text.length));at.length>1&&Mt.length>1;)if(ue(at)==ue(Mt))at.pop(),Mt.pop(),U--;else if(at[0]==Mt[0])at.shift(),Mt.shift(),E++;else break;for(var wt=0,Ft=0,Wt=at[0],ce=Mt[0],be=Math.min(Wt.length,ce.length);wt<be&&Wt.charCodeAt(wt)==ce.charCodeAt(wt);)++wt;for(var Ce=ue(at),ve=ue(Mt),xe=Math.min(Ce.length-(at.length==1?wt:0),ve.length-(Mt.length==1?wt:0));Ft<xe&&Ce.charCodeAt(Ce.length-Ft-1)==ve.charCodeAt(ve.length-Ft-1);)++Ft;if(at.length==1&&Mt.length==1&&E==g.line)for(;wt&&wt>g.ch&&Ce.charCodeAt(Ce.length-Ft-1)==ve.charCodeAt(ve.length-Ft-1);)wt--,Ft++;at[at.length-1]=Ce.slice(0,Ce.length-Ft).replace(/^\u200b+/,""),at[0]=at[0].slice(wt).replace(/\u200b+$/,"");var Ie=ie(E,wt),ke=ie(U,Mt.length?ue(Mt).length-Ft:0);if(at.length>1||at[0]||Re(Ie,ke))return Mr(s.doc,at,Ie,ke,"+input"),!0},Pn.prototype.ensurePolled=function(){this.forceCompositionEnd()},Pn.prototype.reset=function(){this.forceCompositionEnd()},Pn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Pn.prototype.readFromDOMSoon=function(){var s=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(s.readDOMTimeout=null,s.composing)if(s.composing.done)s.composing=null;else return;s.updateFromDOM()},80))},Pn.prototype.updateFromDOM=function(){var s=this;(this.cm.isReadOnly()||!this.pollContent())&&xi(this.cm,function(){return ri(s.cm)})},Pn.prototype.setUneditable=function(s){s.contentEditable="false"},Pn.prototype.onKeyPress=function(s){s.charCode==0||this.composing||(s.preventDefault(),this.cm.isReadOnly()||er(this.cm,kc)(this.cm,String.fromCharCode(s.charCode==null?s.keyCode:s.charCode),0))},Pn.prototype.readOnlyChanged=function(s){this.div.contentEditable=String(s!="nocursor")},Pn.prototype.onContextMenu=function(){},Pn.prototype.resetPosition=function(){},Pn.prototype.needsContentAttribute=!0;function md(s,c){var m=Tt(s,c.line);if(!m||m.hidden)return null;var g=Te(s.doc,c.line),b=lt(m,g,c.line),C=F(g,s.doc.direction),E="left";if(C){var D=Y(C,c.ch);E=D%2?"right":"left"}var R=We(b.map,c.ch,E);return R.offset=R.collapse=="right"?R.end:R.start,R}function $p(s){for(var c=s;c;c=c.parentNode)if(/CodeMirror-gutter-wrapper/.test(c.className))return!0;return!1}function ks(s,c){return c&&(s.bad=!0),s}function Uc(s,c,m,g,b){var C="",E=!1,D=s.doc.lineSeparator(),R=!1;function U(wt){return function(Ft){return Ft.id==wt}}function et(){E&&(C+=D,R&&(C+=D),E=R=!1)}function at(wt){wt&&(et(),C+=wt)}function Mt(wt){if(wt.nodeType==1){var Ft=wt.getAttribute("cm-text");if(Ft){at(Ft);return}var Wt=wt.getAttribute("cm-marker"),ce;if(Wt){var be=s.findMarks(ie(g,0),ie(b+1,0),U(+Wt));be.length&&(ce=be[0].find(0))&&at(br(s.doc,ce.from,ce.to).join(D));return}if(wt.getAttribute("contenteditable")=="false")return;var Ce=/^(pre|div|p|li|table|br)$/i.test(wt.nodeName);if(!/^br$/i.test(wt.nodeName)&&wt.textContent.length==0)return;Ce&&et();for(var ve=0;ve<wt.childNodes.length;ve++)Mt(wt.childNodes[ve]);/^(pre|p)$/i.test(wt.nodeName)&&(R=!0),Ce&&(E=!0)}else wt.nodeType==3&&at(wt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Mt(c),c!=m;)c=c.nextSibling,R=!1;return C}function bl(s,c,m){var g;if(c==s.display.lineDiv){if(g=s.display.lineDiv.childNodes[m],!g)return ks(s.clipPos(ie(s.display.viewTo-1)),!0);c=null,m=0}else for(g=c;;g=g.parentNode){if(!g||g==s.display.lineDiv)return null;if(g.parentNode&&g.parentNode==s.display.lineDiv)break}for(var b=0;b<s.display.view.length;b++){var C=s.display.view[b];if(C.node==g)return th(C,c,m)}}function th(s,c,m){var g=s.text.firstChild,b=!1;if(!c||!M(g,c))return ks(ie(en(s.line),0),!0);if(c==g&&(b=!0,c=g.childNodes[m],m=0,!c)){var C=s.rest?ue(s.rest):s.line;return ks(ie(en(C),C.text.length),b)}var E=c.nodeType==3?c:null,D=c;for(!E&&c.childNodes.length==1&&c.firstChild.nodeType==3&&(E=c.firstChild,m&&(m=E.nodeValue.length));D.parentNode!=g;)D=D.parentNode;var R=s.measure,U=R.maps;function et(ce,be,Ce){for(var ve=-1;ve<(U?U.length:0);ve++)for(var xe=ve<0?R.map:U[ve],Ie=0;Ie<xe.length;Ie+=3){var ke=xe[Ie+2];if(ke==ce||ke==be){var Xe=en(ve<0?s.line:s.rest[ve]),pn=xe[Ie]+Ce;return(Ce<0||ke!=ce)&&(pn=xe[Ie+(Ce?1:0)]),ie(Xe,pn)}}}var at=et(E,D,m);if(at)return ks(at,b);for(var Mt=D.nextSibling,wt=E?E.nodeValue.length-m:0;Mt;Mt=Mt.nextSibling){if(at=et(Mt,Mt.firstChild,0),at)return ks(ie(at.line,at.ch-wt),b);wt+=Mt.textContent.length}for(var Ft=D.previousSibling,Wt=m;Ft;Ft=Ft.previousSibling){if(at=et(Ft,Ft.firstChild,-1),at)return ks(ie(at.line,at.ch+Wt),b);Wt+=Ft.textContent.length}}var nr=function(s){this.cm=s,this.prevInput="",this.pollingFast=!1,this.polling=new At,this.hasSelection=!1,this.composing=null};nr.prototype.init=function(s){var c=this,m=this,g=this.cm;this.createField(s);var b=this.textarea;s.wrapper.insertBefore(this.wrapper,s.wrapper.firstChild),P&&(b.style.width="0px"),Dt(b,"input",function(){f&&p>=9&&c.hasSelection&&(c.hasSelection=null),m.poll()}),Dt(b,"paste",function(E){de(g,E)||Vc(E,g)||(g.state.pasteIncoming=+new Date,m.fastPoll())});function C(E){if(!de(g,E)){if(g.somethingSelected())Ns({lineWise:!1,text:g.getSelections()});else if(g.options.lineWiseCopyCut){var D=hd(g);Ns({lineWise:!0,text:D.text}),E.type=="cut"?g.setSelections(D.ranges,null,oe):(m.prevInput="",b.value=D.text.join(`
`),nt(b))}else return;E.type=="cut"&&(g.state.cutIncoming=+new Date)}}Dt(b,"cut",C),Dt(b,"copy",C),Dt(s.scroller,"paste",function(E){if(!(Kr(s,E)||de(g,E))){if(!b.dispatchEvent){g.state.pasteIncoming=+new Date,m.focus();return}var D=new Event("paste");D.clipboardData=E.clipboardData,b.dispatchEvent(D)}}),Dt(s.lineSpace,"selectstart",function(E){Kr(s,E)||tn(E)}),Dt(b,"compositionstart",function(){var E=g.getCursor("from");m.composing&&m.composing.range.clear(),m.composing={start:E,range:g.markText(E,g.getCursor("to"),{className:"CodeMirror-composing"})}}),Dt(b,"compositionend",function(){m.composing&&(m.poll(),m.composing.range.clear(),m.composing=null)})},nr.prototype.createField=function(s){this.wrapper=vd(),this.textarea=this.wrapper.firstChild},nr.prototype.screenReaderLabelChanged=function(s){s?this.textarea.setAttribute("aria-label",s):this.textarea.removeAttribute("aria-label")},nr.prototype.prepareSelection=function(){var s=this.cm,c=s.display,m=s.doc,g=cc(s);if(s.options.moveInputWithCursor){var b=Vi(s,m.sel.primary().head,"div"),C=c.wrapper.getBoundingClientRect(),E=c.lineDiv.getBoundingClientRect();g.teTop=Math.max(0,Math.min(c.wrapper.clientHeight-10,b.top+E.top-C.top)),g.teLeft=Math.max(0,Math.min(c.wrapper.clientWidth-10,b.left+E.left-C.left))}return g},nr.prototype.showSelection=function(s){var c=this.cm,m=c.display;B(m.cursorDiv,s.cursors),B(m.selectionDiv,s.selection),s.teTop!=null&&(this.wrapper.style.top=s.teTop+"px",this.wrapper.style.left=s.teLeft+"px")},nr.prototype.reset=function(s){if(!(this.contextMenuPending||this.composing)){var c=this.cm;if(c.somethingSelected()){this.prevInput="";var m=c.getSelection();this.textarea.value=m,c.state.focused&&nt(this.textarea),f&&p>=9&&(this.hasSelection=m)}else s||(this.prevInput=this.textarea.value="",f&&p>=9&&(this.hasSelection=null))}},nr.prototype.getField=function(){return this.textarea},nr.prototype.supportsTouch=function(){return!1},nr.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!z||ht()!=this.textarea))try{this.textarea.focus()}catch{}},nr.prototype.blur=function(){this.textarea.blur()},nr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},nr.prototype.receivedFocus=function(){this.slowPoll()},nr.prototype.slowPoll=function(){var s=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){s.poll(),s.cm.state.focused&&s.slowPoll()})},nr.prototype.fastPoll=function(){var s=!1,c=this;c.pollingFast=!0;function m(){var g=c.poll();!g&&!s?(s=!0,c.polling.set(60,m)):(c.pollingFast=!1,c.slowPoll())}c.polling.set(20,m)},nr.prototype.poll=function(){var s=this,c=this.cm,m=this.textarea,g=this.prevInput;if(this.contextMenuPending||!c.state.focused||On(m)&&!g&&!this.composing||c.isReadOnly()||c.options.disableInput||c.state.keySeq)return!1;var b=m.value;if(b==g&&!c.somethingSelected())return!1;if(f&&p>=9&&this.hasSelection===b||k&&/[\uf700-\uf7ff]/.test(b))return c.display.input.reset(),!1;if(c.doc.sel==c.display.selForContextMenu){var C=b.charCodeAt(0);if(C==8203&&!g&&(g="​"),C==8666)return this.reset(),this.cm.execCommand("undo")}for(var E=0,D=Math.min(g.length,b.length);E<D&&g.charCodeAt(E)==b.charCodeAt(E);)++E;return xi(c,function(){kc(c,b.slice(E),g.length-E,null,s.composing?"*compose":null),b.length>1e3||b.indexOf(`
`)>-1?m.value=s.prevInput="":s.prevInput=b,s.composing&&(s.composing.range.clear(),s.composing.range=c.markText(s.composing.start,c.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},nr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},nr.prototype.onKeyPress=function(){f&&p>=9&&(this.hasSelection=null),this.fastPoll()},nr.prototype.onContextMenu=function(s){var c=this,m=c.cm,g=m.display,b=c.textarea;c.contextMenuPending&&c.contextMenuPending();var C=bs(m,s),E=g.scroller.scrollTop;if(!C||w)return;var D=m.options.resetSelectionOnContextMenu;D&&m.doc.sel.contains(C)==-1&&er(m,Sr)(m.doc,ta(C),oe);var R=b.style.cssText,U=c.wrapper.style.cssText,et=c.wrapper.offsetParent.getBoundingClientRect();c.wrapper.style.cssText="position: static",b.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(s.clientY-et.top-5)+"px; left: "+(s.clientX-et.left-5)+`px;
      z-index: 1000; background: `+(f?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var at;d&&(at=window.scrollY),g.input.focus(),d&&window.scrollTo(null,at),g.input.reset(),m.somethingSelected()||(b.value=c.prevInput=" "),c.contextMenuPending=wt,g.selForContextMenu=m.doc.sel,clearTimeout(g.detectingSelectAll);function Mt(){if(b.selectionStart!=null){var Wt=m.somethingSelected(),ce="​"+(Wt?b.value:"");b.value="⇚",b.value=ce,c.prevInput=Wt?"":"​",b.selectionStart=1,b.selectionEnd=ce.length,g.selForContextMenu=m.doc.sel}}function wt(){if(c.contextMenuPending==wt&&(c.contextMenuPending=!1,c.wrapper.style.cssText=U,b.style.cssText=R,f&&p<9&&g.scrollbars.setScrollTop(g.scroller.scrollTop=E),b.selectionStart!=null)){(!f||f&&p<9)&&Mt();var Wt=0,ce=function(){g.selForContextMenu==m.doc.sel&&b.selectionStart==0&&b.selectionEnd>0&&c.prevInput=="​"?er(m,Sc)(m):Wt++<10?g.detectingSelectAll=setTimeout(ce,500):(g.selForContextMenu=null,g.input.reset())};g.detectingSelectAll=setTimeout(ce,200)}}if(f&&p>=9&&Mt(),vt){q(s);var Ft=function(){_e(window,"mouseup",Ft),setTimeout(wt,20)};Dt(window,"mouseup",Ft)}else setTimeout(wt,50)},nr.prototype.readOnlyChanged=function(s){s||this.reset(),this.textarea.disabled=s=="nocursor",this.textarea.readOnly=!!s},nr.prototype.setUneditable=function(){},nr.prototype.needsContentAttribute=!1;function eh(s,c){if(c=c?pt(c):{},c.value=s.value,!c.tabindex&&s.tabIndex&&(c.tabindex=s.tabIndex),!c.placeholder&&s.placeholder&&(c.placeholder=s.placeholder),c.autofocus==null){var m=ht();c.autofocus=m==s||s.getAttribute("autofocus")!=null&&m==document.body}function g(){s.value=D.getValue()}var b;if(s.form&&(Dt(s.form,"submit",g),!c.leaveSubmitMethodAlone)){var C=s.form;b=C.submit;try{var E=C.submit=function(){g(),C.submit=b,C.submit(),C.submit=E}}catch{}}c.finishInit=function(R){R.save=g,R.getTextArea=function(){return s},R.toTextArea=function(){R.toTextArea=isNaN,g(),s.parentNode.removeChild(R.getWrapperElement()),s.style.display="",s.form&&(_e(s.form,"submit",g),!c.leaveSubmitMethodAlone&&typeof s.form.submit=="function"&&(s.form.submit=b))}},s.style.display="none";var D=An(function(R){return s.parentNode.insertBefore(R,s.nextSibling)},c);return D}function yd(s){s.off=_e,s.on=Dt,s.wheelEventPixels=wg,s.Doc=li,s.splitLines=vn,s.countColumn=Et,s.findColumn=Se,s.isWordChar=it,s.Pass=ne,s.signal=me,s.Line=Dr,s.changeEnd=jo,s.scrollbarModel=ai,s.Pos=ie,s.cmpPos=Re,s.modes=vi,s.mimeModes=fn,s.resolveMode=ar,s.getMode=Be,s.modeExtensions=Er,s.extendMode=xn,s.copyState=sr,s.startState=ur,s.innerMode=lr,s.commands=gu,s.keyMap=Ki,s.keyName=sd,s.isModifierKey=od,s.lookupKey=js,s.normalizeKeyMap=Hp,s.StringStream=un,s.SharedTextMarker=vl,s.TextMarker=xa,s.LineWidget=es,s.e_preventDefault=tn,s.e_stopPropagation=Mn,s.e_stop=q,s.addClass=yt,s.contains=M,s.rmClass=mt,s.keyNames=Gi}dd(An),Ir(An);var _d="iter insert remove copy getEditor constructor".split(" ");for(var wl in li.prototype)li.prototype.hasOwnProperty(wl)&&Zt(_d,wl)<0&&(An.prototype[wl]=function(s){return function(){return s.apply(this.doc,arguments)}}(li.prototype[wl]));return an(li),An.inputStyles={textarea:nr,contenteditable:Pn},An.defineMode=function(s){!An.defaults.mode&&s!="null"&&(An.defaults.mode=s),Gn.apply(this,arguments)},An.defineMIME=Qe,An.defineMode("null",function(){return{token:function(s){return s.skipToEnd()}}}),An.defineMIME("text/plain","null"),An.defineExtension=function(s,c){An.prototype[s]=c},An.defineDocExtension=function(s,c){li.prototype[s]=c},An.fromTextArea=eh,yd(An),An.version="5.63.0",An})},7389:(o,n,t)=>{(function(e){e(t(4408))})(function(e){e.defineMode("css",function(X,B){var Q=B.inline;B.propertyKeywords||(B=e.resolveMode("text/css"));var J=X.indentUnit,ft=B.tokenHooks,M=B.documentTypes||{},ht=B.mediaTypes||{},yt=B.mediaFeatures||{},Bt=B.mediaValueKeywords||{},nt=B.propertyKeywords||{},Lt=B.nonStandardPropertyKeywords||{},pt=B.fontProperties||{},Et=B.counterDescriptors||{},At=B.colorKeywords||{},Zt=B.valueKeywords||{},Qt=B.allowNested,ne=B.lineComment,oe=B.supportsAtComponent===!0,Oe=X.highlightNonStandardPropertyKeywords!==!1,He,Se;function _t(tt,Pt){return He=Pt,tt}function se(tt,Pt){var St=tt.next();if(ft[St]){var we=ft[St](tt,Pt);if(we!==!1)return we}if(St=="@")return tt.eatWhile(/[\w\\\-]/),_t("def",tt.current());if(St=="="||(St=="~"||St=="|")&&tt.eat("="))return _t(null,"compare");if(St=='"'||St=="'")return Pt.tokenize=ue(St),Pt.tokenize(tt,Pt);if(St=="#")return tt.eatWhile(/[\w\\\-]/),_t("atom","hash");if(St=="!")return tt.match(/^\s*\w*/),_t("keyword","important");if(/\d/.test(St)||St=="."&&tt.eat(/\d/))return tt.eatWhile(/[\w.%]/),_t("number","unit");if(St==="-"){if(/[\d.]/.test(tt.peek()))return tt.eatWhile(/[\w.%]/),_t("number","unit");if(tt.match(/^-[\w\\\-]*/))return tt.eatWhile(/[\w\\\-]/),tt.match(/^\s*:/,!1)?_t("variable-2","variable-definition"):_t("variable-2","variable");if(tt.match(/^\w+-/))return _t("meta","meta")}else return/[,+>*\/]/.test(St)?_t(null,"select-op"):St=="."&&tt.match(/^-?[_a-z][_a-z0-9-]*/i)?_t("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(St)?_t(null,St):tt.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(tt.current())&&(Pt.tokenize=Ve),_t("variable callee","variable")):/[\w\\\-]/.test(St)?(tt.eatWhile(/[\w\\\-]/),_t("property","word")):_t(null,null)}function ue(tt){return function(Pt,St){for(var we=!1,Ee;(Ee=Pt.next())!=null;){if(Ee==tt&&!we){tt==")"&&Pt.backUp(1);break}we=!we&&Ee=="\\"}return(Ee==tt||!we&&tt!=")")&&(St.tokenize=null),_t("string","string")}}function Ve(tt,Pt){return tt.next(),tt.match(/^\s*[\"\')]/,!1)?Pt.tokenize=null:Pt.tokenize=ue(")"),_t(null,"(")}function Ae(tt,Pt,St){this.type=tt,this.indent=Pt,this.prev=St}function ge(tt,Pt,St,we){return tt.context=new Ae(St,Pt.indentation()+(we===!1?0:J),tt.context),St}function N(tt){return tt.context.prev&&(tt.context=tt.context.prev),tt.context.type}function Z(tt,Pt,St){return kt[St.context.type](tt,Pt,St)}function it(tt,Pt,St,we){for(var Ee=we||1;Ee>0;Ee--)St.context=St.context.prev;return Z(tt,Pt,St)}function bt(tt){var Pt=tt.current().toLowerCase();Zt.hasOwnProperty(Pt)?Se="atom":At.hasOwnProperty(Pt)?Se="keyword":Se="variable"}var kt={};return kt.top=function(tt,Pt,St){if(tt=="{")return ge(St,Pt,"block");if(tt=="}"&&St.context.prev)return N(St);if(oe&&/@component/i.test(tt))return ge(St,Pt,"atComponentBlock");if(/^@(-moz-)?document$/i.test(tt))return ge(St,Pt,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(tt))return ge(St,Pt,"atBlock");if(/^@(font-face|counter-style)/i.test(tt))return St.stateArg=tt,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(tt))return"keyframes";if(tt&&tt.charAt(0)=="@")return ge(St,Pt,"at");if(tt=="hash")Se="builtin";else if(tt=="word")Se="tag";else{if(tt=="variable-definition")return"maybeprop";if(tt=="interpolation")return ge(St,Pt,"interpolation");if(tt==":")return"pseudo";if(Qt&&tt=="(")return ge(St,Pt,"parens")}return St.context.type},kt.block=function(tt,Pt,St){if(tt=="word"){var we=Pt.current().toLowerCase();return nt.hasOwnProperty(we)?(Se="property","maybeprop"):Lt.hasOwnProperty(we)?(Se=Oe?"string-2":"property","maybeprop"):Qt?(Se=Pt.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Se+=" error","maybeprop")}else return tt=="meta"?"block":!Qt&&(tt=="hash"||tt=="qualifier")?(Se="error","block"):kt.top(tt,Pt,St)},kt.maybeprop=function(tt,Pt,St){return tt==":"?ge(St,Pt,"prop"):Z(tt,Pt,St)},kt.prop=function(tt,Pt,St){if(tt==";")return N(St);if(tt=="{"&&Qt)return ge(St,Pt,"propBlock");if(tt=="}"||tt=="{")return it(tt,Pt,St);if(tt=="(")return ge(St,Pt,"parens");if(tt=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(Pt.current()))Se+=" error";else if(tt=="word")bt(Pt);else if(tt=="interpolation")return ge(St,Pt,"interpolation");return"prop"},kt.propBlock=function(tt,Pt,St){return tt=="}"?N(St):tt=="word"?(Se="property","maybeprop"):St.context.type},kt.parens=function(tt,Pt,St){return tt=="{"||tt=="}"?it(tt,Pt,St):tt==")"?N(St):tt=="("?ge(St,Pt,"parens"):tt=="interpolation"?ge(St,Pt,"interpolation"):(tt=="word"&&bt(Pt),"parens")},kt.pseudo=function(tt,Pt,St){return tt=="meta"?"pseudo":tt=="word"?(Se="variable-3",St.context.type):Z(tt,Pt,St)},kt.documentTypes=function(tt,Pt,St){return tt=="word"&&M.hasOwnProperty(Pt.current())?(Se="tag",St.context.type):kt.atBlock(tt,Pt,St)},kt.atBlock=function(tt,Pt,St){if(tt=="(")return ge(St,Pt,"atBlock_parens");if(tt=="}"||tt==";")return it(tt,Pt,St);if(tt=="{")return N(St)&&ge(St,Pt,Qt?"block":"top");if(tt=="interpolation")return ge(St,Pt,"interpolation");if(tt=="word"){var we=Pt.current().toLowerCase();we=="only"||we=="not"||we=="and"||we=="or"?Se="keyword":ht.hasOwnProperty(we)?Se="attribute":yt.hasOwnProperty(we)?Se="property":Bt.hasOwnProperty(we)?Se="keyword":nt.hasOwnProperty(we)?Se="property":Lt.hasOwnProperty(we)?Se=Oe?"string-2":"property":Zt.hasOwnProperty(we)?Se="atom":At.hasOwnProperty(we)?Se="keyword":Se="error"}return St.context.type},kt.atComponentBlock=function(tt,Pt,St){return tt=="}"?it(tt,Pt,St):tt=="{"?N(St)&&ge(St,Pt,Qt?"block":"top",!1):(tt=="word"&&(Se="error"),St.context.type)},kt.atBlock_parens=function(tt,Pt,St){return tt==")"?N(St):tt=="{"||tt=="}"?it(tt,Pt,St,2):kt.atBlock(tt,Pt,St)},kt.restricted_atBlock_before=function(tt,Pt,St){return tt=="{"?ge(St,Pt,"restricted_atBlock"):tt=="word"&&St.stateArg=="@counter-style"?(Se="variable","restricted_atBlock_before"):Z(tt,Pt,St)},kt.restricted_atBlock=function(tt,Pt,St){return tt=="}"?(St.stateArg=null,N(St)):tt=="word"?(St.stateArg=="@font-face"&&!pt.hasOwnProperty(Pt.current().toLowerCase())||St.stateArg=="@counter-style"&&!Et.hasOwnProperty(Pt.current().toLowerCase())?Se="error":Se="property","maybeprop"):"restricted_atBlock"},kt.keyframes=function(tt,Pt,St){return tt=="word"?(Se="variable","keyframes"):tt=="{"?ge(St,Pt,"top"):Z(tt,Pt,St)},kt.at=function(tt,Pt,St){return tt==";"?N(St):tt=="{"||tt=="}"?it(tt,Pt,St):(tt=="word"?Se="tag":tt=="hash"&&(Se="builtin"),"at")},kt.interpolation=function(tt,Pt,St){return tt=="}"?N(St):tt=="{"||tt==";"?it(tt,Pt,St):(tt=="word"?Se="variable":tt!="variable"&&tt!="("&&tt!=")"&&(Se="error"),"interpolation")},{startState:function(tt){return{tokenize:null,state:Q?"block":"top",stateArg:null,context:new Ae(Q?"block":"top",tt||0,null)}},token:function(tt,Pt){if(!Pt.tokenize&&tt.eatSpace())return null;var St=(Pt.tokenize||se)(tt,Pt);return St&&typeof St=="object"&&(He=St[1],St=St[0]),Se=St,He!="comment"&&(Pt.state=kt[Pt.state](He,tt,Pt)),Se},indent:function(tt,Pt){var St=tt.context,we=Pt&&Pt.charAt(0),Ee=St.indent;return St.type=="prop"&&(we=="}"||we==")")&&(St=St.prev),St.prev&&(we=="}"&&(St.type=="block"||St.type=="top"||St.type=="interpolation"||St.type=="restricted_atBlock")?(St=St.prev,Ee=St.indent):(we==")"&&(St.type=="parens"||St.type=="atBlock_parens")||we=="{"&&(St.type=="at"||St.type=="atBlock"))&&(Ee=Math.max(0,St.indent-J))),Ee},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:ne,fold:"brace"}});function r(X){for(var B={},Q=0;Q<X.length;++Q)B[X[Q].toLowerCase()]=!0;return B}var i=["domain","regexp","url","url-prefix"],l=r(i),f=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],p=r(f),d=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],v=r(d),_=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],w=r(_),S=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],O=r(S),A=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],P=r(A),j=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],z=r(j),k=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],G=r(k),ot=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],xt=r(ot),Nt=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],vt=r(Nt),$=i.concat(f).concat(d).concat(_).concat(S).concat(A).concat(ot).concat(Nt);e.registerHelper("hintWords","css",$);function mt(X,B){for(var Q=!1,J;(J=X.next())!=null;){if(Q&&J=="/"){B.tokenize=null;break}Q=J=="*"}return["comment","comment"]}e.defineMIME("text/css",{documentTypes:l,mediaTypes:p,mediaFeatures:v,mediaValueKeywords:w,propertyKeywords:O,nonStandardPropertyKeywords:P,fontProperties:z,counterDescriptors:G,colorKeywords:xt,valueKeywords:vt,tokenHooks:{"/":function(X,B){return X.eat("*")?(B.tokenize=mt,mt(X,B)):!1}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:p,mediaFeatures:v,mediaValueKeywords:w,propertyKeywords:O,nonStandardPropertyKeywords:P,colorKeywords:xt,valueKeywords:vt,fontProperties:z,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(X,B){return X.eat("/")?(X.skipToEnd(),["comment","comment"]):X.eat("*")?(B.tokenize=mt,mt(X,B)):["operator","operator"]},":":function(X){return X.match(/^\s*\{/,!1)?[null,null]:!1},$:function(X){return X.match(/^[\w-]+/),X.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(X){return X.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:p,mediaFeatures:v,mediaValueKeywords:w,propertyKeywords:O,nonStandardPropertyKeywords:P,colorKeywords:xt,valueKeywords:vt,fontProperties:z,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(X,B){return X.eat("/")?(X.skipToEnd(),["comment","comment"]):X.eat("*")?(B.tokenize=mt,mt(X,B)):["operator","operator"]},"@":function(X){return X.eat("{")?[null,"interpolation"]:X.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(X.eatWhile(/[\w\\\-]/),X.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:l,mediaTypes:p,mediaFeatures:v,propertyKeywords:O,nonStandardPropertyKeywords:P,fontProperties:z,counterDescriptors:G,colorKeywords:xt,valueKeywords:vt,supportsAtComponent:!0,tokenHooks:{"/":function(X,B){return X.eat("*")?(B.tokenize=mt,mt(X,B)):!1}},name:"css",helperType:"gss"})})},8253:(o,n,t)=>{(function(e){e(t(4408),t(9701),t(6061),t(7389))})(function(e){var r={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function i(w,S,O){var A=w.current(),P=A.search(S);return P>-1?w.backUp(A.length-P):A.match(/<\/?$/)&&(w.backUp(A.length),w.match(S,!1)||w.match(A)),O}var l={};function f(w){var S=l[w];return S||(l[w]=new RegExp("\\s+"+w+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function p(w,S){var O=w.match(f(S));return O?/^\s*(.*?)\s*$/.exec(O[2])[1]:""}function d(w,S){return new RegExp((S?"^":"")+"</s*"+w+"s*>","i")}function v(w,S){for(var O in w)for(var A=S[O]||(S[O]=[]),P=w[O],j=P.length-1;j>=0;j--)A.unshift(P[j])}function _(w,S){for(var O=0;O<w.length;O++){var A=w[O];if(!A[0]||A[1].test(p(S,A[0])))return A[2]}}e.defineMode("htmlmixed",function(w,S){var O=e.getMode(w,{name:"xml",htmlMode:!0,multilineTagIndentFactor:S.multilineTagIndentFactor,multilineTagIndentPastTag:S.multilineTagIndentPastTag,allowMissingTagName:S.allowMissingTagName}),A={},P=S&&S.tags,j=S&&S.scriptTypes;if(v(r,A),P&&v(P,A),j)for(var z=j.length-1;z>=0;z--)A.script.unshift(["type",j[z].matches,j[z].mode]);function k(G,ot){var xt=O.token(G,ot.htmlState),Nt=/\btag\b/.test(xt),vt;if(Nt&&!/[<>\s\/]/.test(G.current())&&(vt=ot.htmlState.tagName&&ot.htmlState.tagName.toLowerCase())&&A.hasOwnProperty(vt))ot.inTag=vt+" ";else if(ot.inTag&&Nt&&/>$/.test(G.current())){var $=/^([\S]+) (.*)/.exec(ot.inTag);ot.inTag=null;var mt=G.current()==">"&&_(A[$[1]],$[2]),X=e.getMode(w,mt),B=d($[1],!0),Q=d($[1],!1);ot.token=function(J,ft){return J.match(B,!1)?(ft.token=k,ft.localState=ft.localMode=null,null):i(J,Q,ft.localMode.token(J,ft.localState))},ot.localMode=X,ot.localState=e.startState(X,O.indent(ot.htmlState,"",""))}else ot.inTag&&(ot.inTag+=G.current(),G.eol()&&(ot.inTag+=" "));return xt}return{startState:function(){var G=e.startState(O);return{token:k,inTag:null,localMode:null,localState:null,htmlState:G}},copyState:function(G){var ot;return G.localState&&(ot=e.copyState(G.localMode,G.localState)),{token:G.token,inTag:G.inTag,localMode:G.localMode,localState:ot,htmlState:e.copyState(O,G.htmlState)}},token:function(G,ot){return ot.token(G,ot)},indent:function(G,ot,xt){return!G.localMode||/^\s*<\//.test(ot)?O.indent(G.htmlState,ot,xt):G.localMode.indent?G.localMode.indent(G.localState,ot,xt):e.Pass},innerMode:function(G){return{state:G.localState||G.htmlState,mode:G.localMode||O}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")})},6061:(o,n,t)=>{(function(e){e(t(4408))})(function(e){e.defineMode("javascript",function(r,i){var l=r.indentUnit,f=i.statementIndent,p=i.jsonld,d=i.json||p,v=i.trackScope!==!1,_=i.typescript,w=i.wordCharacters||/[\w$\xa1-\uffff]/,S=function(){function I(Ln){return{type:Ln,style:"keyword"}}var st=I("keyword a"),qt=I("keyword b"),ee=I("keyword c"),le=I("keyword d"),Je=I("operator"),$e={type:"atom",style:"atom"};return{if:I("if"),while:st,with:st,else:qt,do:qt,try:qt,finally:qt,return:le,break:le,continue:le,new:I("new"),delete:ee,void:ee,throw:ee,debugger:I("debugger"),var:I("var"),const:I("var"),let:I("var"),function:I("function"),catch:I("catch"),for:I("for"),switch:I("switch"),case:I("case"),default:I("default"),in:Je,typeof:Je,instanceof:Je,true:$e,false:$e,null:$e,undefined:$e,NaN:$e,Infinity:$e,this:I("this"),class:I("class"),super:I("atom"),yield:ee,export:I("export"),import:I("import"),extends:ee,await:ee}}(),O=/[+\-*&%=<>!?|~^@]/,A=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function P(I){for(var st=!1,qt,ee=!1;(qt=I.next())!=null;){if(!st){if(qt=="/"&&!ee)return;qt=="["?ee=!0:ee&&qt=="]"&&(ee=!1)}st=!st&&qt=="\\"}}var j,z;function k(I,st,qt){return j=I,z=qt,st}function G(I,st){var qt=I.next();if(qt=='"'||qt=="'")return st.tokenize=ot(qt),st.tokenize(I,st);if(qt=="."&&I.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return k("number","number");if(qt=="."&&I.match(".."))return k("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(qt))return k(qt);if(qt=="="&&I.eat(">"))return k("=>","operator");if(qt=="0"&&I.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return k("number","number");if(/\d/.test(qt))return I.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),k("number","number");if(qt=="/")return I.eat("*")?(st.tokenize=xt,xt(I,st)):I.eat("/")?(I.skipToEnd(),k("comment","comment")):mi(I,st,1)?(P(I),I.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),k("regexp","string-2")):(I.eat("="),k("operator","operator",I.current()));if(qt=="`")return st.tokenize=Nt,Nt(I,st);if(qt=="#"&&I.peek()=="!")return I.skipToEnd(),k("meta","meta");if(qt=="#"&&I.eatWhile(w))return k("variable","property");if(qt=="<"&&I.match("!--")||qt=="-"&&I.match("->")&&!/\S/.test(I.string.slice(0,I.start)))return I.skipToEnd(),k("comment","comment");if(O.test(qt))return(qt!=">"||!st.lexical||st.lexical.type!=">")&&(I.eat("=")?(qt=="!"||qt=="=")&&I.eat("="):/[<>*+\-|&?]/.test(qt)&&(I.eat(qt),qt==">"&&I.eat(qt))),qt=="?"&&I.eat(".")?k("."):k("operator","operator",I.current());if(w.test(qt)){I.eatWhile(w);var ee=I.current();if(st.lastType!="."){if(S.propertyIsEnumerable(ee)){var le=S[ee];return k(le.type,le.style,ee)}if(ee=="async"&&I.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return k("async","keyword",ee)}return k("variable","variable",ee)}}function ot(I){return function(st,qt){var ee=!1,le;if(p&&st.peek()=="@"&&st.match(A))return qt.tokenize=G,k("jsonld-keyword","meta");for(;(le=st.next())!=null&&!(le==I&&!ee);)ee=!ee&&le=="\\";return ee||(qt.tokenize=G),k("string","string")}}function xt(I,st){for(var qt=!1,ee;ee=I.next();){if(ee=="/"&&qt){st.tokenize=G;break}qt=ee=="*"}return k("comment","comment")}function Nt(I,st){for(var qt=!1,ee;(ee=I.next())!=null;){if(!qt&&(ee=="`"||ee=="$"&&I.eat("{"))){st.tokenize=G;break}qt=!qt&&ee=="\\"}return k("quasi","string-2",I.current())}var vt="([{}])";function $(I,st){st.fatArrowAt&&(st.fatArrowAt=null);var qt=I.string.indexOf("=>",I.start);if(!(qt<0)){if(_){var ee=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(I.string.slice(I.start,qt));ee&&(qt=ee.index)}for(var le=0,Je=!1,$e=qt-1;$e>=0;--$e){var Ln=I.string.charAt($e),gn=vt.indexOf(Ln);if(gn>=0&&gn<3){if(!le){++$e;break}if(--le==0){Ln=="("&&(Je=!0);break}}else if(gn>=3&&gn<6)++le;else if(w.test(Ln))Je=!0;else if(/["'\/`]/.test(Ln))for(;;--$e){if($e==0)return;var Ei=I.string.charAt($e-1);if(Ei==Ln&&I.string.charAt($e-2)!="\\"){$e--;break}}else if(Je&&!le){++$e;break}}Je&&!le&&(st.fatArrowAt=$e)}}var mt={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function X(I,st,qt,ee,le,Je){this.indented=I,this.column=st,this.type=qt,this.prev=le,this.info=Je,ee!=null&&(this.align=ee)}function B(I,st){if(!v)return!1;for(var qt=I.localVars;qt;qt=qt.next)if(qt.name==st)return!0;for(var ee=I.context;ee;ee=ee.prev)for(var qt=ee.vars;qt;qt=qt.next)if(qt.name==st)return!0}function Q(I,st,qt,ee,le){var Je=I.cc;for(J.state=I,J.stream=le,J.marked=null,J.cc=Je,J.style=st,I.lexical.hasOwnProperty("align")||(I.lexical.align=!0);;){var $e=Je.length?Je.pop():d?_t:He;if($e(qt,ee)){for(;Je.length&&Je[Je.length-1].lex;)Je.pop()();return J.marked?J.marked:qt=="variable"&&B(I,ee)?"variable-2":st}}}var J={state:null,marked:null,cc:null};function ft(){for(var I=arguments.length-1;I>=0;I--)J.cc.push(arguments[I])}function M(){return ft.apply(null,arguments),!0}function ht(I,st){for(var qt=st;qt;qt=qt.next)if(qt.name==I)return!0;return!1}function yt(I){var st=J.state;if(J.marked="def",!!v){if(st.context){if(st.lexical.info=="var"&&st.context&&st.context.block){var qt=Bt(I,st.context);if(qt!=null){st.context=qt;return}}else if(!ht(I,st.localVars)){st.localVars=new pt(I,st.localVars);return}}i.globalVars&&!ht(I,st.globalVars)&&(st.globalVars=new pt(I,st.globalVars))}}function Bt(I,st){if(st)if(st.block){var qt=Bt(I,st.prev);return qt?qt==st.prev?st:new Lt(qt,st.vars,!0):null}else return ht(I,st.vars)?st:new Lt(st.prev,new pt(I,st.vars),!1);else return null}function nt(I){return I=="public"||I=="private"||I=="protected"||I=="abstract"||I=="readonly"}function Lt(I,st,qt){this.prev=I,this.vars=st,this.block=qt}function pt(I,st){this.name=I,this.next=st}var Et=new pt("this",new pt("arguments",null));function At(){J.state.context=new Lt(J.state.context,J.state.localVars,!1),J.state.localVars=Et}function Zt(){J.state.context=new Lt(J.state.context,J.state.localVars,!0),J.state.localVars=null}function Qt(){J.state.localVars=J.state.context.vars,J.state.context=J.state.context.prev}Qt.lex=!0;function ne(I,st){var qt=function(){var ee=J.state,le=ee.indented;if(ee.lexical.type=="stat")le=ee.lexical.indented;else for(var Je=ee.lexical;Je&&Je.type==")"&&Je.align;Je=Je.prev)le=Je.indented;ee.lexical=new X(le,J.stream.column(),I,null,ee.lexical,st)};return qt.lex=!0,qt}function oe(){var I=J.state;I.lexical.prev&&(I.lexical.type==")"&&(I.indented=I.lexical.indented),I.lexical=I.lexical.prev)}oe.lex=!0;function Oe(I){function st(qt){return qt==I?M():I==";"||qt=="}"||qt==")"||qt=="]"?ft():M(st)}return st}function He(I,st){return I=="var"?M(ne("vardef",st),Ue,Oe(";"),oe):I=="keyword a"?M(ne("form"),ue,He,oe):I=="keyword b"?M(ne("form"),He,oe):I=="keyword d"?J.stream.match(/^\s*$/,!1)?M():M(ne("stat"),Ae,Oe(";"),oe):I=="debugger"?M(Oe(";")):I=="{"?M(ne("}"),Zt,Dt,oe,Qt):I==";"?M():I=="if"?(J.state.lexical.info=="else"&&J.state.cc[J.state.cc.length-1]==oe&&J.state.cc.pop()(),M(ne("form"),ue,He,oe,Vn)):I=="function"?M(Gn):I=="for"?M(ne("form"),Zt,ti,He,Qt,oe):I=="class"||_&&st=="interface"?(J.marked="keyword",M(ne("form",I=="class"?I:st),xn,oe)):I=="variable"?_&&st=="declare"?(J.marked="keyword",M(He)):_&&(st=="module"||st=="enum"||st=="type")&&J.stream.match(/^\s*\w/,!1)?(J.marked="keyword",st=="enum"?M(gi):st=="type"?M(ar,Oe("operator"),De,Oe(";")):M(ne("form"),ze,Oe("{"),ne("}"),Dt,oe,oe)):_&&st=="namespace"?(J.marked="keyword",M(ne("form"),_t,He,oe)):_&&st=="abstract"?(J.marked="keyword",M(He)):M(ne("stat"),we):I=="switch"?M(ne("form"),ue,Oe("{"),ne("}","switch"),Zt,Dt,oe,oe,Qt):I=="case"?M(_t,Oe(":")):I=="default"?M(Oe(":")):I=="catch"?M(ne("form"),At,Se,He,oe,Qt):I=="export"?M(ne("stat"),un,oe):I=="import"?M(ne("stat"),br,oe):I=="async"?M(He):st=="@"?M(_t,He):ft(ne("stat"),_t,Oe(";"),oe)}function Se(I){if(I=="(")return M(Be,Oe(")"))}function _t(I,st){return Ve(I,st,!1)}function se(I,st){return Ve(I,st,!0)}function ue(I){return I!="("?ft():M(ne(")"),Ae,Oe(")"),oe)}function Ve(I,st,qt){if(J.state.fatArrowAt==J.stream.start){var ee=qt?kt:bt;if(I=="(")return M(At,ne(")"),F(Be,")"),oe,Oe("=>"),ee,Qt);if(I=="variable")return ft(At,ze,Oe("=>"),ee,Qt)}var le=qt?N:ge;return mt.hasOwnProperty(I)?M(le):I=="function"?M(Gn,le):I=="class"||_&&st=="interface"?(J.marked="keyword",M(ne("form"),Er,oe)):I=="keyword c"||I=="async"?M(qt?se:_t):I=="("?M(ne(")"),Ae,Oe(")"),oe,le):I=="operator"||I=="spread"?M(qt?se:_t):I=="["?M(ne("]"),cr,oe,le):I=="{"?Yt(Ne,"}",null,le):I=="quasi"?ft(Z,le):I=="new"?M(tt(qt)):M()}function Ae(I){return I.match(/[;\}\)\],]/)?ft():ft(_t)}function ge(I,st){return I==","?M(Ae):N(I,st,!1)}function N(I,st,qt){var ee=qt==!1?ge:N,le=qt==!1?_t:se;if(I=="=>")return M(At,qt?kt:bt,Qt);if(I=="operator")return/\+\+|--/.test(st)||_&&st=="!"?M(ee):_&&st=="<"&&J.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?M(ne(">"),F(De,">"),oe,ee):st=="?"?M(_t,Oe(":"),le):M(le);if(I=="quasi")return ft(Z,ee);if(I!=";"){if(I=="(")return Yt(se,")","call",ee);if(I==".")return M(Ee,ee);if(I=="[")return M(ne("]"),Ae,Oe("]"),oe,ee);if(_&&st=="as")return J.marked="keyword",M(De,ee);if(I=="regexp")return J.state.lastType=J.marked="operator",J.stream.backUp(J.stream.pos-J.stream.start-1),M(le)}}function Z(I,st){return I!="quasi"?ft():st.slice(st.length-2)!="${"?M(Z):M(Ae,it)}function it(I){if(I=="}")return J.marked="string-2",J.state.tokenize=Nt,M(Z)}function bt(I){return $(J.stream,J.state),ft(I=="{"?He:_t)}function kt(I){return $(J.stream,J.state),ft(I=="{"?He:se)}function tt(I){return function(st){return st=="."?M(I?St:Pt):st=="variable"&&_?M(Ot,I?N:ge):ft(I?se:_t)}}function Pt(I,st){if(st=="target")return J.marked="keyword",M(ge)}function St(I,st){if(st=="target")return J.marked="keyword",M(N)}function we(I){return I==":"?M(oe,He):ft(ge,Oe(";"),oe)}function Ee(I){if(I=="variable")return J.marked="property",M()}function Ne(I,st){if(I=="async")return J.marked="property",M(Ne);if(I=="variable"||J.style=="keyword"){if(J.marked="property",st=="get"||st=="set")return M(Y);var qt;return _&&J.state.fatArrowAt==J.stream.start&&(qt=J.stream.match(/^\s*:\s*/,!1))&&(J.state.fatArrowAt=J.stream.pos+qt[0].length),M(gt)}else{if(I=="number"||I=="string")return J.marked=p?"property":J.style+" property",M(gt);if(I=="jsonld-keyword")return M(gt);if(_&&nt(st))return J.marked="keyword",M(Ne);if(I=="[")return M(_t,te,Oe("]"),gt);if(I=="spread")return M(se,gt);if(st=="*")return J.marked="keyword",M(Ne);if(I==":")return ft(gt)}}function Y(I){return I!="variable"?ft(gt):(J.marked="property",M(Gn))}function gt(I){if(I==":")return M(se);if(I=="(")return ft(Gn)}function F(I,st,qt){function ee(le,Je){if(qt?qt.indexOf(le)>-1:le==","){var $e=J.state.lexical;return $e.info=="call"&&($e.pos=($e.pos||0)+1),M(function(Ln,gn){return Ln==st||gn==st?ft():ft(I)},ee)}return le==st||Je==st?M():qt&&qt.indexOf(";")>-1?ft(I):M(Oe(st))}return function(le,Je){return le==st||Je==st?M():ft(I,ee)}}function Yt(I,st,qt){for(var ee=3;ee<arguments.length;ee++)J.cc.push(arguments[ee]);return M(ne(st,qt),F(I,st),oe)}function Dt(I){return I=="}"?M():ft(He,Dt)}function te(I,st){if(_){if(I==":")return M(De);if(st=="?")return M(te)}}function _e(I,st){if(_&&(I==":"||st=="in"))return M(De)}function me(I){if(_&&I==":")return J.stream.match(/^\s*\w+\s+is\b/,!1)?M(_t,de,De):M(De)}function de(I,st){if(st=="is")return J.marked="keyword",M()}function De(I,st){if(st=="keyof"||st=="typeof"||st=="infer"||st=="readonly")return J.marked="keyword",M(st=="typeof"?se:De);if(I=="variable"||st=="void")return J.marked="type",M(ut);if(st=="|"||st=="&")return M(De);if(I=="string"||I=="number"||I=="atom")return M(ut);if(I=="[")return M(ne("]"),F(De,"]",","),oe,ut);if(I=="{")return M(ne("}"),an,oe,ut);if(I=="(")return M(F(q,")"),Ge,ut);if(I=="<")return M(F(De,">"),De);if(I=="quasi")return ft(Mn,ut)}function Ge(I){if(I=="=>")return M(De)}function an(I){return I.match(/[\}\)\]]/)?M():I==","||I==";"?M(an):ft(tn,an)}function tn(I,st){if(I=="variable"||J.style=="keyword")return J.marked="property",M(tn);if(st=="?"||I=="number"||I=="string")return M(tn);if(I==":")return M(De);if(I=="[")return M(Oe("variable"),_e,Oe("]"),tn);if(I=="(")return ft(Qe,tn);if(!I.match(/[;\}\)\],]/))return M()}function Mn(I,st){return I!="quasi"?ft():st.slice(st.length-2)!="${"?M(Mn):M(De,_r)}function _r(I){if(I=="}")return J.marked="string-2",J.state.tokenize=Nt,M(Mn)}function q(I,st){return I=="variable"&&J.stream.match(/^\s*[?:]/,!1)||st=="?"?M(q):I==":"?M(De):I=="spread"?M(q):ft(De)}function ut(I,st){if(st=="<")return M(ne(">"),F(De,">"),oe,ut);if(st=="|"||I=="."||st=="&")return M(De);if(I=="[")return M(De,Oe("]"),ut);if(st=="extends"||st=="implements")return J.marked="keyword",M(De);if(st=="?")return M(De,Oe(":"),De)}function Ot(I,st){if(st=="<")return M(ne(">"),F(De,">"),oe,ut)}function Xt(){return ft(De,he)}function he(I,st){if(st=="=")return M(De)}function Ue(I,st){return st=="enum"?(J.marked="keyword",M(gi)):ft(ze,te,On,hi)}function ze(I,st){if(_&&nt(st))return J.marked="keyword",M(ze);if(I=="variable")return yt(st),M();if(I=="spread")return M(ze);if(I=="[")return Yt(vn,"]");if(I=="{")return Yt(rn,"}")}function rn(I,st){return I=="variable"&&!J.stream.match(/^\s*:/,!1)?(yt(st),M(On)):(I=="variable"&&(J.marked="property"),I=="spread"?M(ze):I=="}"?ft():I=="["?M(_t,Oe("]"),Oe(":"),rn):M(Oe(":"),ze,On))}function vn(){return ft(ze,On)}function On(I,st){if(st=="=")return M(se)}function hi(I){if(I==",")return M(Ue)}function Vn(I,st){if(I=="keyword b"&&st=="else")return M(ne("form","else"),He,oe)}function ti(I,st){if(st=="await")return M(ti);if(I=="(")return M(ne(")"),vi,oe)}function vi(I){return I=="var"?M(Ue,fn):I=="variable"?M(fn):ft(fn)}function fn(I,st){return I==")"?M():I==";"?M(fn):st=="in"||st=="of"?(J.marked="keyword",M(_t,fn)):ft(_t,fn)}function Gn(I,st){if(st=="*")return J.marked="keyword",M(Gn);if(I=="variable")return yt(st),M(Gn);if(I=="(")return M(At,ne(")"),F(Be,")"),oe,me,He,Qt);if(_&&st=="<")return M(ne(">"),F(Xt,">"),oe,Gn)}function Qe(I,st){if(st=="*")return J.marked="keyword",M(Qe);if(I=="variable")return yt(st),M(Qe);if(I=="(")return M(At,ne(")"),F(Be,")"),oe,me,Qt);if(_&&st=="<")return M(ne(">"),F(Xt,">"),oe,Qe)}function ar(I,st){if(I=="keyword"||I=="variable")return J.marked="type",M(ar);if(st=="<")return M(ne(">"),F(Xt,">"),oe)}function Be(I,st){return st=="@"&&M(_t,Be),I=="spread"?M(Be):_&&nt(st)?(J.marked="keyword",M(Be)):_&&I=="this"?M(te,On):ft(ze,te,On)}function Er(I,st){return I=="variable"?xn(I,st):sr(I,st)}function xn(I,st){if(I=="variable")return yt(st),M(sr)}function sr(I,st){if(st=="<")return M(ne(">"),F(Xt,">"),oe,sr);if(st=="extends"||st=="implements"||_&&I==",")return st=="implements"&&(J.marked="keyword"),M(_?De:_t,sr);if(I=="{")return M(ne("}"),lr,oe)}function lr(I,st){if(I=="async"||I=="variable"&&(st=="static"||st=="get"||st=="set"||_&&nt(st))&&J.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return J.marked="keyword",M(lr);if(I=="variable"||J.style=="keyword")return J.marked="property",M(ur,lr);if(I=="number"||I=="string")return M(ur,lr);if(I=="[")return M(_t,te,Oe("]"),ur,lr);if(st=="*")return J.marked="keyword",M(lr);if(_&&I=="(")return ft(Qe,lr);if(I==";"||I==",")return M(lr);if(I=="}")return M();if(st=="@")return M(_t,lr)}function ur(I,st){if(st=="!"||st=="?")return M(ur);if(I==":")return M(De,On);if(st=="=")return M(se);var qt=J.state.lexical.prev,ee=qt&&qt.info=="interface";return ft(ee?Qe:Gn)}function un(I,st){return st=="*"?(J.marked="keyword",M(Sn,Oe(";"))):st=="default"?(J.marked="keyword",M(_t,Oe(";"))):I=="{"?M(F(Te,"}"),Sn,Oe(";")):ft(He)}function Te(I,st){if(st=="as")return J.marked="keyword",M(Oe("variable"));if(I=="variable")return ft(se,Te)}function br(I){return I=="string"?M():I=="("?ft(_t):I=="."?ft(ge):ft(Un,Ar,Sn)}function Un(I,st){return I=="{"?Yt(Un,"}"):(I=="variable"&&yt(st),st=="*"&&(J.marked="keyword"),M(en))}function Ar(I){if(I==",")return M(Un,Ar)}function en(I,st){if(st=="as")return J.marked="keyword",M(Un)}function Sn(I,st){if(st=="from")return J.marked="keyword",M(_t)}function cr(I){return I=="]"?M():ft(F(se,"]"))}function gi(){return ft(ne("form"),ze,Oe("{"),ne("}"),F(ie,"}"),oe,oe)}function ie(){return ft(ze,On)}function Re(I,st){return I.lastType=="operator"||I.lastType==","||O.test(st.charAt(0))||/[,.]/.test(st.charAt(0))}function mi(I,st,qt){return st.tokenize==G&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(st.lastType)||st.lastType=="quasi"&&/\{\s*$/.test(I.string.slice(0,I.pos-(qt||0)))}return{startState:function(I){var st={tokenize:G,lastType:"sof",cc:[],lexical:new X((I||0)-l,0,"block",!1),localVars:i.localVars,context:i.localVars&&new Lt(null,null,!1),indented:I||0};return i.globalVars&&typeof i.globalVars=="object"&&(st.globalVars=i.globalVars),st},token:function(I,st){if(I.sol()&&(st.lexical.hasOwnProperty("align")||(st.lexical.align=!1),st.indented=I.indentation(),$(I,st)),st.tokenize!=xt&&I.eatSpace())return null;var qt=st.tokenize(I,st);return j=="comment"?qt:(st.lastType=j=="operator"&&(z=="++"||z=="--")?"incdec":j,Q(st,qt,j,z,I))},indent:function(I,st){if(I.tokenize==xt||I.tokenize==Nt)return e.Pass;if(I.tokenize!=G)return 0;var qt=st&&st.charAt(0),ee=I.lexical,le;if(!/^\s*else\b/.test(st))for(var Je=I.cc.length-1;Je>=0;--Je){var $e=I.cc[Je];if($e==oe)ee=ee.prev;else if($e!=Vn&&$e!=Qt)break}for(;(ee.type=="stat"||ee.type=="form")&&(qt=="}"||(le=I.cc[I.cc.length-1])&&(le==ge||le==N)&&!/^[,\.=+\-*:?[\(]/.test(st));)ee=ee.prev;f&&ee.type==")"&&ee.prev.type=="stat"&&(ee=ee.prev);var Ln=ee.type,gn=qt==Ln;return Ln=="vardef"?ee.indented+(I.lastType=="operator"||I.lastType==","?ee.info.length+1:0):Ln=="form"&&qt=="{"?ee.indented:Ln=="form"?ee.indented+l:Ln=="stat"?ee.indented+(Re(I,st)?f||l:0):ee.info=="switch"&&!gn&&i.doubleIndentSwitch!=!1?ee.indented+(/^(?:case|default)\b/.test(st)?l:2*l):ee.align?ee.column+(gn?0:1):ee.indented+(gn?0:l)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:d?null:"/*",blockCommentEnd:d?null:"*/",blockCommentContinue:d?null:" * ",lineComment:d?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:d?"json":"javascript",jsonldMode:p,jsonMode:d,expressionAllowed:mi,skipExpression:function(I){Q(I,"atom","atom","true",new e.StringStream("",2,null))}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/manifest+json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},9701:(o,n,t)=>{(function(e){e(t(4408))})(function(e){var r={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",function(l,f){var p=l.indentUnit,d={},v=f.htmlMode?r:i;for(var _ in v)d[_]=v[_];for(var _ in f)d[_]=f[_];var w,S;function O(M,ht){function yt(Lt){return ht.tokenize=Lt,Lt(M,ht)}var Bt=M.next();if(Bt=="<")return M.eat("!")?M.eat("[")?M.match("CDATA[")?yt(j("atom","]]>")):null:M.match("--")?yt(j("comment","-->")):M.match("DOCTYPE",!0,!0)?(M.eatWhile(/[\w\._\-]/),yt(z(1))):null:M.eat("?")?(M.eatWhile(/[\w\._\-]/),ht.tokenize=j("meta","?>"),"meta"):(w=M.eat("/")?"closeTag":"openTag",ht.tokenize=A,"tag bracket");if(Bt=="&"){var nt;return M.eat("#")?M.eat("x")?nt=M.eatWhile(/[a-fA-F\d]/)&&M.eat(";"):nt=M.eatWhile(/[\d]/)&&M.eat(";"):nt=M.eatWhile(/[\w\.\-:]/)&&M.eat(";"),nt?"atom":"error"}else return M.eatWhile(/[^&<]/),null}O.isInText=!0;function A(M,ht){var yt=M.next();if(yt==">"||yt=="/"&&M.eat(">"))return ht.tokenize=O,w=yt==">"?"endTag":"selfcloseTag","tag bracket";if(yt=="=")return w="equals",null;if(yt=="<"){ht.tokenize=O,ht.state=Nt,ht.tagName=ht.tagStart=null;var Bt=ht.tokenize(M,ht);return Bt?Bt+" tag error":"tag error"}else return/[\'\"]/.test(yt)?(ht.tokenize=P(yt),ht.stringStartCol=M.column(),ht.tokenize(M,ht)):(M.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function P(M){var ht=function(yt,Bt){for(;!yt.eol();)if(yt.next()==M){Bt.tokenize=A;break}return"string"};return ht.isInAttribute=!0,ht}function j(M,ht){return function(yt,Bt){for(;!yt.eol();){if(yt.match(ht)){Bt.tokenize=O;break}yt.next()}return M}}function z(M){return function(ht,yt){for(var Bt;(Bt=ht.next())!=null;){if(Bt=="<")return yt.tokenize=z(M+1),yt.tokenize(ht,yt);if(Bt==">")if(M==1){yt.tokenize=O;break}else return yt.tokenize=z(M-1),yt.tokenize(ht,yt)}return"meta"}}function k(M){return M&&M.toLowerCase()}function G(M,ht,yt){this.prev=M.context,this.tagName=ht||"",this.indent=M.indented,this.startOfLine=yt,(d.doNotIndent.hasOwnProperty(ht)||M.context&&M.context.noIndent)&&(this.noIndent=!0)}function ot(M){M.context&&(M.context=M.context.prev)}function xt(M,ht){for(var yt;;){if(!M.context||(yt=M.context.tagName,!d.contextGrabbers.hasOwnProperty(k(yt))||!d.contextGrabbers[k(yt)].hasOwnProperty(k(ht))))return;ot(M)}}function Nt(M,ht,yt){return M=="openTag"?(yt.tagStart=ht.column(),vt):M=="closeTag"?$:Nt}function vt(M,ht,yt){return M=="word"?(yt.tagName=ht.current(),S="tag",B):d.allowMissingTagName&&M=="endTag"?(S="tag bracket",B(M,ht,yt)):(S="error",vt)}function $(M,ht,yt){if(M=="word"){var Bt=ht.current();return yt.context&&yt.context.tagName!=Bt&&d.implicitlyClosed.hasOwnProperty(k(yt.context.tagName))&&ot(yt),yt.context&&yt.context.tagName==Bt||d.matchClosing===!1?(S="tag",mt):(S="tag error",X)}else return d.allowMissingTagName&&M=="endTag"?(S="tag bracket",mt(M,ht,yt)):(S="error",X)}function mt(M,ht,yt){return M!="endTag"?(S="error",mt):(ot(yt),Nt)}function X(M,ht,yt){return S="error",mt(M,ht,yt)}function B(M,ht,yt){if(M=="word")return S="attribute",Q;if(M=="endTag"||M=="selfcloseTag"){var Bt=yt.tagName,nt=yt.tagStart;return yt.tagName=yt.tagStart=null,M=="selfcloseTag"||d.autoSelfClosers.hasOwnProperty(k(Bt))?xt(yt,Bt):(xt(yt,Bt),yt.context=new G(yt,Bt,nt==yt.indented)),Nt}return S="error",B}function Q(M,ht,yt){return M=="equals"?J:(d.allowMissing||(S="error"),B(M,ht,yt))}function J(M,ht,yt){return M=="string"?ft:M=="word"&&d.allowUnquoted?(S="string",B):(S="error",B(M,ht,yt))}function ft(M,ht,yt){return M=="string"?ft:B(M,ht,yt)}return{startState:function(M){var ht={tokenize:O,state:Nt,indented:M||0,tagName:null,tagStart:null,context:null};return M!=null&&(ht.baseIndent=M),ht},token:function(M,ht){if(!ht.tagName&&M.sol()&&(ht.indented=M.indentation()),M.eatSpace())return null;w=null;var yt=ht.tokenize(M,ht);return(yt||w)&&yt!="comment"&&(S=null,ht.state=ht.state(w||yt,M,ht),S&&(yt=S=="error"?yt+" error":S)),yt},indent:function(M,ht,yt){var Bt=M.context;if(M.tokenize.isInAttribute)return M.tagStart==M.indented?M.stringStartCol+1:M.indented+p;if(Bt&&Bt.noIndent)return e.Pass;if(M.tokenize!=A&&M.tokenize!=O)return yt?yt.match(/^(\s*)/)[0].length:0;if(M.tagName)return d.multilineTagIndentPastTag!==!1?M.tagStart+M.tagName.length+2:M.tagStart+p*(d.multilineTagIndentFactor||1);if(d.alignCDATA&&/<!\[CDATA\[/.test(ht))return 0;var nt=ht&&/^<(\/)?([\w_:\.-]*)/.exec(ht);if(nt&&nt[1])for(;Bt;)if(Bt.tagName==nt[2]){Bt=Bt.prev;break}else if(d.implicitlyClosed.hasOwnProperty(k(Bt.tagName)))Bt=Bt.prev;else break;else if(nt)for(;Bt;){var Lt=d.contextGrabbers[k(Bt.tagName)];if(Lt&&Lt.hasOwnProperty(k(nt[2])))Bt=Bt.prev;else break}for(;Bt&&Bt.prev&&!Bt.startOfLine;)Bt=Bt.prev;return Bt?Bt.indent+p:M.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:d.htmlMode?"html":"xml",helperType:d.htmlMode?"html":"xml",skipAttribute:function(M){M.state==J&&(M.state=B)},xmlCurrentTag:function(M){return M.tagName?{name:M.tagName,close:M.type=="closeTag"}:null},xmlCurrentContext:function(M){for(var ht=[],yt=M.context;yt;yt=yt.prev)ht.push(yt.tagName);return ht.reverse()}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})},7058:(o,n,t)=>{t.d(n,{A:()=>l});var e=t(9156),r=function(){var f=function(p,d){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(v[w]=_[w])},f(p,d)};return function(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(p,d);function v(){this.constructor=p}p.prototype=d===null?Object.create(d):(v.prototype=d.prototype,new v)}}(),i=function(f){r(p,f);function p(d,v,_){var w=f.call(this,v,_)||this;return w._module=d,w}return Object.defineProperty(p.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),p}(e.Kx);const l=i},179:(o,n,t)=>{t.d(n,{A:()=>f,F:()=>i});var e=t(7058),r=function(){var p=function(d,v){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,w){_.__proto__=w}||function(_,w){for(var S in w)Object.prototype.hasOwnProperty.call(w,S)&&(_[S]=w[S])},p(d,v)};return function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");p(d,v);function _(){this.constructor=d}d.prototype=v===null?Object.create(v):(_.prototype=v.prototype,new _)}}(),i;(function(p){p.Select="select",p.Hover="hover",p.Spacing="spacing",p.Target="target",p.Resize="resize"})(i||(i={}));var l=function(p){r(d,p);function d(){return p!==null&&p.apply(this,arguments)||this}return d.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(d.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"component",{get:function(){var v,_=this.get("component");return _||((v=this.get("componentView"))===null||v===void 0?void 0:v.model)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"componentView",{get:function(){var v,_=this.get("componentView");return _||((v=this.get("component"))===null||v===void 0?void 0:v.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"el",{get:function(){var v;return(v=this.componentView)===null||v===void 0?void 0:v.el},enumerable:!1,configurable:!0}),d.prototype.getBoxRect=function(v){var _=this,w=_.el,S=_.em,O=S.Canvas.getCanvasView(),A=this.get("boxRect");return A||(w&&O?O.getElBoxRect(w,v):{x:0,y:0,width:0,height:0})},d.prototype.getStyle=function(v){v===void 0&&(v={});var _=v.boxRect||this.getBoxRect(v),w=_.width,S=_.height,O=_.x,A=_.y;return{width:"".concat(w,"px"),height:"".concat(S,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(O,"px ").concat(A,"px")}},d.prototype.isType=function(v){return this.type===v},d}(e.A);const f=l},1738:(o,n,t)=>{t.d(n,{A:()=>r});var e;(function(i){i.run="command:run",i.runCommand="command:run:",i.runBeforeCommand="command:run:before:",i.abort="command:abort:",i.stop="command:stop",i.stopCommand="command:stop:",i.stopBeforeCommand="command:stop:before:",i.call="command:call",i.callCommand="command:call:"})(e||(e={}));const r=e},9484:(o,n,t)=>{t.r(n),t.d(n,{default:()=>e});const e={run:function(r){r.Components.clear(),r.Css.clear()}}},9516:(o,n,t)=>{t.r(n),t.d(n,{default:()=>l});var e=t(5706),r=t(9966),i=t(6294);const l={run:function(f){(0,e.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=f,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(f){this.toggleMove(),this.disableDragger()},onKeyUp:function(f){(0,i.Ch)(f)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(f){this.toggleDragger(1,f)},disableDragger:function(f){this.toggleDragger(0,f)},toggleDragger:function(f,p){var d=this,v=d.canvasModel,_=d.em,w=this.dragger,S=f?"add":"remove";this.getCanvas().classList[S]("".concat(this.ppfx,"is__grabbing")),w||(w=new r.A({getPosition:function(){return{x:v.get("x"),y:v.get("y")}},setPosition:function(O){var A=O.x,P=O.y;v.set({x:A,y:P})},onStart:function(O,A){_.trigger("canvas:move:start",A)},onDrag:function(O,A){_.trigger("canvas:move",A)},onEnd:function(O,A){_.trigger("canvas:move:end",A)}}),this.dragger=w),f?w.start(p):w.stop()},toggleMove:function(f){var p=this.ppfx,d=f?"add":"remove",v=f?"on":"off",_={on:i.on,off:i.AU},w=this.getCanvas(),S=["".concat(p,"is__grab")];!f&&S.push("".concat(p,"is__grabbing")),S.forEach(function(O){return w.classList[d](O)}),_[v](document,"keyup",this.onKeyUp),_[v](w,"mousedown",this.enableDragger),_[v](document,"mouseup",this.disableDragger)}}},9946:(o,n,t)=>{t.r(n),t.d(n,{default:()=>d,defineCommand:()=>f});var e=t(9156),r=t(1738),i=function(){var v=function(_,w){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,O){S.__proto__=O}||function(S,O){for(var A in O)Object.prototype.hasOwnProperty.call(O,A)&&(S[A]=O[A])},v(_,w)};return function(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");v(_,w);function S(){this.constructor=_}_.prototype=w===null?Object.create(w):(S.prototype=w.prototype,new S)}}(),l=function(){return l=Object.assign||function(v){for(var _,w=1,S=arguments.length;w<S;w++){_=arguments[w];for(var O in _)Object.prototype.hasOwnProperty.call(_,O)&&(v[O]=_[O])}return v},l.apply(this,arguments)};function f(v){return v}var p=function(v){i(_,v);function _(w){var S=v.call(this,0)||this;S.config=w||{},S.em=S.config.em||{};var O=S.config.stylePrefix;return S.pfx=O,S.ppfx=S.config.pStylePrefix,S.hoverClass="".concat(O,"hover"),S.badgeClass="".concat(O,"badge"),S.plhClass="".concat(O,"placeholder"),S.freezClass="".concat(S.ppfx,"freezed"),S.canvas=S.em.Canvas,S.init(S.config),S}return _.prototype.onFrameScroll=function(w){},_.prototype.getCanvas=function(){return this.canvas.getElement()},_.prototype.getCanvasBody=function(){return this.canvas.getBody()},_.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},_.prototype.offset=function(w){var S=w.getBoundingClientRect();return{top:S.top+w.ownerDocument.body.scrollTop,left:S.left+w.ownerDocument.body.scrollLeft}},_.prototype.init=function(w){},_.prototype.callRun=function(w,S){S===void 0&&(S={});var O=this.id;if(w.trigger("".concat(r.A.runBeforeCommand).concat(O),{options:S}),S.abort){w.trigger("".concat(r.A.abort).concat(O),{options:S});return}var A=S.sender||w,P=this.run(w,A,S),j={id:O,result:P,options:S},z=l(l({},j),{type:"run"});return this.noStop||(w.Commands.active[O]=P),w.trigger("".concat(r.A.runCommand).concat(O),j),w.trigger("".concat(r.A.callCommand).concat(O),z),w.trigger(r.A.run,j),w.trigger(r.A.call,z),P},_.prototype.callStop=function(w,S){S===void 0&&(S={});var O=this.id,A=S.sender||w;w.trigger("".concat(r.A.stopBeforeCommand).concat(O),{options:S});var P=this.stop(w,A,S),j={id:O,result:P,options:S},z=l(l({},j),{type:"stop"});return delete w.Commands.active[O],w.trigger("".concat(r.A.stopCommand).concat(O),j),w.trigger("".concat(r.A.callCommand).concat(O),z),w.trigger(r.A.stop,j),w.trigger(r.A.call,z),P},_.prototype.stopCommand=function(w){this.em.Commands.stop(this.id,w)},_.prototype.run=function(w,S,O){},_.prototype.stop=function(w,S,O){},_}(e.Kx);const d=p},7801:(o,n,t)=>{t.r(n),t.d(n,{default:()=>l});var e=t(5706),r=function(f,p,d){if(d||arguments.length===2)for(var v=0,_=p.length,w;v<_;v++)(w||!(v in p))&&(w||(w=Array.prototype.slice.call(p,0,v)),w[v]=p[v]);return f.concat(w||Array.prototype.slice.call(p))},i={run:function(f,p,d){var v=this;d===void 0&&(d={});var _=[],w=d.component||f.getSelectedAll();return w=(0,e.isArray)(w)?r([],w,!0):[w],w.filter(Boolean).forEach(function(S){var O,A;if(!S.get("removable"))return v.em.logWarning("The element is not removable",{component:S});_.push(S);var P=((A=(O=S.delegate)===null||O===void 0?void 0:O.remove)===null||A===void 0?void 0:A.call(O,S))||S;P.remove()}),f.selectRemove(_),_}};const l=i},4864:(o,n,t)=>{t.r(n),t.d(n,{default:()=>p});var e=t(5706),r=t(9966),i=t(1166),l=function(){return l=Object.assign||function(d){for(var v,_=1,w=arguments.length;_<w;_++){v=arguments[_];for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&(d[S]=v[S])}return d},l.apply(this,arguments)},f="dmode";const p={run:function(d,v,_){var w=this,S,O;if(_===void 0&&(_={}),(0,e.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget"),!_.target)throw new Error("Target option is required");var A=l({doc:(S=_.target.getEl())===null||S===void 0?void 0:S.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){var j;return(j=w.guidesStatic)!==null&&j!==void 0?j:[]},guidesTarget:function(){var j;return(j=w.guidesTarget)!==null&&j!==void 0?j:[]}},(O=_.dragger)!==null&&O!==void 0?O:{});this.setupGuides(),this.opts=_,this.editor=d,this.em=d.getModel(),this.target=_.target,this.isTran=_.mode=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var P=this.dragger;return P?P.setOptions(A):(P=new r.A(A),this.dragger=P),_.event&&P.start(_.event),this.toggleDrag(!0),this.em.trigger("".concat(f,":start"),this.getEventOpts()),P},getEventOpts:function(){var d,v,_=(v=(d=this.guidesTarget)===null||d===void 0?void 0:d.filter(function(w){return w.active}))!==null&&v!==void 0?v:[];return{mode:this.opts.mode,component:this.target,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic,guidesMatched:this.getGuidesMatched(_),command:this}},stop:function(){this.toggleDrag()},setupGuides:function(){var d;((d=this.guides)!==null&&d!==void 0?d:[]).forEach(function(v){var _,w=v.guide;(_=w==null?void 0:w.parentNode)===null||_===void 0||_.removeChild(w)}),this.guides=[]},getGuidesContainer:function(){var d=this,v,_,w,S,O=this.guidesEl;if(!O){var A=this,P=A.editor,j=A.em,z=A.opts,k=(v=P.getConfig().stylePrefix)!==null&&v!==void 0?v:"",G=document.createElement("div"),ot=document.createElement("div"),xt='<div class="'.concat(k,"guide-info__line ").concat(k,`danger-bg">
        <div class="`).concat(k,"guide-info__content ").concat(k,`danger-color"></div>
      </div>`);O=document.createElement("div"),O.className="".concat(k,"guides"),G.className="".concat(k,"guide-info ").concat(k,"guide-info__x"),ot.className="".concat(k,"guide-info ").concat(k,"guide-info__y"),G.innerHTML=xt,ot.innerHTML=xt,O.appendChild(G),O.appendChild(ot),(_=P.Canvas.getGlobalToolsEl())===null||_===void 0||_.appendChild(O),this.guidesEl=O,this.elGuideInfoX=G,this.elGuideInfoY=ot,this.elGuideInfoContentX=(w=G.querySelector(".".concat(k,"guide-info__content")))!==null&&w!==void 0?w:void 0,this.elGuideInfoContentY=(S=ot.querySelector(".".concat(k,"guide-info__content")))!==null&&S!==void 0?S:void 0,j.on("canvas:update frame:scroll",(0,e.debounce)(function(){var Nt;d.updateGuides(),z.debug&&((Nt=d.guides)===null||Nt===void 0||Nt.forEach(function(vt){return d.renderGuide(vt)}))},200))}return O},getGuidesStatic:function(){var d=this,v=[],_=this.target.getEl(),w=_==null?void 0:_.parentElement;return w?((0,e.each)(w.children,function(S){return v=v.concat(_!==S?d.getElementGuides(S):[])}),v.concat(this.getElementGuides(w))):[]},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(d){var v=this,_,w,S,O=(_=d??this.guides)!==null&&_!==void 0?_:[];O.forEach(function(A){var P=A.origin,j=w===P?S:v.getElementPos(P);w=P,S=j,(0,e.each)(v.getGuidePosUpdate(A,j),function(z,k){A[k]=z}),A.originRect=j})},getGuidePosUpdate:function(d,v){var _={},w=v.top,S=v.height,O=v.left,A=v.width;switch(d.type){case"t":_.y=w;break;case"b":_.y=w+S;break;case"l":_.x=O;break;case"r":_.x=O+A;break;case"x":_.x=O+A/2;break;case"y":_.y=w+S/2;break}return _},renderGuide:function(d){var v,_;if(!this.opts.skipGuidesRender){var w=(v=d.guide)!==null&&v!==void 0?v:document.createElement("div"),S="px",O=d.active?2:1;if(w.style.cssText="position: absolute; background-color: ".concat(d.active?"green":"red",";"),!w.children.length){var A=document.createElement("div");A.style.cssText="position: absolute; color: red; padding: 5px; top: 0; left: 0;",w.appendChild(A)}return d.y?(w.style.width="100%",w.style.height="".concat(O).concat(S),w.style.top="".concat(d.y).concat(S),w.style.left="0"):(w.style.width="".concat(O).concat(S),w.style.height="100%",w.style.left="".concat(d.x).concat(S),w.style.top="0".concat(S)),!d.guide&&((_=this.guidesContainer)===null||_===void 0||_.appendChild(w)),w}},getElementPos:function(d){return this.editor.Canvas.getElementPos(d,{noScroll:1})},getElementGuides:function(d){var v=this,_=this.opts,w=d,S=this.getElementPos(d),O=(0,i.getComponentModel)(d),A=(0,i.getComponentView)(d),P=S.top,j=S.height,z=S.left,k=S.width,G=[{type:"t",y:P},{type:"b",y:P+j},{type:"l",x:z},{type:"r",x:z+k},{type:"x",x:z+k/2},{type:"y",y:P+j/2}],ot=G.map(function(xt){var Nt=_.debug?v.renderGuide(xt):void 0;return l(l({},xt),{component:O,componentView:A,componentEl:w,origin:w,componentElRect:S,originRect:S,guideEl:Nt,guide:Nt})});return ot.forEach(function(xt){var Nt;return(Nt=v.guides)===null||Nt===void 0?void 0:Nt.push(xt)}),ot},getTranslate:function(d,v){v===void 0&&(v="x");var _=0;return(d||"").split(" ").forEach(function(w){var S=w.trim(),O="translate".concat(v.toUpperCase(),"(");S.indexOf(O)===0&&(_=parseFloat(S.replace(O,"")))}),_},setTranslate:function(d,v,_){var w="translate".concat(v.toUpperCase(),"("),S="".concat(w).concat(_,")"),O=(d||"").split(" ").map(function(A){var P=A.trim();return P.indexOf(w)===0&&(A=S),A}).join(" ");return O.indexOf(w)<0&&(O+=" ".concat(S)),O},getPosition:function(){var d=this,v=d.target,_=d.isTran,w=v.getStyle(),S=w.transform,O=w.left,A=w.top,P=0,j=0;return _&&S?(P=this.getTranslate(S),j=this.getTranslate(S,"y")):(P=parseFloat(O??"0"),j=parseFloat(A??"0")),{x:P,y:j}},setPosition:function(d){var v,_,w=d.x,S=d.y,O=d.end,A=d.position,P=d.width,j=d.height,z=this,k=z.target,G=z.isTran,ot=z.em,xt=z.opts,Nt="px",vt=!O,$="".concat(parseInt("".concat(w),10)).concat(Nt),mt="".concat(parseInt("".concat(S),10)).concat(Nt),X={};if(G){var B=(_=(v=k.getStyle())===null||v===void 0?void 0:v.transform)!==null&&_!==void 0?_:"";B=this.setTranslate(B,"x",$),B=this.setTranslate(B,"y",mt),X={transform:B,__p:vt}}else{var Q={position:A,width:P,height:j},J={left:$,top:mt,__p:vt};(0,e.keys)(Q).forEach(function(ft){var M=Q[ft];M&&(J[ft]=M)}),X=J}xt.addStyle?xt.addStyle({component:k,styles:X,partial:!O}):k.addStyle(X,{avoidStore:!O}),ot.Styles.__emitCmpStyleUpdate(X,{components:ot.getSelected()})},_getDragData:function(){var d=this.target;return{target:d,parent:d.parent(),index:d.index()}},onStart:function(d){var v,_=this,w=_.target,S=_.editor,O=_.isTran,A=_.opts,P=S.Canvas,j=w.getStyle(),z="absolute",k=[z,"relative"];if((v=A.onStart)===null||v===void 0||v.call(A,this._getDragData()),!O){if(j.position!==z){var G=P.offset(w.getEl()),ot=G.left,xt=G.top,Nt=G.width,vt=G.height,$=w.parent(),mt=null;do{var X=$==null?void 0:$.getStyle(),B=X==null?void 0:X.position;B&&(mt=k.indexOf(B)>=0?$:null),$=$==null?void 0:$.parent()}while($&&!mt);if(A.center){var Q=P.getMouseRelativeCanvas(d),J=Q.x,ft=Q.y;ot=J,xt=ft}else if(mt){var M=P.offset(mt.getEl());ot=ot-M.left,xt=xt-M.top}this.setPosition({x:ot,y:xt,width:"".concat(Nt,"px"),height:"".concat(vt,"px"),position:z})}this.guidesStatic=this.getGuidesStatic()}},onDrag:function(d){var v=this,_,w,S=this,O=S.guidesTarget,A=S.opts;this.updateGuides(O),A.debug&&(O==null||O.forEach(function(P){return v.renderGuide(P)})),A.guidesInfo&&this.renderGuideInfo((_=O==null?void 0:O.filter(function(P){return P.active}))!==null&&_!==void 0?_:[]),(w=A.onDrag)===null||w===void 0||w.call(A,this._getDragData()),this.opts.event=d,this.em.trigger("".concat(f,":move"),this.getEventOpts())},onEnd:function(d,v,_){var w,S=this,O=S.editor,A=S.opts,P=S.id;(w=A.onEnd)===null||w===void 0||w.call(A,d,_,l(l({event:d},_),this._getDragData())),O.stopCommand("".concat(P)),this.hideGuidesInfo(),this.em.trigger("".concat(f,":end"),this.getEventOpts())},hideGuidesInfo:function(){var d=this;["X","Y"].forEach(function(v){var _=d["elGuideInfo".concat(v)];_&&(_.style.display="none")})},renderGuideInfo:function(d){var v=this;d===void 0&&(d=[]),this.hideGuidesInfo();var _=this.getGuidesMatched(d);_.forEach(function(w){v.opts.skipGuidesRender||v.renderSingleGuideInfo(w),v.em.trigger("".concat(f,":active"),l(l({},v.getEventOpts()),w))})},renderSingleGuideInfo:function(d){var v=d.posFirst,_=d.posSecond,w=d.size,S=d.sizeRaw,O=d.guide,A=d.elGuideInfo,P=d.elGuideInfoCnt,j=(0,e.isUndefined)(O.x)?"y":"x",z=j==="y",k=A.style;k.display="",k[z?"top":"left"]="".concat(v,"px"),k[z?"left":"top"]="".concat(_,"px"),k[z?"width":"height"]="".concat(w,"px"),P.innerHTML="".concat(Math.round(S),"px")},getGuidesMatched:function(d){var v=this;d===void 0&&(d=[]);var _=this.guidesStatic,w=_===void 0?[]:_;return d.map(function(S){var O=S.origin,A=S.x,P=v.getElementPos(O),j=(0,e.isUndefined)(A)?"y":"x",z=j==="y",k=P[z?"left":"top"],G=P.rect[z?"left":"top"],ot=z?k+P.width:k+P.height,xt=z?G+P.rect.width:G+P.rect.height,Nt=w.filter(function(Qt){var ne,oe={l:["r","x"],r:["l","x"],x:["l","r"],t:["b","y"],b:["t","y"],y:["t","b"]};return Qt.type===S.type||((ne=oe[S.type])===null||ne===void 0?void 0:ne.includes(Qt.type))}).map(function(Qt){var ne=Qt.originRect,oe=ne.left,Oe=ne.width,He=ne.top,Se=ne.height,_t=z?oe:He,se=z?oe+Oe:He+Se;return{gap:se<k?k-se:_t-ot,guide:Qt}}).filter(function(Qt){return Qt.gap>0}).sort(function(Qt,ne){return Qt.gap-ne.gap}).map(function(Qt){return Qt.guide}).filter(function(Qt){switch(S.type){case"l":case"r":case"x":return Math.abs(Qt.x-S.x)<1;case"t":case"b":case"y":return Math.abs(Qt.y-S.y)<1;default:return!1}}),vt=Nt[0];if(vt){var $=vt.originRect,mt=$.left,X=$.width,B=$.top,Q=$.height,J=$.rect,ft=z?mt<P.left:B<P.top,M=z?mt:B,ht=z?J.left:J.top,yt=z?mt+X:B+Q,Bt=z?J.left+J.width:J.top+J.height,nt=z?S.y:S.x,Lt=ft?yt:ot,pt=ft?k-yt:M-ot,Et=ft?G-Bt:ht-xt,At=v["elGuideInfo".concat(j.toUpperCase())],Zt=v["elGuideInfoContent".concat(j.toUpperCase())];return{guide:S,guidesStatic:w,matched:vt,posFirst:nt,posSecond:Lt,size:pt,sizeRaw:Et,elGuideInfo:At,elGuideInfoCnt:Zt}}else return null}).filter(Boolean)},toggleDrag:function(d){var v=this,_=v.ppfx,w=v.editor,S=d?"add":"remove",O=["".concat(_,"is__grabbing")],A=w.Canvas,P=A.getBody();O.forEach(function(j){return P.classList[S](j)}),A[d?"startAutoscroll":"stopAutoscroll"]()},editor:void 0,em:void 0,opts:void 0,target:void 0}},6134:(o,n,t)=>{t.r(n),t.d(n,{default:()=>e});const e={run:function(r){if(r.Canvas.hasFocus()){var i=[];r.getSelectedAll().forEach(function(l){var f=l.components(),p=f&&f.filter(function(d){return d.get("selectable")})[0];p&&i.push(p)}),i.length&&r.select(i)}}}},914:(o,n,t)=>{t.r(n),t.d(n,{default:()=>e});const e={run:function(r,i,l){if(l===void 0&&(l={}),!(!r.Canvas.hasFocus()&&!l.force)){var f=[];r.getSelectedAll().forEach(function(p){for(var d=p.parent();d&&!d.get("selectable");)d=d.parent();d&&f.push(d)}),f.length&&r.select(f)}}}},5547:(o,n,t)=>{t.r(n),t.d(n,{default:()=>e});const e={run:function(r){if(r.Canvas.hasFocus()){var i=[];r.getSelectedAll().forEach(function(l){var f=l.parent();if(f){var p=f.components().length,d=0,v=0,_;do d++,v=l.index()+d,_=v<=p?f.getChildAt(v):null;while(_&&!_.get("selectable"));i.push(_||l)}}),i.length&&r.select(i)}}}},8655:(o,n,t)=>{t.r(n),t.d(n,{default:()=>e});const e={run:function(r){if(r.Canvas.hasFocus()){var i=[];r.getSelectedAll().forEach(function(l){var f=l.parent();if(f){var p=0,d=0,v;do p++,d=l.index()-p,v=d>=0?f.getChildAt(d):null;while(v&&!v.get("selectable"));i.push(v||l)}}),i.length&&r.select(i)}}}},7640:(o,n,t)=>{t.r(n),t.d(n,{default:()=>r});var e=t(5706);const r={run:function(i,l,f){f===void 0&&(f={});var p=f.target,d=[];if(!p.get("styles"))return d;var v=p.get("type"),_=i.Pages.getAllWrappers(),w=(0,e.flatten)(_.map(function(O){return O.findType(v)})).length;if(!w){var S=i.CssComposer.getAll();d=S.filter(function(O){return O.get("group")==="cmp:".concat(v)}),S.remove(d)}return d}}},5837:(o,n,t)=>{t.r(n),t.d(n,{default:()=>r});var e=function(i,l,f){if(f||arguments.length===2)for(var p=0,d=l.length,v;p<d;p++)(v||!(p in l))&&(v||(v=Array.prototype.slice.call(l,0,p)),v[p]=l[p]);return i.concat(v||Array.prototype.slice.call(l))};const r={run:function(i){var l=i.getModel(),f=e([],i.getSelectedAll(),!0).map(function(p){var d,v;return((v=(d=p.delegate)===null||d===void 0?void 0:d.copy)===null||v===void 0?void 0:v.call(d,p))||p}).filter(Boolean);f.length&&l.set("clipboard",f)}}},6477:(o,n,t)=>{t.r(n),t.d(n,{default:()=>r});var e=t(6294);const r={run:function(i,l,f){var p=this;f===void 0&&(f={}),l&&l.set&&l.set("active",0);var d=i.getConfig(),v=i.Modal,_=d.stylePrefix;if(this.cm=i.CodeManager||null,!this.editors){var w=this.buildEditor("htmlmixed","hopscotch","HTML"),S=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=w.model,this.cssEditor=S.model;var O=(0,e.a_)("div",{class:"".concat(_,"export-dl")});O.appendChild(w.el),O.appendChild(S.el),this.editors=O}v.open({title:d.textViewCode,content:this.editors}).getModel().once("change:open",function(){return i.stopCommand("".concat(p.id))}),this.htmlEditor.setContent(i.getHtml(f.optsHtml)),this.cssEditor.setContent(i.getCss(f.optsCss))},stop:function(i){var l=i.Modal;l&&l.close()},buildEditor:function(i,l,f){var p=this.em.CodeManager,d=p.createViewer({label:f,codeName:i,theme:l}),v=new p.EditorView({model:d,config:p.getConfig()}).render().el;return{model:d,el:v}}}},1772:(o,n,t)=>{t.r(n),t.d(n,{default:()=>r});var e=t(5706);const r={isEnabled:function(){var i=document;return!!(i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement)},enable:function(i){var l="";return i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?(l="webkit",i.webkitRequestFullscreen()):i.mozRequestFullScreen?(l="moz",i.mozRequestFullScreen()):i.msRequestFullscreen&&i.msRequestFullscreen(),l},disable:function(){var i=document;this.isEnabled()&&(i.exitFullscreen?i.exitFullscreen():i.webkitExitFullscreen?i.webkitExitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.msExitFullscreen&&i.msExitFullscreen())},fsChanged:function(i){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(i||"","fullscreenchange"),this.fsChanged))},run:function(i,l,f){f===void 0&&(f={}),this.sender=l;var p=f.target,d=(0,e.isElement)(p)?p:document.querySelector(p),v=this.enable(d||i.getContainer());this.fsChanged=this.fsChanged.bind(this,v),document.addEventListener(v+"fullscreenchange",this.fsChanged)},stop:function(i,l){l&&l.set&&l.set("active",!1),this.disable()}}},741:(o,n,t)=>{t.r(n),t.d(n,{default:()=>p});var e=t(5706),r=t(7774),i=t(6294),l=t(9317),f=t(1406);const p=(0,e.extend)({},f.default,l.default,{init:function(d){l.default.init.apply(this,arguments),(0,e.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=d,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];l.default.enable.apply(this,d),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var _=this.$wrapper;_.css("cursor","move"),_.on("mousedown",this.initSorter),_.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(d){var v=(0,r.default)(d.target).data("model"),_=v.get("draggable");_&&(this.cacheEl=null,this.startSelectPosition(d.target,this.frameEl.contentDocument),this.sorter.draggable=_,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,i.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(d){var v=d.get("draggable");if(v){this.cacheEl=null;var _=d.view.el;this.startSelectPosition(_,this.frameEl.contentDocument),this.sorter.draggable=v,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,i.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(d){this.cacheEl=null;var v=d[d.length-1],_=this.em.getCurrentFrame(),w=v.getEl(_==null?void 0:_.model),S=w.ownerDocument,O=d.map(function(A){var P;return(P=A==null?void 0:A.view)===null||P===void 0?void 0:P.el});this.startSelectPosition(O,S,{onStart:this.onStart}),this.sorter.eventHandlers.legacyOnMoveClb=this.onDrag,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,i.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,i.AU)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,i.AU)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(d,v){},rollback:function(d,v){var _=d.which||d.keyCode;(_==27||v)&&this.sorter.cancelDrag()},getBadgeEl:function(){return this.$badge||(this.$badge=(0,r.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,r.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];l.default.stop.apply(this,d),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var _=this.$wrapper;_.css("cursor","").unbind().removeClass(this.noSelClass)}})},2924:(o,n,t)=>{t.r(n),t.d(n,{default:()=>i});var e=t(5706),r=t(6294);const i={open:function(l){var f=this,p=this,d=p.editor,v=p.title,_=p.config,w=p.am,S=_.custom;if((0,e.isFunction)(S.open))return S.open(w.__customData());var O=d.Modal;O.open({title:v,content:l}).onceClose(function(){return d.stopCommand(f.id)})},close:function(){var l=this.config.custom;if((0,e.isFunction)(l.close))return l.close(this.am.__customData());var f=this.editor.Modal;f&&f.close()},run:function(l,f,p){p===void 0&&(p={});var d=l.AssetManager,v=d.getConfig(),_=p.types,w=_===void 0?[]:_,S=p.accept,O=p.select;if(this.title=p.modalTitle||l.t("assetManager.modalTitle")||"",this.editor=l,this.config=v,this.am=d,d.setTarget(p.target),d.onClick(p.onClick),d.onDblClick(p.onDblClick),d.onSelect(p.onSelect),d.__behaviour({select:O,types:w,options:p}),v.custom)this.rendered=this.rendered||(0,r.a_)("div"),this.rendered.className="".concat(v.stylePrefix,"custom-wrp"),d.__behaviour({container:this.rendered}),d.__trgCustom();else{if(!this.rendered||w){var A=d.getAll().filter(function(j){return j});w&&w.length&&(A=A.filter(function(j){return w.indexOf(j.get("type"))!==-1})),d.render(A),this.rendered=d.getContainer()}if(S){var P=this.rendered.querySelector("input#".concat(v.stylePrefix,"uploadFile"));P&&P.setAttribute("accept",S)}}return this.open(this.rendered),this},stop:function(l){this.editor=l,this.close(this.rendered)}}},3963:(o,n,t)=>{t.r(n),t.d(n,{default:()=>i});var e=t(5706),r=t(6294);const i={open:function(){var l=this,f=l.container,p=l.editor,d=l.bm,v=l.config,_=v.custom,w=v.appendTo;if((0,e.isFunction)(_.open))return _.open(d.__customData());if(this.firstRender&&!w){var S="views-container",O=p.Panels,A=O.getPanel(S)||O.addPanel({id:S});A.set("appendContent",f).trigger("change:appendContent"),_||f.appendChild(d.render())}f&&(f.style.display="block")},close:function(){var l=this,f=l.container,p=l.config,d=p.custom;if((0,e.isFunction)(d.close))return d.close(this.bm.__customData());f&&(f.style.display="none")},run:function(l){var f=l.Blocks;this.config=f.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,r.a_)("div"),this.editor=l,this.bm=f;var p=this.container;f.__behaviour({container:p}),this.config.custom&&f.__trgCustom(),this.open()},stop:function(){this.close()}}},1479:(o,n,t)=>{t.r(n),t.d(n,{default:()=>e});const e={run:function(r){var i=r.LayerManager,l=r.Panels,f=i.getConfig();if(!f.appendTo){if(!this.layers){var p="views-container",d=document.createElement("div"),v=l.getPanel(p)||l.addPanel({id:p});f.custom?i.__trgCustom({container:d}):d.appendChild(i.render()),v.set("appendContent",d).trigger("change:appendContent"),this.layers=d}this.layers.style.display="block"}},stop:function(){var r=this.layers;r&&(r.style.display="none")}}},3473:(o,n,t)=>{t.r(n),t.d(n,{default:()=>r});var e=t(7774);const r={run:function(i,l){if(this.sender=l,!this.$cnt){var f=i.getConfig(),p=i.Panels,d=i.DeviceManager,v=i.SelectorManager,_=i.StyleManager,w="change:appendContent",S=(0,e.default)("<div></div>"),O=(0,e.default)("<div></div>"),A=(0,e.default)("<div></div>"),P=(0,e.default)("<div></div>");if(this.$cnt=S,this.$cntInner=O,O.append(A),O.append(P),S.append(O),d&&f.showDevices){var j=p.addPanel({id:"devices-c"}),z=d.render();j.set("appendContent",z).trigger(w)}var k=v.getConfig();k.custom?v.__trgCustom({container:A.get(0)}):k.appendTo||A.append(v.render([])),this.sm=_;var G=_.getConfig(),ot=G.stylePrefix;this.$header=(0,e.default)('<div class="'.concat(ot,'header">').concat(i.t("styleManager.empty"),"</div>")),S.append(this.$header),G.custom?_.__trgCustom({container:P.get(0)}):G.appendTo||P.append(_.render());var xt="views-container",Nt=p.getPanel(xt)||p.addPanel({id:xt});Nt.set("appendContent",S).trigger(w);var vt=i.getModel();this.listenTo(vt,_.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var i=this,l=i.sender,f=i.sm,p=i.$cntInner,d=i.$header;l&&l.get&&!l.get("active")||!f||(f.getSelected()?(p==null||p.show(),d==null||d.hide()):(p==null||p.hide(),d==null||d.show()))},stop:function(){var i,l;(i=this.$cntInner)===null||i===void 0||i.hide(),(l=this.$header)===null||l===void 0||l.hide()}}},5054:(o,n,t)=>{t.r(n),t.d(n,{default:()=>r});var e=t(7774);const r={run:function(i,l){this.sender=l;var f=i.getModel(),p=i.Config,d=p.stylePrefix,v=i.TraitManager,_=v.getConfig(),w;if(!_.appendTo){if(!this.$cn){this.$cn=(0,e.default)("<div></div>"),this.$cn2=(0,e.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,e.default)("<div>").append('<div class="'.concat(_.stylePrefix,'header">').concat(f.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),_.custom?v.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(d,'traits-label">').concat(f.t("traitManager.label"),"</div>")),this.$cn2.append(v.render()));var S=i.Panels;S.getPanel("views-container")?w=S.getPanel("views-container"):w=S.addPanel({id:"views-container"}),w==null||w.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=i.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var i=this.sender;i&&i.get&&!i.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},6979:(o,n,t)=>{t.r(n),t.d(n,{default:()=>r});var e=t(5706);const r={run:function(l,f,p){p===void 0&&(p={});var d=l.getModel(),v=d.get("clipboard"),_=l.getSelected();v!=null&&v.length&&_&&(l.getSelectedAll().forEach(function(w){var S,O,A,P=((O=(S=w.delegate)===null||S===void 0?void 0:S.copy)===null||O===void 0?void 0:O.call(S,w))||w,j=P.collection,z;if(j){var k=P.index()+1,G={at:k,action:p.action||"paste-component"};(0,e.contains)(v,P)&&P.get("copyable")?z=j.add(P.clone(),G):z=i(l,v,P.parent(),G)}else{var ot=(A=d.Pages.getSelected())===null||A===void 0?void 0:A.getMainComponent(),G={at:(ot==null?void 0:ot.components().length)||0,action:p.action||"paste-component"};z=i(l,v,ot,G)}z=(0,e.isArray)(z)?z:[z],z.forEach(function(xt){return l.trigger("component:paste",xt)})}),_.emitUpdate())}};function i(l,f,p,d){var v=f.filter(function(w){return w.get("copyable")}),_=v.filter(function(w){return l.Components.canMove(p,w).result});return p.components().add(_.map(function(w){return w.clone()}),d)}},4457:(o,n,t)=>{t.r(n),t.d(n,{default:()=>l});var e=t(5706),r=function(f,p,d){if(d||arguments.length===2)for(var v=0,_=p.length,w;v<_;v++)(w||!(v in p))&&(w||(w=Array.prototype.slice.call(p,0,v)),w[v]=p[v]);return f.concat(w||Array.prototype.slice.call(p))},i="core:component-outline";const l={getPanels:function(f){return this.panels||(this.panels=f.Panels.getPanels()),this.panels},preventDrag:function(f){f.abort=1},tglEffects:function(f){var p=this.em,d=f?"on":"off";if(p){var v=p.Canvas,_=v.getBody(),w=v.getToolbarEl();w&&(w.style.display=f?"none":"");var S=_.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,e.each)(S,function(O){return O.style.pointerEvents=f?"all":""}),p[d]("run:tlb-move:before",this.preventDrag)}},run:function(f,p){var d=this;this.sender=p,this.selected=r([],f.getSelectedAll(),!0),f.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=f.Commands.isActive(i)),this.shouldRunSwVisibility&&f.stopCommand(i),f.getModel().stopDefault();var v=this.getPanels(f),_=f.Canvas.getElement(),w=f.getEl(),S=f.Config.stylePrefix;if(!this.helper){var O=document.createElement("span");O.className="".concat(S,"off-prv fa fa-eye-slash"),w.appendChild(O),O.onclick=function(){return d.stopCommand()},this.helper=O}this.helper.style.display="inline-block",v.forEach(function(P){return P.set("visible",!1)});var A=_.style;A.width="100%",A.height="100%",A.top="0",A.left="0",A.padding="0",A.margin="0",f.refresh(),this.tglEffects(1)},stop:function(f){var p=this,d=p.sender,v=d===void 0?{}:d,_=p.selected;v.set&&v.set("active",0);var w=this.getPanels(f);this.shouldRunSwVisibility&&(f.runCommand(i),this.shouldRunSwVisibility=!1),f.getModel().runDefault(),w.forEach(function(O){return O.set("visible",!0)});var S=f.Canvas.getElement();S.setAttribute("style",""),_&&f.select(_),delete this.selected,this.helper&&(this.helper.style.display="none"),f.refresh(),this.tglEffects()}}},5493:(o,n,t)=>{t.r(n),t.d(n,{default:()=>r});var e=function(){return e=Object.assign||function(i){for(var l,f=1,p=arguments.length;f<p;f++){l=arguments[f];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(i[d]=l[d])}return i},e.apply(this,arguments)};const r={run:function(i,l,f){var p=f||{},d=i.Canvas,v=d.getCanvasView(),_=e({appendTo:d.getResizerEl(),prefix:i.getConfig().stylePrefix,posFetcher:v.getElementPos.bind(v),mousePosFetcher:d.getMouseRelativePos.bind(d)},p.options||{}),w=this.canvasResizer;return(!w||p.forceNew)&&(this.canvasResizer=new i.Utils.Resizer(_),w=this.canvasResizer),w.setOptions(_,!0),w.blur(),w.focus(p.el),w},stop:function(){var i;(i=this.canvasResizer)===null||i===void 0||i.blur()}}},9317:(o,n,t)=>{t.r(n),t.d(n,{default:()=>mt});var e=t(5706),r=t(9156),i=function(){var X=function(B,Q){return X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,ft){J.__proto__=ft}||function(J,ft){for(var M in ft)Object.prototype.hasOwnProperty.call(ft,M)&&(J[M]=ft[M])},X(B,Q)};return function(B,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");X(B,Q);function J(){this.constructor=B}B.prototype=Q===null?Object.create(Q):(J.prototype=Q.prototype,new J)}}(),l=function(X){i(B,X);function B(){return X!==null&&X.apply(this,arguments)||this}return B.prototype.defaults=function(){return{command:"",attributes:{}}},B}(r.Kx);const f=l;var p=function(){var X=function(B,Q){return X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,ft){J.__proto__=ft}||function(J,ft){for(var M in ft)Object.prototype.hasOwnProperty.call(ft,M)&&(J[M]=ft[M])},X(B,Q)};return function(B,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");X(B,Q);function J(){this.constructor=B}B.prototype=Q===null?Object.create(Q):(J.prototype=Q.prototype,new J)}}(),d=function(X){p(B,X);function B(){return X!==null&&X.apply(this,arguments)||this}return B}(r.pM);const v=d;d.prototype.model=f;var _=t(8242),w=function(){var X=function(B,Q){return X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,ft){J.__proto__=ft}||function(J,ft){for(var M in ft)Object.prototype.hasOwnProperty.call(ft,M)&&(J[M]=ft[M])},X(B,Q)};return function(B,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");X(B,Q);function J(){this.constructor=B}B.prototype=Q===null?Object.create(Q):(J.prototype=Q.prototype,new J)}}(),S=function(){return S=Object.assign||function(X){for(var B,Q=1,J=arguments.length;Q<J;Q++){B=arguments[Q];for(var ft in B)Object.prototype.hasOwnProperty.call(B,ft)&&(X[ft]=B[ft])}return X},S.apply(this,arguments)},O=function(X){w(B,X);function B(Q){var J=X.call(this,Q)||this;return J.em=Q.config.em,J}return B.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},B.prototype.attributes=function(){return this.model.get("attributes")},B.prototype.handleClick=function(Q){Q.preventDefault(),Q.stopPropagation();var J=this.em,ft=J.Canvas.getFrameEl().getBoundingClientRect(),M=ft.left,ht=ft.top,yt=S(S({},Q),{clientX:Q.clientX-M,clientY:Q.clientY-ht});J.trigger("toolbar:run:before",{event:yt}),this.execCommand(yt)},B.prototype.execCommand=function(Q){var J=this,ft=J.em,M=J.model,ht={event:Q},yt=M.get("command"),Bt=ft.Editor;(0,e.isFunction)(yt)&&yt(Bt,null,ht),(0,e.isString)(yt)&&Bt.runCommand(yt,ht)},B.prototype.render=function(){var Q=this,J=Q.em,ft=Q.$el,M=Q.model,ht=M.get("id"),yt=M.get("label"),Bt=J.getConfig().stylePrefix;return ft.addClass("".concat(Bt,"toolbar-item")),ht&&ft.addClass("".concat(Bt,"toolbar-item__").concat(ht)),yt&&ft.append(yt),this},B}(r.Ss);const A=O;var P=function(){var X=function(B,Q){return X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,ft){J.__proto__=ft}||function(J,ft){for(var M in ft)Object.prototype.hasOwnProperty.call(ft,M)&&(J[M]=ft[M])},X(B,Q)};return function(B,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");X(B,Q);function J(){this.constructor=B}B.prototype=Q===null?Object.create(Q):(J.prototype=Q.prototype,new J)}}(),j=function(X){P(B,X);function B(Q){var J=X.call(this,Q)||this,ft=Q.em;return J.em=ft,J.config={em:ft},J.listenTo(J.collection,"reset",J.render),J}return B.prototype.onRender=function(){var Q=this.em.config.stylePrefix;this.el.className="".concat(Q,"toolbar-items")},B}(_.A);const z=j;j.prototype.itemView=A;var k=t(6294),G=t(1166),ot=t(179),xt=t(2225),Nt=function(){return Nt=Object.assign||function(X){for(var B,Q=1,J=arguments.length;Q<J;Q++){B=arguments[Q];for(var ft in B)Object.prototype.hasOwnProperty.call(B,ft)&&(X[ft]=B[ft])}return X},Nt.apply(this,arguments)},vt=function(X,B){var Q={};for(var J in X)Object.prototype.hasOwnProperty.call(X,J)&&B.indexOf(J)<0&&(Q[J]=X[J]);if(X!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ft=0,J=Object.getOwnPropertySymbols(X);ft<J.length;ft++)B.indexOf(J[ft])<0&&Object.prototype.propertyIsEnumerable.call(X,J[ft])&&(Q[J[ft]]=X[J[ft]]);return Q},$;const mt={activeResizer:!1,init:function(){this.onSelect=(0,e.debounce)(this.onSelect,0),(0,e.bindAll)(this,"onHover","onOut","onClick","onCanvasScroll","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),$=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(X){var B=this,Q=this,J=Q.em,ft=Q.canvas,M=ft.getCanvasView().el,ht=J.getConfig().listenToEl,yt=J.getContainer().parentNode,Bt=X?"on":"off",nt={on:k.on,off:k.AU},Lt=xt.I.update;!ht.length&&yt&&ht.push(yt);var pt=function(Et,At,Zt){nt[Bt](Zt,"scroll",B.onCanvasScroll,!0),nt[Bt](At,"mouseover",B.onHover),nt[Bt](At,"mouseleave",B.onOut),nt[Bt](At,"click",B.onClick),nt[Bt](Et,"scroll",B.onFrameScroll,!0),nt[Bt](Et,"resize",B.onFrameResize)};nt[Bt](window,"resize",this.onFrameUpdated),nt[Bt](ht,"scroll",this.onContainerChange),J[Bt]("component:toggled ".concat(Lt," undo redo"),this.onSelect,this),J[Bt]("change:componentHovered",this.onHovered,this),J[Bt]("".concat(xt.I.resize," styleable:change component:input"),this.updateGlobalPos,this),J[Bt]("".concat(Lt,":toolbar"),this._upToolbar,this),J[Bt]("frame:updated",this.onFrameUpdated,this),J[Bt]("canvas:updateTools",this.onFrameUpdated,this),J[Bt](J.Canvas.events.refresh,this.updateAttached,this),J.Canvas.getFrames().forEach(function(Et){var At=Et.view,Zt=At==null?void 0:At.getWindow();Zt&&pt(Zt,At==null?void 0:At.getBody(),M)})},onHover:function(X){X.stopPropagation();var B=this.em,Q=X.target,J=(0,G.getComponentView)(Q),ft=J==null?void 0:J.frameView,M=J==null?void 0:J.model;if(!M)for(var ht=Q.parentNode;!M&&ht&&!(0,k.ZQ)(ht);)M=(0,G.getComponentModel)(ht),ht=ht.parentNode;this.currentDoc=Q.ownerDocument,B.setHovered(M,{useValid:!0}),ft&&B.setCurrentFrame(ft)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(X,B){var Q=this,J,ft={};B?(J=B.views)===null||J===void 0||J.forEach(function(M){var ht=M.el,yt=Q.getElementPos(ht);ft={el:ht,pos:yt,component:B,view:M},ht.ownerDocument===Q.currentDoc&&(Q.elHovered=ft),Q.updateToolsLocal(ft)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(M){var ht=M.view,yt=ht&&ht.getToolsEl();yt&&Q.toggleToolsEl(0,0,{el:yt})}))},onSelect:function(){var X=this.em,B=X.getSelected(),Q=X.getCurrentFrame(),J=B&&B.getView(Q==null?void 0:Q.model),ft=J==null?void 0:J.el,M={};if(ft&&(0,k.zN)(ft)){var ht=this.getElementPos(ft);M={el:ft,pos:ht,component:B,view:J}}this.elSelected=M,this.updateToolsGlobal(),this.updateLocalPos(M),this.initResize(B)},updateGlobalPos:function(){var X=this.getElSelected();X.el&&(X.pos=this.getElementPos(X.el),this.updateToolsGlobal())},updateLocalPos:function(X){var B=this.getElHovered();B.el&&(B.pos=this.getElementPos(B.el),this.updateToolsLocal(X))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(X,B,Q){Q===void 0&&(Q={});var J=Q.el||this.canvas.getToolsEl(B);return J&&(J.style.display=X?"":"none"),J||{}},showElementOffset:function(X,B,Q){Q===void 0&&(Q={}),$&&this.editor.runCommand("show-offset",{el:X,elPos:B,view:Q.view,force:1,top:0,left:0})},hideElementOffset:function(X){this.editor.stopCommand("show-offset",{view:X})},showFixedElementOffset:function(X,B){this.editor.runCommand("show-offset",{el:X,elPos:B,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(X){this.canvas.getHighlighter(X).style.opacity=0},onClick:function(X){X.stopPropagation(),X.preventDefault();var B=this.em;if(B.get("_cmpDrag"))return B.set("_cmpDrag");var Q=X.target,J=(0,G.getComponentModel)(Q);if(!J)for(var ft=Q.parentNode;!J&&ft&&!(0,k.ZQ)(ft);)J=(0,G.getComponentModel)(ft),ft=ft.parentNode;if(J){if(B.isEditing()&&(!J.get("textable")&&J.isChildOf("text")||B.getEditing()!==J))return;this.select(J,X)}},select:function(X,B){if(B===void 0&&(B={}),!!X){var Q=this.em;Q.setSelected(X,{event:B,useValid:!0}),this.initResize(Q.getSelected())}},updateBadge:function(X,B,Q){Q===void 0&&(Q={});var J=this.canvas,ft=(0,G.getComponentModel)(X),M=this.getBadge(Q),ht=M.style;if(!ft||!ft.get("badgable")){ht.display="none";return}if(!Q.posOnly){var yt=this.canvas.getConfig(),Bt=ft.getIcon(),nt=yt.pStylePrefix||"",Lt="".concat(nt,"badge"),pt=yt.customBadgeLabel,Et="".concat(Bt?'<div class="'.concat(Lt,'__icon">').concat(Bt,"</div>"):"",`
        <div class="`).concat(Lt,'__name">').concat(ft.getName(),"</div>");M.innerHTML=pt?pt(ft):Et}var At="px";ht.display="block";var Zt=J.getTargetToElementFixed(X,M,{pos:B}),Qt=Zt.top,ne=Q.leftOff<0?-Q.leftOff:0;ht.top=Qt+At,ht.left=ne+At},showHighlighter:function(X){this.canvas.getHighlighter(X).style.opacity=""},initResize:function(X){var B=this,Q=B.em,J=B.canvas,ft=Q.Editor,M=!(0,e.isElement)(X)&&(0,k.GW)(X)?X:Q.getSelected(),ht=M==null?void 0:M.get("resizable"),yt=ot.F.Resize,Bt=J.hasCustomSpot(yt);J.removeSpots({type:yt});var nt={component:M,hasCustomResize:Bt,resizable:ht};M&&Q.trigger(xt.I.resizeInit,nt);var Lt=nt.resizable;if(M&&Lt){J.addSpot({type:yt,component:M});var pt=(0,e.isElement)(X)?X:M.getEl(),Et=(0,G.isObject)(Lt)?Lt:{},At=Et.onStart,Zt=At===void 0?function(){}:At,Qt=Et.onMove,ne=Qt===void 0?function(){}:Qt,oe=Et.onEnd,Oe=oe===void 0?function(){}:oe,He=Et.updateTarget,Se=He===void 0?function(){}:He,_t=vt(Et,["onStart","onMove","onEnd","updateTarget"]);if(Bt||!pt||this.activeResizer)return;var se,ue=Q.config,Ve=ue.stylePrefix||"",Ae="".concat(Ve,"resizing"),ge=this,N={component:M,el:pt},Z=function(bt,kt,tt){var Pt=tt.docs;Pt&&Pt.forEach(function(St){var we=St.body,Ee=we.className||"";we.className=(bt=="add"?"".concat(Ee," ").concat(Ae):Ee.replace(Ae,"")).trim()})},it=Nt({onStart:function(bt,kt){Zt(bt,kt);var tt=kt.el,Pt=kt.config,St=kt.resizer,we=Pt.keyHeight,Ee=Pt.keyWidth,Ne=Pt.currentUnit,Y=Pt.keepAutoHeight,gt=Pt.keepAutoWidth;Z("add",bt,kt),se=Q.Styles.getModelToStyle(M);var F=getComputedStyle(tt),Yt=se.getStyle(),Dt=Yt[Ee];Pt.autoWidth=gt&&Dt==="auto",isNaN(parseFloat(Dt))&&(Dt=F[Ee]);var te=Yt[we];Pt.autoHeight=Y&&te==="auto",isNaN(parseFloat(te))&&(te=F[we]),St.startDim.w=parseFloat(Dt),St.startDim.h=parseFloat(te),$=!1,Ne&&(Pt.unitHeight=(0,G.getUnitFromValue)(te),Pt.unitWidth=(0,G.getUnitFromValue)(Dt)),ge.activeResizer=!0,ft.trigger(xt.I.resize,Nt(Nt({},N),{type:"start"}))},onMove:function(bt){ne(bt),ft.trigger(xt.I.resize,Nt(Nt({},N),{type:"move"}))},onEnd:function(bt,kt){Oe(bt,kt),Z("remove",bt,kt),ft.trigger(xt.I.resize,Nt(Nt({},N),{type:"end"})),$=!0,ge.activeResizer=!1},updateTarget:function(bt,kt,tt){var Pt;if(Se(bt,kt,tt),!!se){var St=tt.store,we=tt.selectedHandler,Ee=tt.config,Ne=Ee.keyHeight,Y=Ee.keyWidth,gt=Ee.autoHeight,F=Ee.autoWidth,Yt=Ee.unitWidth,Dt=Ee.unitHeight,te=["tc","bc"].indexOf(we)>=0,_e=["cl","cr"].indexOf(we)>=0,me={};if(!te){var de=((Pt=J.getBody())===null||Pt===void 0?void 0:Pt.offsetWidth)||0,De=kt.w<de?kt.w:de;me[Y]=F?"auto":"".concat(De).concat(Yt)}_e||(me[Ne]=gt?"auto":"".concat(kt.h).concat(Dt)),Q.getDragMode(M)&&(me.top="".concat(kt.t).concat(Dt),me.left="".concat(kt.l).concat(Yt));var Ge=Nt(Nt({},me),{__p:!St});se.addStyle(Ge,{avoidStore:!St}),Q.Styles.__emitCmpStyleUpdate(Ge,{components:Q.getSelected()})}}},_t);this.resizer=ft.runCommand("resize",{el:pt,options:it,force:1})}else{if(Bt)return;ft.stopCommand("resize"),this.resizer=null}},updateToolbar:function(X){var B=this.canvas,Q=this.config.em,J=X===Q?Q.getSelected():X,ft=B.getToolbarEl(),M=ft.style,ht=J.get("toolbar"),yt=Q.config.showToolbar,Bt=!B.hasCustomSpot(ot.F.Select);if(J&&yt&&ht&&ht.length&&Bt){if(M.display="",!this.toolbar){ft.innerHTML="",this.toolbar=new v(ht);var nt=new z({collection:this.toolbar,em:Q});ft.appendChild(nt.render().el)}this.toolbar.reset(ht),M.top="-100px",M.left="0"}else M.display="none"},updateToolbarPos:function(X){var B="px",Q=this.canvas.getToolbarEl().style;Q.top="".concat(X.top).concat(B),Q.left="".concat(X.left).concat(B),Q.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(X){return X===void 0&&(X={}),this.canvas.getBadgeEl(X.view)},onCanvasScroll:function(X){this.onFrameScroll(X),this.onContainerChange()},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(X){return X&&X.get("status")==="selected"},updateToolsLocal:function(X){var B=this.em.getConfig(),Q=X||this.getElHovered(),J=Q.el,ft=Q.pos,M=Q.view,ht=Q.component;if(!J){this.lastHovered=0;return}var yt=ht.get("hoverable"),Bt=this.lastHovered!==J,nt=Bt?{}:{posOnly:1},Lt=this.canvas.hasCustomSpot(ot.F.Hover);Bt&&yt&&(this.lastHovered=J,Lt?this.hideHighlighter(M):this.showHighlighter(M),this.showElementOffset(J,ft,{view:M})),this.isCompSelected(ht)&&(this.hideHighlighter(M),!B.showOffsetsSelected&&this.hideElementOffset(M));var pt="px",Et=this.toggleToolsEl(1,M),At=Et.style,Zt=this.canvas.canvasRectOffset(J,ft),Qt=Zt.top,ne=Zt.left;!Lt&&this.updateBadge(J,ft,Nt(Nt({},nt),{view:M,topOff:Qt,leftOff:ne})),At.top=Qt+pt,At.left=ne+pt,At.width=ft.width+pt,At.height=ft.height+pt,this._trgToolUp("local",{component:ht,el:Et,top:Qt,left:ne,width:ft.width,height:ft.height})},_upToolbar:(0,e.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(X,B){B===void 0&&(B={}),this.em.trigger("canvas:tools:update",Nt({type:X},B))},updateToolsGlobal:function(X){X===void 0&&(X={});var B=this.getElSelected(),Q=B.el,J=B.pos,ft=B.component;if(!Q){this.toggleToolsEl(),this.lastSelected=0;return}var M=this.canvas,ht=this.lastSelected!==Q;(ht||X.force)&&(this.lastSelected=Q,this.updateToolbar(ft));var yt="px",Bt=this.toggleToolsEl(1),nt=Bt.style,Lt=M.getTargetToElementFixed(Q,M.getToolbarEl(),{pos:J}),pt=Lt.canvasOffsetTop,Et=Lt.canvasOffsetLeft;nt.top=pt+yt,nt.left=Et+yt,nt.width=J.width+yt,nt.height=J.height+yt,this.updateToolbarPos({top:Lt.top,left:Lt.left}),this._trgToolUp("global",{component:ft,el:Bt,top:pt,left:Et,width:J.width,height:J.height})},updateAttached:(0,e.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,e.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(X){return this.canvas.getCanvasView().getElementPos(X,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(X){X&&X.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(X){(0,G.hasWin)()&&(this.editor=X&&X.get("Editor"),this.enable())},stop:function(X,B,Q){if(Q===void 0&&(Q={}),!!(0,G.hasWin)()){var J=this,ft=J.em,M=J.editor;this.onHovered(),this.stopSelectComponent(),!Q.preserveSelected&&ft.setSelected(),this.toggleToolsEl(),this.updateAttached.cancel(),M&&M.stopCommand("resize")}}}},1406:(o,n,t)=>{t.r(n),t.d(n,{default:()=>l});var e=t(7774),r=t(1447),i=t(8433);const l={startSelectPosition:function(f,p,d){d===void 0&&(d={}),this.isPointed=!1;var v=this.em.Utils,_=f[0].ownerDocument.body;v&&(this.sorter=new v.ComponentSorter({em:this.em,treeClass:r.A,containerContext:{container:_,containerSel:"*",itemSel:"*",pfx:this.ppfx,document:p,placeholderElement:this.canvas.getPlacerEl()},positionOptions:{windowMargin:1,canvasRelative:!0},dragBehavior:{dragDirection:i.A.BothDirections,nested:!0}})),d.onStart&&(this.sorter.eventHandlers.legacyOnStartSort=d.onStart),f&&f.length>0&&this.sorter.startSort(f.map(function(w){return{element:w}}))},getOffsetDim:function(){var f=this.offset(this.canvas.getFrameEl()),p=this.offset(this.canvas.getElement()),d=f.top-p.top,v=f.left-p.left;return{top:d,left:v}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&this.sorter.cancelDrag(),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,e.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,e.default)(this.cDim[this.posIndex][5]).parent():(0,e.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(f,p,d){var v=f||0,_=p||"before",w=d.length,S=w!==0&&_=="after"&&v==w;return w!==0&&(!S&&!d[v][4]||d[v-1]&&!d[v-1][4]||S&&!d[v-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},9395:(o,n,t)=>{t.r(n),t.d(n,{default:()=>f});var e=t(5706),r=t(179),i=t(7774),l=function(){return l=Object.assign||function(p){for(var d,v=1,_=arguments.length;v<_;v++){d=arguments[v];for(var w in d)Object.prototype.hasOwnProperty.call(d,w)&&(p[w]=d[w])}return p},l.apply(this,arguments)};const f={getOffsetMethod:function(p){var d=p||"";return"get"+d+"OffsetViewerEl"},run:function(p,d,v){var _=this.canvas,w=v||{},S=w.state||"",O=p.getConfig(),A=this.em.getZoomDecimal(),P=w.el;if(!O.showOffsets||!(P instanceof HTMLElement)||!O.showOffsetsSelected&&S=="Fixed"){p.stopCommand("".concat(this.id),v);return}if(!_.hasCustomSpot(r.F.Spacing)){var j=l({},w.elPos||_.getElementPos(P));(0,e.isUndefined)(w.top)||(j.top=w.top),(0,e.isUndefined)(w.left)||(j.left=w.left);var z=window.getComputedStyle(P),k=this.ppfx,G=S+"State",ot=this.getOffsetMethod(S),xt=_[ot](v.view);xt.style.opacity="";var Nt=this["marginT"+S],vt=this["marginB"+S],$=this["marginL"+S],mt=this["marginR"+S],X=this["padT"+S],B=this["padB"+S],Q=this["padL"+S],J=this["padR"+S];if(xt.childNodes.length&&(this[G]="1",Nt=xt.querySelector("[data-offset-m-t]"),vt=xt.querySelector("[data-offset-m-b]"),$=xt.querySelector("[data-offset-m-l]"),mt=xt.querySelector("[data-offset-m-r]"),X=xt.querySelector("[data-offset-p-t]"),B=xt.querySelector("[data-offset-p-b]"),Q=xt.querySelector("[data-offset-p-l]"),J=xt.querySelector("[data-offset-p-r]")),!this[G]){var ft=S.toLowerCase(),M=ft+"margin-v",ht=ft+"padding-v",yt=(0,i.default)('<div class="'.concat(k,'marginName">')).get(0),Bt=(0,i.default)('<div class="'.concat(k,'paddingName">')).get(0),nt=k+M+"-el",Lt=k+ht+"-el",pt="".concat(nt," ").concat(k+M),Et="".concat(Lt," ").concat(k+ht);Nt=(0,i.default)('<div class="'.concat(pt,'-top"></div>')).get(0),vt=(0,i.default)('<div class="'.concat(pt,'-bottom"></div>')).get(0),$=(0,i.default)('<div class="'.concat(pt,'-left"></div>')).get(0),mt=(0,i.default)('<div class="'.concat(pt,'-right"></div>')).get(0),X=(0,i.default)('<div class="'.concat(Et,'-top"></div>')).get(0),B=(0,i.default)('<div class="'.concat(Et,'-bottom"></div>')).get(0),Q=(0,i.default)('<div class="'.concat(Et,'-left"></div>')).get(0),J=(0,i.default)('<div class="'.concat(Et,'-right"></div>')).get(0),this["marginT"+S]=Nt,this["marginB"+S]=vt,this["marginL"+S]=$,this["marginR"+S]=mt,this["padT"+S]=X,this["padB"+S]=B,this["padL"+S]=Q,this["padR"+S]=J,yt.appendChild(Nt),yt.appendChild(vt),yt.appendChild($),yt.appendChild(mt),Bt.appendChild(X),Bt.appendChild(B),Bt.appendChild(Q),Bt.appendChild(J),xt.appendChild(yt),xt.appendChild(Bt),this[G]="1"}var At="px",Zt=parseFloat(z.marginLeft.replace(At,""))*A,Qt=parseFloat(z.marginRight.replace(At,""))*A,ne=parseFloat(z.marginTop.replace(At,""))*A,oe=parseFloat(z.marginBottom.replace(At,""))*A,Oe=Nt.style,He=vt.style,Se=$.style,_t=mt.style,se=X.style,ue=B.style,Ve=Q.style,Ae=J.style,ge=parseFloat(j.left),N=parseFloat(z.width)*A+At;Oe.height=ne+At,Oe.width=N,Oe.top=j.top-ne+At,Oe.left=ge+At,He.height=oe+At,He.width=N,He.top=j.top+j.height+At,He.left=ge+At;var Z=j.height+ne+oe+At,it=j.top-ne+At;Se.height=Z,Se.width=Zt+At,Se.top=it,Se.left=ge-Zt+At,_t.height=Z,_t.width=Qt+At,_t.top=it,_t.left=ge+j.width+At;var bt=parseFloat(z.paddingTop)*A;se.height=bt+At;var kt=parseFloat(z.paddingBottom)*A;ue.height=kt+At;var tt=j.height-kt-bt+At,Pt=j.top+bt+At;Ve.height=tt,Ve.width=parseFloat(z.paddingLeft)*A+At,Ve.top=Pt;var St=parseFloat(z.paddingRight)*A;Ae.height=tt,Ae.width=St+At,Ae.top=Pt}},stop:function(p,d,v){v===void 0&&(v={});var _=v||{},w=_.state||"",S=this.getOffsetMethod(w),O=v.view,A=this.canvas,P=A[S](O);P.style.opacity=0}}},7285:(o,n,t)=>{t.r(n),t.d(n,{default:()=>i});var e=t(5706),r=t(1166);const i={init:function(){(0,e.bindAll)(this,"_onFramesChange")},run:function(l){this.toggleVis(l,!0)},stop:function(l){this.toggleVis(l,!1)},toggleVis:function(l,f){if(f===void 0&&(f=!0),!l.Commands.isActive("preview")){var p=l.Canvas,d=f?"on":"off",v=p.getModel();v[d]("change:frames",this._onFramesChange),this.handleFrames(p.getFrames(),f)}},handleFrames:function(l,f){var p=this;l.forEach(function(d){var v;!((v=d.view)===null||v===void 0)&&v.loaded&&p._upFrame(d,f),d.__ol||(d.on("loaded",function(){return p._upFrame(d)}),d.__ol=!0)})},_onFramesChange:function(l,f){this.handleFrames(f)},_upFrame:function(l,f){var p,d=this,v=d.ppfx,_=d.em,w=d.id,S=(0,r.isDef)(f)?f:_.Commands.isActive(w),O=S?"add":"remove",A="".concat(v,"dashed");(p=l.view)===null||p===void 0||p.getBody().classList[O](A)}}},9156:(o,n,t)=>{t.d(n,{Kx:()=>p,Ss:()=>v,e2:()=>f,lK:()=>w,pM:()=>d,x2:()=>_});var e=t(4193),r=t.n(e),i=function(){var S=function(O,A){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,j){P.__proto__=j}||function(P,j){for(var z in j)Object.prototype.hasOwnProperty.call(j,z)&&(P[z]=j[z])},S(O,A)};return function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");S(O,A);function P(){this.constructor=O}O.prototype=A===null?Object.create(A):(P.prototype=A.prototype,new P)}}(),l=function(){return l=Object.assign||function(S){for(var O,A=1,P=arguments.length;A<P;A++){O=arguments[A];for(var j in O)Object.prototype.hasOwnProperty.call(O,j)&&(S[j]=O[j])}return S},l.apply(this,arguments)},f="add remove reset change",p=function(S){i(O,S);function O(){return S!==null&&S.apply(this,arguments)||this}return O}(r().Model),d=function(S){i(O,S);function O(){return S!==null&&S.apply(this,arguments)||this}return O}(r().Collection),v=function(S){i(O,S);function O(){return S!==null&&S.apply(this,arguments)||this}return O}(r().View),_;(function(S){S.Screen="screen",S.World="world"})(_||(_={}));var w={x:0,y:0};l(l({},w),{width:0,height:0})},2225:(o,n,t)=>{t.d(n,{I:()=>r,t:()=>e});var e;(function(i){i.remove="component:remove",i.add="component:add",i.move="component:move"})(e||(e={}));var r;(function(i){i.add="component:add",i.remove="component:remove",i.removeBefore="component:remove:before",i.removed="component:removed",i.create="component:create",i.update="component:update",i.updateInside="component:update-inside",i.select="component:select",i.selectBefore="component:select:before",i.scriptMount="component:script:mount",i.scriptMountBefore="component:script:mount:before",i.scriptUnmount="component:script:unmount",i.render="component:render",i.resize="component:resize",i.resizeInit="component:resize:init",i.symbolMainAdd="symbol:main:add",i.symbolMainUpdate="symbol:main:update",i.symbolMainUpdateDeep="symbol:main:update-deep",i.symbolMainRemove="symbol:main:remove",i.symbolMain="symbol:main",i.symbolInstanceAdd="symbol:instance:add",i.symbolInstanceRemove="symbol:instance:remove",i.symbolInstance="symbol:instance",i.symbol="symbol"})(r||(r={}))},8242:(o,n,t)=>{t.d(n,{A:()=>f});var e=t(5706),r=t(9156),i=function(){var p=function(d,v){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,w){_.__proto__=w}||function(_,w){for(var S in w)Object.prototype.hasOwnProperty.call(w,S)&&(_[S]=w[S])},p(d,v)};return function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");p(d,v);function _(){this.constructor=d}d.prototype=v===null?Object.create(v):(_.prototype=v.prototype,new _)}}(),l=function(p){i(d,p);function d(v,_,w){v===void 0&&(v={}),w===void 0&&(w=!1);var S=p.call(this,v)||this;return S.itemsView="",S.itemType="type",S.reuseView=!1,S.config=_||v.config||{},w&&S.listenTo(S.collection,"add",S.addTo),S.items=[],S}return d.prototype.addTo=function(v){this.add(v)},d.prototype.itemViewNotFound=function(v){var _=this,w=_.config,S=_.ns,O=w.em,A="".concat(S?"[".concat(S,"]: "):"","'").concat(v,"' type not found");O&&O.logWarning(A)},d.prototype.add=function(v,_){var w=this,S=w.config,O=w.reuseView,A=w.items,P=this.itemsView||{},j=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],z=_||null,k=this.itemView,G=v.get(this.itemType),ot;P[G]?k=P[G]:G&&!P[G]&&!(0,e.includes)(j,G)&&this.itemViewNotFound(G),v.view&&O?ot=v.view:ot=new k({model:v,config:S},S),A&&A.push(ot);var xt=ot.render().el;z?z.appendChild(xt):this.$el.append(xt)},d.prototype.render=function(){var v=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(_){this.add(_,v)},this),this.$el.append(v),this.onRender(),this},d.prototype.onRender=function(){},d.prototype.onRemoveBefore=function(v,_){},d.prototype.onRemove=function(v,_){},d.prototype.remove=function(v){v===void 0&&(v={});var _=this.items;return this.onRemoveBefore(_,v),this.clearItems(),p.prototype.remove.call(this),this.onRemove(_,v),this},d.prototype.clearItems=function(){this.items},d}(r.Ss);const f=l;l.prototype.itemView=""},9966:(o,n,t)=>{t.d(n,{A:()=>d});var e=t(5706),r=t(6294),i=function(){return i=Object.assign||function(v){for(var _,w=1,S=arguments.length;w<S;w++){_=arguments[w];for(var O in _)Object.prototype.hasOwnProperty.call(_,O)&&(v[O]=_[O])}return v},i.apply(this,arguments)},l=function(){return{x:0,y:0}},f=["x","y"],p=function(){function v(_){return _===void 0&&(_={}),this.opts={snapGuides:{x:5,y:5},snapOffset:5,scale:1},(0,e.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(_),this.delta=l(),this.lastScroll=l(),this.lastScrollDiff=l(),this.startPointer=l(),this.startPosition=l(),this.globScrollDiff=l(),this.currentPointer=l(),this.position=l(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return v.prototype.setOptions=function(_){_===void 0&&(_={}),this.opts=i(i({},this.opts),_)},v.prototype.toggleDrag=function(_){var w=this.getDocumentEl(),S=this.getContainerEl(),O=this.getWindowEl(),A=_?"on":"off",P={on:r.on,off:r.AU};P[A](S,"mousemove dragover",this.drag),P[A](w,"mouseup dragend touchend",this.stop),P[A](w,"keydown",this.keyHandle),P[A](O,"scroll",this.handleScroll)},v.prototype.handleScroll=function(){var _=this,w=_.lastScroll,S=_.delta,O=this.getScrollInfo(),A={x:O.x-w.x,y:O.y-w.y};this.move(S.x+A.x,S.y+A.y),this.lastScrollDiff=A},v.prototype.start=function(_){var w=this.opts,S=w.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(_),this.guidesStatic=(0,e.result)(w,"guidesStatic")||[],this.guidesTarget=(0,e.result)(w,"guidesTarget")||[],(0,e.isFunction)(S)&&S(_,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=l(),this.globScrollDiff=l(),this.drag(_)},v.prototype.drag=function(_){var w=this,S=this,O=S.opts,A=S.lastScrollDiff,P=S.globScrollDiff,j=O.onDrag,z=this.startPointer,k=this.getPointerPos(_),G={x:P.x+A.x,y:P.y+A.y};this.globScrollDiff=G;var ot={x:k.x-z.x+G.x,y:k.y-z.y+G.y};this.lastScrollDiff=l();var xt=function(B){f.forEach(function(Q){return B[Q]=B[Q]*(0,e.result)(O,"scale")}),w.delta=B,w.move(B.x,B.y),(0,e.isFunction)(j)&&j(_,w)},Nt=i({},ot);if(this.currentPointer=k,this.lastScroll=this.getScrollInfo(),xt(ot),this.guidesTarget.length){var vt=this.snapGuides(Nt),$=vt.newDelta,mt=vt.trgX,X=vt.trgY;(mt||X)&&xt($)}_.which===0&&this.stop(_)},v.prototype.snapGuides=function(_){var w=this,S=i({},_),O=this,A=O.trgX,P=O.trgY;return this.guidesTarget.forEach(function(j){j.x&&w.trgX||j.y&&w.trgY||(j.active=!1,w.guidesStatic.forEach(function(z){if(!(j.y&&z.x||j.x&&z.y)){var k=j.y&&z.y,G=k?"y":"x",ot=j[G],xt=z[G],Nt=_[G],vt=k?P:A;if(w.isPointIn(ot,xt,{axis:G})&&(0,e.isUndefined)(vt)){var $=Nt-(ot-xt);w.setGuideLock(j,$)}}}))}),A=this.trgX,P=this.trgY,f.forEach(function(j){var z=j.toUpperCase(),k=w["trg".concat(z)];k&&!w.isPointIn(_[j],k.lock,{axis:j})&&(w.setGuideLock(k,null),k=null),k&&!(0,e.isUndefined)(k.lock)&&(S[j]=k.lock)}),{newDelta:S,trgX:this.trgX,trgY:this.trgY}},v.prototype.isPointIn=function(_,w,S){var O,A=S===void 0?{}:S,P=A.offset,j=A.axis,z=this.opts,k=z.snapGuides,G=k===void 0?{}:k,ot=z.snapOffset,xt=ot===void 0?0:ot,Nt=j==="x"?G.x:j==="y"?G.y:void 0,vt=Nt===0?0:(O=P??Nt)!==null&&O!==void 0?O:xt;return vt===0?!1:_>=w&&_<=w+vt||_<=w&&_>=w-vt},v.prototype.setGuideLock=function(_,w){var S=(0,e.isUndefined)(_.x)?"Y":"X",O="trg".concat(S);return w!==null?(_.active=!0,_.lock=w,this[O]=_):(delete _.active,delete _.lock,delete this[O]),_},v.prototype.stop=function(_,w){w===void 0&&(w={});var S=this.delta,O=!!w.cancel,A=O?0:S.x,P=O?0:S.y;this.toggleDrag(),this.move(A,P,!0);var j=this.opts.onEnd;(0,e.isFunction)(j)&&j(_,this,{cancelled:O})},v.prototype.keyHandle=function(_){(0,r.v$)(_)&&this.stop(_,{cancel:!0})},v.prototype.move=function(_,w,S){var O=this,A=O.el,P=O.opts,j=this.startPosition;if(j){var z=P.setPosition,k=j.x+_,G=j.y+w;this.position={x:k,y:G,end:S},(0,e.isFunction)(z)&&z(this.position),A&&(A.style.left="".concat(k,"px"),A.style.top="".concat(G,"px"))}},v.prototype.getContainerEl=function(){var _=this.opts.container;return _?[_]:this.getDocumentEl()},v.prototype.getWindowEl=function(){var _=this.getContainerEl();return _.map(function(w){var S=w.ownerDocument||w;return S.defaultView||S.parentWindow})},v.prototype.getDocumentEl=function(_){var w=this.opts.doc;if(_=_||this.el,!this.docs.length){var S=[document];_&&S.push(_.ownerDocument),w&&S.push(w),this.docs=S}return this.docs},v.prototype.getPointerPos=function(_){var w=this.opts.getPointerPosition,S=(0,r.G2)(_);return w?w(_):{x:S.clientX,y:S.clientY}},v.prototype.getStartPosition=function(){var _=this,w=_.el,S=_.opts,O=S.getPosition,A=l();return(0,e.isFunction)(O)?A=O():w&&(A={x:parseFloat(w.style.left),y:parseFloat(w.style.top)}),A},v.prototype.getScrollInfo=function(){var _=this.opts.doc,w=_&&_.body;return{y:w?w.scrollTop:0,x:w?w.scrollLeft:0}},v.prototype.detectAxisLock=function(_,w){var S=_,O=w,A=Math.abs(S),P=Math.abs(O);if(O>=A||O<=-A)return"x";if(S>P||S<-P)return"y"},v}();const d=p},7774:(o,n,t)=>{t.r(n),t.d(n,{default:()=>_r});var e=typeof document<"u"?document:null,r=typeof window<"u"?window:null,i=Array.prototype,l=i.filter,f=i.indexOf,p=i.map,d=i.push,v=i.reverse,_=i.slice,w=i.splice,S=/^#[\w-]*$/,O=/^\.[\w-]*$/,A=/<.+>/,P=/^\w+$/;function j(q,ut){return ut===void 0&&(ut=e),O.test(q)?ut.getElementsByClassName(q.slice(1)):P.test(q)?ut.getElementsByTagName(q):ut.querySelectorAll(q)}function z(q,ut){if(ut===void 0&&(ut=e),!!q){if(q.__cash)return q;var Ot=q;if(Q(q)){if(ut.__cash&&(ut=ut[0]),Ot=S.test(q)?ut.getElementById(q.slice(1)):A.test(q)?Ge(q):j(q,ut),!Ot)return}else if(B(q))return this.ready(q);(Ot.nodeType||Ot===r)&&(Ot=[Ot]),this.length=Ot.length;for(var Xt=0,he=this.length;Xt<he;Xt++)this[Xt]=Ot[Xt]}}function k(q,ut){return new z(q,ut)}var G=k.fn=k.prototype=z.prototype={constructor:k,__cash:!0,length:0,splice:w};G.get=function(q){return q===void 0?_.call(this):this[q<0?q+this.length:q]},G.eq=function(q){return k(this.get(q))},G.first=function(){return this.eq(0)},G.last=function(){return this.eq(-1)},G.map=function(q){return k(p.call(this,function(ut,Ot){return q.call(ut,Ot,ut)}))},G.slice=function(){return k(_.apply(this,arguments))};var ot=/(?:^\w|[A-Z]|\b\w)/g,xt=/[\s-_]+/g;function Nt(q){return q.replace(ot,function(ut,Ot){return ut[Ot?"toUpperCase":"toLowerCase"]()}).replace(xt,"")}k.camelCase=Nt;function vt(q,ut){for(var Ot=0,Xt=q.length;Ot<Xt&&ut.call(q[Ot],q[Ot],Ot,q)!==!1;Ot++);}k.each=vt,G.each=function(q){return vt(this,function(ut,Ot){return q.call(ut,Ot,ut)}),this},G.removeProp=function(q){return this.each(function(ut,Ot){delete Ot[q]})};function $(q){q===void 0&&(q=this);for(var ut=arguments,Ot=ut.length,Xt=Ot<2?0:1;Xt<Ot;Xt++)for(var he in ut[Xt])q[he]=ut[Xt][he];return q}k.extend=G.extend=$;var mt=1;k.guid=mt;function X(q,ut){var Ot=q&&(q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.msMatchesSelector||q.oMatchesSelector);return!!Ot&&Ot.call(q,ut)}k.matches=X;function B(q){return typeof q=="function"}k.isFunction=B;function Q(q){return typeof q=="string"}k.isString=Q;function J(q){return!isNaN(parseFloat(q))&&isFinite(q)}k.isNumeric=J;var ft=Array.isArray;k.isArray=ft,G.prop=function(q,ut){if(q){if(Q(q))return arguments.length<2?this[0]&&this[0][q]:this.each(function(Xt,he){he[q]=ut});for(var Ot in q)this.prop(Ot,q[Ot]);return this}};function M(q){return Q(q)?function(ut,Ot){return X(Ot,q)}:q.__cash?function(ut,Ot){return q.is(Ot)}:function(ut,Ot,Xt){return Ot===Xt}}G.filter=function(q){if(!q)return k();var ut=B(q)?q:M(q);return k(l.call(this,function(Ot,Xt){return ut.call(Ot,Xt,Ot,q)}))};var ht=/\S+/g;function yt(q){return Q(q)?q.match(ht)||[]:[]}G.hasClass=function(q){var ut=yt(q),Ot=!1;return ut.length&&this.each(function(Xt,he){return Ot=he.classList.contains(ut[0]),!Ot}),Ot},G.removeAttr=function(q){var ut=yt(q);return ut.length?this.each(function(Ot,Xt){vt(ut,function(he){Xt.removeAttribute(he)})}):this},G.attr=function(q,ut){if(q){if(Q(q)){if(arguments.length<2){if(!this[0])return;var Ot=this[0].getAttribute(q);return Ot===null?void 0:Ot}return ut===null?this.removeAttr(q):this.each(function(he,Ue){Ue.setAttribute(q,ut)})}for(var Xt in q)this.attr(Xt,q[Xt]);return this}},G.toggleClass=function(q,ut){var Ot=yt(q),Xt=ut!==void 0;return Ot.length?this.each(function(he,Ue){vt(Ot,function(ze){Xt?ut?Ue.classList.add(ze):Ue.classList.remove(ze):Ue.classList.toggle(ze)})}):this},G.addClass=function(q){return this.toggleClass(q,!0)},G.removeClass=function(q){return arguments.length?this.toggleClass(q,!1):this.attr("class","")};function Bt(q){return q.filter(function(ut,Ot,Xt){return Xt.indexOf(ut)===Ot})}k.unique=Bt,G.add=function(q,ut){return k(Bt(this.get().concat(k(q,ut).get())))};function nt(q,ut,Ot){if(q.nodeType===1){var Xt=r.getComputedStyle(q,null);return ut?Ot?Xt.getPropertyValue(ut):Xt[ut]:Xt}}function Lt(q,ut){return parseInt(nt(q,ut),10)||0}var pt=/^--/;function Et(q){return pt.test(q)}var At={},Zt=e&&e.createElement("div"),Qt=Zt?Zt.style:{},ne=["webkit","moz","ms","o"];function oe(q,ut){if(ut===void 0&&(ut=Et(q)),ut)return q;if(!At[q]){var Ot=Nt(q),Xt=""+Ot.charAt(0).toUpperCase()+Ot.slice(1),he=(Ot+" "+ne.join(Xt+" ")+Xt).split(" ");vt(he,function(Ue){if(Ue in Qt)return At[q]=Ue,!1})}return At[q]}k.prefixedProp=oe;var Oe={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function He(q,ut,Ot){return Ot===void 0&&(Ot=Et(q)),!Ot&&!Oe[q]&&J(ut)?ut+"px":ut}G.css=function(q,ut){if(Q(q)){var Ot=Et(q);return q=oe(q,Ot),arguments.length<2?this[0]&&nt(this[0],q,Ot):q?(ut=He(q,ut,Ot),this.each(function(he,Ue){Ue.nodeType===1&&(Ot?Ue.style.setProperty(q,ut):Ue.style[q]=ut)})):this}for(var Xt in q)this.css(Xt,q[Xt]);return this};var Se="__cashData",_t=/^data-(.*)/;k.hasData=function(q){return Se in q};function se(q){return q[Se]=q[Se]||{}}function ue(q,ut){var Ot=se(q);if(ut){if(!(ut in Ot)){var Xt=q.dataset?q.dataset[ut]||q.dataset[Nt(ut)]:k(q).attr("data-"+ut);if(Xt!==void 0){try{Xt=JSON.parse(Xt)}catch{}Ot[ut]=Xt}}return Ot[ut]}return Ot}function Ve(q,ut){ut===void 0?delete q[Se]:delete se(q)[ut]}function Ae(q,ut,Ot){se(q)[ut]=Ot}G.data=function(q,ut){var Ot=this;if(!q)return this[0]?(vt(this[0].attributes,function(he){var Ue=he.name.match(_t);Ue&&Ot.data(Ue[1])}),ue(this[0])):void 0;if(Q(q))return ut===void 0?this[0]&&ue(this[0],q):this.each(function(he,Ue){return Ae(Ue,q,ut)});for(var Xt in q)this.data(Xt,q[Xt]);return this},G.removeData=function(q){return this.each(function(ut,Ot){return Ve(Ot,q)})};function ge(q,ut){return Lt(q,"border"+(ut?"Left":"Top")+"Width")+Lt(q,"padding"+(ut?"Left":"Top"))+Lt(q,"padding"+(ut?"Right":"Bottom"))+Lt(q,"border"+(ut?"Right":"Bottom")+"Width")}vt(["Width","Height"],function(q){G["inner"+q]=function(){if(this[0])return this[0]===r?r["inner"+q]:this[0]["client"+q]}}),vt(["width","height"],function(q,ut){G[q]=function(Ot){return this[0]?arguments.length?(Ot=parseInt(Ot,10),this.each(function(Xt,he){if(he.nodeType===1){var Ue=nt(he,"boxSizing");he.style[q]=He(q,Ot+(Ue==="border-box"?ge(he,!ut):0))}})):this[0]===r?this[0][Nt("outer-"+q)]:this[0].getBoundingClientRect()[q]-ge(this[0],!ut):Ot===void 0?void 0:this}}),vt(["Width","Height"],function(q,ut){G["outer"+q]=function(Ot){if(this[0])return this[0]===r?r["outer"+q]:this[0]["offset"+q]+(Ot?Lt(this[0],"margin"+(ut?"Top":"Left"))+Lt(this[0],"margin"+(ut?"Bottom":"Right")):0)}});function N(q,ut){for(var Ot=0,Xt=ut.length;Ot<Xt;Ot++)if(q.indexOf(ut[Ot])<0)return!1;return!0}function Z(q,ut,Ot){vt(q[Ot],function(Xt){Xt[0];var he=Xt[1];ut.removeEventListener(Ot,he)}),delete q[Ot]}var it="__cashEvents",bt=".";function kt(q){return q[it]=q[it]||{}}function tt(q,ut,Ot,Xt){Xt.guid=Xt.guid||mt++;var he=kt(q);he[ut]=he[ut]||[],he[ut].push([Ot,Xt]),q.addEventListener(ut,Xt)}function Pt(q){var ut=q.split(bt);return[ut[0],ut.slice(1).sort()]}function St(q,ut,Ot,Xt){var he=kt(q);if(ut){var Ue=he[ut];if(!Ue)return;Xt&&(Xt.guid=Xt.guid||mt++),he[ut]=Ue.filter(function(ze){var rn=ze[0],vn=ze[1];if(Xt&&vn.guid!==Xt.guid||!N(rn,Ot))return!0;q.removeEventListener(ut,vn)})}else if(!Ot||!Ot.length)for(ut in he)Z(he,q,ut);else for(ut in he)St(q,ut,Ot,Xt)}G.off=function(q,ut){var Ot=this;return q===void 0?this.each(function(Xt,he){return St(he)}):vt(yt(q),function(Xt){var he=Pt(Xt),Ue=he[0],ze=he[1];Ot.each(function(rn,vn){return St(vn,Ue,ze,ut)})}),this},G.on=function(q,ut,Ot,Xt){var he=this;if(!Q(q)){for(var Ue in q)this.on(Ue,ut,q[Ue]);return this}return B(ut)&&(Ot=ut,ut=!1),vt(yt(q),function(ze){var rn=Pt(ze),vn=rn[0],On=rn[1];he.each(function(hi,Vn){var ti=function vi(fn){if(!(fn.namespace&&!N(On,fn.namespace.split(bt)))){var Gn=Vn;if(ut){for(var Qe=fn.target;!X(Qe,ut);)if(Qe===Vn||(Qe=Qe.parentNode,!Qe))return;Gn=Qe}fn.namespace=fn.namespace||"";var ar=Ot.call(Gn,fn,fn.data);Xt&&St(Vn,vn,On,vi),ar===!1&&(fn.preventDefault(),fn.stopPropagation())}};ti.guid=Ot.guid=Ot.guid||mt++,tt(Vn,vn,On,ti)})}),this},G.one=function(q,ut,Ot){return this.on(q,ut,Ot,!0)},G.ready=function(q){var ut=function(){return q(k)};return e.readyState!=="loading"?setTimeout(ut):e.addEventListener("DOMContentLoaded",ut),this},G.trigger=function(q,ut){var Ot=q;if(Q(q)){var Xt=Pt(q),he=Xt[0],Ue=Xt[1];Ot=e.createEvent("HTMLEvents"),Ot.initEvent(he,!0,!0),Ot.namespace=Ue.join(bt)}return Ot.data=ut,this.each(function(ze,rn){rn.dispatchEvent(Ot)})};function we(q){var ut=[];return vt(q.options,function(Ot){Ot.selected&&!Ot.disabled&&!Ot.parentNode.disabled&&ut.push(Ot.value)}),ut}function Ee(q){return q.selectedIndex<0?null:q.options[q.selectedIndex].value}var Ne=/select-one/i,Y=/select-multiple/i;function gt(q){var ut=q.type;return Ne.test(ut)?Ee(q):Y.test(ut)?we(q):q.value}var F=/%20/g;function Yt(q,ut){return"&"+encodeURIComponent(q)+"="+encodeURIComponent(ut).replace(F,"+")}var Dt=/file|reset|submit|button|image/i,te=/radio|checkbox/i;G.serialize=function(){var q="";return this.each(function(ut,Ot){vt(Ot.elements||[Ot],function(Xt){if(!(Xt.disabled||!Xt.name||Xt.tagName==="FIELDSET")&&!Dt.test(Xt.type)&&!(te.test(Xt.type)&&!Xt.checked)){var he=gt(Xt);if(he!==void 0){var Ue=ft(he)?he:[he];vt(Ue,function(ze){q+=Yt(Xt.name,ze)})}}})}),q.substr(1)},G.val=function(q){return q===void 0?this[0]&&gt(this[0]):this.each(function(ut,Ot){var Xt=Y.test(Ot.type),he=q===null?Xt?[]:"":q;Xt&&ft(he)?vt(Ot.options,function(Ue){Ue.selected=he.indexOf(Ue.value)>=0}):Ot.value=he})},G.clone=function(){return this.map(function(q,ut){return ut.cloneNode(!0)})},G.detach=function(){return this.each(function(q,ut){ut.parentNode&&ut.parentNode.removeChild(ut)})};var _e=/^\s*<(\w+)[^>]*>/,me=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,de;function De(){if(!de){var q=e.createElement("table"),ut=e.createElement("tr");de={"*":e.createElement("div"),tr:e.createElement("tbody"),td:ut,th:ut,thead:q,tbody:q,tfoot:q}}}function Ge(q){if(De(),!Q(q))return[];if(me.test(q))return[e.createElement(RegExp.$1)];var ut=_e.test(q)&&RegExp.$1,Ot=de[ut]||de["*"];return Ot.innerHTML=q,k(Ot.childNodes).detach().get()}k.parseHTML=Ge,G.empty=function(){var q=this[0];if(q)for(;q.firstChild;)q.removeChild(q.firstChild);return this};function an(q,ut,Ot){Ot?q.insertBefore(ut,q.childNodes[0]):q.appendChild(ut)}function tn(q,ut,Ot){if(ut!==void 0){var Xt=Q(ut);!Xt&&ut.length?vt(ut,function(he){return tn(q,he,Ot)}):vt(q,Xt?function(he){he.insertAdjacentHTML(Ot?"afterbegin":"beforeend",ut)}:function(he,Ue){return an(he,Ue?ut.cloneNode(!0):ut,Ot)})}}G.append=function(){var q=this;return vt(arguments,function(ut){tn(q,ut)}),this},G.appendTo=function(q){return tn(k(q),this),this},G.html=function(q){if(q===void 0)return this[0]&&this[0].innerHTML;var ut=q.nodeType?q[0].outerHTML:q;return this.each(function(Ot,Xt){Xt.innerHTML=ut})},G.insertAfter=function(q){var ut=this;return k(q).each(function(Ot,Xt){var he=Xt.parentNode;ut.each(function(Ue,ze){he.insertBefore(Ot?ze.cloneNode(!0):ze,Xt.nextSibling)})}),this},G.after=function(){var q=this;return vt(v.apply(arguments),function(ut){v.apply(k(ut).slice()).insertAfter(q)}),this},G.insertBefore=function(q){var ut=this;return k(q).each(function(Ot,Xt){var he=Xt.parentNode;ut.each(function(Ue,ze){he.insertBefore(Ot?ze.cloneNode(!0):ze,Xt)})}),this},G.before=function(){var q=this;return vt(arguments,function(ut){k(ut).insertBefore(q)}),this},G.prepend=function(){var q=this;return vt(arguments,function(ut){tn(q,ut,!0)}),this},G.prependTo=function(q){return tn(k(q),v.apply(this.slice()),!0),this},G.remove=function(){return this.detach().off()},G.replaceWith=function(q){var ut=this;return this.each(function(Ot,Xt){var he=Xt.parentNode;if(he){var Ue=Ot?k(q).clone():k(q);if(!Ue[0])return ut.remove(),!1;he.replaceChild(Ue[0],Xt),k(Ue[0]).after(Ue.slice(1))}})},G.replaceAll=function(q){return k(q).replaceWith(this),this},G.text=function(q){return q===void 0?this[0]?this[0].textContent:"":this.each(function(ut,Ot){Ot.textContent=q})};var Mn=e&&e.documentElement;G.offset=function(){var q=this[0];if(q){var ut=q.getBoundingClientRect();return{top:ut.top+r.pageYOffset-Mn.clientTop,left:ut.left+r.pageXOffset-Mn.clientLeft}}},G.offsetParent=function(){return k(this[0]&&this[0].offsetParent)},G.position=function(){var q=this[0];if(q)return{left:q.offsetLeft,top:q.offsetTop}},G.children=function(q){var ut=[];return this.each(function(Ot,Xt){d.apply(ut,Xt.children)}),ut=k(Bt(ut)),q?ut.filter(function(Ot,Xt){return X(Xt,q)}):ut},G.contents=function(){var q=[];return this.each(function(ut,Ot){d.apply(q,Ot.tagName==="IFRAME"?[Ot.contentDocument]:Ot.childNodes)}),k(q.length&&Bt(q))},G.find=function(q){for(var ut=[],Ot=0,Xt=this.length;Ot<Xt;Ot++){var he=j(q,this[Ot]);he.length&&d.apply(ut,he)}return k(ut.length&&Bt(ut))},G.has=function(q){var ut=Q(q)?function(Ot,Xt){return!!j(q,Xt).length}:function(Ot,Xt){return Xt.contains(q)};return this.filter(ut)},G.is=function(q){if(!q||!this[0])return!1;var ut=M(q),Ot=!1;return this.each(function(Xt,he){return Ot=ut(Xt,he,q),!Ot}),Ot},G.next=function(){return k(this[0]&&this[0].nextElementSibling)},G.not=function(q){if(!q||!this[0])return this;var ut=M(q);return this.filter(function(Ot,Xt){return!ut(Ot,Xt,q)})},G.parent=function(){var q=[];return this.each(function(ut,Ot){Ot&&Ot.parentNode&&q.push(Ot.parentNode)}),k(Bt(q))},G.index=function(q){var ut=q?k(q)[0]:this[0],Ot=q?this:k(ut).parent().children();return f.call(Ot,ut)},G.closest=function(q){return!q||!this[0]?k():this.is(q)?this.filter(q):this.parent().closest(q)},G.parents=function(q){var ut=[],Ot;return this.each(function(Xt,he){for(Ot=he;Ot&&Ot.parentNode&&Ot!==e.body.parentNode;)Ot=Ot.parentNode,(!q||q&&X(Ot,q))&&ut.push(Ot)}),k(Bt(ut))},G.prev=function(){return k(this[0]&&this[0].previousElementSibling)},G.siblings=function(){var q=this[0];return this.parent().children().filter(function(ut,Ot){return Ot!==q})};const _r=k},6294:(o,n,t)=>{t.d(n,{AU:()=>nt,BC:()=>P,C8:()=>vt,Ch:()=>X,Ci:()=>J,D8:()=>f,G2:()=>B,GW:()=>Nt,GZ:()=>z,I6:()=>_,LJ:()=>ht,Sc:()=>A,X6:()=>w,Xy:()=>$,YZ:()=>d,ZQ:()=>p,_I:()=>Lt,a_:()=>j,af:()=>G,bG:()=>O,cx:()=>v,ir:()=>ot,kk:()=>yt,on:()=>Bt,rp:()=>M,v$:()=>Q,yL:()=>k,zN:()=>S});var e=t(5706),r=function(pt,Et,At){if(At||arguments.length===2)for(var Zt=0,Qt=Et.length,ne;Zt<Qt;Zt++)(ne||!(Zt in Et))&&(ne||(ne=Array.prototype.slice.call(Et,0,Zt)),ne[Zt]=Et[Zt]);return pt.concat(ne||Array.prototype.slice.call(Et))},i="tag",l="attributes",f="transitionend oTransitionEnd transitionend webkitTransitionEnd",p=function(pt){return(pt==null?void 0:pt.nodeType)===Node.DOCUMENT_NODE},d=function(pt){var Et=pt&&pt.parentNode;Et&&Et.removeChild(pt)};function v(){for(var pt=[],Et=0;Et<arguments.length;Et++)pt[Et]=arguments[Et];var At=Array.isArray(pt[0])?pt[0]:r([],pt,!0);return At.filter(Boolean).join(" ")}var _=function(pt,Et){return pt.querySelectorAll(Et)},w=function(pt,Et){return Et===void 0&&(Et={}),pt&&pt.setAttribute&&(0,e.each)(Et,function(At,Zt){return pt.setAttribute(Zt,At)})},S=function(pt){var Et;return pt&&!!(pt.offsetWidth||pt.offsetHeight||!((Et=pt.getClientRects)===null||Et===void 0)&&Et.call(pt).length)},O=function(pt,Et){var At;(At=pt.parentNode)===null||At===void 0||At.replaceChild(Et,pt)},A=function(pt,Et,At){var Zt=pt.childNodes,Qt=Zt.length,ne=(0,e.isUndefined)(At)?Qt:At;(0,e.isString)(Et)&&(pt.insertAdjacentHTML("beforeEnd",Et),Et=pt.lastChild,pt.removeChild(Et)),ne>=Qt?pt.appendChild(Et):pt.insertBefore(Et,Zt[ne])},P=function(pt,Et){return A(pt,Et)},j=function(pt,Et,At){Et===void 0&&(Et={});var Zt=document.createElement(pt);return Et&&(0,e.each)(Et,function(Qt,ne){return Zt.setAttribute(ne,Qt)}),At&&((0,e.isString)(At)?Zt.innerHTML=At:Zt.appendChild(At)),Zt},z=function(pt){return document.createTextNode(pt)},k=function(pt,Et){var At,Zt=pt.type;try{At=new window[Et](Zt,pt)}catch{At=document.createEvent(Et),At.initEvent(Zt,!0,!0)}return At._parentEvent=pt,Zt.indexOf("key")===0&&(At.keyCodeVal=pt.keyCode,["keyCode","which"].forEach(function(Qt){Object.defineProperty(At,Qt,{get:function(){return this.keyCodeVal}})})),At},G=function(pt,Et){Et===void 0&&(Et=[]);var At=Array.isArray(Et)?Et:[Et];At.forEach(function(Zt){var Qt=Zt[i]||"div",ne=Zt[l]||{},oe=document.createElement(Qt);(0,e.each)(ne,function(Oe,He){oe.setAttribute(He,Oe)}),pt.appendChild(oe)})},ot=function(pt){return(pt==null?void 0:pt.nodeType)===Node.TEXT_NODE},xt=function(pt){return(pt==null?void 0:pt.nodeType)===Node.COMMENT_NODE},Nt=function(pt){return pt&&!ot(pt)&&!xt(pt)},vt=function(pt){var Et={top:0,left:0,width:0,height:0};if(!pt)return Et;var At;if(ot(pt)){var Zt=document.createRange();Zt.selectNode(pt),At=Zt.getBoundingClientRect(),Zt.detach()}return At||(pt.getBoundingClientRect?pt.getBoundingClientRect():Et)},$=function(pt){var Et=(pt==null?void 0:pt.ownerDocument)||document,At=Et.documentElement,Zt=Et.defaultView||window;return{x:(Zt.pageXOffset||At.scrollLeft||0)-(At.clientLeft||0),y:(Zt.pageYOffset||At.scrollTop||0)-(At.clientTop||0)}},mt=function(pt){return pt.which||pt.keyCode},X=function(pt){return String.fromCharCode(mt(pt))},B=function(pt){return pt.touches&&pt.touches[0]?pt.touches[0]:pt},Q=function(pt){return mt(pt)===27},J=function(pt){return mt(pt)===13},ft=function(pt){return pt.ctrlKey},M=function(pt){return ft(pt)||pt.metaKey},ht=function(pt){if(!pt)return"";var Et=pt.name,At=pt.publicId,Zt=pt.systemId,Qt=At?' PUBLIC "'.concat(At,'"'):"",ne=!At&&Zt?' SYSTEM "'.concat(Zt,'"'):"";return"<!DOCTYPE ".concat(Et).concat(Qt).concat(ne,">")},yt=function(pt){pt===void 0&&(pt={});var Et=[];return(0,e.each)(pt,function(At,Zt){return Et.push("".concat(Zt,'="').concat(At,'"'))}),Et.join(" ")},Bt=function(pt,Et,At,Zt){var Qt=Et.split(/\s+/),ne=(0,e.isArray)(pt)?pt:[pt];Qt.forEach(function(oe){ne.forEach(function(Oe){return Oe==null?void 0:Oe.addEventListener(oe,At,Zt)})})},nt=function(pt,Et,At,Zt){var Qt=Et.split(/\s+/),ne=(0,e.isArray)(pt)?pt:[pt];Qt.forEach(function(oe){ne.forEach(function(Oe){return Oe==null?void 0:Oe.removeEventListener(oe,At,Zt)})})},Lt=function(pt){var Et=pt.replace(/-([a-zA-Z0-9])/g,function(At,Zt){return Zt.toUpperCase()});return Et}},1166:(o,n,t)=>{t.r(n),t.d(n,{appendStyles:()=>vt,buildBase64UrlFromSvg:()=>Se,camelCase:()=>B,capitalize:()=>Et,createId:()=>He,deepMerge:()=>Bt,escape:()=>ht,escapeNodeContent:()=>yt,find:()=>M,get:()=>w,getComponentModel:()=>oe,getComponentView:()=>ne,getElement:()=>ft,getGlobal:()=>k,getModel:()=>nt,getUiClass:()=>Nt,getUnitFromValue:()=>mt,getViewEl:()=>Zt,hasDnd:()=>J,hasWin:()=>z,isBultInMethod:()=>O,isComponent:()=>Qt,isDef:()=>j,isEmptyObj:()=>pt,isObject:()=>Lt,isRule:()=>At,matches:()=>xt,normalizeFloat:()=>Q,normalizeKey:()=>A,serialize:()=>S,setViewEl:()=>Oe,shallowDiff:()=>$,stringToPath:()=>v,toLowerCase:()=>G,upFirst:()=>X,wait:()=>P});var e=t(5706),r=t(6294),i=function(){return i=Object.assign||function(_t){for(var se,ue=1,Ve=arguments.length;ue<Ve;ue++){se=arguments[ue];for(var Ae in se)Object.prototype.hasOwnProperty.call(se,Ae)&&(_t[Ae]=se[Ae])}return _t},i.apply(this,arguments)},l=function(_t,se,ue){if(ue||arguments.length===2)for(var Ve=0,Ae=se.length,ge;Ve<Ae;Ve++)(ge||!(Ve in se))&&(ge||(ge=Array.prototype.slice.call(se,0,Ve)),ge[Ve]=se[Ve]);return _t.concat(ge||Array.prototype.slice.call(se))},f={},p=/\\(\\)?/g,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,v=function(_t){var se=[];return _t.charCodeAt(0)===46&&se.push(""),_t.replace(d,function(ue,Ve,Ae,ge){return se.push(Ae?ge.replace(p,"$1"):Ve||ue),""}),se};function _(_t,se){return(0,e.isArray)(_t)?_t:se.hasOwnProperty(_t)?[_t]:v(_t)}var w=function(_t,se,ue){for(var Ve,Ae=_(se,_t),ge=Ae.length,N=0;_t!=null&&N<ge;)_t=_t["".concat(Ae[N++])];return(Ve=N&&N==ge?_t:void 0)!==null&&Ve!==void 0?Ve:ue},S=function(_t){return JSON.parse(JSON.stringify(_t))},O=function(_t){return(0,e.isFunction)(f[_t])},A=function(_t){return O(_t)?"_".concat(_t):_t},P=function(_t){return _t===void 0&&(_t=0),new Promise(function(se){return setTimeout(se,_t)})},j=function(_t){return typeof _t<"u"},z=function(){return typeof window<"u"},k=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:t.g},G=function(_t){return(_t||"").toLowerCase()},ot=z()?window.Element.prototype:{},xt=ot.matches||ot.webkitMatchesSelector||ot.mozMatchesSelector||ot.msMatchesSelector,Nt=function(_t,se){var ue=_t.getConfig(),Ve=ue.stylePrefix,Ae=ue.customUI;return[Ae&&"".concat(Ve,"cui"),se].filter(function(ge){return ge}).join(" ")},vt=function(_t,se){se===void 0&&(se={});var ue=(0,e.isArray)(_t)?l([],_t,!0):[_t];if(ue.length){var Ve=ue.shift();if(Ve&&(!se.unique||!document.querySelector('link[href="'.concat(Ve,'"]')))){var Ae=document.head,ge=document.createElement("link");ge.href=Ve,ge.rel="stylesheet",se.prepand?Ae.insertBefore(ge,Ae.firstChild):Ae.appendChild(ge)}vt(ue)}},$=function(_t,se){var ue={},Ve=(0,e.keys)(se);for(var Ae in _t)if(_t.hasOwnProperty(Ae)){var ge=_t[Ae],N=se[Ae];Ve.indexOf(Ae)>=0?ge!==N&&(ue[Ae]=N):ue[Ae]=null}for(var Ae in se)se.hasOwnProperty(Ae)&&(0,e.isUndefined)(_t[Ae])&&(ue[Ae]=se[Ae]);return ue},mt=function(_t){return _t.replace(parseFloat(_t),"")},X=function(_t){return _t[0].toUpperCase()+_t.toLowerCase().slice(1)},B=function(_t){return _t.replace(/-./g,function(se){return se[1].toUpperCase()})},Q=function(_t,se,ue){se===void 0&&(se=1),ue===void 0&&(ue=0);var Ve=0;if(isNaN(_t))return ue;if(_t=parseFloat(_t),Math.floor(_t)!==_t){var Ae=se.toString().split(".")[1];Ve=Ae?Ae.length:0}return Ve?parseFloat(_t.toFixed(Ve)):_t},J=function(_t){return"draggable"in document.createElement("i")&&(_t?_t.config.nativeDnD:!0)},ft=function(_t){if((0,e.isElement)(_t)||(0,r.ir)(_t))return _t;if(_t&&_t.getEl)return _t.getEl()},M=function(_t,se){var ue=null;return _t.some(function(Ve,Ae){return se(Ve,Ae,_t)?(ue=Ve,1):0}),ue},ht=function(_t){return _t===void 0&&(_t=""),"".concat(_t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},yt=function(_t){return _t===void 0&&(_t=""),"".concat(_t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},Bt=function(){for(var _t=[],se=0;se<arguments.length;se++)_t[se]=arguments[se];for(var ue=i({},_t[0]),Ve=1;Ve<_t.length;Ve++){var Ae=i({},_t[Ve]);for(var ge in Ae){var N=ue[ge],Z=Ae[ge];Lt(N)&&Lt(Z)?ue[ge]=Bt(N,Z):ue[ge]=Z}}return ue},nt=function(_t,se){var ue;return!se&&_t&&_t.__cashData?ue=_t.__cashData.model:se&&(0,e.isElement)(_t)&&(ue=se(_t).data("model")),ue},Lt=function(_t){return _t&&!Array.isArray(_t)&&typeof _t=="object"},pt=function(_t){return Object.keys(_t).length<=0},Et=function(_t){return _t===void 0&&(_t=""),_t&&_t.charAt(0).toUpperCase()+_t.substring(1)},At=function(_t){return _t&&_t.toCSS},Zt=function(_t){return _t==null?void 0:_t.__gjsv},Qt=function(_t){return!!(_t!=null&&_t.toHTML)},ne=function(_t){return Zt(_t)},oe=function(_t){var se;return(se=ne(_t))===null||se===void 0?void 0:se.model},Oe=function(_t,se){_t.__gjsv=se},He=function(_t){_t===void 0&&(_t=16);for(var se="",ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Ve=ue.length,Ae=0;Ae<_t;Ae++)se+=ue.charAt(Math.floor(Math.random()*Ve));return se},Se=function(_t){if(_t&&_t.substr(0,4)==="<svg"){var se="";return z()?se=window.btoa(_t):typeof Buffer<"u"&&(se=Buffer.from(_t,"utf8").toString("base64")),se?"data:image/svg+xml;base64,".concat(se):_t}return _t}},6756:(o,n,t)=>{t.d(n,{h:()=>i});var e=t(3178),r=function(){var f=function(p,d){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(v[w]=_[w])},f(p,d)};return function(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(p,d);function v(){this.constructor=p}p.prototype=d===null?Object.create(d):(v.prototype=d.prototype,new v)}}(),i=function(f){r(p,f);function p(){var d=f!==null&&f.apply(this,arguments)||this;return d.displayCache=new Map,d}return p.prototype.getChildren=function(){return this.getDisplayedChildren()},p.prototype.getDisplayedChildren=function(){var d=this,v=this.model.components(),_=v.filter(function(w){return d.isChildDisplayed(w)});return _.map(function(w){return new d.constructor(w)})},p.prototype.isChildDisplayed=function(d){if(this.displayCache.has(d))return this.displayCache.get(d);var v=d.getEl(),_=l(v);return this.displayCache.set(d,_),_},p.prototype.getParent=function(){var d=this.model.parent();return d?new this.constructor(d):null},p.prototype.addChildAt=function(d,v,_){var w,S,O,A,P,j,z,k;_===void 0&&(_={action:"add-component"});var G=((S=(w=this.model)===null||w===void 0?void 0:w.isInstanceOf)===null||S===void 0?void 0:S.call(w,"text"))&&((A=(O=d==null?void 0:d.model)===null||O===void 0?void 0:O.get)===null||A===void 0?void 0:A.call(O,"textable"));if(G)return(k=(z=(j=(P=this.model)===null||P===void 0?void 0:P.getView)===null||j===void 0?void 0:j.call(P))===null||z===void 0?void 0:z.insertComponent)===null||k===void 0?void 0:k.call(z,d==null?void 0:d.model,{action:_.action});var ot=this.model.components().add(d.model,{at:this.getRealIndex(v),action:_.action});return new this.constructor(ot)},p.prototype.removeChildAt=function(d,v){v===void 0&&(v={temporary:!1});var _=this.model.components().at(this.getRealIndex(d));_&&this.model.components().remove(_,v)},p.prototype.indexOfChild=function(d){return this.getDisplayIndex(d)},p.prototype.getDisplayIndex=function(d){var v=this.getDisplayedChildren();return v?v.findIndex(function(_){return _.model===d.model}):-1},p.prototype.getRealIndex=function(d){if(d===-1)return-1;for(var v=0,_=this.model.components(),w=0;w<_.length;w++){var S=_.at(w),O=this.isChildDisplayed(S);if(O&&v++,v===d+1)return w}return-1},p.prototype.canMove=function(d,v){return this.model.em.Components.canMove(this.model,d.model,this.getRealIndex(v)).result},p.prototype.restNodeState=function(){this.clearState();var d=this.model;this.setContentEditable(!1),d.em.getEditing()===d&&this.disableEditing()},p.prototype.setContentEditable=function(d){this.element&&this.isTextNode()&&(this.element.contentEditable=d?"true":"false")},p.prototype.disableEditing=function(){var d,v;(v=(d=this.view)===null||d===void 0?void 0:d.disableEditing)===null||v===void 0||v.call(d)},p.prototype.clearState=function(){var d,v;(v=(d=this.model).set)===null||v===void 0||v.call(d,"status","")},p.prototype.setSelectedParentState=function(){var d,v;(v=(d=this.model).set)===null||v===void 0||v.call(d,"status","selected-parent")},p.prototype.isTextNode=function(){var d,v;return(v=(d=this.model).isInstanceOf)===null||v===void 0?void 0:v.call(d,"text")},p.prototype.isTextable=function(){var d,v;return(v=(d=this.model).get)===null||v===void 0?void 0:v.call(d,"textable")},p}(e.$);function l(f){return f?typeof f=="object"&&f.nodeType===Node.ELEMENT_NODE&&window.getComputedStyle(f).display!=="none"&&f.offsetWidth>0&&f.offsetHeight>0:!1}},1447:(o,n,t)=>{t.d(n,{A:()=>l});var e=t(6756),r=function(){var f=function(p,d){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(v[w]=_[w])},f(p,d)};return function(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(p,d);function v(){this.constructor=p}p.prototype=d===null?Object.create(d):(v.prototype=d.prototype,new v)}}(),i=function(f){r(p,f);function p(){var d=f!==null&&f.apply(this,arguments)||this;return d._dropAreaConfig={ratio:.8,minUndroppableDimension:1,maxUndroppableDimension:15},d}return Object.defineProperty(p.prototype,"view",{get:function(){var d,v;return(v=(d=this.model).getView)===null||v===void 0?void 0:v.call(d)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"element",{get:function(){var d,v;return(v=(d=this.model).getEl)===null||v===void 0?void 0:v.call(d)},enumerable:!1,configurable:!0}),p}(e.h);const l=i},3178:(o,n,t)=>{t.d(n,{$:()=>e});var e=function(){function r(i,l){l===void 0&&(l={}),this._dropAreaConfig={ratio:1,minUndroppableDimension:0,maxUndroppableDimension:0},this._model=i,this._dragSource=l}return Object.defineProperty(r.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dragSource",{get:function(){return this._dragSource},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropArea",{get:function(){var i,l;return this.getParent()?(l=this.nodeDimensions)===null||l===void 0?void 0:l.getDropArea(this._dropAreaConfig):(i=this.nodeDimensions)===null||i===void 0?void 0:i.clone()},enumerable:!1,configurable:!0}),r.prototype.isWithinDropBounds=function(i,l){return!!this.dropArea&&this.dropArea.isWithinBounds(i,l)},r.prototype.equals=function(i){return!!(i!=null&&i._model)&&this._model===i._model},r.prototype.adjustDimensions=function(i){var l,f;i.topDifference===0&&i.leftDifference===0||((l=this.nodeDimensions)===null||l===void 0||l.adjustDimensions(i),(f=this.childrenDimensions)===null||f===void 0||f.forEach(function(p){return p.adjustDimensions(i)}))},r}()},8433:(o,n,t)=>{t.d(n,{A:()=>e});var e;(function(r){r.Vertical="Vertical",r.Horizontal="Horizontal",r.BothDirections="BothDirections"})(e||(e={}))},585:(o,n,t)=>{var e={"./CanvasClear":9484,"./CanvasClear.ts":9484,"./CanvasMove":9516,"./CanvasMove.ts":9516,"./CommandAbstract":9946,"./CommandAbstract.ts":9946,"./ComponentDelete":7801,"./ComponentDelete.ts":7801,"./ComponentDrag":4864,"./ComponentDrag.ts":4864,"./ComponentEnter":6134,"./ComponentEnter.ts":6134,"./ComponentExit":914,"./ComponentExit.ts":914,"./ComponentNext":5547,"./ComponentNext.ts":5547,"./ComponentPrev":8655,"./ComponentPrev.ts":8655,"./ComponentStyleClear":7640,"./ComponentStyleClear.ts":7640,"./CopyComponent":5837,"./CopyComponent.ts":5837,"./ExportTemplate":6477,"./ExportTemplate.ts":6477,"./Fullscreen":1772,"./Fullscreen.ts":1772,"./MoveComponent":741,"./MoveComponent.ts":741,"./OpenAssets":2924,"./OpenAssets.ts":2924,"./OpenBlocks":3963,"./OpenBlocks.ts":3963,"./OpenLayers":1479,"./OpenLayers.ts":1479,"./OpenStyleManager":3473,"./OpenStyleManager.ts":3473,"./OpenTraitManager":5054,"./OpenTraitManager.ts":5054,"./PasteComponent":6979,"./PasteComponent.ts":6979,"./Preview":4457,"./Preview.ts":4457,"./Resize":5493,"./Resize.ts":5493,"./SelectComponent":9317,"./SelectComponent.ts":9317,"./SelectPosition":1406,"./SelectPosition.ts":1406,"./ShowOffset":9395,"./ShowOffset.ts":9395,"./SwitchVisibility":7285,"./SwitchVisibility.ts":7285};function r(l){var f=i(l);return t(f)}function i(l){if(!t.o(e,l)){var f=new Error("Cannot find module '"+l+"'");throw f.code="MODULE_NOT_FOUND",f}return e[l]}r.keys=function(){return Object.keys(e)},r.resolve=i,o.exports=r,r.id=585},5706:(o,n,t)=>{t.r(n),t.d(n,{VERSION:()=>r,after:()=>Wr,all:()=>Yo,allKeys:()=>de,any:()=>La,assign:()=>ti,before:()=>pr,bind:()=>pa,bindAll:()=>vs,chain:()=>da,chunk:()=>Kr,clone:()=>ar,collect:()=>xr,compact:()=>ec,compose:()=>Ko,constant:()=>ge,contains:()=>Dr,countBy:()=>Qu,create:()=>Qe,debounce:()=>Do,default:()=>Zo,defaults:()=>vi,defer:()=>Nr,delay:()=>ki,detect:()=>Pe,difference:()=>Yl,drop:()=>Xo,each:()=>Kn,escape:()=>ee,every:()=>Yo,extend:()=>Vn,extendOwn:()=>ti,filter:()=>kr,find:()=>Pe,findIndex:()=>Pi,findKey:()=>ro,findLastIndex:()=>io,findWhere:()=>Tn,first:()=>Va,flatten:()=>Kl,foldl:()=>qr,foldr:()=>Gr,forEach:()=>Kn,functions:()=>On,get:()=>lr,groupBy:()=>Ju,has:()=>ur,head:()=>Va,identity:()=>un,include:()=>Dr,includes:()=>Dr,indexBy:()=>ql,indexOf:()=>Me,initial:()=>$n,inject:()=>qr,intersection:()=>Xl,invert:()=>vn,invoke:()=>Yu,isArguments:()=>ue,isArray:()=>Se,isArrayBuffer:()=>Lt,isBoolean:()=>B,isDataView:()=>He,isDate:()=>ht,isElement:()=>Q,isEmpty:()=>Y,isEqual:()=>me,isError:()=>Bt,isFinite:()=>Ve,isFunction:()=>At,isMap:()=>Ot,isMatch:()=>gt,isNaN:()=>Ae,isNull:()=>mt,isNumber:()=>M,isObject:()=>$,isRegExp:()=>yt,isSet:()=>he,isString:()=>ft,isSymbol:()=>nt,isTypedArray:()=>Pt,isUndefined:()=>X,isWeakMap:()=>Xt,isWeakSet:()=>Ue,iteratee:()=>en,keys:()=>Ne,last:()=>Ua,lastIndexOf:()=>dn,map:()=>xr,mapObject:()=>cr,matcher:()=>Te,matches:()=>Te,max:()=>zl,memoize:()=>ei,methods:()=>On,min:()=>Fl,mixin:()=>ms,negate:()=>yi,noop:()=>gi,now:()=>I,object:()=>Zl,omit:()=>ka,once:()=>ha,pairs:()=>rn,partial:()=>eo,partition:()=>gs,pick:()=>Gl,pluck:()=>Na,property:()=>br,propertyOf:()=>ie,random:()=>mi,range:()=>ma,reduce:()=>qr,reduceRight:()=>Gr,reject:()=>_i,rest:()=>Xo,restArguments:()=>vt,result:()=>Po,sample:()=>Zs,select:()=>kr,shuffle:()=>Zu,size:()=>$u,some:()=>La,sortBy:()=>Wl,sortedIndex:()=>oo,tail:()=>Xo,take:()=>Va,tap:()=>Be,template:()=>qo,templateSettings:()=>$e,throttle:()=>zn,times:()=>Re,toArray:()=>va,toPath:()=>Er,transpose:()=>ga,unescape:()=>Je,union:()=>nc,uniq:()=>so,unique:()=>so,uniqueId:()=>fa,unzip:()=>ga,values:()=>ze,where:()=>Xu,without:()=>Ha,wrap:()=>no,zip:()=>$s});var e={};t.r(e),t.d(e,{VERSION:()=>r,after:()=>Wr,all:()=>Yo,allKeys:()=>de,any:()=>La,assign:()=>ti,before:()=>pr,bind:()=>pa,bindAll:()=>vs,chain:()=>da,chunk:()=>Kr,clone:()=>ar,collect:()=>xr,compact:()=>ec,compose:()=>Ko,constant:()=>ge,contains:()=>Dr,countBy:()=>Qu,create:()=>Qe,debounce:()=>Do,default:()=>rc,defaults:()=>vi,defer:()=>Nr,delay:()=>ki,detect:()=>Pe,difference:()=>Yl,drop:()=>Xo,each:()=>Kn,escape:()=>ee,every:()=>Yo,extend:()=>Vn,extendOwn:()=>ti,filter:()=>kr,find:()=>Pe,findIndex:()=>Pi,findKey:()=>ro,findLastIndex:()=>io,findWhere:()=>Tn,first:()=>Va,flatten:()=>Kl,foldl:()=>qr,foldr:()=>Gr,forEach:()=>Kn,functions:()=>On,get:()=>lr,groupBy:()=>Ju,has:()=>ur,head:()=>Va,identity:()=>un,include:()=>Dr,includes:()=>Dr,indexBy:()=>ql,indexOf:()=>Me,initial:()=>$n,inject:()=>qr,intersection:()=>Xl,invert:()=>vn,invoke:()=>Yu,isArguments:()=>ue,isArray:()=>Se,isArrayBuffer:()=>Lt,isBoolean:()=>B,isDataView:()=>He,isDate:()=>ht,isElement:()=>Q,isEmpty:()=>Y,isEqual:()=>me,isError:()=>Bt,isFinite:()=>Ve,isFunction:()=>At,isMap:()=>Ot,isMatch:()=>gt,isNaN:()=>Ae,isNull:()=>mt,isNumber:()=>M,isObject:()=>$,isRegExp:()=>yt,isSet:()=>he,isString:()=>ft,isSymbol:()=>nt,isTypedArray:()=>Pt,isUndefined:()=>X,isWeakMap:()=>Xt,isWeakSet:()=>Ue,iteratee:()=>en,keys:()=>Ne,last:()=>Ua,lastIndexOf:()=>dn,map:()=>xr,mapObject:()=>cr,matcher:()=>Te,matches:()=>Te,max:()=>zl,memoize:()=>ei,methods:()=>On,min:()=>Fl,mixin:()=>ms,negate:()=>yi,noop:()=>gi,now:()=>I,object:()=>Zl,omit:()=>ka,once:()=>ha,pairs:()=>rn,partial:()=>eo,partition:()=>gs,pick:()=>Gl,pluck:()=>Na,property:()=>br,propertyOf:()=>ie,random:()=>mi,range:()=>ma,reduce:()=>qr,reduceRight:()=>Gr,reject:()=>_i,rest:()=>Xo,restArguments:()=>vt,result:()=>Po,sample:()=>Zs,select:()=>kr,shuffle:()=>Zu,size:()=>$u,some:()=>La,sortBy:()=>Wl,sortedIndex:()=>oo,tail:()=>Xo,take:()=>Va,tap:()=>Be,template:()=>qo,templateSettings:()=>$e,throttle:()=>zn,times:()=>Re,toArray:()=>va,toPath:()=>Er,transpose:()=>ga,unescape:()=>Je,union:()=>nc,uniq:()=>so,unique:()=>so,uniqueId:()=>fa,unzip:()=>ga,values:()=>ze,where:()=>Xu,without:()=>Ha,wrap:()=>no,zip:()=>$s});var r="1.13.1",i=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},l=Array.prototype,f=Object.prototype,p=typeof Symbol<"u"?Symbol.prototype:null,d=l.push,v=l.slice,_=f.toString,w=f.hasOwnProperty,S=typeof ArrayBuffer<"u",O=typeof DataView<"u",A=Array.isArray,P=Object.keys,j=Object.create,z=S&&ArrayBuffer.isView,k=isNaN,G=isFinite,ot=!{toString:null}.propertyIsEnumerable("toString"),xt=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Nt=Math.pow(2,53)-1;function vt(L,W){return W=W==null?L.length-1:+W,function(){for(var lt=Math.max(arguments.length-W,0),ct=Array(lt),jt=0;jt<lt;jt++)ct[jt]=arguments[jt+W];switch(W){case 0:return L.call(this,ct);case 1:return L.call(this,arguments[0],ct);case 2:return L.call(this,arguments[0],arguments[1],ct)}var Tt=Array(W+1);for(jt=0;jt<W;jt++)Tt[jt]=arguments[jt];return Tt[W]=ct,L.apply(this,Tt)}}function $(L){var W=typeof L;return W==="function"||W==="object"&&!!L}function mt(L){return L===null}function X(L){return L===void 0}function B(L){return L===!0||L===!1||_.call(L)==="[object Boolean]"}function Q(L){return!!(L&&L.nodeType===1)}function J(L){var W="[object "+L+"]";return function(lt){return _.call(lt)===W}}const ft=J("String"),M=J("Number"),ht=J("Date"),yt=J("RegExp"),Bt=J("Error"),nt=J("Symbol"),Lt=J("ArrayBuffer");var pt=J("Function"),Et=i.document&&i.document.childNodes;typeof Int8Array!="object"&&typeof Et!="function"&&(pt=function(L){return typeof L=="function"||!1});const At=pt,Zt=J("Object");var Qt=O&&Zt(new DataView(new ArrayBuffer(8))),ne=typeof Map<"u"&&Zt(new Map),oe=J("DataView");function Oe(L){return L!=null&&At(L.getInt8)&&Lt(L.buffer)}const He=Qt?Oe:oe,Se=A||J("Array");function _t(L,W){return L!=null&&w.call(L,W)}var se=J("Arguments");(function(){se(arguments)||(se=function(L){return _t(L,"callee")})})();const ue=se;function Ve(L){return!nt(L)&&G(L)&&!isNaN(parseFloat(L))}function Ae(L){return M(L)&&k(L)}function ge(L){return function(){return L}}function N(L){return function(W){var lt=L(W);return typeof lt=="number"&&lt>=0&&lt<=Nt}}function Z(L){return function(W){return W==null?void 0:W[L]}}const it=Z("byteLength"),bt=N(it);var kt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function tt(L){return z?z(L)&&!He(L):bt(L)&&kt.test(_.call(L))}const Pt=S?tt:ge(!1),St=Z("length");function we(L){for(var W={},lt=L.length,ct=0;ct<lt;++ct)W[L[ct]]=!0;return{contains:function(jt){return W[jt]},push:function(jt){return W[jt]=!0,L.push(jt)}}}function Ee(L,W){W=we(W);var lt=xt.length,ct=L.constructor,jt=At(ct)&&ct.prototype||f,Tt="constructor";for(_t(L,Tt)&&!W.contains(Tt)&&W.push(Tt);lt--;)Tt=xt[lt],Tt in L&&L[Tt]!==jt[Tt]&&!W.contains(Tt)&&W.push(Tt)}function Ne(L){if(!$(L))return[];if(P)return P(L);var W=[];for(var lt in L)_t(L,lt)&&W.push(lt);return ot&&Ee(L,W),W}function Y(L){if(L==null)return!0;var W=St(L);return typeof W=="number"&&(Se(L)||ft(L)||ue(L))?W===0:St(Ne(L))===0}function gt(L,W){var lt=Ne(W),ct=lt.length;if(L==null)return!ct;for(var jt=Object(L),Tt=0;Tt<ct;Tt++){var Kt=lt[Tt];if(W[Kt]!==jt[Kt]||!(Kt in jt))return!1}return!0}function F(L){if(L instanceof F)return L;if(!(this instanceof F))return new F(L);this._wrapped=L}F.VERSION=r,F.prototype.value=function(){return this._wrapped},F.prototype.valueOf=F.prototype.toJSON=F.prototype.value,F.prototype.toString=function(){return String(this._wrapped)};function Yt(L){return new Uint8Array(L.buffer||L,L.byteOffset||0,it(L))}var Dt="[object DataView]";function te(L,W,lt,ct){if(L===W)return L!==0||1/L===1/W;if(L==null||W==null)return!1;if(L!==L)return W!==W;var jt=typeof L;return jt!=="function"&&jt!=="object"&&typeof W!="object"?!1:_e(L,W,lt,ct)}function _e(L,W,lt,ct){L instanceof F&&(L=L._wrapped),W instanceof F&&(W=W._wrapped);var jt=_.call(L);if(jt!==_.call(W))return!1;if(Qt&&jt=="[object Object]"&&He(L)){if(!He(W))return!1;jt=Dt}switch(jt){case"[object RegExp]":case"[object String]":return""+L==""+W;case"[object Number]":return+L!=+L?+W!=+W:+L==0?1/+L===1/W:+L==+W;case"[object Date]":case"[object Boolean]":return+L==+W;case"[object Symbol]":return p.valueOf.call(L)===p.valueOf.call(W);case"[object ArrayBuffer]":case Dt:return _e(Yt(L),Yt(W),lt,ct)}var Tt=jt==="[object Array]";if(!Tt&&Pt(L)){var Kt=it(L);if(Kt!==it(W))return!1;if(L.buffer===W.buffer&&L.byteOffset===W.byteOffset)return!0;Tt=!0}if(!Tt){if(typeof L!="object"||typeof W!="object")return!1;var pe=L.constructor,Ye=W.constructor;if(pe!==Ye&&!(At(pe)&&pe instanceof pe&&At(Ye)&&Ye instanceof Ye)&&"constructor"in L&&"constructor"in W)return!1}lt=lt||[],ct=ct||[];for(var We=lt.length;We--;)if(lt[We]===L)return ct[We]===W;if(lt.push(L),ct.push(W),Tt){if(We=L.length,We!==W.length)return!1;for(;We--;)if(!te(L[We],W[We],lt,ct))return!1}else{var hr=Ne(L),Yr;if(We=hr.length,Ne(W).length!==We)return!1;for(;We--;)if(Yr=hr[We],!(_t(W,Yr)&&te(L[Yr],W[Yr],lt,ct)))return!1}return lt.pop(),ct.pop(),!0}function me(L,W){return te(L,W)}function de(L){if(!$(L))return[];var W=[];for(var lt in L)W.push(lt);return ot&&Ee(L,W),W}function De(L){var W=St(L);return function(lt){if(lt==null)return!1;var ct=de(lt);if(St(ct))return!1;for(var jt=0;jt<W;jt++)if(!At(lt[L[jt]]))return!1;return L!==q||!At(lt[Ge])}}var Ge="forEach",an="has",tn=["clear","delete"],Mn=["get",an,"set"],_r=tn.concat(Ge,Mn),q=tn.concat(Mn),ut=["add"].concat(tn,Ge,an);const Ot=ne?De(_r):J("Map"),Xt=ne?De(q):J("WeakMap"),he=ne?De(ut):J("Set"),Ue=J("WeakSet");function ze(L){for(var W=Ne(L),lt=W.length,ct=Array(lt),jt=0;jt<lt;jt++)ct[jt]=L[W[jt]];return ct}function rn(L){for(var W=Ne(L),lt=W.length,ct=Array(lt),jt=0;jt<lt;jt++)ct[jt]=[W[jt],L[W[jt]]];return ct}function vn(L){for(var W={},lt=Ne(L),ct=0,jt=lt.length;ct<jt;ct++)W[L[lt[ct]]]=lt[ct];return W}function On(L){var W=[];for(var lt in L)At(L[lt])&&W.push(lt);return W.sort()}function hi(L,W){return function(lt){var ct=arguments.length;if(W&&(lt=Object(lt)),ct<2||lt==null)return lt;for(var jt=1;jt<ct;jt++)for(var Tt=arguments[jt],Kt=L(Tt),pe=Kt.length,Ye=0;Ye<pe;Ye++){var We=Kt[Ye];(!W||lt[We]===void 0)&&(lt[We]=Tt[We])}return lt}}const Vn=hi(de),ti=hi(Ne),vi=hi(de,!0);function fn(){return function(){}}function Gn(L){if(!$(L))return{};if(j)return j(L);var W=fn();W.prototype=L;var lt=new W;return W.prototype=null,lt}function Qe(L,W){var lt=Gn(L);return W&&ti(lt,W),lt}function ar(L){return $(L)?Se(L)?L.slice():Vn({},L):L}function Be(L,W){return W(L),L}function Er(L){return Se(L)?L:[L]}F.toPath=Er;function xn(L){return F.toPath(L)}function sr(L,W){for(var lt=W.length,ct=0;ct<lt;ct++){if(L==null)return;L=L[W[ct]]}return lt?L:void 0}function lr(L,W,lt){var ct=sr(L,xn(W));return X(ct)?lt:ct}function ur(L,W){W=xn(W);for(var lt=W.length,ct=0;ct<lt;ct++){var jt=W[ct];if(!_t(L,jt))return!1;L=L[jt]}return!!lt}function un(L){return L}function Te(L){return L=ti({},L),function(W){return gt(W,L)}}function br(L){return L=xn(L),function(W){return sr(W,L)}}function Un(L,W,lt){if(W===void 0)return L;switch(lt??3){case 1:return function(ct){return L.call(W,ct)};case 3:return function(ct,jt,Tt){return L.call(W,ct,jt,Tt)};case 4:return function(ct,jt,Tt,Kt){return L.call(W,ct,jt,Tt,Kt)}}return function(){return L.apply(W,arguments)}}function Ar(L,W,lt){return L==null?un:At(L)?Un(L,W,lt):$(L)&&!Se(L)?Te(L):br(L)}function en(L,W){return Ar(L,W,1/0)}F.iteratee=en;function Sn(L,W,lt){return F.iteratee!==en?F.iteratee(L,W):Ar(L,W,lt)}function cr(L,W,lt){W=Sn(W,lt);for(var ct=Ne(L),jt=ct.length,Tt={},Kt=0;Kt<jt;Kt++){var pe=ct[Kt];Tt[pe]=W(L[pe],pe,L)}return Tt}function gi(){}function ie(L){return L==null?gi:function(W){return lr(L,W)}}function Re(L,W,lt){var ct=Array(Math.max(0,L));W=Un(W,lt,1);for(var jt=0;jt<L;jt++)ct[jt]=W(jt);return ct}function mi(L,W){return W==null&&(W=L,L=0),L+Math.floor(Math.random()*(W-L+1))}const I=Date.now||function(){return new Date().getTime()};function st(L){var W=function(Tt){return L[Tt]},lt="(?:"+Ne(L).join("|")+")",ct=RegExp(lt),jt=RegExp(lt,"g");return function(Tt){return Tt=Tt==null?"":""+Tt,ct.test(Tt)?Tt.replace(jt,W):Tt}}const qt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ee=st(qt),le=vn(qt),Je=st(le),$e=F.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Ln=/(.)^/,gn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ei=/\\|'|\r|\n|\u2028|\u2029/g;function Pr(L){return"\\"+gn[L]}var Ao=/^\s*(\w|\$)+\s*$/;function qo(L,W,lt){!W&&lt&&(W=lt),W=vi({},W,F.templateSettings);var ct=RegExp([(W.escape||Ln).source,(W.interpolate||Ln).source,(W.evaluate||Ln).source].join("|")+"|$","g"),jt=0,Tt="__p+='";L.replace(ct,function(We,hr,Yr,ic,Jl){return Tt+=L.slice(jt,Jl).replace(Ei,Pr),jt=Jl+We.length,hr?Tt+=`'+
((__t=(`+hr+`))==null?'':_.escape(__t))+
'`:Yr?Tt+=`'+
((__t=(`+Yr+`))==null?'':__t)+
'`:ic&&(Tt+=`';
`+ic+`
__p+='`),We}),Tt+=`';
`;var Kt=W.variable;if(Kt){if(!Ao.test(Kt))throw new Error("variable is not a bare identifier: "+Kt)}else Tt=`with(obj||{}){
`+Tt+`}
`,Kt="obj";Tt=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+Tt+`return __p;
`;var pe;try{pe=new Function(Kt,"_",Tt)}catch(We){throw We.source=Tt,We}var Ye=function(We){return pe.call(this,We,F)};return Ye.source="function("+Kt+`){
`+Tt+"}",Ye}function Po(L,W,lt){W=xn(W);var ct=W.length;if(!ct)return At(lt)?lt.call(L):lt;for(var jt=0;jt<ct;jt++){var Tt=L==null?void 0:L[W[jt]];Tt===void 0&&(Tt=lt,jt=ct),L=At(Tt)?Tt.call(L):Tt}return L}var to=0;function fa(L){var W=++to+"";return L?L+W:W}function da(L){var W=F(L);return W._chain=!0,W}function Ai(L,W,lt,ct,jt){if(!(ct instanceof W))return L.apply(lt,jt);var Tt=Gn(L.prototype),Kt=L.apply(Tt,jt);return $(Kt)?Kt:Tt}var Go=vt(function(L,W){var lt=Go.placeholder,ct=function(){for(var jt=0,Tt=W.length,Kt=Array(Tt),pe=0;pe<Tt;pe++)Kt[pe]=W[pe]===lt?arguments[jt++]:W[pe];for(;jt<arguments.length;)Kt.push(arguments[jt++]);return Ai(L,ct,this,this,Kt)};return ct});Go.placeholder=F;const eo=Go,pa=vt(function(L,W,lt){if(!At(L))throw new TypeError("Bind must be called on a function");var ct=vt(function(jt){return Ai(L,ct,W,this,lt.concat(jt))});return ct}),Qn=N(St);function wr(L,W,lt,ct){if(ct=ct||[],!W&&W!==0)W=1/0;else if(W<=0)return ct.concat(L);for(var jt=ct.length,Tt=0,Kt=St(L);Tt<Kt;Tt++){var pe=L[Tt];if(Qn(pe)&&(Se(pe)||ue(pe)))if(W>1)wr(pe,W-1,lt,ct),jt=ct.length;else for(var Ye=0,We=pe.length;Ye<We;)ct[jt++]=pe[Ye++];else lt||(ct[jt++]=pe)}return ct}const vs=vt(function(L,W){W=wr(W,!1,!1);var lt=W.length;if(lt<1)throw new Error("bindAll must be passed function names");for(;lt--;){var ct=W[lt];L[ct]=pa(L[ct],L)}return L});function ei(L,W){var lt=function(ct){var jt=lt.cache,Tt=""+(W?W.apply(this,arguments):ct);return _t(jt,Tt)||(jt[Tt]=L.apply(this,arguments)),jt[Tt]};return lt.cache={},lt}const ki=vt(function(L,W,lt){return setTimeout(function(){return L.apply(null,lt)},W)}),Nr=eo(ki,F,1);function zn(L,W,lt){var ct,jt,Tt,Kt,pe=0;lt||(lt={});var Ye=function(){pe=lt.leading===!1?0:I(),ct=null,Kt=L.apply(jt,Tt),ct||(jt=Tt=null)},We=function(){var hr=I();!pe&&lt.leading===!1&&(pe=hr);var Yr=W-(hr-pe);return jt=this,Tt=arguments,Yr<=0||Yr>W?(ct&&(clearTimeout(ct),ct=null),pe=hr,Kt=L.apply(jt,Tt),ct||(jt=Tt=null)):!ct&&lt.trailing!==!1&&(ct=setTimeout(Ye,Yr)),Kt};return We.cancel=function(){clearTimeout(ct),pe=0,ct=jt=Tt=null},We}function Do(L,W,lt){var ct,jt,Tt,Kt,pe,Ye=function(){var hr=I()-jt;W>hr?ct=setTimeout(Ye,W-hr):(ct=null,lt||(Kt=L.apply(pe,Tt)),ct||(Tt=pe=null))},We=vt(function(hr){return pe=this,Tt=hr,jt=I(),ct||(ct=setTimeout(Ye,W),lt&&(Kt=L.apply(pe,Tt))),Kt});return We.cancel=function(){clearTimeout(ct),ct=Tt=pe=null},We}function no(L,W){return eo(W,L)}function yi(L){return function(){return!L.apply(this,arguments)}}function Ko(){var L=arguments,W=L.length-1;return function(){for(var lt=W,ct=L[W].apply(this,arguments);lt--;)ct=L[lt].call(this,ct);return ct}}function Wr(L,W){return function(){if(--L<1)return W.apply(this,arguments)}}function pr(L,W){var lt;return function(){return--L>0&&(lt=W.apply(this,arguments)),L<=1&&(W=null),lt}}const ha=eo(pr,2);function ro(L,W,lt){W=Sn(W,lt);for(var ct=Ne(L),jt,Tt=0,Kt=ct.length;Tt<Kt;Tt++)if(jt=ct[Tt],W(L[jt],jt,L))return jt}function ni(L){return function(W,lt,ct){lt=Sn(lt,ct);for(var jt=St(W),Tt=L>0?0:jt-1;Tt>=0&&Tt<jt;Tt+=L)if(lt(W[Tt],Tt,W))return Tt;return-1}}const Pi=ni(1),io=ni(-1);function oo(L,W,lt,ct){lt=Sn(lt,ct,1);for(var jt=lt(W),Tt=0,Kt=St(L);Tt<Kt;){var pe=Math.floor((Tt+Kt)/2);lt(L[pe])<jt?Tt=pe+1:Kt=pe}return Tt}function je(L,W,lt){return function(ct,jt,Tt){var Kt=0,pe=St(ct);if(typeof Tt=="number")L>0?Kt=Tt>=0?Tt:Math.max(Tt+pe,Kt):pe=Tt>=0?Math.min(Tt+1,pe):Tt+pe+1;else if(lt&&Tt&&pe)return Tt=lt(ct,jt),ct[Tt]===jt?Tt:-1;if(jt!==jt)return Tt=W(v.call(ct,Kt,pe),Ae),Tt>=0?Tt+Kt:-1;for(Tt=L>0?Kt:pe-1;Tt>=0&&Tt<pe;Tt+=L)if(ct[Tt]===jt)return Tt;return-1}}const Me=je(1,Pi,oo),dn=je(-1,io);function Pe(L,W,lt){var ct=Qn(L)?Pi:ro,jt=ct(L,W,lt);if(jt!==void 0&&jt!==-1)return L[jt]}function Tn(L,W){return Pe(L,Te(W))}function Kn(L,W,lt){W=Un(W,lt);var ct,jt;if(Qn(L))for(ct=0,jt=L.length;ct<jt;ct++)W(L[ct],ct,L);else{var Tt=Ne(L);for(ct=0,jt=Tt.length;ct<jt;ct++)W(L[Tt[ct]],Tt[ct],L)}return L}function xr(L,W,lt){W=Sn(W,lt);for(var ct=!Qn(L)&&Ne(L),jt=(ct||L).length,Tt=Array(jt),Kt=0;Kt<jt;Kt++){var pe=ct?ct[Kt]:Kt;Tt[Kt]=W(L[pe],pe,L)}return Tt}function ao(L){var W=function(lt,ct,jt,Tt){var Kt=!Qn(lt)&&Ne(lt),pe=(Kt||lt).length,Ye=L>0?0:pe-1;for(Tt||(jt=lt[Kt?Kt[Ye]:Ye],Ye+=L);Ye>=0&&Ye<pe;Ye+=L){var We=Kt?Kt[Ye]:Ye;jt=ct(jt,lt[We],We,lt)}return jt};return function(lt,ct,jt,Tt){var Kt=arguments.length>=3;return W(lt,Un(ct,Tt,4),jt,Kt)}}const qr=ao(1),Gr=ao(-1);function kr(L,W,lt){var ct=[];return W=Sn(W,lt),Kn(L,function(jt,Tt,Kt){W(jt,Tt,Kt)&&ct.push(jt)}),ct}function _i(L,W,lt){return kr(L,yi(Sn(W)),lt)}function Yo(L,W,lt){W=Sn(W,lt);for(var ct=!Qn(L)&&Ne(L),jt=(ct||L).length,Tt=0;Tt<jt;Tt++){var Kt=ct?ct[Tt]:Tt;if(!W(L[Kt],Kt,L))return!1}return!0}function La(L,W,lt){W=Sn(W,lt);for(var ct=!Qn(L)&&Ne(L),jt=(ct||L).length,Tt=0;Tt<jt;Tt++){var Kt=ct?ct[Tt]:Tt;if(W(L[Kt],Kt,L))return!0}return!1}function Dr(L,W,lt,ct){return Qn(L)||(L=ze(L)),(typeof lt!="number"||ct)&&(lt=0),Me(L,W,lt)>=0}const Yu=vt(function(L,W,lt){var ct,jt;return At(W)?jt=W:(W=xn(W),ct=W.slice(0,-1),W=W[W.length-1]),xr(L,function(Tt){var Kt=jt;if(!Kt){if(ct&&ct.length&&(Tt=sr(Tt,ct)),Tt==null)return;Kt=Tt[W]}return Kt==null?Kt:Kt.apply(Tt,lt)})});function Na(L,W){return xr(L,br(W))}function Xu(L,W){return kr(L,Te(W))}function zl(L,W,lt){var ct=-1/0,jt=-1/0,Tt,Kt;if(W==null||typeof W=="number"&&typeof L[0]!="object"&&L!=null){L=Qn(L)?L:ze(L);for(var pe=0,Ye=L.length;pe<Ye;pe++)Tt=L[pe],Tt!=null&&Tt>ct&&(ct=Tt)}else W=Sn(W,lt),Kn(L,function(We,hr,Yr){Kt=W(We,hr,Yr),(Kt>jt||Kt===-1/0&&ct===-1/0)&&(ct=We,jt=Kt)});return ct}function Fl(L,W,lt){var ct=1/0,jt=1/0,Tt,Kt;if(W==null||typeof W=="number"&&typeof L[0]!="object"&&L!=null){L=Qn(L)?L:ze(L);for(var pe=0,Ye=L.length;pe<Ye;pe++)Tt=L[pe],Tt!=null&&Tt<ct&&(ct=Tt)}else W=Sn(W,lt),Kn(L,function(We,hr,Yr){Kt=W(We,hr,Yr),(Kt<jt||Kt===1/0&&ct===1/0)&&(ct=We,jt=Kt)});return ct}function Zs(L,W,lt){if(W==null||lt)return Qn(L)||(L=ze(L)),L[mi(L.length-1)];var ct=Qn(L)?ar(L):ze(L),jt=St(ct);W=Math.max(Math.min(W,jt),0);for(var Tt=jt-1,Kt=0;Kt<W;Kt++){var pe=mi(Kt,Tt),Ye=ct[Kt];ct[Kt]=ct[pe],ct[pe]=Ye}return ct.slice(0,W)}function Zu(L){return Zs(L,1/0)}function Wl(L,W,lt){var ct=0;return W=Sn(W,lt),Na(xr(L,function(jt,Tt,Kt){return{value:jt,index:ct++,criteria:W(jt,Tt,Kt)}}).sort(function(jt,Tt){var Kt=jt.criteria,pe=Tt.criteria;if(Kt!==pe){if(Kt>pe||Kt===void 0)return 1;if(Kt<pe||pe===void 0)return-1}return jt.index-Tt.index}),"value")}function Js(L,W){return function(lt,ct,jt){var Tt=W?[[],[]]:{};return ct=Sn(ct,jt),Kn(lt,function(Kt,pe){var Ye=ct(Kt,pe,lt);L(Tt,Kt,Ye)}),Tt}}const Ju=Js(function(L,W,lt){_t(L,lt)?L[lt].push(W):L[lt]=[W]}),ql=Js(function(L,W,lt){L[lt]=W}),Qu=Js(function(L,W,lt){_t(L,lt)?L[lt]++:L[lt]=1}),gs=Js(function(L,W,lt){L[lt?0:1].push(W)},!0);var Qs=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function va(L){return L?Se(L)?v.call(L):ft(L)?L.match(Qs):Qn(L)?xr(L,un):ze(L):[]}function $u(L){return L==null?0:Qn(L)?L.length:Ne(L).length}function tc(L,W,lt){return W in lt}const Gl=vt(function(L,W){var lt={},ct=W[0];if(L==null)return lt;At(ct)?(W.length>1&&(ct=Un(ct,W[1])),W=de(L)):(ct=tc,W=wr(W,!1,!1),L=Object(L));for(var jt=0,Tt=W.length;jt<Tt;jt++){var Kt=W[jt],pe=L[Kt];ct(pe,Kt,L)&&(lt[Kt]=pe)}return lt}),ka=vt(function(L,W){var lt=W[0],ct;return At(lt)?(lt=yi(lt),W.length>1&&(ct=W[1])):(W=xr(wr(W,!1,!1),String),lt=function(jt,Tt){return!Dr(W,Tt)}),Gl(L,lt,ct)});function $n(L,W,lt){return v.call(L,0,Math.max(0,L.length-(W==null||lt?1:W)))}function Va(L,W,lt){return L==null||L.length<1?W==null||lt?void 0:[]:W==null||lt?L[0]:$n(L,L.length-W)}function Xo(L,W,lt){return v.call(L,W==null||lt?1:W)}function Ua(L,W,lt){return L==null||L.length<1?W==null||lt?void 0:[]:W==null||lt?L[L.length-1]:Xo(L,Math.max(0,L.length-W))}function ec(L){return kr(L,Boolean)}function Kl(L,W){return wr(L,W,!1)}const Yl=vt(function(L,W){return W=wr(W,!0,!0),kr(L,function(lt){return!Dr(W,lt)})}),Ha=vt(function(L,W){return Yl(L,W)});function so(L,W,lt,ct){B(W)||(ct=lt,lt=W,W=!1),lt!=null&&(lt=Sn(lt,ct));for(var jt=[],Tt=[],Kt=0,pe=St(L);Kt<pe;Kt++){var Ye=L[Kt],We=lt?lt(Ye,Kt,L):Ye;W&&!lt?((!Kt||Tt!==We)&&jt.push(Ye),Tt=We):lt?Dr(Tt,We)||(Tt.push(We),jt.push(Ye)):Dr(jt,Ye)||jt.push(Ye)}return jt}const nc=vt(function(L){return so(wr(L,!0,!0))});function Xl(L){for(var W=[],lt=arguments.length,ct=0,jt=St(L);ct<jt;ct++){var Tt=L[ct];if(!Dr(W,Tt)){var Kt;for(Kt=1;Kt<lt&&Dr(arguments[Kt],Tt);Kt++);Kt===lt&&W.push(Tt)}}return W}function ga(L){for(var W=L&&zl(L,St).length||0,lt=Array(W),ct=0;ct<W;ct++)lt[ct]=Na(L,ct);return lt}const $s=vt(ga);function Zl(L,W){for(var lt={},ct=0,jt=St(L);ct<jt;ct++)W?lt[L[ct]]=W[ct]:lt[L[ct][0]]=L[ct][1];return lt}function ma(L,W,lt){W==null&&(W=L||0,L=0),lt||(lt=W<L?-1:1);for(var ct=Math.max(Math.ceil((W-L)/lt),0),jt=Array(ct),Tt=0;Tt<ct;Tt++,L+=lt)jt[Tt]=L;return jt}function Kr(L,W){if(W==null||W<1)return[];for(var lt=[],ct=0,jt=L.length;ct<jt;)lt.push(v.call(L,ct,ct+=W));return lt}function Ba(L,W){return L._chain?F(W).chain():W}function ms(L){return Kn(On(L),function(W){var lt=F[W]=L[W];F.prototype[W]=function(){var ct=[this._wrapped];return d.apply(ct,arguments),Ba(this,lt.apply(F,ct))}}),F}Kn(["pop","push","reverse","shift","sort","splice","unshift"],function(L){var W=l[L];F.prototype[L]=function(){var lt=this._wrapped;return lt!=null&&(W.apply(lt,arguments),(L==="shift"||L==="splice")&&lt.length===0&&delete lt[0]),Ba(this,lt)}}),Kn(["concat","join","slice"],function(L){var W=l[L];F.prototype[L]=function(){var lt=this._wrapped;return lt!=null&&(lt=W.apply(lt,arguments)),Ba(this,lt)}});const rc=F;var bi=ms(e);bi._=bi;const Zo=bi}},$_={};function wn(o){var n=$_[o];if(n!==void 0)return n.exports;var t=$_[o]={exports:{}};return hE[o].call(t.exports,t,t.exports,wn),t.exports}wn.n=o=>{var n=o&&o.__esModule?()=>o.default:()=>o;return wn.d(n,{a:n}),n};wn.d=(o,n)=>{for(var t in n)wn.o(n,t)&&!wn.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:n[t]})};wn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();wn.o=(o,n)=>Object.prototype.hasOwnProperty.call(o,n);wn.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var gg={};wn.d(gg,{Ay:()=>tU,I0:()=>JS,nu:()=>ZS});var H=wn(5706),Jt=wn(1166);function wo(o){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var e=o.raw;return e.reduce(function(r,i,l){var f=n[l-1],p=e[l-1];return Array.isArray(f)?f=f.join(""):p&&p.slice(-1)==="$"?r=r.slice(0,-1):f=(0,Jt.escape)(f),r+f+i})}var vE=function(){return{stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1,telemetry:!0}};const gE=vE;var Zh=wn(4193),mE=wn.n(Zh),$r=wn(7774);const yE=function(o){var n=o.$;if(n&&n.prototype&&n.prototype.constructor.name!=="jQuery"){var t=n.fn;t.hide=function(){return this.css("display","none")},t.show=function(){return this.css("display","block")},t.focus=function(){var i=this.get(0);return i&&i.focus(),this},t.bind=function(i,l){return this.on(i,l)},t.unbind=function(i,l){if((0,H.isObject)(i)){for(var f in i)i.hasOwnProperty(f)&&this.off(f,i[f]);return this}else return this.off(i,l)},t.click=function(i){return i?this.on("click",i):this.trigger("click")},t.change=function(i){return i?this.on("change",i):this.trigger("change")},t.keydown=function(i){return i?this.on("keydown",i):this.trigger("keydown")},t.delegate=function(i,l,f,p){return p||(p=f),this.on(l,i,function(d){d.data=f,p(d)})},t.scrollLeft=function(){var i=this.get(0);i=i.nodeType==9?i.defaultView:i;var l=i instanceof Window?i:null;return l?l.pageXOffset:i.scrollLeft||0},t.scrollTop=function(){var i=this.get(0);i=i.nodeType==9?i.defaultView:i;var l=i instanceof Window?i:null;return l?l.pageYOffset:i.scrollTop||0};var e=n.prototype.offset;t.offset=function(i){var l,f;return i&&(l=i.top,f=i.left),typeof l<"u"&&this.css("top","".concat(l,"px")),typeof f<"u"&&this.css("left","".concat(f,"px")),e.call(this)},n.map=function(i,l){for(var f=[],p=0;p<i.length;p++)f.push(l(i[p],p));return f};var r=Array.prototype.indexOf;n.inArray=function(i,l,f){return l==null?-1:r.call(l,i,f)},n.Event=function(i,l){if(!(this instanceof n.Event))return new n.Event(i,l);this.type=i,this.isDefaultPrevented=function(){return!1}}}};var fe=wn(9156),fx=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_E=function(o){fx(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}(fe.Kx),bE=function(o){fx(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.getByComponent=function(t){var e=this;return this.filter(function(r){return e.getComponent(r)===t})[0]},n.prototype.addComponent=function(t,e){var r=this,i=((0,H.isArray)(t)?t:[t]).filter(function(l){return!r.hasComponent(l)}).map(function(l){return new _E({component:l})})[0];return this.push(i,e)},n.prototype.getComponent=function(t){return t.get("component")},n.prototype.hasComponent=function(t){var e=this.getByComponent(t);return e&&this.contains(e)},n.prototype.lastComponent=function(){var t=this.last();return t?this.getComponent(t):void 0},n.prototype.allComponents=function(){var t=this;return this.map(function(e){return t.getComponent(e)}).filter(function(e){return e})},n.prototype.removeComponent=function(t,e){var r=this,i=((0,H.isArray)(t)?t:[t]).map(function(l){return r.getByComponent(l)});return this.remove(i,e)},n}(fe.pM);const wE=bE;var xE=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sy=function(){return sy=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},sy.apply(this,arguments)},SE=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},dx=function(){function o(n,t,e){this.debounced=[],this.collections=[],this.cls=[],this._em=n,this._name=t;var r=this.name.charAt(0).toLowerCase()+this.name.slice(1),i=(0,H.isUndefined)(n.config[r])?n.config[this.name]:n.config[r],l=i===!0?{}:i||{};l.pStylePrefix=n.config.pStylePrefix||"",!(0,H.isUndefined)(i)&&!i&&(l._disable=1),l.em=n,this._config=(0,Jt.deepMerge)(e||{},l)}return Object.defineProperty(o.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),o.prototype.render=function(n){},o.prototype.postLoad=function(n){},o.prototype.onInit=function(){},Object.defineProperty(o.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),o.prototype.getConfig=function(n){return n?this.config[n]:this.config},o.prototype.__logWarn=function(n,t){t===void 0&&(t={}),this.em.logWarning("[".concat(this.name,"]: ").concat(n),t)},o.prototype.destroy=function(){this.__destroy()},o.prototype.__destroy=function(){var n,t,e;(n=this.view)===null||n===void 0||n.remove(),(t=this.state)===null||t===void 0||t.stopListening(),(e=this.state)===null||e===void 0||e.clear(),this.debounced.forEach(function(r){return r.cancel()}),this.collections.forEach(function(r){r.stopListening(),r.reset()})},o.prototype.__appendTo=function(){var n=this.getConfig().appendTo;if(n){var t=(0,H.isElement)(n)?n:document.querySelector(n);if(!t)return this.__logWarn('"appendTo" element not found');t.appendChild(this.render())}},o}();const Eo=dx;var Xs=function(o){xE(n,o);function n(t,e,r,i,l,f){f===void 0&&(f={});var p=o.call(this,t,e,l)||this;return p.cls=[],p.private=!1,p.all=r,p.events=i,!f.skipListen&&p.__initListen(),p}return n.prototype.postLoad=function(t){},n.prototype.render=function(t){},n.prototype.getProjectData=function(t){var e={},r=this.storageKey;return r&&(e[r]=t||this.getAll()),e},n.prototype.loadProjectData=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var r=e.all,i=e.onResult,l=e.reset,f=this.storageKey,p={action:"load"},d=r||this.all,v=t[f];if(typeof v=="string")try{v=JSON.parse(v)}catch{this.__logWarn("Data parsing failed",{input:v})}return l&&v&&d.reset(void 0,p),i?v&&i(v,p):v&&(0,Jt.isDef)(v.length)&&d.reset(v,p),v},n.prototype.clear=function(t){t===void 0&&(t={});var e=this.all;return e&&e.reset(void 0,t),this},n.prototype.getAll=function(){return SE([],this.all.models,!0)},n.prototype.getAllMap=function(){return this.getAll().reduce(function(t,e){return t[e.get(e.idAttribute)]=e,t},{})},n.prototype.__initListen=function(t){t===void 0&&(t={});var e=this,r=e.all,i=e.em,l=e.events;r&&i&&r.on("add",function(f,p,d){return i.trigger(l.add,f,d)}).on("remove",function(f,p,d){return i.trigger(l.remove,f,d)}).on("change",function(f,p){return i.trigger(l.update,f,f.changedAttributes(),p)}).on("all",this.__catchAllEvent,this),this.cls=[r].concat(t.collections||[]),(t.propagate||[]).forEach(function(f){var p=f.entity,d=f.event;p.on("all",function(v,_,w,S){var O=S||w,A=sy({event:v},O);[i,r].map(function(P){return P.trigger(d,_,A)})})})},n.prototype.__remove=function(t,e){var r=this;e===void 0&&(e={});var i=this.em,l=(0,H.isString)(t)?this.get(t):t,f=function(){return l&&r.all.remove(l,e),l};return!e.silent&&(i==null||i.trigger(this.events.removeBefore,l,f,e)),!e.abort&&f()},n.prototype.__catchAllEvent=function(t,e,r,i){var l=this,f=l.em,p=l.events,d=i||r;f&&p.all&&f.trigger(p.all,{event:t,model:e,options:d}),this.__onAllEvent()},n.prototype.__appendTo=function(t){var e=this.config.appendTo;if(e){var r=(0,H.isElement)(e)?e:document.querySelector(e);if(!r)return this.__logWarn('"appendTo" element not found');r.appendChild(this.render(t))}},n.prototype.__onAllEvent=function(){},n.prototype._createId=function(t){t===void 0&&(t=16);var e=this.getAll(),r=e.length+t,i=this.getAllMap(),l;do l=(0,Jt.createId)(r);while(i[l]);return l},n.prototype.__listenAdd=function(t,e){var r=this;t.on("add",function(i,l,f){return r.em.trigger(e,i,f)})},n.prototype.__listenRemove=function(t,e){var r=this;t.on("remove",function(i,l,f){return r.em.trigger(e,i,f)})},n.prototype.__listenUpdate=function(t,e){var r=this;t.on("change",function(i,l){return r.em.trigger(e,i,i.changedAttributes(),l)})},n.prototype.__destroy=function(){var t;this.cls.forEach(function(e){e.stopListening(),e.reset()}),(t=this.view)===null||t===void 0||t.remove(),this.view=void 0},n}(dx),CE=function(){return{stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0}};const OE=CE;var Bl=wn(7058),TE=function(){return{default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]}};const EE=TE;var AE=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),PE=function(o){AE(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},n.prototype.initialize=function(){var t=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var e=["width","height","widthMedia"];e.forEach(function(r){return t.checkUnit(r)})},n.prototype.checkUnit=function(t){var e=this.get(t)||"",r=(parseFloat(e)||0).toString()===e.toString();r&&this.set(t,"".concat(e,"px"))},n.prototype.getName=function(){return this.get("name")||this.get("id")},n.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},n}(fe.Kx);const px=PE;var DE=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hx=function(o){DE(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}(fe.pM);const tb=hx;hx.prototype.model=px;var ME=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jE=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},RE=function(o){ME(n,o);function n(t){var e=o.call(this,t)||this;return e.config=t.config||{},e.em=e.config.em,e.ppfx=e.config.pStylePrefix||"",e.listenTo(e.em,"change:device",e.updateSelect),e}return n.prototype.template=function(t){var e=t.ppfx,r=t.label;return wo(eb||(eb=jE([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),e,r,e,e,e,e,e,e,e)},n.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},n.prototype.startAdd=function(){},n.prototype.updateDevice=function(){var t=this.em;if(t){var e=this.devicesEl;t.set("device",e?e.val():"")}},n.prototype.updateSelect=function(){var t=this,e=t.em,r=t.devicesEl;if(e&&e.getDeviceModel&&r){var i=e.getDeviceModel();r.val(i?i.get("id"):"")}},n.prototype.getOptions=function(){var t=this,e=t.collection,r=t.em,i="";return e.forEach(function(l){var f=l.attributes,p=f.name,d=f.id,v=r&&r.t&&r.t("deviceManager.devices.".concat(d))||p;i+='<option value="'.concat(d||p,'">').concat(v,"</option>")}),i},n.prototype.render=function(){var t=this,e=t.em,r=t.ppfx,i=t.$el,l=t.el,f=e&&e.t&&e.t("deviceManager.device");return i.html(this.template({ppfx:r,label:f})),this.devicesEl=i.find(".".concat(r,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(e.get("device")),l.className="".concat(r,"devices-c"),this},n}(fe.Ss);const LE=RE;var eb,NE=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zd=function(){return Zd=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Zd.apply(this,arguments)},vx="device",mg="".concat(vx,":"),kE="".concat(mg,"select"),gx="".concat(mg,"update"),VE="".concat(mg,"add"),mx="".concat(mg,"remove"),UE="".concat(mx,":before"),HE="change:device",BE={all:vx,select:kE,update:gx,add:VE,remove:mx,removeBefore:UE},IE=function(o){NE(n,o);function n(t){var e,r=o.call(this,t,"DeviceManager",new tb,BE,EE())||this;return r.Device=px,r.Devices=tb,r.storageKey="",r.devices=r.all,(e=r.config.devices)===null||e===void 0||e.forEach(function(i){return r.add(i,{silent:!0})}),r.select(r.config.default||r.devices.at(0)),t.on(HE,r._onSelect,r),r}return n.prototype._onSelect=function(t,e,r){var i=this,l=i.em,f=i.events,p=t.previous("device"),d=this.get(e),v=f.select;l.trigger(v,d,this.get(p)),this.__catchAllEvent(v,d,r)},n.prototype.add=function(t,e){e===void 0&&(e={});var r,i=e;if((0,H.isString)(t)){var l=e;i=arguments[2]||{},r=Zd(Zd({},i),{id:t,name:i.name||t,width:l})}else r=t;return r.id||(r.id=r.name||this._createId()),this.devices.add(r,i)},n.prototype.get=function(t){var e=this.getAll().filter(function(r){return r.get("name")===t})[0];return e||this.devices.get(t)||null},n.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},n.prototype.getDevices=function(){return this.devices.models},n.prototype.select=function(t,e){e===void 0&&(e={});var r=(0,H.isString)(t)?this.get(t):t;return r&&this.em.set("device",r.get("id"),e),this},n.prototype.getSelected=function(){return this.get(this.em.get("device"))},n.prototype.getAll=function(){return this.devices},n.prototype.render=function(){var t,e=this.em;return(t=this.view)===null||t===void 0||t.remove(),this.view=new LE({collection:this.devices,config:Zd({em:e},this.config)}),this.view.render().el},n.prototype.destroy=function(){this.__destroy()},n}(Xs);const zE=IE;var ly;(function(o){o.add="page:add",o.addBefore="page:add:before",o.remove="page:remove",o.removeBefore="page:remove:before",o.select="page:select",o.selectBefore="page:select:before",o.update="page:update",o.all="page"})(ly||(ly={}));const uy=ly;var FE=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),WE=function(o){FE(n,o);function n(t,e,r){return o.call(this,e,{module:t,modelConstructor:r})||this}return n.prototype.add=function(t,e){var r=this,i,l=(0,H.isArray)(t)?t:(0,H.isUndefined)(t)?void 0:[t];return l=(i=l==null?void 0:l.map(function(f){return f instanceof r.newModel?f:new r.newModel(r.module,f)}))!==null&&i!==void 0?i:[void 0],o.prototype.add.call(this,(0,H.isArray)(t)?l:l[0],e)},n.prototype.preinitialize=function(t,e){this.newModel=e.modelConstructor,this.module=e.module},n}(fe.pM);const yg=WE;var qE=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cy=function(){return cy=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},cy.apply(this,arguments)},nb=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},rb="__aw",ib="__ah",ob=function(o,n){var t,e=o.get(n),r=(t=o.view)===null||t===void 0?void 0:t.el[n==="width"?"offsetWidth":"offsetHeight"];return(0,H.isNumber)(e)?e:(0,H.isString)(e)&&e.endsWith("px")?parseFloat(e):r||0},GE=function(o){qE(n,o);function n(t,e){var r=o.call(this,t,e)||this,i=r.em,l=r.attributes,f=l.styles,p=l.component,d=i.Components,v=d.getConfig(),_=i.Css.getAll(),w={},S={em:i,config:v,frame:r,idMap:w};if(!(0,Jt.isComponent)(p)){var O=(0,Jt.isObject)(p)?p:{components:p};!O.type&&(O.type="wrapper");var A=d.getType("wrapper").model;r.set("component",new A(O,S))}if(!f)r.set("styles",_);else if(!(0,Jt.isObject)(f)){var P=f;(0,H.keys)(w).length&&(P=(0,H.isString)(P)?i.Parser.parseCss(P):P,i.Css.checkId(P,{idMap:w})),_.add(P),r.set("styles",_)}return!e.width&&r.set(rb,1),!e.height&&r.set(ib,1),!r.id&&r.set("id",(0,Jt.createId)()),r}return n.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(n.prototype,"width",{get:function(){return ob(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return ob(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){var t=this.refFrame;return(t==null?void 0:t.getComponent())||this.getComponent()},enumerable:!1,configurable:!0}),n.prototype.initRefs=function(){var t=this.refFrame;if((0,H.isString)(t)){var e=this.module.framesById[t];e&&this.set({refFrame:e},{silent:!0})}},n.prototype.getBoxRect=function(){var t=this.attributes,e=t.x,r=t.y,i=this,l=i.width,f=i.height;return{x:e,y:r,width:l,height:f}},n.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},n.prototype.changesUp=function(t){t===void 0&&(t={}),!(t.temporary||t.noCount||t.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},n.prototype.getComponent=function(){return this.get("component")},n.prototype.getStyles=function(){return this.get("styles")},n.prototype.disable=function(){this.trigger("disable")},n.prototype.remove=function(){var t;(t=this.view)===null||t===void 0||t.remove(),this.view=void 0;var e=this.collection;return e&&e.remove(this)},n.prototype.getHead=function(){return nb([],this.head,!0)},n.prototype.setHead=function(t){return this.set("head",nb([],t,!0))},n.prototype.addHeadItem=function(t){this.head.push(t)},n.prototype.getHeadByAttr=function(t,e,r){return this.head.filter(function(i){return i.attributes&&i.attributes[t]==e&&(!r||r===i.tag)})[0]},n.prototype.removeHeadByAttr=function(t,e,r){var i=this.getHeadByAttr(t,e,r),l=this.head.indexOf(i);l>=0&&this.head.splice(l,1)},n.prototype.addLink=function(t){var e="link";!this.getHeadByAttr("href",t,e)&&this.addHeadItem({tag:e,attributes:{href:t,rel:"stylesheet"}})},n.prototype.removeLink=function(t){this.removeHeadByAttr("href",t,"link")},n.prototype.addScript=function(t){var e="script";!this.getHeadByAttr("src",t,e)&&this.addHeadItem({tag:e,attributes:{src:t}})},n.prototype.removeScript=function(t){this.removeHeadByAttr("src",t,"script")},n.prototype.getPage=function(){var t;return(t=this.collection)===null||t===void 0?void 0:t.page},n.prototype._emitUpdated=function(t){t===void 0&&(t={}),this.em.trigger("frame:updated",cy({frame:this},t))},n.prototype.hasAutoHeight=function(){var t=this.attributes.height;return!!(t==="auto"||this.config.infiniteCanvas)},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=Bl.A.prototype.toJSON.call(this,t),r=(0,H.result)(this,"defaults");return t.fromUndo&&delete e.component,delete e.styles,delete e.changesCount,e[rb]&&delete e.width,e[ib]&&delete e.height,e.refFrame&&(e.refFrame=e.refFrame.id,delete e.component),(0,H.forEach)(e,function(i,l){l.indexOf("_")===0&&delete e[l]}),(0,H.forEach)(r,function(i,l){e[l]===i&&delete e[l]}),(0,H.forEach)(["attributes","head"],function(i){(0,H.isEmpty)(e[i])&&delete e[i]}),e},n}(Bl.A);const yx=GE;var KE=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),YE=function(o){KE(n,o);function n(t,e){e===void 0&&(e=[]);var r=o.call(this,t,e,yx)||this;return r.loadedItems=0,r.itemsToLoad=0,(0,H.bindAll)(r,"itemLoaded"),r.on("add",r.onAdd),r.on("reset",r.onReset),r.on("remove",r.onRemove),r.forEach(function(i){return r.onAdd(i)}),r}return n.prototype.onAdd=function(t){this.module.framesById[t.id]=t},n.prototype.onReset=function(t,e){var r=this,i=(e==null?void 0:e.previousModels)||[];i.map(function(l){return r.onRemove(l)})},n.prototype.onRemove=function(t){t.onRemove(),delete this.module.framesById[t.id]},n.prototype.initRefs=function(){this.forEach(function(t){return t.initRefs()})},n.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},n.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},n.prototype.listenToLoadItems=function(t){var e=this;this.forEach(function(r){return r[t?"on":"off"]("loaded",e.itemLoaded)})},n}(yg);const _x=YE;var XE=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ZE=function(o){XE(n,o);function n(t){var e=this,r=t.em,i=t.config,l=i.scripts,f=i.styles;return e=o.call(this,t,{scripts:l,styles:f})||this,e.set("frames",new _x(t)),e.on("change:zoom",e.onZoomChange),e.on("change:x change:y",e.onCoordsChange),e.on("change:pointer change:pointerScreen",e.onPointerChange),e.listenTo(r,"change:device ".concat(gx),e.updateDevice),e.listenTo(r,uy.select,e._pageUpdated),e}return n.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:fe.lK,pointerScreen:fe.lK}},Object.defineProperty(n.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),n.prototype.init=function(){var t=this.em,e=t.Pages._initPage();this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},n.prototype._pageUpdated=function(t,e){var r=this.em;r.setSelected(),r.get("readyCanvas")&&r.stopDefault(),e==null||e.getFrames().map(function(i){return i.disable()}),this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},n.prototype.updateDevice=function(t){t===void 0&&(t={});var e=this.em,r=e.getDeviceModel(),i=t.frame||e.getCurrentFrameModel();if(i&&r){var l=r.attributes,f=l.width,p=l.height,d=l.minHeight;i.set({width:f,height:p,minHeight:d},{noUndo:1})}},n.prototype.onZoomChange=function(t,e,r){var i=this,l=i.em,f=i.module,p=this.get("zoom");p<1&&this.set("zoom",1),l.trigger(f.events.zoom,{options:r})},n.prototype.onCoordsChange=function(){var t=this,e=t.em,r=t.module;e.trigger(r.events.coords)},n.prototype.onPointerChange=function(){var t=this,e=t.em,r=t.module;e.trigger(r.events.pointer)},n.prototype.getPointerCoords=function(t){t===void 0&&(t=fe.x2.World);var e=this.attributes,r=e.pointer,i=e.pointerScreen;return t===fe.x2.World?r:i},n}(Bl.A);const JE=ZE;var la=wn(179),Jn=wn(2225),QE=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$E=function(o){QE(n,o);function n(t,e){e===void 0&&(e=[]);var r=o.call(this,t,e,la.A)||this;r.on("add",r.onAdd),r.on("change",r.onChange),r.on("remove",r.onRemove);var i=r.em;r.refreshDbn=(0,H.debounce)(function(){return r.refresh()},0);var l="".concat(Jn.I.resize," styleable:change component:input ").concat(Jn.I.update," frame:updated undo redo");return r.listenTo(i,l,function(){return r.refreshDbn()}),r}return Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),n.prototype.refresh=function(){var t=this,e=t.em,r=t.events;e.trigger(r.spot)},n.prototype.onAdd=function(t){this.__trgEvent(this.events.spotAdd,{spot:t})},n.prototype.onChange=function(t){this.__trgEvent(this.events.spotUpdate,{spot:t})},n.prototype.onRemove=function(t){this.__trgEvent(this.events.spotRemove,{spot:t})},n.prototype.__trgEvent=function(t,e){var r=this.module,i=r.em;i.trigger(t,e),this.refreshDbn()},n}(yg);const tA=$E;var Jh;(function(o){o.dragEnter="canvas:dragenter",o.dragOver="canvas:dragover",o.dragEnd="canvas:dragend",o.dragData="canvas:dragdata",o.drop="canvas:drop",o.spot="canvas:spot",o.spotAdd="canvas:spot:add",o.spotUpdate="canvas:spot:update",o.spotRemove="canvas:spot:remove",o.coords="canvas:coords",o.zoom="canvas:zoom",o.pointer="canvas:pointer",o.refresh="canvas:refresh",o.frameLoad="canvas:frame:load",o.frameLoadHead="canvas:frame:load:head",o.frameLoadBody="canvas:frame:load:body"})(Jh||(Jh={}));const zh=Jh;var eA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nA=function(o){eA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"module",{get:function(){var t,e;return(e=(t=this.model)===null||t===void 0?void 0:t.module)!==null&&e!==void 0?e:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),n.prototype.preinitialize=function(t){this.className=""},n}(fe.Ss);const ca=nA;var ye=wn(6294),rA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),iA=function(o){rA(n,o);function n(t,e){t===void 0&&(t={}),e===void 0&&(e=!1);var r=o.call(this,t)||this;return r.itemsView="",r.itemType="type",r.reuseView=!1,r.viewCollection=[],e&&r.listenTo(r.collection,"add",r.addTo),r}return n.prototype.addTo=function(t){this.add(t)},n.prototype.itemViewNotFound=function(t){},n.prototype.add=function(t,e){var r=this,i=r.reuseView,l=r.viewCollection,f=e||null,p=t.get(this.itemType),d;t.view&&i?d=t.view:d=this.renderView(t,p),l.push(d);var v=d.render().el;f?f.appendChild(v):this.$el.append(v)},n.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(r){return t.add(r,e)}),this.$el.append(e),this.onRender(),this},n.prototype.onRender=function(){},n.prototype.onRemoveBefore=function(t,e){},n.prototype.onRemove=function(t,e){},n.prototype.remove=function(t){t===void 0&&(t={});var e=this.viewCollection;return this.onRemoveBefore(e,t),this.clearItems(),fe.Ss.prototype.remove.apply(this,t),this.onRemove(e,t),this},n.prototype.clearItems=function(){this.viewCollection},n}(ca);const oA=iA;var aA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sA=function(o){aA(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.config=t.config||{};var r=e.model;return e.listenTo(r,"change",e.render),e.listenTo(r,"destroy remove",e.remove),e.listenTo(r.get("selectors"),"change",e.render),r.setView(e),e}return Object.defineProperty(n.prototype,"frameView",{get:function(){return this.config.frameView},enumerable:!1,configurable:!0}),n.prototype.remove=function(){return o.prototype.remove.call(this),this.model.removeView(this),this},n.prototype.updateStyles=function(){this.render()},n.prototype.tagName=function(){return"style"},n.prototype.render=function(){var t=this,e=t.model,r=t.el,i=e.get("important");return r.innerHTML=e.toCSS({important:i}),this},n}(fe.Ss);const bx=sA;var lA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uA=function(o){lA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype._createElement=function(){return document.createTextNode("")},n.prototype.render=function(){var t=this.model,e=t.get("important");return this.el.textContent=t.getDeclaration({important:e}),this},n}(bx);const cA=uA;var fA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_m=function(o,n){return"".concat(o).concat(n?"-".concat(parseFloat(n)):"")},dA=function(o){fA(n,o);function n(t){var e=o.call(this,t)||this;(0,H.bindAll)(e,"sortRules");var r=t.config||{};e.atRules={},e.config=r,e.em=r.em,e.pfx=r.stylePrefix||"",e.className=e.pfx+"rules";var i=e.collection;return e.listenTo(i,"add",e.addTo),e.listenTo(i,"reset",e.render),e}return n.prototype.addTo=function(t){this.addToCollection(t)},n.prototype.addToCollection=function(t,e){if(this.renderStarted){var r=e||null,i=this.config,l={model:t,config:i},f,p;if(t.get("atRuleType")==="keyframes"){var d=t.getAtRule(),v=this.atRules[d];if(!v){var _=document.createElement("style");v=document.createTextNode(""),_.appendChild(document.createTextNode("".concat(d,"{"))),_.appendChild(v),_.appendChild(document.createTextNode("}")),this.atRules[d]=v,f=_}p=new cA(l),v.appendData(p.render().el.textContent)}else p=new bx(l),f=p.render().el;var w=this.className,S=t.get("mediaText"),O=_m(w),A=O;if(S&&(A=_m(w,this.getMediaWidth(S))),f){var P=r||this.el,j=void 0;try{j=P.querySelector("#".concat(A))}catch{}j||(j=P.querySelector("#".concat(O))),j==null||j.appendChild(f)}return f}},n.prototype.getMediaWidth=function(t){return t&&t.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},n.prototype.sortRules=function(t,e){var r=this.em,i=(r.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!i)return 0;var l=i?t:e,f=i?e:t;return l-f},n.prototype.render=function(){var t=this;this.renderStarted=!0,this.atRules={};var e=this,r=e.em,i=e.$el,l=e.collection,f=this.className,p=document.createDocumentFragment();i.empty();var d=r.Devices.getAll().pluck("priority").sort(this.sortRules);return d.every(function(v){return v})&&d.unshift(0),d.forEach(function(v){return p.appendChild((0,ye.a_)("div",{id:_m(f,v)}))}),l.each(function(v){return t.addToCollection(v,p)}),i.append(p),i.attr("class",f),this},n}(fe.Ss);const wx=dA;var xx="text/html",pA=xx;const hA=function(o,n){n===void 0&&(n={});var t=new DOMParser,e=n.htmlType||pA,r=e===xx,i=r?o:"<div>".concat(o,"</div>"),l=t.parseFromString(i,e),f;if(r){if(n.asDocument)return l;var p=l.head,d=l.body,v=p.querySelectorAll("script");(0,H.each)(v,function(w){return d.appendChild(w)});var _=[];(0,H.each)(p.children,function(w){return _.push(w)}),(0,H.each)(_,function(w,S){return d.insertBefore(w,d.children[S])}),f=d}else f=l.firstChild;return f};var Hl;(function(o){o.html="parse:html",o.htmlRoot="parse:html:root",o.htmlBefore="parse:html:before",o.css="parse:css",o.cssBefore="parse:css:before",o.all="parse"})(Hl||(Hl={}));var Aa=function(){return Aa=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Aa.apply(this,arguments)},vA="data-gjs-",gA=function(o,n){return n===void 0&&(n={}),{compTypes:[],modelAttrStart:vA,getPropAttribute:function(t,e){var r=t.replace(this.modelAttrStart,""),i=(e==null?void 0:e.length)||0,l=e==null?void 0:e.substring(0,1),f=e==null?void 0:e.substring(i-1),p=e==="true"?!0:e==="false"?!1:e;try{p=l=="{"&&f=="}"||l=="["&&f=="]"?JSON.parse(p):p}catch{}return{name:r,value:p}},splitPropsFromAttr:function(t){var e=this;t===void 0&&(t={});var r={},i={};return(0,H.each)(t,function(l,f){if(f.indexOf(e.modelAttrStart)===0){var p=e.getPropAttribute(f,l);r[p.name]=p.value}else i[f]=l}),{props:r,attrs:i}},parseStyle:function(t){for(var e={};t.indexOf("/*")>=0;){var r=t.indexOf("/*"),i=t.indexOf("*/")+2;t=t.replace(t.slice(r,i),"")}for(var l=t.split(";"),f=0,p=l.length;f<p;f++){var d=l[f].trim();if(d){var v=d.split(":"),_=v[0].trim(),w=v.slice(1).join(":").trim();e[_]?((0,H.isArray)(e[_])||(e[_]=[e[_]]),e[_].push(w)):e[_]=w}}return e},parseClass:function(t){for(var e=[],r=t.split(" "),i=0,l=r.length;i<l;i++){var f=r[i].trim();f&&e.push(f)}return e},parseNodeAttr:function(t,e){for(var r,i,l=e||{},f=t.attributes||[],p=f.length,d=!!(!((r=n==null?void 0:n.optionsHtml)===null||r===void 0)&&r.convertDataGjsAttributesHyphens),v=d&&!!l.type&&(0,H.result)((i=o==null?void 0:o.Components.getType(l.type))===null||i===void 0?void 0:i.model.prototype,"defaults")||{},_=0;_<p;_++){var w=f[_].nodeName,S=f[_].nodeValue;if(w=="style")l.style=this.parseStyle(S);else if(w=="class")l.classes=this.parseClass(S);else{if(w=="contenteditable")continue;if(w.indexOf(this.modelAttrStart)===0){var O=this.getPropAttribute(w,S),A=O.name;if(d&&!(A in v)){var P=(0,ye._I)(A);A=P in v?P:A}l[A]=O.value}else S===""&&t[w]===!0&&(S=!0),l.attributes||(l.attributes={}),l.attributes[w]=S}}return l},detectNode:function(t,e){var r;e===void 0&&(e={});var i=this.compTypes,l={};if(i){var f=(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"".concat(this.modelAttrStart,"type"));if(f)l={type:f};else for(var p=0;p<i.length;p++){var d=i[p],v=d.model.isComponent(t,e);if(v){typeof v!="object"&&(v={type:d.id}),l=v;break}}}return l},parseNode:function(t,e){var r;e===void 0&&(e={});var i=((r=t.content)===null||r===void 0?void 0:r.childNodes)||t.childNodes,l=i.length,f=this.detectNode(t,e);if(!f.tagName){var p=t.tagName||"",d=t.namespaceURI||"";f.tagName=p&&d==="http://www.w3.org/1999/xhtml"?p.toLowerCase():p}if(f=this.parseNodeAttr(t,f),!l&&"".concat(t.outerHTML).slice(-2)==="/>"&&(f.void=!0),l&&!f.components&&!e.skipChildren){var v=i[0];l===1&&v.nodeType===3?(!f.type&&(f.type="text"),f.components={type:"textnode",content:v.nodeValue}):f.components=this.parseNodes(t,Aa(Aa({},e),{inSvg:e.inSvg||f.type==="svg"}))}var _=f.components;if(!f.type&&(_!=null&&_.length)){for(var w=n.textTypes,S=w===void 0?[]:w,O=n.textTags,A=O===void 0?[]:O,P=!0,j=!1,z=0;z<_.length;z++){var k=_[z],G=k.type;if(!S.includes(G)&&!A.includes(k.tagName)){P=!1;break}G==="textnode"&&(j=!0)}P&&j&&(f.type="text")}return f},parseNodes:function(t,e){var r;e===void 0&&(e={});for(var i=[],l=((r=t.content)===null||r===void 0?void 0:r.childNodes)||t.childNodes,f=l.length,p=0;p<f;p++){var d=l[p],v=i[i.length-1],_=this.parseNode(d,e);if(_.type==="textnode"){if((v==null?void 0:v.type)==="textnode"){v.content+=_.content;continue}if(!e.keepEmptyTextNodes){var w=d.nodeValue||"",S=p===0||p===f-1,O=w.includes(`
`);if(w!=" "&&!w.trim()&&(S||O))continue}}!_.tagName&&(0,H.isUndefined)(_.content)||i.push(_)}return i},parse:function(t,e,r){var i,l,f;r===void 0&&(r={});var p=(o==null?void 0:o.get("Config"))||{},d=o==null?void 0:o.Parser,v={html:[]},_=Aa(Aa({},n),r),w=Aa(Aa(Aa({},n.optionsHtml),{htmlType:((i=n.optionsHtml)===null||i===void 0?void 0:i.htmlType)||n.htmlType}),r),S=Aa(Aa({},w),{asDocument:this.__checkAsDocument(t,w)}),O=S.preParser,A=S.asDocument,P={input:(0,H.isFunction)(O)?O(t,{editor:o==null?void 0:o.getEditor()}):t};d==null||d.__emitEvent(Hl.htmlBefore,P);var j=P.input,z=(0,H.isFunction)(_.parserHtml)?_.parserHtml(j,S):hA(j,S),k=z,G=z;A&&(k=G.documentElement,v.doctype=(0,ye.LJ)(G.doctype));var ot=k.querySelectorAll("script"),xt=ot.length,Nt=(0,H.isUndefined)(p.allowScripts)?S.allowScripts:p.allowScripts;if(!Nt)for(;xt--;)(l=ot[xt].parentNode)===null||l===void 0||l.removeChild(ot[xt]);if((!S.allowUnsafeAttr||!S.allowUnsafeAttrValue)&&this.__sanitizeNode(k,S),e){for(var vt=k.querySelectorAll("style"),$=vt.length,mt="";$--;)mt=vt[$].innerHTML+mt,(f=vt[$].parentNode)===null||f===void 0||f.removeChild(vt[$]);mt&&(v.css=e.parse(mt))}d==null||d.__emitEvent(Hl.htmlRoot,{input:j,root:k});var X=[];if(A)v.head=this.parseNode(G.head,_),v.root=this.parseNodeAttr(k),X=this.parseNode(G.body,_);else{var B=this.parseNodes(k,_);X=B.length===1&&!_.returnArray?B[0]:B}return v.html=X,d==null||d.__emitEvent(Hl.html,{input:j,output:v,options:S}),v},__sanitizeNode:function(t,e){var r=this,i=t.attributes||[],l=t.childNodes||[],f=[];(0,H.each)(i,function(p){var d=p.nodeName||"",v=p.nodeValue||"";!e.allowUnsafeAttr&&d.startsWith("on")&&f.push(d),!e.allowUnsafeAttrValue&&v.startsWith("javascript:")&&f.push(d)}),f.map(function(p){return t.removeAttribute(p)}),(0,H.each)(l,function(p){return r.__sanitizeNode(p,e)})},__checkAsDocument:function(t,e){if((0,Jt.isDef)(e.asDocument))return e.asDocument;if((0,H.isFunction)(e.detectDocument))return!!e.detectDocument(t);if(e.detectDocument)return t.toLowerCase().trim().startsWith("<!doctype")}}};const Sx=gA;var Cf;(function(o){o.add="data:add",o.addBefore="data:add:before",o.remove="data:remove",o.removeBefore="data:remove:before",o.update="data:update",o.path="data:path",o.all="data"})(Cf||(Cf={}));var fy="data-collection",Jd="data-collection-item",ef="dataResolver",ab=function(){function o(n,t,e){this.operator=n,this.statements=t,this.opts=e}return o.prototype.evaluate=function(){var n=this,t=this.statements.map(function(e){var r=new Cx({condition:e},n.opts);return r.evaluate()});return this.operator.evaluate(t)},o}(),_g=function(){function o(n,t){this.operationString=n,this.em=t.em}return o.prototype.getOperations=function(){return LA(this.operationsEnum)},o}(),mA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qh;(function(o){o.equals="equals",o.isTruthy="isTruthy",o.isFalsy="isFalsy",o.isDefined="isDefined",o.isNull="isNull",o.isUndefined="isUndefined",o.isArray="isArray",o.isObject="isObject",o.isString="isString",o.isNumber="isNumber",o.isBoolean="isBoolean",o.isDefaultValue="isDefaultValue"})(Qh||(Qh={}));var yA=function(o){mA(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t.operationsEnum=Qh,t}return n.prototype.evaluate=function(t,e){var r;switch(this.operationString){case"equals":return t===e;case"isTruthy":return!!t;case"isFalsy":return!t;case"isDefined":return t!=null;case"isNull":return t===null;case"isUndefined":return t===void 0;case"isArray":return Array.isArray(t);case"isObject":return typeof t=="object"&&t!==null;case"isString":return typeof t=="string";case"isNumber":return typeof t=="number";case"isBoolean":return typeof t=="boolean";case"isDefaultValue":return t instanceof Ku&&t.get("defaultValue")===e;default:return(r=this.em)===null||r===void 0||r.logWarning("Unsupported generic operation: ".concat(this.operationString)),!1}},n}(_g),_A=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rf;(function(o){o.and="and",o.or="or",o.xor="xor"})(rf||(rf={}));var bA=function(o){_A(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t.operationsEnum=rf,t}return n.prototype.evaluate=function(t){if(!(t!=null&&t.length))return!1;switch(this.operationString){case rf.and:return t.every(Boolean);case rf.or:return t.some(Boolean);case rf.xor:return t.filter(Boolean).length===1;default:return this.em.logWarning("Unsupported boolean operation: ".concat(this.operationString)),!1}},n}(_g),wA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hs;(function(o){o.greaterThan=">",o.lessThan="<",o.greaterThanOrEqual=">=",o.lessThanOrEqual="<=",o.equals="=",o.notEquals="!="})(Hs||(Hs={}));var xA=function(o){wA(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t.operationsEnum=Hs,t}return n.prototype.evaluate=function(t,e){if(typeof t!="number")return!1;switch(this.operationString){case Hs.greaterThan:return t>e;case Hs.lessThan:return t<e;case Hs.greaterThanOrEqual:return t>=e;case Hs.lessThanOrEqual:return t<=e;case Hs.equals:return t===e;case Hs.notEquals:return t!==e;default:return this.em.logWarning("Unsupported number operation: ".concat(this.operationString)),!1}},n}(_g),SA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pa;(function(o){o.contains="contains",o.startsWith="startsWith",o.endsWith="endsWith",o.matchesRegex="matchesRegex",o.equalsIgnoreCase="equalsIgnoreCase",o.trimEquals="trimEquals"})(Pa||(Pa={}));var CA=function(o){SA(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t.operationsEnum=Pa,t}return n.prototype.evaluate=function(t,e){if(typeof t!="string")return!1;switch(this.operationString){case Pa.contains:return t.includes(e);case Pa.startsWith:return t.startsWith(e);case Pa.endsWith:return t.endsWith(e);case Pa.matchesRegex:return e||this.em.logWarning("Regex pattern must be provided."),new RegExp(e??"").test(t);case Pa.equalsIgnoreCase:return t.toLowerCase()===e.toLowerCase();case Pa.trimEquals:return t.trim()===e.trim();default:return this.em.logWarning("Unsupported string operation: ".concat(this.operationString)),!1}},n}(_g),OA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cx=function(o){OA(n,o);function n(t,e){var r,i=o.call(this,t)||this;return i.collectionsStateMap={},i.em=e.em,i.collectionsStateMap=(r=e.collectionsStateMap)!==null&&r!==void 0?r:{},i}return n.prototype.evaluate=function(){var t=this.get("condition");if(!t||(0,H.isBoolean)(t))return!!t;var e=this.getOperator();return e?e.evaluate(this.getResolvedLeftValue(),this.getResolvedRightValue()):!1},n.prototype.getDependentDataVariables=function(){var t=this.get("condition");return t?this.extractDataVariables(t):[]},n.prototype.getOperations=function(){var t=this.getOperator();return!t||t instanceof ab?[]:t.getOperations()},n.prototype.updateCollectionStateMap=function(t){this.collectionsStateMap=t},n.prototype.getOperator=function(){var t={em:this.em,collectionsStateMap:this.collectionsStateMap},e=this.get("condition");if(!(!e||(0,H.isBoolean)(e))){var r;if(this.isLogicGroup(e)){var i=e.logicalOperator,l=e.statements,f=new bA(i,t);r=new ab(f,l,t)}if(this.isExpression(e)){var p=e.left,f=e.operator,d=tv(p,t);r=this.resolveOperator(d,f)}return r}},n.prototype.resolveOperator=function(t,e){var r=this.em;if(this.isOperatorInEnum(e,Qh))return new yA(e,{em:r});if(typeof t=="number")return new xA(e,{em:r});if(typeof t=="string")return new CA(e,{em:r})},n.prototype.extractDataVariables=function(t){var e=this,r=[];return this.isExpression(t)?(Fu(t.left)&&r.push(t.left),Fu(t.right)&&r.push(t.right)):this.isLogicGroup(t)&&t.statements.forEach(function(i){return r.push.apply(r,e.extractDataVariables(i))}),r},n.prototype.isLogicGroup=function(t){return t&&typeof t.logicalOperator<"u"&&Array.isArray(t.statements)},n.prototype.isExpression=function(t){return t&&typeof t.left<"u"&&typeof t.operator=="string"},n.prototype.isOperatorInEnum=function(t,e){return Object.values(e).includes(t)},n.prototype.resolveExpressionSide=function(t){var e=this.get("condition"),r=this,i=r.em,l=r.collectionsStateMap;if(!e||typeof e=="boolean")return e;if(e&&typeof e=="object"&&t in e){var f=e[t];return tv(f,{em:i,collectionsStateMap:l})}},n.prototype.getResolvedLeftValue=function(){return this.resolveExpressionSide("left")},n.prototype.getResolvedRightValue=function(){return this.resolveExpressionSide("right")},n.prototype.toJSON=function(t){var e=this.get("condition");if(typeof e=="object"){var r=JSON.parse(JSON.stringify(e));return r}return e},n}(fe.Kx),TA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Il="data-condition",EA="data-condition-evaluation-changed",Fh="data-condition-output-changed",Xy=function(o){TA(n,o);function n(t,e){var r,i=o.call(this,t,e)||this;i.collectionsStateMap={},i.resolverListeners=[],i._previousEvaluationResult=null,i.em=e.em,i.collectionsStateMap=(r=e.collectionsStateMap)!==null&&r!==void 0?r:{};var l=t.condition,f=l===void 0?{}:l,p=new Cx({condition:f},{em:i.em});return i._conditionEvaluator=p,i.listenToDataVariables(),i.listenToPropsChange(),i}return n.prototype.defaults=function(){return{type:Il,condition:{left:"",operator:Pa.equalsIgnoreCase,right:""},ifTrue:{},ifFalse:{}}},n.prototype.getCondition=function(){return this._conditionEvaluator.get("condition")},n.prototype.getIfTrue=function(){return this.get("ifTrue")},n.prototype.getIfFalse=function(){return this.get("ifFalse")},n.prototype.getOperations=function(){return this._conditionEvaluator.getOperations()},n.prototype.setCondition=function(t){this.set("condition",t),this._conditionEvaluator.set("condition",t),this.trigger(Fh,this.getDataValue())},n.prototype.setIfTrue=function(t){this.set("ifTrue",t)},n.prototype.setIfFalse=function(t){this.set("ifFalse",t)},n.prototype.isTrue=function(){return this._conditionEvaluator.evaluate()},n.prototype.getDataValue=function(t){t===void 0&&(t=!1);var e=this,r=e.em,i=e.collectionsStateMap,l={em:r,collectionsStateMap:i},f=this.getIfTrue(),p=this.getIfFalse(),d=this.isTrue();return t?d?f:p:tv(d?f:p,l)},n.prototype.resolvesFromCollection=function(){return!1},n.prototype.updateCollectionsStateMap=function(t){this.collectionsStateMap=t,this._conditionEvaluator.updateCollectionStateMap(t),this.listenToDataVariables(),this.emitConditionEvaluationChange()},n.prototype.listenToPropsChange=function(){var t=this;this.on("change:condition",this.handleConditionChange.bind(this)),this.on("change:condition change:ifTrue change:ifFalse",function(){t.listenToDataVariables()})},n.prototype.handleConditionChange=function(){this.setCondition(this.get("condition"))},n.prototype.listenToDataVariables=function(){this.cleanupListeners(),this.setupConditionDataVariableListeners(),this.setupOutputDataVariableListeners()},n.prototype.setupConditionDataVariableListeners=function(){var t=this;this._conditionEvaluator.getDependentDataVariables().forEach(function(e){t.addListener(e,function(){t.emitConditionEvaluationChange()})})},n.prototype.setupOutputDataVariableListeners=function(){var t=this.isTrue();this.setupOutputVariableListener(this.getIfTrue(),t),this.setupOutputVariableListener(this.getIfFalse(),!t)},n.prototype.setupOutputVariableListener=function(t,e){var r=this;Fu(t)&&this.addListener(t,function(){e&&r.trigger(Fh,t)})},n.prototype.addListener=function(t,e){var r=new Mf({em:this.em,resolver:new Ku(t,{em:this.em,collectionsStateMap:this.collectionsStateMap}),onUpdate:e});this.resolverListeners.push(r)},n.prototype.emitConditionEvaluationChange=function(){var t=this.isTrue();this._previousEvaluationResult!==t&&(this._previousEvaluationResult=t,this.trigger(EA,t),this.emitOutputValueChange())},n.prototype.emitOutputValueChange=function(){var t=this.getDataValue();this.trigger(Fh,t)},n.prototype.cleanupListeners=function(){this.resolverListeners.forEach(function(t){return t.destroy()}),this.resolverListeners=[]},n.prototype.toJSON=function(){var t=this.getIfTrue(),e=this.getIfFalse();return{type:Il,condition:this._conditionEvaluator.toJSON(),ifTrue:t,ifFalse:e}},n}(fe.Kx),Zy="data-condition-true-content",Jy="data-condition-false-content",Ri=function(){return Ri=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Ri.apply(this,arguments)},Ox=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},Vu=function(o){return(0,H.isArray)(o.get(Zi))},$h=function(o){return!!o.get(_o)},ps=function(o){return!!(Vu(o)||$h(o))},zu=function(o){var n=o.parent();return ps(o)&&(!n||!ps(n))},zd=function(o){o.__symbReady||(o.on("change",o.__upSymbProps),o.__symbReady=!0)},ua=function(o){var n=o.get(_o);if(n&&(0,H.isString)(n)){var t=o.__getAllById()[n];t?(n=t,o.set(_o,t)):n=0}return n||void 0},So=function(o){var n=o==null?void 0:o.get(Zi);return n&&(0,H.isArray)(n)&&(n.forEach(function(t,e){t&&(0,H.isString)(t)&&(n[e]=o.__getAllById()[t])}),n=n.filter(function(t){return t&&!(0,H.isString)(t)})),n||void 0},up=function(o,n){n===void 0&&(n="");var t=o==null?void 0:o.get(af),e=n.split(":")[0],r=n!==e?[n,e]:[n];return t===!0||(0,H.isArray)(t)&&r.some(function(i){return t.indexOf(i)>=0})},Fs=function(o,n){n===void 0&&(n={});var t=[],e=n.changed;if(n.fromInstance||n.noPropagate||n.fromUndo||e&&up(o,e))return t;var r=So(o)||[],i=ua(o),l=i?Ox([i],So(i)||[],!0):r;return t=l.filter(function(f){return f!==o}).filter(function(f){return!(e&&up(f,e))}),t},cp=function(o,n){for(var t=o,e=o.parent(n);e&&ps(e);)t=e,e=e.parent(n);return t},bg=function(o,n){n===void 0&&(n={});var t=ua(o),e=t&&So(t);!n.skipRefs&&e&&t.set(Zi,e.filter(function(r){return r!==o})),o.set(_o,0),o.components().forEach(function(r){return bg(r,n)})},Qd=function(o,n,t,e){e===void 0&&(e={});var r=ua(o),i=So(o);!r&&!i||o.em.log(n,{model:o,toUp:t,context:"symbols",opts:e})},AA=function(o,n){n===void 0&&(n={});var t=o.dataResolverWatchers.getPropsDefsOrValues(Ri({},o.changedAttributes())),e=o.dataResolverWatchers.getAttributesDefsOrValues(Ri({},t.attributes));if(PA(t,e),!(0,Jt.isEmptyObj)(t)){var r=Fs(o,n);sb(t,o),Qd(o,"props",r,{opts:n,changed:t}),r.forEach(function(i){var l=Ri({},t);sb(l,i),i.set(l,Ri({fromInstance:o},n))})}},PA=function(o,n){var t=["status","open",Zi,_o,af,"attributes"];t.forEach(function(e){return delete o[e]}),delete n.id,(0,Jt.isEmptyObj)(n)||(o.attributes=n)},sb=function(o,n){(0,H.keys)(o).forEach(function(t){DA(o,t,n)||delete o[t]})},DA=function(o,n,t){var e=function(){var r;if(n==="attributes"){var i=o.attributes;return Object.values(i).some(function(l){return!!(l!=null&&l.collectionId)})}return!!(!((r=o[n])===null||r===void 0)&&r.collectionId)}();return!up(t,n)||e},MA=function(o,n){n===void 0&&(n={});var t=Fs(o,n);Qd(o,"classes",t,{opts:n}),t.forEach(function(e){e.set("classes",o.get("classes"),{fromInstance:o})}),o.__changesUp(n)},Tx=function(o,n,t,e){var r=e||t||{},i=r.fromInstance,l=r.fromUndo,f={fromInstance:i,fromUndo:l},p=n.opt.temporary;if(e)if(e.add){var S=[],O=!!So(o),v=Fs(o,Ri(Ri({},f),{changed:"components:add"}));if(v.length){var A=ua(n);S=So(A||n)||[],S=Ox([],S,!0),S.push(A||n)}!p&&Qd(o,"add",v,{opts:e,addedInstances:S.map(function(vt){return vt.cid}),added:n.cid}),v.forEach(function(vt){var $=cp(vt),mt=S.filter(function(B){var Q=cp(B,{prev:1});return $&&Q&&Q===$})[0],X=mt||n.clone({symbol:!0,symbolInv:O});vt.append(X,Ri({fromInstance:o},e))})}else{var P=ua(n);if(P&&!e.temporary&&P.set(Zi,So(P).filter(function(Nt){return Nt!==n})),!zu(n)&&!e.skipRefsUp){var j="components:remove",z=e.index,k=n.parent(),G=Ri({fromInstance:n},e),ot=zu(n),xt=function(vt){var $=vt.parent();$&&!up($,j)&&vt.remove(G)},v=up(k,j)?[]:Fs(n,f);ot&&(v=k&&Fs(k,Ri(Ri({},f),{changed:j})),xt=function(vt){var $=vt.components().at(z);$&&$.remove(Ri({fromInstance:k},G))}),!p&&Qd(o,"remove",v,{opts:e,removed:n.cid,isSymbNested:ot}),v.forEach(xt)}}else{var d=n,v=Fs(o,Ri(Ri({},f),{changed:"components:reset"})),_=d.models,w=new Set;Qd(o,"reset",v,{components:_}),v.forEach(function(Nt){var vt=Nt.components(),$=_.map(function(mt,X){return o.get(ef)?mt.clone({symbol:ps(mt)}):!ps(mt)||w.has(mt)?(w.add(mt),mt.clone({symbol:!0})):vt.at(X)});vt.reset($,Ri({fromInstance:o},t))})}o.__changesUp(r)};function fp(o){return typeof o=="object"&&[Fo,Il].includes(o==null?void 0:o.type)}function jA(o){return o instanceof Ku||o instanceof Xy}function Fu(o){return(o==null?void 0:o.type)===Fo}function tv(o,n){return fp(o)?(Fu(o)&&Ku.resolveDataResolver(o,n),$y(o,n)):o}function Qy(o,n){var t,e=o.type,r;switch(e){case Fo:r=new Ku(o,n);break;case Il:{r=new Xy(o,n);break}default:(t=n.em)===null||t===void 0||t.logWarning("Unsupported dynamic type: ".concat(e));return}return r}function $y(o,n){var t=Qy(o,n);return t==null?void 0:t.getDataValue()}var RA=function(o){return!!o&&[Jd,Zy,Jy].includes(o)};function LA(o){return Object.keys(o).filter(function(n){return isNaN(Number(n))}).map(function(n){return o[n]})}function NA(o){var n=o.collectionsStateMap;if(!n)return!1;var t=Object.keys(n);if(!t.length)return!1;var e=ua(o);if(!e||e===o)return!1;var r=e.collectionsStateMap,i=Object.keys(r),l=i.every(function(f){return t.includes(f)});return l}function kA(o){var n=ua(o);return n?n.getId():""}function VA(o){var n=NA(o),t=n?kA(o):null;return{shouldSync:n,itemId:t}}var UA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ev=function(){return ev=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},ev.apply(this,arguments)},Fo="data-variable",HA=function(o){UA(n,o);function n(t,e){var r=o.call(this,t,e)||this;return r.em=e.em,r.collectionsStateMap=e.collectionsStateMap,r}return n.prototype.defaults=function(){return{type:Fo,defaultValue:"",path:"",collectionId:void 0,variableType:void 0}},Object.defineProperty(n.prototype,"path",{get:function(){var t;return(t=this.get("path"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"defaultValue",{get:function(){var t;return(t=this.get("defaultValue"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"collectionId",{get:function(){return this.get("collectionId")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"variableType",{get:function(){return this.get("variableType")},enumerable:!1,configurable:!0}),n.prototype.resolvesFromCollection=function(){return!!this.collectionId},n.prototype.updateCollectionsStateMap=function(t){this.collectionsStateMap=t,this.trigger("change")},n.prototype.getResolverPath=function(){var t;if(this.resolvesFromCollection()){var e=this.resolveCollectionVariable();return Fu(e)?(t=e.path)!==null&&t!==void 0?t:"":!1}return this.path},n.prototype.toJSON=function(t){var e=this.defaults(),r=o.prototype.toJSON.call(this,t),i=Object.fromEntries(Object.entries(r).filter(function(l){var f=l[0],p=l[1];return p!==e[f]}));return ev(ev({},i),{type:Fo})},n.prototype.getDataValue=function(){var t={em:this.em,collectionsStateMap:this.collectionsStateMap};return n.resolveDataResolver({path:this.path,defaultValue:this.defaultValue,collectionId:this.collectionId,variableType:this.variableType},t)},n.resolveDataSourceVariable=function(t,e){var r,i;return e.em.DataSources.getValue((r=t.path)!==null&&r!==void 0?r:"",(i=t.defaultValue)!==null&&i!==void 0?i:"")},n.resolveDataResolver=function(t,e){var r,i,l,f;if(t.collectionId){var p=n.resolveCollectionVariable(t,e);return Fu(p)?n.resolveDataSourceVariable({path:(r=p.path)!==null&&r!==void 0?r:"",defaultValue:(i=t.defaultValue)!==null&&i!==void 0?i:""},{em:e.em}):p}return n.resolveDataSourceVariable({path:(l=t.path)!==null&&l!==void 0?l:"",defaultValue:(f=t.defaultValue)!==null&&f!==void 0?f:""},{em:e.em})},n.prototype.resolveCollectionVariable=function(){var t=this,e=t.em,r=t.collectionsStateMap;return n.resolveCollectionVariable(this.attributes,{em:e,collectionsStateMap:r})},n.resolveCollectionVariable=function(t,e){var r=t.collectionId,i=r===void 0?"":r,l=t.variableType,f=t.path,p=t.defaultValue,d=p===void 0?"":p,v=e.em,_=e.collectionsStateMap;if(!_)return d;var w=_[i];return w?l?l==="currentItem"?n.resolveCurrentItem(w,f,i,v):w[l]:(v.logError("Missing collection variable type for collection: ".concat(i)),d):d},n.resolveCurrentItem=function(t,e,r,i){var l=t.currentItem;if(!l)return i.logError("Current item is missing for collection: ".concat(r)),"";if(l.type===Fo){var f=l.path?"".concat(l.path,".").concat(e):e;return{type:Fo,path:f}}return e&&!l[e]?(i.logError("Path not found in current item: ".concat(e," for collection: ").concat(r)),""):e?l[e]:l},n}(fe.Kx);const Ku=HA;var BA=function(){function o(n){var t=this;this.listeners=[],this.model=new fe.Kx,this.onChange=function(){var e=t.resolver.getDataValue();t.onUpdate(e)},this.em=n.em,this.resolver=n.resolver,this.onUpdate=n.onUpdate,this.listenToResolver()}return o.prototype.createListener=function(n,t,e){return e===void 0&&(e=this.onChange),{obj:n,event:t,callback:e}},o.prototype.listenToResolver=function(){var n=this,t=n.resolver,e=n.model;this.removeListeners();var r=[],i=t.attributes.type;switch(i){case Fo:r=this.listenToDataVariable(t);break;case Il:r=this.listenToConditionalVariable(t);break}r.forEach(function(l){return e.listenTo(l.obj,l.event,l.callback)}),this.listeners=r},o.prototype.listenToConditionalVariable=function(n){return[{obj:n,event:Fh,callback:this.onChange}]},o.prototype.listenToDataVariable=function(n){var t=this,e=this.em,r=[];r.push(this.createListener(n,"change",function(){t.listenToResolver(),t.onChange()}));var i=n.getResolverPath();if(!i)return r;var l=(0,Jt.stringToPath)(i||"").join("."),f=e.DataSources.fromPath(i),p=f[0],d=f[1];return p&&r.push(this.createListener(p.records,"add remove reset")),d&&r.push(this.createListener(d,"change")),r.push(this.createListener(e.DataSources.all,"add remove reset"),this.createListener(e,"".concat(Cf.path,":").concat(l))),r},o.prototype.removeListeners=function(){var n=this;this.listeners.forEach(function(t){return n.model.stopListening(t.obj,t.event,t.callback)}),this.listeners=[]},o.prototype.destroy=function(){this.removeListeners()},o}();const Mf=BA;var IA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bs=function(){return Bs=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Bs.apply(this,arguments)},zA=Sx(),dy=function(o){return(0,H.isArray)(o)?o[o.length-1]:o},FA=function(o){IA(n,o);function n(t,e){e===void 0&&(e={});var r=o.call(this,t,e)||this;return r.views=[],r.styleResolverListeners={},r.em=e.em,r}return n.prototype.parseStyle=function(t){return zA.parseStyle(t)},n.prototype.extendStyle=function(t){return Bs(Bs({},this.getStyle("",{skipResolve:!0})),t)},n.prototype.getStyle=function(t,e){e===void 0&&(e={});var r=this.get("style")||{},i=Bs({},r);if(this.em&&!e.skipResolve){var l=this.getResolvedStyles(Bs({},i));return t&&(0,H.isString)(t)?l[t]:l}return t&&(0,H.isString)(t)?i[t]:i},n.prototype.setStyle=function(t,e){var r=this;t===void 0&&(t={}),e===void 0&&(e={}),(0,H.isString)(t)&&(t=this.parseStyle(t));var i=this.getStyle(e);e.partial||e.avoidStore?(e.avoidStore=!0,t.__p=!0):delete t.__p;var l=Bs({},t),f=Bs({},l);(0,H.keys)(f).forEach(function(d){if(f[d]===""){delete f[d];return}var v=f[d];if(fp(v)){var _=Qy(v,{em:r.em,collectionsStateMap:{}});_&&(f[d]=_,r.listenToDataResolver(_,d))}}),this.set("style",f,e);var p=(0,Jt.shallowDiff)(i,f);return delete p.__p,(0,H.keys)(p).forEach(function(d){var v=r.em;e.noEvent||(r.trigger("change:style:".concat(d)),v&&(v.trigger("styleable:change",r,d,e),v.trigger("styleable:change:".concat(d),r,d,e)))}),f},n.prototype.listenToDataResolver=function(t,e){var r=this,i=this.styleResolverListeners[e];i?i.listenToResolver():this.styleResolverListeners[e]=new Mf({em:this.em,resolver:t,onUpdate:function(){return r.updateView()}})},n.prototype.getView=function(t){var e=this,r=e.views,i=e.em,l=t||(i==null?void 0:i.getCurrentFrameModel());return l?r.find(function(f){return f.frameView===l.view}):r[0]},n.prototype.setView=function(t){var e=this.views;!e.includes(t)&&e.push(t)},n.prototype.removeView=function(t){var e=this.views;e.splice(e.indexOf(t),1)},n.prototype.updateView=function(){this.views.forEach(function(t){return t.updateStyles()})},n.prototype.getResolvedStyles=function(t){var e=this,r=Bs({},t);return(0,H.keys)(r).forEach(function(i){var l=r[i];typeof l=="string"||Array.isArray(l)||(fp(l)&&(r[i]=$y(l,{em:e.em,collectionsStateMap:{}})),jA(l)&&(r[i]=l.getDataValue()))}),r},n.prototype.addStyle=function(t,e,r){var i;e===void 0&&(e=""),r===void 0&&(r={}),typeof t=="string"?t=(i={},i[t]=e,i):r=e||{},r.addStyle=t,t=this.extendStyle(t),this.setStyle(t,r)},n.prototype.removeStyle=function(t){var e=this.getStyle();delete e[t],this.setStyle(e)},n.prototype.styleToString=function(t){t===void 0&&(t={});var e=[],r=this.getStyle(t),i=t.important,l=function(p){var d=(0,H.isArray)(i)?i.indexOf(p)>=0:i,v=p.substring(0,2),_=v==="__";if(_)return"continue";var w=r[p],S=(0,H.isArray)(w)?w:[w];S.forEach(function(O){var A="".concat(O).concat(d?" !important":"");A&&e.push("".concat(p,":").concat(A,";"))})};for(var f in r)l(f);return e.join("")},n.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},n.prototype.getSelectorsString=function(t){return this.selectorsToString?this.selectorsToString(t):this.getSelectors().getFullString()},n}(fe.Kx);const Ex=FA;var WA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zo=function(){return zo=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},zo.apply(this,arguments)},Wh=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},lb=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},of=function(o,n){if(n===void 0&&(n=[]),!o)return[];var t=(0,H.isArray)(o)||(0,H.isFunction)(o.map)?o:[o];return t.map(function(e){n.push(e.getId()),of(e.components().models,n)}),n},Ax=function(o,n,t){n===void 0&&(n={}),t===void 0&&(t={}),t.visitedCmps=t.visitedCmps||{};var e=t.visitedCmps,r=(0,H.isArray)(o)?o:[o];return r.map(function(i){var l=i.attributes,f=l===void 0?{}:l,p=i.components,d=i.tagName,v=i.style,_=f.id;f.draggable;var w=Wh(f,["id","draggable"]),S=i;if(_){if(e[_])e[_].push(S),_=Tr.getNewId(n),S.attributes.id=_;else if(e[_]=[],n[_]){S=n[_];var O=S;d&&O.set({tagName:d},zo(zo({},t),{silent:!0})),(0,H.keys)(w).length&&O.addAttributes(w,zo({},t)),(0,H.keys)(v).length&&O.addStyle(v,t)}}var A=(0,H.isFunction)(S.components)?S:null;if(p){var P=Ax(p,n,t);A?A.components().reset(P,t):S.components=P}else A&&A.components().reset([],t);return S})},qA=function(o){WA(n,o);function n(t,e){var r=o.call(this,t,e)||this;r.opt=e,r.listenTo(r,"add",r.onAdd),r.listenTo(r,"remove",r.removeChildren),r.listenTo(r,"reset",r.resetChildren);var i=e.em,l=e.config;return r.config=l,r.em=i,r.domc=e.domc||(i==null?void 0:i.Components),r}return Object.defineProperty(n.prototype,"events",{get:function(){var t;return(t=this.domc)===null||t===void 0?void 0:t.events},enumerable:!1,configurable:!0}),n.prototype.resetChildren=function(t,e){var r=this;e===void 0&&(e={});var i=this,l=e.previousModels||[],f=l.filter(function(v){return!t.get(v.cid)}),p=of(t),d=of(l).filter(function(v){return p.indexOf(v)>=0});e.keepIds=(e.keepIds||[]).concat(d),f.forEach(function(v){return r.removeChildren(v,i,e)}),t.each(function(v){return r.onAdd(v)})},n.prototype.resetFromString=function(t,e){var r,i;t===void 0&&(t=""),e===void 0&&(e={}),e.keepIds=of(this);var l=this,f=l.domc,p=l.em,d=l.parent,v=p==null?void 0:p.Css,_=(f==null?void 0:f.allById())||{},w=this.parseString(t,e),S=Ax(w,_,e),O=e.visitedCmps,A=O===void 0?{}:O;Object.keys(A).forEach(function(P){var j=A[P];if(j.length){var z=(v==null?void 0:v.getRules("#".concat(P)))||[];z.length&&j.forEach(function(k){z.forEach(function(G){var ot=G.clone();ot.set("selectors",["#".concat(k.attributes.id)]),v.getAll().add(ot)})})}}),this.reset(S,e),p==null||p.trigger("component:content",d,e,t),(i=(r=d).__checkInnerChilds)===null||i===void 0||i.call(r)},n.prototype.removeChildren=function(t,e,r){var i=this;if(r===void 0&&(r={}),!!t){var l=this,f=l.domc,p=l.em,d=r.temporary||r.fromUndo;if(t.prevColl=this,!d){var v=t.getId(),_=p.Selectors.getAll(),w=p.Css.getAll(),S=(r.keepIds||[]).indexOf(v)<0,O=f?f.allById():{};delete O[v];var A=S?w.remove(w.filter(function(k){return k.getSelectors().getFullString()==="#".concat(v)}),r):[];_.remove(A.map(function(k){return k.getSelectors().at(0)})),t.opt.temporary||(p.Commands.run("core:component-style-clear",{target:t}),t.views.forEach(function(k){k.scriptContainer&&t.emitWithEditor(Jn.I.scriptUnmount,{component:t,view:k,el:k.el})}),t.removed(),t.trigger("removed"),p.trigger(Jn.I.remove,t),f&&$h(t)&&zu(t)&&f.symbols.__trgEvent(f.events.symbolInstanceRemove,{component:t},!0));var P=t.components();P.forEach(function(k){Tx(k,k,P,zo(zo({},r),{skipRefsUp:!0})),i.removeChildren(k,e,r)})}var j=t.components();if(p.stopListening(j),p.stopListening(t),p.stopListening(t.get("classes")),t.__postRemove(),!t.opt.temporary){var z=function(k){k.emitWithEditor(Jn.I.removed,k,{removeOptions:r}),k.components().forEach(function(G){return z(G)})};z(t)}}},n.prototype.model=function(t,e){var r=e.collection.opt,i=r.em,l,f=i.Components.componentTypes;e.em=i,e.config=r.config,e.componentTypes=f,e.domc=r.domc;for(var p=0;p<f.length;p++){var d=f[p].id;if(d==t.type){l=f[p].model;break}}return l||(l=f[f.length-1].model,i&&t.type&&i.logWarning("Component type '".concat(t.type,"' not found"),{attrs:t,options:e})),new l(t,e)},n.prototype.parseString=function(t,e){e===void 0&&(e={});var r=this,i=r.em,l=r.domc,f=r.parent,p=f==null?void 0:f.is("wrapper"),d=e.asDocument&&p,v=i.Css,_=i.Parser.parseHtml(t,zo({asDocument:d},e.parserOptions)),w=_.html;if(p&&_.doctype){var S=f,O=_.html||{},A=O.components,P=A===void 0?[]:A,j=Wh(O,["components"]),z=_.head||{},k=z.components,G=Wh(z,["components"]);w=P,S.set(j,e),S.head.set(G,e),S.head.components(k,e),S.docEl.set(_.root,e),S.set({doctype:_.doctype})}if(Tr.checkId(w,_.css,l.componentsById,e),_.css&&v&&!e.temporary){e.at;var ot=Wh(e,["at"]);v.addCollection(_.css,zo(zo({},ot),{extend:1}))}return w},n.prototype.add=function(t,e){var r=this;if(e===void 0&&(e={}),t!=null){e.keepIds=lb(lb([],e.keepIds||[],!0),of(e.previousModels),!0),(0,H.isString)(t)?t=this.parseString(t,e):(0,H.isArray)(t)&&t.forEach(function(l,f){if((0,H.isString)(l)){var p=r.parseString(l,e);t[f]=(0,H.isArray)(p)&&!p.length?null:p}});var i=((0,H.isArray)(t)?t:[t]).filter(Boolean).map(function(l){return r.processDef(l)});return t=(0,H.isArray)(t)?(0,H.flatten)(i,1):i[0],o.prototype.add.call(this,t,e)}},n.prototype.processDef=function(t){if(t.cid&&t.ccid)return t;var e=this,r=e.em,i=e.config,l=i===void 0?{}:i,f=l.processor,p=t;if(f){p=zo({},p);var d=f(p);d&&((0,H.each)(p,function(P,j){return delete p[j]}),(0,H.extend)(p,d))}if(p.$$typeof&&typeof p.props=="object"){p=zo({},p),p.props=zo({},p.props);var v=r.Components,_=r.Parser,w=_.parserHtml;(0,H.each)(p,function(P,j){(0,H.includes)(["props","type"],j)||delete p[j]});var S=p.props,O=S.children;delete S.children,delete p.props;var A=w.splitPropsFromAttr(S);p.attributes=A.attrs,O&&(p.components=O),p.type?v.getType(p.type)||(p.tagName=p.type,delete p.type):p.type="textnode",(0,H.extend)(p,A.props)}return p},n.prototype.onAdd=function(t,e,r){r===void 0&&(r={});var i=this,l=i.domc,f=i.em,p=t.getStyle(),d=f&&f.getConfig().avoidInlineStyle;if(l&&l.Component.ensureInList(t),!(0,H.isEmpty)(p)&&!d&&f&&f.getConfig().forceClass&&!r.temporary){var v=t.cid;f.Css.setClassRule(v,p),t.setStyle({}),t.addClass(v)}if(t.__postAdd({recursive:!0}),f&&!r.temporary){var _=function(w){f.trigger(Jn.I.add,w,r),w.components().forEach(function(S){return _(S)})};_(t),l&&$h(t)&&zu(t)&&l.symbols.__trgEvent(l.events.symbolInstanceAdd,{component:t},!0)}},n}(fe.pM);const dp=qA;var GA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Eh=1,bm=2,Px=function(o){GA(n,o);function n(t,e){e===void 0&&(e={});var r=o.call(this,t,e)||this,i=e.config,l=i===void 0?{}:i,f=r.get("name"),p=r.get("label");f?p||r.set("label",f):r.set("name",p);var d=r.get("name"),v=l.escapeName,_=v?v(d):n.escapeName(d);return r.set("name",_),r.em=e.em,r}return n.prototype.defaults=function(){return{name:"",label:"",type:Eh,active:!0,private:!1,protected:!1,_undo:!0}},n.prototype.isId=function(){return this.get("type")===bm},n.prototype.isClass=function(){return this.get("type")===Eh},n.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.escape,r=this.get("name"),i="";switch(this.get("type")){case Eh:i=".";break;case bm:i="#";break}return i+(e?e(r):r)},n.prototype.toString=function(){return this.getFullName()},n.prototype.getName=function(){return this.get("name")||""},n.prototype.getLabel=function(){return this.get("label")||""},n.prototype.setLabel=function(t){return this.set("label",t)},n.prototype.getActive=function(){return!!this.get("active")},n.prototype.setActive=function(t){return this.set("active",t)},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=this.em,r=fe.Kx.prototype.toJSON.call(this,[t]),i=(0,H.result)(this,"defaults");if(e!=null&&e.getConfig().avoidDefaults){(0,H.forEach)(i,function(f,p){r[p]===f&&delete r[p]}),r.label===r.name&&delete r.label;var l=(0,H.keys)(r).length;l===1&&r.name&&(r=r.name),l===2&&r.name&&r.type&&(r=this.getFullName())}return r},n.escapeName=function(t){return"".concat(t).trim().replace(/\s+/g,"-")},n.TYPE_CLASS=Eh,n.TYPE_ID=bm,n}(fe.Kx);const Qi=Px;Px.prototype.idAttribute="name";var KA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Dx=function(o,n){return o.reduce(function(t,e,r){return t.concat(Dx(o.slice(r+1),"".concat(n).concat(e)))},[n])},Mx=function(o){KA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.modelId=function(t){return"".concat(t.name,"_").concat(t.type||Qi.TYPE_CLASS)},n.prototype.getStyleable=function(){return(0,H.filter)(this.models,function(t){return t.getActive()&&!t.get("private")})},n.prototype.getValid=function(t){var e=t===void 0?{}:t,r=e.noDisabled;return(0,H.filter)(this.models,function(i){return!i.get("private")}).filter(function(i){return r?i.get("active"):1})},n.prototype.getFullString=function(t,e){e===void 0&&(e={});var r=[],i=t||this;return i.forEach(function(l){return r.push(l.getFullName(e))}),e.sort&&r.sort(),r.join("").trim()},n.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.combination,r=t.array,i=[],l=this.map(function(f){return f.getFullName(t)}).sort();return e?l.forEach(function(f,p){i=i.concat(Dx(l.slice(p+1),f))}):i=l,r?i:e?i.join(","):i.join("")},n}(fe.pM);const Ul=Mx;Mx.prototype.model=Qi;var YA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ub=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},XA=function(o){YA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},n.prototype.getId=function(){return this.get("id")},n.prototype.getLabel=function(){return this.get("label")},n}(fe.Kx);const yp=XA;function jx(o){var n=new Set,t=new Map,e={items:[]};o.forEach(function(i){var l=i.category;if(l){n.add(l);var f=t.get(l);f?f.push(i):t.set(l,[i])}else e.items.push(i)});var r=Array.from(n).map(function(i){return{category:i,items:t.get(i)||[]}});return ub(ub([],r,!0),[e],!1)}var ZA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cb="category",Rx=function(o){ZA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.initCategory=function(t){var e=t.get(cb),r=e instanceof yp;if(e&&!r){(0,H.isString)(e)?e={id:e,label:e}:(0,Jt.isObject)(e)&&!e.id&&(e.id=e.label);var i=this.getCategories().add(e);return t.set(cb,i,{silent:!0}),i}else if(r){var i=e;return this.getCategories().add(i),i}},n}(fe.pM),JA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Lx=function(o){JA(n,o);function n(t,e){e===void 0&&(e={});var r=o.call(this,t,e)||this,i=e.events,l=e.em,f=i==null?void 0:i.update;return l&&f&&r.on("change",function(p,d){return l.trigger(f,{category:p,changes:p.changedAttributes(),options:d})}),r}return n.prototype.add=function(t,e){var r=(0,H.isArray)(t)?t:[t];return r.forEach(function(i){return i&&(i.id=(0,Jt.normalizeKey)("".concat(i.id)))}),o.prototype.add.call(this,t,e)},n.prototype.get=function(t){return o.prototype.get.call(this,(0,H.isString)(t)?(0,Jt.normalizeKey)(t):t)},n}(fe.pM);const nv=Lx;Lx.prototype.model=yp;var rv;(function(o){o.select="trait:select",o.value="trait:value",o.categoryUpdate="trait:category:update",o.custom="trait:custom",o.all="trait"})(rv||(rv={}));const py=rv;var QA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),iv=function(){return iv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},iv.apply(this,arguments)},$A=function(o){QA(n,o);function n(t,e){var r=o.call(this,t)||this,i=r.attributes,l=i.target,f=i.name;return!r.get("id")&&r.set("id",f),l&&r.setTarget(l),r.em=e,r}return n.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(n.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"category",{get:function(){var t=this.get("category");return t instanceof yp?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),n.prototype.setTarget=function(t){if(t){var e=this.attributes,r=e.name,i=e.changeProp,l=e.value,f=e.getValue;this.target=t,this.unset("target");var p=i?"change:".concat(r):"change:attributes:".concat(r);this.listenTo(t,p,this.targetUpdated);var d=l||(f?void 0:this.getValue());!(0,H.isUndefined)(d)&&this.set({value:d},{silent:!0})}},n.prototype.getId=function(){return this.get("id")},n.prototype.getType=function(){return this.get("type")},n.prototype.getName=function(){return this.get("name")},n.prototype.getLabel=function(t){var e;t===void 0&&(t={});var r=t.locale,i=r===void 0?!0:r,l=this.getId(),f=this.get("label")||this.getName();return i&&((e=this.em)===null||e===void 0?void 0:e.t("traitManager.traits.labels.".concat(l)))||f},n.prototype.getValue=function(t){return this.getTargetValue(t)},n.prototype.setValue=function(t,e){var r=this;e===void 0&&(e={});var i=this,l=i.component,f=i.em,p=e.partial,d={},v=this.attributes.setValue;if(v){v({value:t,component:l,editor:f==null?void 0:f.getEditor(),trait:this,partial:!!p,options:e,emitUpdate:function(){return r.targetUpdated()}});return}p&&(d.avoidStore=!0),this.setTargetValue(t,d)},n.prototype.getDefault=function(){return this.get("default")},n.prototype.getOptions=function(){return this.get("options")||[]},n.prototype.getOption=function(t){var e=this,r=(0,Jt.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(i){return e.getOptionId(i)===r})[0]},n.prototype.getOptionId=function(t){return t.id||t.value},n.prototype.getOptionLabel=function(t,e){var r;e===void 0&&(e={});var i=e.locale,l=i===void 0?!0:i,f=(0,H.isString)(t)?this.getOption(t):t,p=this.getOptionId(f),d=f.label||f.name||p,v=this.getName();return l&&((r=this.em)===null||r===void 0?void 0:r.t("traitManager.traits.options.".concat(v,".").concat(p)))||d},n.prototype.getCategoryLabel=function(t){t===void 0&&(t={});var e=this,r=e.em,i=e.category,l=t.locale,f=l===void 0?!0:l,p=i==null?void 0:i.getId(),d=i==null?void 0:i.getLabel();return f&&(r==null?void 0:r.t("traitManager.categories.".concat(p)))||d||""},n.prototype.runCommand=function(){var t=this.em,e=this.attributes.command;if(e&&t)return(0,H.isString)(e)?t.Commands.run(e):e(t.Editor,this)},n.prototype.props=function(){return this.attributes},n.prototype.targetUpdated=function(){var t=this,e=t.component,r=t.em,i=this.getTargetValue({useType:!0});this.set({value:i},{fromTarget:1});var l={trait:this,component:e,value:i};e.trigger(py.value,l),r==null||r.trigger(py.value,l),r==null||r.trigger("trait:update",l)},n.prototype.getTargetValue=function(t){t===void 0&&(t={});var e=this,r=e.component,i=e.em,l=this.getName(),f=this.get("getValue"),p;if(f?p=f({editor:i==null?void 0:i.getEditor(),trait:this,component:r}):this.changeProp?p=r.get(l):p=r.getAttributes()[l],t.useType){var d=this.getType();if(d==="checkbox"){var v=this.attributes,_=v.valueTrue,w=v.valueFalse;!(0,H.isUndefined)(_)&&_===p?p=!0:!(0,H.isUndefined)(w)&&w===p&&(p=!1)}}return(0,H.isUndefined)(p)?"":p},n.prototype.setTargetValue=function(t,e){var r;e===void 0&&(e={});var i=this,l=i.component,f=i.attributes,p=this.getName();if(!(0,H.isUndefined)(t)){var d=t;if(t==="false"?d=!1:t==="true"&&(d=!0),this.getType()==="checkbox"){var v=f.valueTrue,_=f.valueFalse;d&&!(0,H.isUndefined)(v)&&(d=v),!d&&!(0,H.isUndefined)(_)&&(d=_)}var w=(r={},r[p]=d,r);w.__p=e.avoidStore?null:void 0,this.changeProp?l.set(w,e):l.addAttributes(w,e)}},n.prototype.setValueFromInput=function(t,e,r){e===void 0&&(e=!0),r===void 0&&(r={});var i={value:t};this.set(i,iv(iv({},r),{avoidStore:1})),e&&(this.set("value","",r),this.set(i,r))},n.prototype.getInitValue=function(){var t=this.component,e=this.getName(),r;if(t){var i=t.get("attributes");r=this.changeProp?t.get(e):i[e]}return r||this.get("value")||this.get("default")},n}(fe.Kx);const ov=$A;var tP=function(){function o(n){n===void 0&&(n={}),this.config=n}return o.prototype.build=function(n,t){return(0,H.isString)(n)?this.buildFromString(n,t):new ov(n,t)},o.prototype.buildFromString=function(n,t){var e={name:n,type:"text"};switch(n){case"target":e.type="select",e.default=!1,e.options=this.config.optionsTarget;break}return new ov(e,t)},o}();const eP=tP;var nP=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rP=function(o){nP(n,o);function n(t,e){var r=o.call(this,t)||this;r.categories=new nv;var i=e.em;r.em=i,r.categories=new nv([],{em:i,events:{update:py.categoryUpdate}}),r.on("add",r.handleAdd),r.on("reset",r.handleReset);var l=r.module,f=l==null?void 0:l.getConfig();return r.tf=new eP(f),r}return Object.defineProperty(n.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),n.prototype.getCategories=function(){return this.categories},n.prototype.handleReset=function(t,e){var r=e===void 0?{}:e,i=r.previousModels,l=i===void 0?[]:i;l.forEach(function(f){return f.trigger("remove")})},n.prototype.handleAdd=function(t){t.em=this.em;var e=this.target;e&&(t.target=e),this.initCategory(t)},n.prototype.setTarget=function(t){this.target=t,this.models.forEach(function(e){return e.setTarget(t)})},n.prototype.add=function(t,e){if(t!=null){var r=this,i=r.target,l=r.em;if((0,H.isArray)(t)){for(var f=[],p=0,d=t.length;p<d;p++){var v=t[p];f[p]=v instanceof ov?v:this.tf.build(v,l),f[p].setTarget(i)}return o.prototype.add.call(this,f,e)}var _=t instanceof ov?t:this.tf.build(t,l);return _.setTarget(i),o.prototype.add.call(this,_,e)}},n}(Rx);const av=rP;var sv=function(){return sv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},sv.apply(this,arguments)},fb=function(){function o(n,t,e){this.component=n,this.updateFn=t,this.resolverListeners={},this.em=e.em}return o.prototype.bindComponent=function(n){this.component=n},o.prototype.setDynamicValues=function(n,t){t===void 0&&(t={});var e=t.skipWatcherUpdates||t.fromDataSource;return e||this.removeListeners(),this.addDynamicValues(n,t)},o.prototype.addDynamicValues=function(n,t){if(t===void 0&&(t={}),!n)return{};var e=this.evaluateValues(n),r=t.skipWatcherUpdates||t.fromDataSource;return r||this.updateListeners(n),e},o.prototype.onCollectionsStateMapUpdate=function(){var n=this,t=this.getValuesResolvingFromCollections();if(t.length){t.forEach(function(r){return n.resolverListeners[r].resolver.updateCollectionsStateMap(n.collectionsStateMap)});var e=this.addDynamicValues(this.getSerializableValues(Object.fromEntries(t.map(function(r){return[r,null]}))));Object.entries(e).forEach(function(r){var i=r[0],l=r[1];return n.updateFn(n.component,i,l)})}},Object.defineProperty(o.prototype,"collectionsStateMap",{get:function(){var n=this.component;return n?n.collectionsStateMap:{}},enumerable:!1,configurable:!0}),o.prototype.updateListeners=function(n){var t=this,e=this,r=e.em,i=e.collectionsStateMap;this.removeListeners(Object.keys(n));for(var l=Object.keys(n),f=function(v){var _=l[v],w=n[_];if(!fp(w))return"continue";var S=Qy(w,{em:r,collectionsStateMap:i});p.resolverListeners[_]=new Mf({em:r,resolver:S,onUpdate:function(O){return t.updateFn.bind(t)(t.component,_,O)}})},p=this,d=0;d<l.length;d++)f(d)},o.prototype.evaluateValues=function(n){for(var t=this,e=t.em,r=t.collectionsStateMap,i=sv({},n),l=Object.keys(n),f=0;f<l.length;f++){var p=l[f],d=n[p];fp(d)&&(i[p]=$y(d,{em:e,collectionsStateMap:r}))}return i},o.prototype.removeListeners=function(n){var t=this,e=n||Object.keys(this.resolverListeners);return e.forEach(function(r){var i,l;t.resolverListeners[r]&&((l=(i=t.resolverListeners[r]).destroy)===null||l===void 0||l.call(i),delete t.resolverListeners[r])}),e},o.prototype.getSerializableValues=function(n){if(!n)return{};for(var t=sv({},n),e=Object.keys(t),r=0;r<e.length;r++){var i=e[r],l=this.resolverListeners[i];l&&(t[i]=l.resolver.toJSON())}return t},o.prototype.getAllSerializableValues=function(){for(var n={},t=Object.keys(this.resolverListeners),e=0;e<t.length;e++){var r=t[e];n[r]=this.resolverListeners[r].resolver.toJSON()}return n},o.prototype.getValuesResolvingFromCollections=function(){var n=this,t=Object.keys(this.resolverListeners).filter(function(e){return n.resolverListeners[e].resolver.resolvesFromCollection()});return t},o.prototype.destroy=function(){this.removeListeners()},o}(),iP=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},hy={fromDataSource:!0,avoidStore:!0},oP=function(){function o(n,t){this.component=n,this.propertyWatcher=new fb(n,this.onPropertyUpdate,t),this.attributeWatcher=new fb(n,this.onAttributeUpdate,t)}return o.prototype.onPropertyUpdate=function(n,t,e){n==null||n.set(t,e,hy)},o.prototype.onAttributeUpdate=function(n,t,e){var r;n==null||n.addAttributes((r={},r[t]=e,r),hy)},o.prototype.bindComponent=function(n){this.component=n,this.propertyWatcher.bindComponent(n),this.attributeWatcher.bindComponent(n),this.updateSymbolOverride()},o.prototype.addProps=function(n,t){var e=this;t===void 0&&(t={});var r=["components"],i=Object.fromEntries(Object.entries(n).map(function(p){var d,v=p[0],_=p[1];return r.includes(v)?[v,_]:[v,e.propertyWatcher.addDynamicValues((d={},d[v]=_,d),t)[v]]}));if(n.attributes){var l=this.attributeWatcher.setDynamicValues(n.attributes,t);i.attributes=l}var f=t.skipWatcherUpdates||t.fromDataSource;return f||this.updateSymbolOverride(),i},o.prototype.removeAttributes=function(n){this.attributeWatcher.removeListeners(n),this.updateSymbolOverride()},o.prototype.updateSymbolOverride=function(){var n,t,e=!!Object.keys((t=(n=this.component)===null||n===void 0?void 0:n.collectionsStateMap)!==null&&t!==void 0?t:{}).length;if(!(!this.component||!e)){var r=this.propertyWatcher.getValuesResolvingFromCollections(),i=this.attributeWatcher.getValuesResolvingFromCollections(),l=iP(["locked","layerable"],r,!0),f=Object.keys(i).length;f&&l.push("attributes");var p=Fs(this.component);p.forEach(function(d){d.setSymbolOverride(l,{fromDataSource:!0})}),this.component.setSymbolOverride(l,{fromDataSource:!0})}},o.prototype.onCollectionsStateMapUpdate=function(){this.propertyWatcher.onCollectionsStateMapUpdate(),this.attributeWatcher.onCollectionsStateMapUpdate()},o.prototype.getDynamicPropsDefs=function(){return this.propertyWatcher.getAllSerializableValues()},o.prototype.getDynamicAttributesDefs=function(){return this.attributeWatcher.getAllSerializableValues()},o.prototype.getPropsDefsOrValues=function(n){return this.propertyWatcher.getSerializableValues(n)},o.prototype.getAttributesDefsOrValues=function(n){return this.attributeWatcher.getSerializableValues(n)},o.prototype.destroy=function(){this.propertyWatcher.destroy(),this.attributeWatcher.destroy()},o}(),aP=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_n=function(){return _n=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},_n.apply(this,arguments)},sP=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},Oa=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},db=function(o){return o.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},Gd=function(o){return!!(o!=null&&o.getConfig().avoidInlineStyle)},t0="component:drag",Zi="__symbols",_o="__symbol",af="__symbol_ovrd",qh=Jn.I.update,vy=Jn.I.updateInside,lP=function(o){aP(n,o);function n(t,e){t===void 0&&(t={});var r=this,i=e.em,l=new oP(void 0,{em:i});r=o.call(this,t,_n(_n({},e),{dataResolverWatchers:l}))||this,r.collectionsStateMap={},l.bindComponent(r),r.dataResolverWatchers=l,(0,H.bindAll)(r,"__upSymbProps","__upSymbCls","__upSymbComps","syncOnComponentChange");var f=r.parent(),p=f==null?void 0:f.attributes,d=r.get("propagate");if(d&&r.set("propagate",(0,H.isArray)(d)?d:[d]),p&&p.propagate&&!d){var v={},_=p.propagate;_.forEach(function(j){return v[j]=f.get(j)}),v.propagate=_,r.set(_n(_n({},v),t))}e&&e.config&&e.config.voidElements.indexOf(r.get("tagName"))>=0&&r.set("void",!0),e.em=i,r.opt=e,r.em=i,r.config=e.config||{};var w=r.dataResolverWatchers.getDynamicAttributesDefs();if(r.setAttributes(_n(_n(_n({},(0,H.result)(r,"defaults").attributes||{}),r.get("attributes")||{}),w)),r.ccid=n.createId(r,e),r.preInit(),r.initClasses(),r.initComponents(),r.initTraits(),r.initToolbar(),r.initScriptProps(),r.listenTo(r,"change:script",r.scriptUpdated),r.listenTo(r,"change:tagName",r.tagUpdated),r.listenTo(r,"change:attributes",r.attrUpdated),r.listenTo(r,"change:attributes:id",r._idUpdated),r.on("change:toolbar",r.__emitUpdateTlb),r.on("change",r.__onChange),r.on(vy,r.__propToParent),r.set("status",""),r.views=[],["classes","traits","components"].forEach(function(j){var z="add remove ".concat(j!=="components"?"change":"");r.listenTo(r.get(j),z.trim(),function(){for(var k=[],G=0;G<arguments.length;G++)k[G]=arguments[G];return r.emitUpdate.apply(r,Oa([j],k,!1))})}),!e.temporary){var S=i&&i.Css,O=r.attributes,A=O.styles,P=O.type;A&&S&&S.addCollection(A,{avoidUpdateStyle:!0},{group:"cmp:".concat(P)}),r.__postAdd(),r.init(),ps(r)&&zd(r),i==null||i.trigger(Jn.I.create,r,e)}return r}return Object.defineProperty(n.prototype,"defaults",{get:function(){var t;return t={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null},t[_o]=0,t[Zi]=0,t[af]=0,t._undo=!0,t._undoexc=["status","open"],t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tagName",{get:function(){return this.get("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"content",{get:function(){var t;return(t=this.get("content"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"frame",{get:function(){return this.opt.frame},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"page",{get:function(){var t;return(t=this.frame)===null||t===void 0?void 0:t.getPage()},enumerable:!1,configurable:!0}),n.prototype.preInit=function(){},n.prototype.init=function(){},n.prototype.updated=function(t,e,r){},n.prototype.removed=function(){},n.prototype.set=function(t,e,r){var i,l,f={skipWatcherUpdates:!1,fromDataSource:!1};typeof t=="object"?(l=t,f=e||f):typeof t=="string"?(l=(i={},i[t]=e,i),f=r||f):(l={},f=r||f),this.dataResolverWatchers=this.dataResolverWatchers||f.dataResolverWatchers;var p=this.dataResolverWatchers.addProps(l,f);return o.prototype.set.call(this,p,f)},n.prototype.onCollectionsStateMapUpdate=function(t){this.collectionsStateMap=t,this.dataResolverWatchers.onCollectionsStateMapUpdate();var e=this.components();e.forEach(function(r){return r.onCollectionsStateMapUpdate(t)})},n.prototype.syncComponentsCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.listenTo(this.components(),"add remove reset",this.syncOnComponentChange),this.components().forEach(function(t){return t.syncComponentsCollectionState()})},n.prototype.stopSyncComponentCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.collectionsStateMap={},this.components().forEach(function(t){return t.stopSyncComponentCollectionState()})},n.prototype.syncOnComponentChange=function(t,e,r){var i=this;if(!(!this.collectionsStateMap||!Object.keys(this.collectionsStateMap).length)){var l=r||e||{};if(r)if(l.add){var p=t;p.syncComponentsCollectionState(),p.onCollectionsStateMapUpdate(this.collectionsStateMap)}else{var d=t;d.stopSyncComponentCollectionState()}else{var f=l.previousModels||[];f.forEach(function(v){return v.stopSyncComponentCollectionState()}),this.components().forEach(function(v){v.syncComponentsCollectionState(),v.onCollectionsStateMapUpdate(i.collectionsStateMap)})}}},n.prototype.__postAdd=function(t){t===void 0&&(t={});var e=this.em,r=e==null?void 0:e.UndoManager,i=this.components();r&&!this.__hasUm&&(r.add(i),r.add(this.getSelectors()),this.__hasUm=!0),t.recursive&&i.map(function(l){return l.__postAdd(t)})},n.prototype.__postRemove=function(){var t=this.em,e=t==null?void 0:t.UndoManager;e&&(e.remove(this.components()),e.remove(this.getSelectors()),delete this.__hasUm)},n.prototype.__onChange=function(t,e){var r=this,i=this.changedAttributes()||{};(0,H.keys)(i).forEach(function(l){return r.emitUpdate(l)}),["status","open","toolbar","traits"].forEach(function(l){return delete i[l]}),(0,Jt.isEmptyObj)(i)||(this.__changesUp(e),this.__propSelfToParent({component:this,changed:i,options:e}))},n.prototype.__onStyleChange=function(t){var e=this,r=this.em;if(r){var i="component:styleUpdate",l=(0,H.keys)(t),f={style:t};r.trigger(i,this,f),l.forEach(function(w){return r.trigger("".concat(i,":").concat(w),e,f)});var p=this.collectionsStateMap,d=Object.keys(p);if(d.length){var v=d.every(function(w){return p[w].currentIndex===p[w].startIndex});if(v){var _=Fs(this);_.forEach(function(w){var S=w.collectionsStateMap,O=Object.keys(S),A=O.every(function(P){return d.includes(P)});A&&w.addStyle(t)})}}}},n.prototype.__changesUp=function(t){var e=this,r=e.em,i=e.frame;[i,r].forEach(function(l){return l&&l.changesUp(t)})},n.prototype.__propSelfToParent=function(t){this.trigger(qh,t),this.__propToParent(t)},n.prototype.__propToParent=function(t){var e=this.parent();e&&e.trigger(vy,t)},n.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},n.prototype.__getAllById=function(){var t=this.em;return t?t.Components.allById():{}},n.prototype.__upSymbProps=function(t,e){e===void 0&&(e={}),AA(this,e)},n.prototype.__upSymbCls=function(t,e,r){r===void 0&&(r={}),MA(this,r)},n.prototype.__upSymbComps=function(t,e,r){Tx(this,t,e,r)},n.prototype.__onDestroy=function(){},n.prototype.is=function(t){return this.get("type")==t},n.prototype.props=function(){return this.attributes},n.prototype.index=function(){var t=this.collection;return t?t.indexOf(this):0},n.prototype.setDragMode=function(t){return this.set("dmode",t)},n.prototype.getDragMode=function(){return this.get("dmode")||""},n.prototype.setSymbolOverride=function(t,e){var r,i;e===void 0&&(e={}),this.set((r={},r[af]=(i=(0,H.isString)(t)?[t]:t)!==null&&i!==void 0?i:0,r),e)},n.prototype.getSymbolOverride=function(){return this.get(af)},n.prototype.find=function(t){var e,r=[],i=(e=this.view)===null||e===void 0?void 0:e.$el.find(t);return i==null||i.each(function(l){var f=i.eq(l),p=f.data("model");p&&r.push(p)}),r},n.prototype.findType=function(t){var e=[],r=function(i){return i.forEach(function(l){l.is(t)&&e.push(l),r(l.components())})};return r(this.components()),e},n.prototype.findFirstType=function(t){return this.findType(t).at(0)},n.prototype.closest=function(t){var e,r=(e=this.view)===null||e===void 0?void 0:e.$el.closest(t);return r!=null&&r.length?r.data("model"):void 0},n.prototype.closestType=function(t){for(var e=this.parent();e&&!e.is(t);)e=e.parent();return e},n.prototype.contains=function(t){var e=!1;if(!t)return e;var r=function(i){!e&&i.forEach(function(l){l===t&&(e=!0),!e&&r(l.components())})};return r(this.components()),e},n.prototype.tagUpdated=function(){this.trigger("rerender")},n.prototype.replaceWith=function(t,e){e===void 0&&(e={});var r=this.collection,i=r.indexOf(this);r.remove(this);var l=r.add(t,_n(_n({},e),{at:i}));return(0,H.isArray)(l)?l:[l]},n.prototype.attrUpdated=function(t,e,r){var i=this;r===void 0&&(r={});var l=this.get("attributes"),f=l.class;f&&this.setClass(f),delete l.class;var p=l.style;p&&this.setStyle(p,r),delete l.style;var d=_n({},this.previous("attributes")),v=(0,Jt.shallowDiff)(d,this.get("attributes"));(0,H.keys)(v).forEach(function(_){var w,S="attributes:".concat(_);i.trigger("change:".concat(S),i,v[_],r),(w=i.em)===null||w===void 0||w.trigger("".concat(qh,":").concat(S),i,v[_],r)})},n.prototype.setAttributes=function(t,e){return e===void 0&&(e={skipWatcherUpdates:!1,fromDataSource:!1}),this.set("attributes",_n({},t),e),this},n.prototype.addAttributes=function(t,e){e===void 0&&(e={});var r=this.dataResolverWatchers.getDynamicAttributesDefs();return this.setAttributes(_n(_n(_n({},this.getAttributes({noClass:!0})),r),t),e)},n.prototype.removeAttributes=function(t,e){t===void 0&&(t=[]),e===void 0&&(e={});var r=Array.isArray(t)?t:[t];this.dataResolverWatchers.removeAttributes(r);var i=this.getAttributes();return r.map(function(l){return delete i[l]}),this.setAttributes(i,e)},n.prototype.getStyle=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var r=this.em,i=(0,H.isString)(t)?t:"",l=i?e:t;if(Gd(r)&&!l.inline){var f=r.get("state"),p=r.Css,d=p.getIdRule(this.getId(),_n({state:f},l));return this.rule=d,d?d.getStyle(i):{}}return o.prototype.getStyle.call(this,i)},n.prototype.setStyle=function(t,e){var r=this;t===void 0&&(t={}),e===void 0&&(e={});var i=this,l=i.opt,f=i.em;if(Gd(f)&&!l.temporary&&!e.inline){var p=this.get("style")||{};t=(0,H.isString)(t)?this.parseStyle(t):t,t=_n(_n({},t),p);var d=f.get("state"),v=f.Css,_=this.getStyle(e);this.rule=v.setIdRule(this.getId(),t,_n({state:d},e));var w=(0,Jt.shallowDiff)(_,t);this.set("style","",{silent:!0}),(0,H.keys)(w).forEach(function(S){return r.trigger("change:style:".concat(S))})}else t=o.prototype.setStyle.apply(this,arguments);return l.temporary||this.__onStyleChange(e.addStyle||t),t},n.prototype.getAttributes=function(t){t===void 0&&(t={});var e=this.em,r=[],i=_n({},this.get("attributes")),l=e==null?void 0:e.Selectors,f=this.getId();if(t.noClass?delete i.class:(this.classes.forEach(function(v){return r.push((0,H.isString)(v)?v:v.getName())}),r.length&&(i.class=r.join(" "))),!t.noStyle){var p=this.getStyle({inline:!0});(0,Jt.isObject)(p)&&!(0,Jt.isEmptyObj)(p)&&(i.style=this.styleToString({inline:!0}))}if(!(0,H.has)(i,"id")){var d=!1;(Gd(e)||!(0,H.isEmpty)(this.getStyle()))&&(d=!!(l!=null&&l.get(f,l.Selector.TYPE_ID))),(ps(this)||this.get("script-export")||this.get("script"))&&(d=!0),d&&(i.id=f)}return i},n.prototype.addClass=function(t){var e=this.em.Selectors.addClass(t);return this.classes.add(e)},n.prototype.setClass=function(t){return this.classes.reset(),this.addClass(t)},n.prototype.removeClass=function(t){var e=[];t=(0,H.isArray)(t)?t:[t];var r=this.classes,i=Qi.TYPE_CLASS;return t.forEach(function(l){var f=l.split(" ");f.forEach(function(p){var d=r.where({name:p,type:i})[0];d&&e.push(r.remove(d))})}),e},n.prototype.getClasses=function(){var t=this.getAttributes(),e=t.class;return e?e.split(" "):[]},n.prototype.initClasses=function(t,e,r){r===void 0&&(r={});var i="change:classes",l=this.get("attributes")||{},f=l.class,p=sP(l,["class"]),d=[this,i,this.initClasses],v=this.get("classes")||f||[],_=(0,H.isString)(v)?v.split(" "):v;this.stopListening.apply(this,d);var w=this.normalizeClasses(_),S=new Ul([]);return this.set("classes",S,r),S.add(w),S.on("add remove reset",this.__upSymbCls),f&&w.length&&this.set("attributes",p),this.listenTo.apply(this,d),this},n.prototype.initComponents=function(){var t="change:components",e=[this,t,this.initComponents];this.stopListening.apply(this,e);var r=new dp([],this.opt);r.parent=this;var i=this.get("components"),l=!this.opt.avoidChildren;return this.set("components",r),l&&i&&r.add((0,H.isFunction)(i)?i(this):i,this.opt),r.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,e),this},n.prototype.initTraits=function(t){var e=this,r=this.em,i="change:traits";this.off(i,this.initTraits),this.__loadTraits();var l=_n({},this.get("attributes")),f=this.traits;f.each(function(d){var v=d.getName(),_=d.getInitValue();d.changeProp?(0,H.isUndefined)(e.get(v))&&e.set(v,_):v&&_&&(l[v]=_)});var p=this.dataResolverWatchers.getDynamicAttributesDefs();return f.length&&this.setAttributes(_n(_n({},l),p)),this.on(i,this.initTraits),t&&r&&r.trigger("component:toggled"),this},n.prototype.initScriptProps=function(){if(!this.opt.temporary){var t="script-props",e=["change:".concat(t),this.initScriptProps];this.off.apply(this,e);var r=this.previous(t)||[],i=this.get(t)||[],l=r.map(function(p){return"change:".concat(p)}).join(" "),f=i.map(function(p){return"change:".concat(p)}).join(" ");l&&this.off(l,this.__scriptPropsChange),f&&this.on(f,this.__scriptPropsChange),this.on.apply(this,e)}},n.prototype.__scriptPropsChange=function(t,e,r){r===void 0&&(r={}),!r.avoidStore&&this.trigger("rerender")},n.prototype.append=function(t,e){e===void 0&&(e={});var r=(0,H.isArray)(t)?Oa([],t,!0):[t],i=r.map(function(f){return(0,H.isString)(f)||f.collection&&f.collection.remove(f,{temporary:!0}),f}),l=this.components().add(i,_n({action:Jn.t.add},e));return l},n.prototype.components=function(t,e){e===void 0&&(e={});var r=this.get("components");return(0,H.isUndefined)(t)?r:(r.reset(void 0,e),t?this.append(t,e):[])},n.prototype.getChildAt=function(t){return this.components().at(t||0)||void 0},n.prototype.getLastChild=function(){var t=this.components();return t.at(t.length-1)||null},n.prototype.empty=function(t){return t===void 0&&(t={}),this.components().reset(void 0,t),this},n.prototype.parent=function(t){t===void 0&&(t={});var e=this.collection||t.prev&&this.prevColl;return e?e.parent:void 0},n.prototype.parents=function(){var t=this.parent();return t?[t].concat(t.parents()):[]},n.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},n.prototype.initToolbar=function(){var t=this.em,e=this,r=t&&t.getConfig().stylePrefix||"";if(!e.get("toolbar")&&t){var i=[];e.collection&&i.push({label:t.getIcon("arrowUp"),command:function(l){return l.runCommand("core:component-exit",{force:1})}}),e.get("draggable")&&i.push({attributes:{class:"".concat(r,"no-touch-actions"),draggable:!0},label:t.getIcon("move"),command:"tlb-move"}),e.get("copyable")&&i.push({label:t.getIcon("copy"),command:"tlb-clone"}),e.get("removable")&&i.push({label:t.getIcon("delete"),command:"tlb-delete"}),e.set("toolbar",i)}},n.prototype.__loadTraits=function(t,e){e===void 0&&(e={});var r=t||this.traits;if(!(r instanceof av)){r=(0,H.isFunction)(r)?r(this):r;var i=new av([],this.opt);i.setTarget(this),r.length&&i.add(r),this.set({traits:i},e)}return this},n.prototype.getTraits=function(){return this.__loadTraits(),Oa([],this.traits.models,!0)},n.prototype.setTraits=function(t){var e=(0,H.isArray)(t)?t:[t];return this.set({traits:e}),this.getTraits()},n.prototype.getTrait=function(t){return this.getTraits().filter(function(e){return e.get("id")===t||e.get("name")===t})[0]||null},n.prototype.updateTrait=function(t,e){var r,i=this.getTrait(t);return i&&i.set(e),(r=this.em)===null||r===void 0||r.trigger("component:toggled"),this},n.prototype.getTraitIndex=function(t){var e=this.getTrait(t);return e?this.traits.indexOf(e):-1},n.prototype.removeTrait=function(t){var e=this,r,i=(0,H.isArray)(t)?t:[t],l=i.map(function(d){return e.getTrait(d)}),f=this.traits,p=l.length?f.remove(l):[];return(r=this.em)===null||r===void 0||r.trigger("component:toggled"),(0,H.isArray)(p)?p:[p]},n.prototype.addTrait=function(t,e){var r;e===void 0&&(e={}),this.__loadTraits();var i=this.traits.add(t,e);return(r=this.em)===null||r===void 0||r.trigger("component:toggled"),(0,H.isArray)(i)?i:[i]},n.prototype.normalizeClasses=function(t){var e=[],r=this.em,i=r==null?void 0:r.Selectors;return i?t.models?Oa([],t.models,!0):(t.forEach(function(l){return e.push(i.add(l))}),e):[]},n.prototype.clone=function(t){var e;t===void 0&&(t={});var r=this.em,i=_n(_n({},this.attributes),this.dataResolverWatchers.getDynamicPropsDefs()),l=_n({},this.opt),f=this.getId(),p=r==null?void 0:r.Css;i.attributes=_n({},i.attributes?this.dataResolverWatchers.getAttributesDefsOrValues(i.attributes):void 0),i.components=[],i.classes=[],i.traits=[],zu(this)&&(t.symbol=!0),this.get("components").each(function(P,j){i.components[j]=P.clone(_n(_n({},t),{_inner:1}))}),this.get("traits").each(function(P,j){i.traits[j]=P.clone()}),this.get("classes").each(function(P,j){i.classes[j]=P.get("name")}),i.status="",l.collection=null,l.forCloning=!0;var d=new this.constructor(i,l),v="#".concat(d.getId()),_=p?p.getRules("#".concat(f)):[];_.forEach(function(P){var j=P.clone();j.set("selectors",[v]),p.getAll().add(j)}),d.set(Zi,0);var w=ua(this),S=So(this);if(!t.symbol&&(w||S))d.set(_o,0),d.set(Zi,0);else if(w){var O=(e=So(w))!==null&&e!==void 0?e:[];w.set(Zi,Oa(Oa([],O,!0),[d],!1)),zd(d)}else t.symbol&&(Vu(this)?(this.set(Zi,Oa(Oa([],S,!0),[d],!1)),d.set(_o,this),zd(d)):t.symbolInv?(this.set(Zi,[d]),d.set(_o,this),[this,d].map(function(P){return zd(P)})):(d.set(Zi,[this]),[this,d].map(function(P){return zd(P)}),this.set(_o,d)));var A="component:clone";return r&&r.trigger(A,d),this.trigger(A,d),d},n.prototype.getName=function(t){t===void 0&&(t={});var e=this.em,r=this.attributes,i=r.type,l=r.tagName,f=r.name,p=i||l,d=i?"":l,v="domComponents.names.",_=f&&(e==null?void 0:e.t("".concat(v).concat(f))),w=d&&(e==null?void 0:e.t("".concat(v).concat(d))),S=e&&(e.t("".concat(v).concat(i))||e.t("".concat(v).concat(l))),O=this.get("custom-name");return(t.noCustom?"":O)||_||f||w||(0,Jt.capitalize)(d)||S||(0,Jt.capitalize)(p)},n.prototype.setName=function(t,e){e===void 0&&(e={}),this.set("custom-name",t,e)},n.prototype.getIcon=function(){var t=this.get("icon");return t?t+" ":""},n.prototype.toHTML=function(t){t===void 0&&(t={});var e=t.tag,r=e||this.get("tagName");delete t.tag;var i=this.__attrToString(t),l=i?" ".concat(i):"",f=this.getInnerHTML(t),p=!f&&this.get("void"),d="<".concat(r).concat(l).concat(p?"/":"",">").concat(f);return!p&&(d+="</".concat(r,">")),d},n.prototype.getInnerHTML=function(t){return this.__innerHTML(t)},n.prototype.__innerHTML=function(t){t===void 0&&(t={});var e=this.components();return e.length?e.map(function(r){return r.toHTML(t)}).join(""):this.content},n.prototype.__attrToString=function(t){t===void 0&&(t={});var e=[],r=t.attributes,i=this.getAttrToHTML(t);if(r&&((0,H.isFunction)(r)?i=r(this,i)||{}:(0,Jt.isObject)(r)&&(i=r)),t.withProps){var l=this.toJSON();(0,H.forEach)(l,function(_,w){var S=["classes","attributes","components"];w[0]!=="_"&&S.indexOf(w)<0&&(i["data-gjs-".concat(w)]=(0,H.isArray)(_)||(0,Jt.isObject)(_)?JSON.stringify(_):(0,H.isBoolean)(_)?"".concat(_):_)})}for(var f in i){var p=i[f];if(!(0,H.isUndefined)(p)&&p!==null)if((0,H.isBoolean)(p))p&&e.push(f);else{var d="";if(t.altQuoteAttr&&(0,H.isString)(p)&&p.indexOf('"')>=0)d="'".concat(p.replace(/'/g,"&apos;"),"'");else{var v=(0,H.isString)(p)?p.replace(/"/g,"&quot;"):p;d='"'.concat(v,'"')}e.push("".concat(f,"=").concat(d))}}return e.join(" ")},n.prototype.getAttrToHTML=function(t){var e=this.getAttributes();return Gd(this.em)&&(t==null?void 0:t.keepInlineStyle)!==!0&&delete e.style,e},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=Zh.Model.prototype.toJSON.call(this,t);if(e=_n(_n({},e),this.dataResolverWatchers.getDynamicPropsDefs()),e.attributes=this.dataResolverWatchers.getAttributesDefsOrValues(this.getAttributes()),delete e.dataResolverWatchers,delete e.attributes.class,delete e.toolbar,delete e.traits,delete e.status,delete e.open,delete e._undoexc,delete e.delegate,this.collectionsStateMap&&Object.getOwnPropertyNames(this.collectionsStateMap).length>0&&(delete e[_o],delete e[af],delete e[Zi],delete e.attributes.id),!t.fromUndo){var r=e[_o],i=e[Zi];i&&(0,H.isArray)(i)&&(e[Zi]=i.filter(function(l){return l}).map(function(l){return l.getId?l.getId():l})),r&&!(0,H.isString)(r)&&(e[_o]=r.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(e),e},n.prototype.getChangedProps=function(t){var e=t||Zh.Model.prototype.toJSON.apply(this),r=(0,H.result)(this,"defaults");return(0,H.forEach)(r,function(i,l){["type"].indexOf(l)===-1&&e[l]===i&&delete e[l]}),(0,H.isEmpty)(e.type)&&delete e.type,(0,H.forEach)(["attributes","style"],function(i){(0,H.isEmpty)(r[i])&&(0,H.isEmpty)(e[i])&&delete e[i]}),(0,H.forEach)(["classes","components"],function(i){(!e[i]||(0,H.isEmpty)(r[i])&&!e[i].length)&&delete e[i]}),e},n.prototype.getId=function(){var t=this.get("attributes")||{},e=VA(this),r=e.shouldSync,i=e.itemId;return r&&(t.id=i),t.id||this.ccid||this.cid},n.prototype.setId=function(t,e){return this.addAttributes({id:t},e),this},n.prototype.getEl=function(t){var e=this.getView(t);return e&&e.el},n.prototype.getView=function(t){var e=this,r=e.view,i=e.views,l=e.em,f=t||(l==null?void 0:l.getCurrentFrameModel());return f&&(r=i.filter(function(p){return p.frameView===f.view})[0]),r},n.prototype.getCurrentView=function(){var t=this.em.getCurrentFrame(),e=t==null?void 0:t.model;return this.getView(e)},n.prototype.__getScriptProps=function(){var t=this.props(),e=this.get("script-props")||[];return e.reduce(function(r,i){return r[i]=t[i],r},{})},n.prototype.getScriptString=function(t){var e=this,r=t||this.get("script")||"";if(!r)return r;if(this.get("script-props"))r=r.toString().trim();else{if((0,H.isFunction)(r)){var i=r.toString().trim();i=i.slice(i.indexOf("{")+1,i.lastIndexOf("}")),r=i.trim()}var l=this.em.getConfig(),f=db(l.tagVarStart||"{[ "),p=db(l.tagVarEnd||" ]}"),d=new RegExp("".concat(f,"([\\w\\d-]*)").concat(p),"g");r=r.replace(d,function(v,_){e.scriptUpdated();var w=e.attributes[_]||"";return(0,H.isArray)(w)||typeof w=="object"?JSON.stringify(w):w})}return r},n.prototype.emitUpdate=function(t){for(var e,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var l=this.em,f=qh+(t?":".concat(t):""),p=t&&this.get(t);t&&this.updated.apply(this,Oa([t,p,t&&this.previous(t)],r,!1)),this.trigger.apply(this,Oa([f],r,!1)),l&&l.trigger.apply(l,Oa([f,this],r,!1)),["components","classes"].indexOf(t)>=0&&this.__propSelfToParent({component:this,changed:(e={},e[t]=p,e),options:r[2]||r[1]||{}})},n.prototype.emitWithEditor=function(t,e,r){[this.em,this].forEach(function(i){return i==null?void 0:i.trigger(t,e,r)})},n.prototype.onAll=function(t){return(0,H.isFunction)(t)&&(t(this),this.components().forEach(function(e){return e.onAll(t)})),this},n.prototype.forEachChild=function(t){(0,H.isFunction)(t)&&this.components().forEach(function(e){t(e),e.forEachChild(t)})},n.prototype.remove=function(t){var e=this;t===void 0&&(t={});var r=this.em,i=this.collection,l=function(){i&&i.remove(e,_n({action:Jn.t.remove},t)),i||(e.components("",t),e.components().removeChildren(e,void 0,t))},f=_n({},t);return[this,r].map(function(p){return p.trigger(Jn.I.removeBefore,e,l,f)}),!f.abort&&l(),this},n.prototype.destroy=function(t){return this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.dataResolverWatchers.destroy(),this.__onDestroy(),o.prototype.destroy.call(this,t)},n.prototype.move=function(t,e){if(e===void 0&&(e={}),t){var r=e.at,i=this.index(),l=t===this.parent(),f=i===r||i===r-1;if(!l||!f){l&&r&&r>i&&(e.at=r-1);var p=Jn.t.move;this.remove({action:p,temporary:1}),t.append(this,_n({action:p},e)),this.emitUpdate()}}return this},n.prototype.isInstanceOf=function(t){var e,r,i=(r=(e=this.em)===null||e===void 0?void 0:e.Components.getType(t))===null||r===void 0?void 0:r.model;if(!i)return!1;var l=this.constructor.typeExtends;return this instanceof i||l.has(t)},n.prototype.isChildOf=function(t){for(var e=(0,H.isString)(t),r=this.parent();r;){if(e){if(r.isInstanceOf(t))return!0}else if(r===t)return!0;r=r.parent()}return!1},n.prototype.resetId=function(t){var e=this.em,r=this.getId();if(!r)return this;var i=n.createId(this);this.setId(i);var l=e==null?void 0:e.Css.getIdRule(r),f=l==null?void 0:l.get("selectors").at(0);return f==null||f.set("name",i),this},n.prototype._getStyleRule=function(t){var e=t===void 0?{}:t,r=e.id,i=this.em,l=r||this.getId();return i==null?void 0:i.Css.getIdRule(l)},n.prototype._getStyleSelector=function(t){var e=this._getStyleRule(t);return e==null?void 0:e.get("selectors").at(0)},n.prototype._idUpdated=function(t,e,r){if(r===void 0&&(r={}),!r.idUpdate){var i=this.ccid,l=(this.get("attributes")||{}).id,f=(this.previous("attributes")||{}).id||i,p=n.getList(this);if(p[l]||!l&&f)return this.setId(f,{idUpdate:!0});delete p[f],p[l]=this,this.ccid=l;var d=this._getStyleSelector({id:f});d&&d.set({name:l,label:l})}},n.getDefaults=function(){return(0,H.result)(this.prototype,"defaults")},n.isComponent=function(t,e){return{tagName:(0,Jt.toLowerCase)(t.tagName)}},n.ensureInList=function(t){var e=n.getList(t),r=t.getId(),i=e[r];if(!i)e[r]=t;else if(i!==t){var l=n.getIncrementId(r,e);t.setId(l),e[l]=t}t.components().forEach(function(f){return n.ensureInList(f)})},n.createId=function(t,e){e===void 0&&(e={});var r=n.getList(t),i=e.idMap,l=i===void 0?{}:i,f=t.get("attributes").id,p;return f?(p=n.getIncrementId(f,r,e),t.setId(p),f!==p&&(l[f]=p)):p=n.getNewId(r),r[p]=t,p},n.getNewId=function(t){for(var e=Object.keys(t).length,r=e.toString().length+2,i=(Math.random()+1.1).toString(36).slice(-r),l="i".concat(i);t[l];)l=n.getNewId(t);return l},n.getIncrementId=function(t,e,r){r===void 0&&(r={});var i=r.keepIds,l=i===void 0?[]:i,f=1,p=t;if(l.indexOf(t)<0)for(;e[p];)f++,p="".concat(t,"-").concat(f);return p},n.getList=function(t){var e,r=t.em,i=r==null?void 0:r.Components;return(e=i==null?void 0:i.componentsById)!==null&&e!==void 0?e:{}},n.checkId=function(t,e,r,i){e===void 0&&(e=[]),r===void 0&&(r={}),i===void 0&&(i={});var l=(0,H.isArray)(t)?t:[t],f=i.keepIds,p=f===void 0?[]:f,d=i.idMap,v=d===void 0?{}:d;l.forEach(function(_){_.attributes;var w=_.attributes,S=w===void 0?{}:w,O=_.components,A=S.id;if(A&&r[A]&&p.indexOf(A)<0){var P=n.getIncrementId(A,r);v[A]=P,S.id=P,(0,H.isArray)(e)&&e.forEach(function(j){var z=j.selectors;z.forEach(function(k,G){k==="#".concat(A)&&(z[G]="#".concat(P))})})}O&&n.checkId(O,e,r,i)})},n.typeExtends=new Set,n}(Ex);const Tr=lP;var uP=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lv=function(){return lv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},lv.apply(this,arguments)},xf="head",cP=["title","style","base","link","meta","script","noscript"],fP=function(o){uP(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return lv(lv({},o.prototype.defaults),{type:xf,tagName:xf,draggable:!1,highlightable:!1,droppable:function(t){var e=t.tagName;return!e||cP.includes((0,Jt.toLowerCase)(e))}})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,Jt.toLowerCase)(t.tagName)===xf},n}(Tr);const dP=fP;var Wu=wn(8433),pP=wn(1447),hP=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vP=function(o){hP(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.canMove=function(t,e){var r=this,i=this.getRealIndex(e),l=t._dragSource,f=l.model,p=l.content,d=l.dragDef,v=!f||!this.isSourceSameSymbol(f),_=((0,H.isFunction)(p)?d:p)||t.model;return Array.isArray(_)?v&&_.every(function(w,S){return r.canMoveSingleContent(w,i+S)}):v&&this.canMoveSingleContent(_,i)},n.prototype.canMoveSingleContent=function(t,e){return this.model.em.Components.canMove(this.model,t,e).result},n.prototype.addChildAt=function(t,e){var r=t._dragSource,i=r.content,l=this.isTextNode()&&t.isTextable(),f=(0,H.isFunction)(i)?i():i;return Array.isArray(f)?this.addMultipleChildren(f,e,l):this.addSingleChild(f,e,l)},n.prototype.addSingleChild=function(t,e,r){var i,l,f,p,d;return r?d=(p=(f=(l=(i=this.model)===null||i===void 0?void 0:i.getView)===null||l===void 0?void 0:l.call(i))===null||f===void 0?void 0:f.insertComponent)===null||p===void 0?void 0:p.call(f,t,{action:"add-component"}):d=this.model.components().add(t,{at:this.getRealIndex(e),action:"add-component"}),new this.constructor(d)},n.prototype.addMultipleChildren=function(t,e,r){var i=this,l;return t.forEach(function(f,p){l=i.addSingleChild(f,e+p,r)}),l},n.prototype.isSourceSameSymbol=function(t){if(ps(this.model)){var e=cp(this.model),r=Vu(e)?e:ua(e);if(r===t)return!0}return!1},Object.defineProperty(n.prototype,"content",{set:function(t){this._dragSource.content=t},enumerable:!1,configurable:!0}),n}(pP.A);const Nx=vP;var sf=function(){return sf=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},sf.apply(this,arguments)},gP=function(){function o(n,t){var e=this;this.em=n,this.canvas=n.Canvas;var r=t||this.canvas.getFrames().map(function(l){return l.getComponent().getEl()}),i=Array.isArray(r)?r:[r];this.el=i[0],this.counter=0,(0,H.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave","handleDragEnd"),i.forEach(function(l){return e.toggleEffects(l,!0)})}return o.prototype.toggleEffects=function(n,t){var e={on:ye.on,off:ye.AU},r=t?"on":"off";e[r](n,"dragenter",this.handleDragEnter),e[r](n,"dragover",this.handleDragOver),e[r](n,"drop",this.handleDrop),e[r](n,"dragleave",this.handleDragLeave)},o.prototype.__customTglEff=function(n){var t,e=n?ye.on:ye.AU,r=this.el.ownerDocument,i=(t=r.defaultView)===null||t===void 0?void 0:t.frameElement,l=function(f){return{legacyOnStartSort:function(){(0,ye.on)(i,"pointermove",f.onMove)},legacyOnEnd:function(){(0,ye.AU)(i,"pointermove",f.onMove)},customTarget:function(p){var d=p.event;return r.elementFromPoint(d.clientX,d.clientY)}}};this.getSorterOptions=n?l:void 0,e(i,"pointerenter",this.handleDragEnter),e(i,"pointermove",this.handleDragOver),e(document,"pointerup",this.handleDrop),e(i,"pointerout",this.handleDragLeave)},o.prototype.startCustom=function(){this.__customTglEff(!0)},o.prototype.endCustom=function(n){this.over?this.endDrop(n):this.__customTglEff(!1)},o.prototype.endDrop=function(n,t){var e=this,r=e.em,i=e.dragStop;this.counter=0,i&&i(n||!this.over),this.__customTglEff(!1),r.trigger("canvas:dragend",t)},o.prototype.handleDragLeave=function(n){this.updateCounter(-1,n)},o.prototype.updateCounter=function(n,t){this.counter+=n,this.counter===0&&this.endDrop(!0,t)},o.prototype.handleDragEnter=function(n){var t=this,e,r,i,l=this,f=l.em,p=l.canvas,d=n.dataTransfer,v=f.get("dragSource");if(!(!(v!=null&&v.content)&&!p.getConfig().allowExternalDrop)&&(this.updateCounter(1,n),!this.over)){this.over=!0;var _=f.Utils,w=(v==null?void 0:v.content)||"<br>",S;if(f.stopDefault(),f.inAbsoluteMode()){var O=f.Components.getWrapper(),A=O.append({})[0],P=f.Commands.run("core:component-drag",{event:n,guidesInfo:1,center:1,target:A,onEnd:function(xt,Nt,vt){var $=vt.cancelled,mt;if(!$&&w){mt=O.append(w)[0];var X=p.getOffset(),B=A.getStyle(),Q=B.top,J=B.left,ft=B.position,M=(0,ye.Xy)(xt.target),ht=parseInt("".concat(parseFloat(J)+M.x-X.left),10),yt=parseInt("".concat(parseFloat(Q)+M.y-X.top),10);mt.addStyle({left:ht+"px",top:yt+"px",position:ft})}t.handleDragEnd(mt,d),A.remove()}});S=function(xt){return P.stop(n,{cancel:xt})},this.setAbsoluteDragContent=function(xt){return w=xt}}else{var j=new _.ComponentSorter({em:f,treeClass:Nx,containerContext:{container:this.el,containerSel:"*",itemSel:"*",pfx:"gjs-",placeholderElement:p.getPlacerEl(),document:this.el.ownerDocument},dragBehavior:{dragDirection:Wu.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnEndMove:this.handleDragEnd}}),z=(e=this.getSorterOptions)===null||e===void 0?void 0:e.call(this,j);z&&(j.eventHandlers.legacyOnStartSort=z.legacyOnStart,j.eventHandlers.legacyOnEnd=z.legacyOnEnd,j.containerContext.customTarget=z.customTarget);var k=this.getTempDropModel(w),G=(r=k.view)===null||r===void 0?void 0:r.el,ot=G?[{element:G,dragSource:v}]:[];j.startSort(ot),this.sorter=j,this.draggedNode=(i=j.sourceNodes)===null||i===void 0?void 0:i[0],S=function(xt){xt?j.cancelDrag():j.endDrag()}}this.dragStop=S,f.trigger("canvas:dragenter",d,w)}},o.prototype.getTempDropModel=function(n){var t,e=this.em.Components.getComponents(),r={avoidChildren:1,avoidStore:1,avoidUpdateStyle:1},i=e.add(n,sf(sf({},r),{temporary:!0})),l=e.remove(i,sf(sf({},r),{temporary:!0}));return l=l instanceof Array?l[0]:l,(t=l.view)===null||t===void 0||t.$el.data("model",l),l},o.prototype.handleDragEnd=function(n,t){var e=this.em;this.over=!1,n&&(e.set("dragResult",n),e.trigger("canvas:drop",t,n)),e.runDefault({preserveSelected:1})},o.prototype.handleDragOver=function(n){n.preventDefault(),this.em.trigger("canvas:dragover",n)},o.prototype.handleDrop=function(n){var t;n.preventDefault();var e=n.dataTransfer,r=this.getContentByData(e).content;this.draggedNode&&(this.draggedNode.content=r),(t=this.setAbsoluteDragContent)===null||t===void 0||t.call(this,r),this.endDrop(!r,n)},o.prototype.getContentByData=function(n){var t=this.em,e=n&&n.types,r=n&&n.files||[],i=t.get("dragSource"),l=n&&n.getData("text");if(r.length){l=[];for(var f=0;f<r.length;f++){var p=r[f],d=p.type.split("/")[0];d=="image"&&l.push({type:d,file:p,attributes:{alt:p.name}})}}else if(i!=null&&i.content)l=i.content;else if((0,H.indexOf)(e,"text/html")>=0)l=n&&n.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,H.indexOf)(e,"text/uri-list")>=0)l={type:"link",attributes:{href:l},content:l};else if((0,H.indexOf)(e,"text/json")>=0){var v=n&&n.getData("text/json");v&&(l=JSON.parse(v))}else e.length===1&&e[0]==="text/plain"&&(l="<div>".concat(l,"</div>"));var _={content:l};return t.trigger("canvas:dragdata",n,_),_},o}();const mP=gP;var yP=function(){function o(n,t){n===void 0&&(n=50);var e;this.dragging=!1,this.lastMaxHeight=0,this.zoom=1,this.rectIsInScrollIframe=!1,this.autoscrollLimit=n,this.lastMaxHeight=(e=t==null?void 0:t.lastMaxHeight)!==null&&e!==void 0?e:0,this.onScroll=t==null?void 0:t.onScroll,this.rectIsInScrollIframe=!!(t!=null&&t.rectIsInScrollIframe),(0,H.bindAll)(this,"start","autoscroll","updateClientY","stop")}return o.prototype.start=function(n,t,e){var r=this;this.eventEl=n,this.scrollEl=t,this.lastMaxHeight=(e==null?void 0:e.lastMaxHeight)||Number.POSITIVE_INFINITY,this.zoom=(e==null?void 0:e.zoom)||1,setTimeout(function(){r.toggleAutoscrollFx(!0),requestAnimationFrame(r.autoscroll)},0)},o.prototype.autoscroll=function(){var n,t,e=this.scrollEl;if(this.dragging&&e){var r=(n=this.lastClientY)!==null&&n!==void 0?n:0,i=this.autoscrollLimit,l=this.getEventElHeight(),f=l-i,p=0;r<i&&(p+=r-i),r>f&&(p+=r-f);var d=this.getElScrollTop(e);this.lastClientY!==void 0&&p!==0&&this.lastMaxHeight-p>d&&(e.scrollBy({top:p,left:0,behavior:"auto"}),(t=this.onScroll)===null||t===void 0||t.call(this)),requestAnimationFrame(this.autoscroll)}},o.prototype.getEventElHeight=function(){var n=this.eventEl;if(!n)return 0;var t=n.getBoundingClientRect();return t.height},o.prototype.updateClientY=function(n){var t=this.scrollEl;n.preventDefault();var e=this.rectIsInScrollIframe?0:this.getElScrollTop(t);this.lastClientY=(0,ye.G2)(n).clientY*this.zoom-e},o.prototype.getElScrollTop=function(n){return(n instanceof HTMLElement?n.scrollTop:n==null?void 0:n.scrollY)||0},o.prototype.toggleAutoscrollFx=function(n){this.dragging=n;var t=this.eventEl;if(t){var e=n?"on":"off",r={on:ye.on,off:ye.AU};r[e](t,"mousemove dragover",this.updateClientY),r[e](t,"mouseup",this.stop)}},o.prototype.stop=function(){this.toggleAutoscrollFx(!1)},o}();const kx=yP;var _P=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sa=function(){return sa=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},sa.apply(this,arguments)},bP=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},wP=function(o){_P(n,o);function n(t,e){var r=o.call(this,{model:t})||this;r.dragging=!1,r.loaded=!1,r.lastMaxHeight=0,r.tools={},(0,H.bindAll)(r,"startAutoscroll","stopAutoscroll","_emitUpdate");var i=r.el;r.module._config=sa(sa({},r.config||{}),{frameView:r}),r.frameWrapView=e,r.showGlobalTools=(0,H.debounce)(r.showGlobalTools.bind(r),50);var l=r.getCanvasModel();return r.listenTo(t,"change:head",r.updateHead),r.listenTo(l,"change:styles",r.renderStyles),t.view=r,(0,Jt.setViewEl)(i,r),r.autoScroller=new kx(r.config.autoscrollLimit,{rectIsInScrollIframe:!0,onScroll:function(){var f=r.getGlobalToolsEl();f.style.opacity="0",r.showGlobalTools(),r.em.Canvas.spots.refreshDbn()}}),r}return Object.defineProperty(n.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),n.prototype.getBoxRect=function(){var t=this,e=t.el,r=t.module,i=r.getCanvasView(),l=r.getCoords(),f=e.getBoundingClientRect(),p=i.getCanvasOffset(),d=i.getViewportDelta(),v=r.getZoomMultiplier(),_=(f.x-p.left-d.x-l.x)*v,w=(f.y-p.top-d.y-l.y)*v,S=f.width*v,O=f.height*v;return{x:_,y:w,width:S,height:O}},n.prototype.updateHead=function(){var t=this.model,e=this.getHead(),r=[],i=[],l=t.head,f=t.previous("head"),p=function(v){return v===void 0&&(v={}),Object.keys(v).sort().map(function(_){return"[".concat(_,'="').concat(v[_],'"]')}).join("")},d=function(v,_,w){v.forEach(function(S){var O=S.tag,A=S.attributes,P=_.some(function(j){return j.tag===O&&p(j.attributes)===p(A)});!P&&w.push(S)})};d(l,f,i),d(f,l,r),r.forEach(function(v){var _,w=e.querySelector("".concat(v.tag).concat(p(v.attributes)));(_=w==null?void 0:w.parentNode)===null||_===void 0||_.removeChild(w)}),(0,ye.af)(e,i)},n.prototype.getEl=function(){return this.el},n.prototype.getCanvasModel=function(){var t;return(t=this===null||this===void 0?void 0:this.em.Canvas)===null||t===void 0?void 0:t.getModel()},n.prototype.getWindow=function(){return this.getEl().contentWindow},n.prototype.getDoc=function(){return this.getEl().contentDocument},n.prototype.getHead=function(){return this.getDoc().querySelector("head")},n.prototype.getBody=function(){return this.getDoc().querySelector("body")},n.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},n.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,ye.a_)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},n.prototype.getToolsEl=function(){var t;return(t=this.frameWrapView)===null||t===void 0?void 0:t.elTools},n.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},n.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},n.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},n.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},n.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},n.prototype.getOffsetRect=function(){var t=this.el,e=this.getBody(),r=e.scrollTop,i=e.scrollLeft,l=t.offsetHeight,f=t.offsetWidth;return{top:t.offsetTop,left:t.offsetLeft,height:l,width:f,scrollTop:r,scrollLeft:i,scrollBottom:r+l,scrollRight:i+f}},n.prototype._getTool=function(t){var e=this.tools,r=this.getToolsEl();return e[t]||(e[t]=r.querySelector(t)),e[t]},n.prototype.remove=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._toggleEffects(!1),this.tools={},(t=this.wrapper)===null||t===void 0||t.remove(),ca.prototype.remove.apply(this,e),this},n.prototype.startAutoscroll=function(){this.autoScroller.start(this.el,this.getWindow(),{lastMaxHeight:this.getWrapper().offsetHeight-this.el.offsetHeight,zoom:this.em.getZoomDecimal()})},n.prototype.stopAutoscroll=function(){this.autoScroller.stop()},n.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},n.prototype.render=function(){var t=this,e=t.$el,r=t.ppfx,i=t.em;return e.attr({class:"".concat(r,"frame")}),this.renderScripts(),i.trigger("frame:render",this),this},n.prototype.renderScripts=function(){var t=this,e=this,r=e.el,i=e.model,l=e.em,f="frame:load",p={el:r,model:i,view:this},d=this.getCanvasModel(),v=function(_){var w;if(_.length>0){var S=_.shift(),O=(0,ye.a_)("script",sa({type:"text/javascript"},(0,H.isString)(S)?{src:S}:S));(w=r.contentDocument)===null||w===void 0||w.head.appendChild(O),O.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?v(_):O.onerror=O.onload=v.bind(null,_)}else l==null||l.trigger(zh.frameLoadHead,p),t.renderBody(),l==null||l.trigger(zh.frameLoadBody,p),l==null||l.trigger(f,p)};r.onload=function(){var _=t.config.frameContent;if(_){var w=t.getDoc();w.open(),w.write(_),w.close()}p.window=t.getWindow(),l==null||l.trigger("".concat(f,":before"),p),l==null||l.trigger(zh.frameLoad,p),t.renderHead(),v(bP([],d.get("scripts"),!0))}},n.prototype.renderStyles=function(t){t===void 0&&(t={});var e=this.getHead(),r=this.getCanvasModel(),i=function(_){return _===void 0&&(_=[]),_.map(function(w){return{tag:"link",attributes:sa({rel:"stylesheet"},(0,H.isString)(w)?{href:w}:w)}})},l=i(t.prev||r.previous("styles")),f=i(r==null?void 0:r.get("styles")),p=[],d=[],v=function(_,w,S){_.forEach(function(O){var A=O.attributes.href,P=w.some(function(j){return j.attributes.href===A});!P&&S.push(O)})};v(f,l,d),v(l,f,p),p.forEach(function(_){var w,S=e.querySelector('link[href="'.concat(_.attributes.href,'"]'));(w=S==null?void 0:S.parentNode)===null||w===void 0||w.removeChild(S)}),(0,ye.af)(e,d)},n.prototype.renderHead=function(){var t,e=this,r=e.model,i=e.em,l=r.root,f=(t=i==null?void 0:i.Components)===null||t===void 0?void 0:t.getType(xf).view;f&&(this.headView=new f({el:this.getHead(),model:l.head,config:sa(sa({},l.config),{frameView:this})}).render())},n.prototype.renderBody=function(){var t=this,e,r,i,l=this,f=l.config,p=l.em,d=l.model,v=l.ppfx,_=this.getDoc(),w=this.getBody(),S=this.getWindow(),O=d.hasAutoHeight(),A=p.config;S._isEditor=!0,this.renderStyles({prev:[]});var P="#ffca6f";(0,ye.BC)(w,`<style>
      `.concat(A.baseCss||f.frameStyle||"",`

      `).concat(O?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(O?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(v,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(v,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(v,`selected-parent {
        outline: 2px solid `).concat(P,` !important
      }

      .`).concat(v,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(v,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(v,`no-pointer {
        pointer-events: none;
      }

      .`).concat(v,`pointer-init {
        pointer-events: initial;
      }

      .`).concat(v,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(v,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(v,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(v,`is__grabbing,
      .`).concat(v,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(A.canvasCss||"",`
      `).concat(A.protectedCss||"",`
    </style>`));var j=d.root,z=(((e=p==null?void 0:p.Components)===null||e===void 0?void 0:e.getType("wrapper"))||{}).view;z&&(typeof f.customRenderer=="function"?this.wrapper=f.customRenderer({editor:p.Editor,frame:d,window:S,frameView:this}):this.wrapper=new z({model:j,config:sa(sa({},j.config),{em:p,frameView:this})}).render(),(0,ye.BC)(w,(r=this.wrapper)===null||r===void 0?void 0:r.el),(0,ye.BC)(w,new wx({collection:d.getStyles(),config:sa(sa({},p.Css.getConfig()),{frameView:this})}).render().el),(0,ye.BC)(w,this.getJsContainer()),(0,ye.on)(w,"click",function(k){var G;return k&&((G=k.target)===null||G===void 0?void 0:G.tagName)=="A"&&k.preventDefault()}),(0,ye.on)(w,"submit",function(k){return k&&k.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!f.infiniteCanvas}}].forEach(function(k){return k.event.split(" ").forEach(function(G){_.addEventListener(G,function(ot){return t.el.dispatchEvent((0,ye.yL)(ot,k.class))},k.opts)})}),this._toggleEffects(!0),(0,Jt.hasDnd)(p)&&(this.droppable=new mP(p,(i=this.wrapper)===null||i===void 0?void 0:i.el)),this.loaded=!0,d.trigger("loaded"))},n.prototype._toggleEffects=function(t){var e=t?ye.on:ye.AU,r=this.getWindow();r&&e(r,"".concat(ye.D8," resize"),this._emitUpdate)},n.prototype._emitUpdate=function(){this.model._emitUpdated()},n}(ca);const xP=wP;var Vx=wn(9966),SP=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lf=function(){return lf=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},lf.apply(this,arguments)},CP=function(o){SP(n,o);function n(t,e){var r=o.call(this,{model:t})||this;return(0,H.bindAll)(r,"onScroll","frameLoaded","updateOffset","remove","startDrag"),lf(lf({},t.config),{frameWrapView:r}),r.cv=e,r.frame=new xP(t,r),r.classAnim="".concat(r.ppfx,"frame-wrapper--anim"),r.updateOffset=(0,H.debounce)(r.updateOffset.bind(r),0),r.updateSize=(0,H.debounce)(r.updateSize.bind(r),0),r.listenTo(t,"loaded",r.frameLoaded),r.listenTo(t,"change:x change:y",r.updatePos),r.listenTo(t,"change:width change:height",r.updateSize),r.listenTo(t,"destroy remove",r.remove),r.updatePos(),r.setupDragger(),r}return n.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},n.prototype.setupDragger=function(){var t=this,e=this,r=e.module,i=e.model,l,f,p,d=function(v){r.toggleFramesEvents(v)};this.dragger=new Vx.A({onStart:function(){var v=i.attributes,_=v.x,w=v.y;p=t.em.getZoomMultiplier(),l=_,f=w,d(!1)},onEnd:function(){return d(!0)},setPosition:function(v){i.set({x:l+v.x*p,y:f+v.y*p})}})},n.prototype.startDrag=function(t){var e;t&&((e=this.dragger)===null||e===void 0||e.start(t))},n.prototype.__clear=function(t){var e=this.frame;e&&e.remove(t),(0,ye.YZ)(this.elTools)},n.prototype.remove=function(t){var e=this,r;return(r=this.sizeObserver)===null||r===void 0||r.disconnect(),this.__clear(t),ca.prototype.remove.apply(this,t),["frame","dragger","cv","elTools"].forEach(function(i){return e[i]=0}),this},n.prototype.updateOffset=function(){var t,e=this,r=e.em,i=e.$el,l=e.frame;!r||r.destroyed||(r.runDefault({preserveSelected:1}),i.removeClass(this.classAnim),(t=l==null?void 0:l.model)===null||t===void 0||t._emitUpdated())},n.prototype.updatePos=function(t){var e=this,r=e.model,i=e.el,l=r.attributes,f=l.x,p=l.y,d=i.style;this.frame.rect=void 0,d.left=isNaN(f)?f:"".concat(f,"px"),d.top=isNaN(p)?p:"".concat(p,"px"),t&&this.updateOffset()},n.prototype.updateSize=function(){this.updateDim()},n.prototype.updateDim=function(){var t=this,e=t.em,r=t.el,i=t.$el,l=t.model,f=t.classAnim,p=t.frame;if(p){p.rect=void 0,i.addClass(f);var d=this.__handleSize(),v=d.noChanges,_=d.width,w=d.height;((0,H.isNull)(_)||(0,H.isNull)(w))&&l.set(lf(lf({},_?{}:{width:r.offsetWidth}),w?{}:{height:r.offsetHeight}),{silent:1}),e.stopDefault({preserveSelected:1}),v?this.updateOffset():setTimeout(this.updateOffset,350)}},n.prototype.onScroll=function(){var t=this,e=t.frame,r=t.em;r.trigger("frame:scroll",{frame:e,body:e.getBody(),target:e.getWindow()})},n.prototype.frameLoaded=function(){var t=this,e=t.frame;t.config,e.getWindow().onscroll=this.onScroll,this.updateDim()},n.prototype.__handleSize=function(){var t,e="px",r=this,i=r.model,l=r.el,f=l.style,p=i.attributes,d=p.width,v=p.height,_=f.width||"",w=f.height||"",S=d||"",O=v||"",A=_==S&&w==O,P=(0,H.isNumber)(S)?"".concat(S).concat(e):S,j=(0,H.isNumber)(O)?"".concat(O).concat(e):O;if(f.width=P,(t=this.sizeObserver)===null||t===void 0||t.disconnect(),i.hasAutoHeight()){var z=this.frame.el,k=z.contentDocument;if(k){var G=new ResizeObserver(function(){var ot=parseFloat(i.get("minHeight"))||0,xt=Math.max(k.body.scrollHeight,ot);f.height="".concat(xt,"px")});G.observe(k.body),this.sizeObserver=G}}else f.height=j,delete this.sizeObserver;return{noChanges:A,width:d,height:v,newW:S,newH:O}},n.prototype.render=function(){var t=this,e=t.frame,r=t.$el,i=t.ppfx,l=t.cv,f=t.model,p=t.el,d=f.attributes.onRender;this.__clear(),this.__handleSize(),e.render(),r.empty().attr({class:"".concat(i,"frame-wrapper")}).append(`
      <div class="`.concat(i,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(i,`frame-wrapper__name" data-action-move>
          `).concat(f.get("name")||"",`
        </div>
        <div class="`).concat(i,`frame-wrapper__top-r">
          <div class="`).concat(i,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(i,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(i,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(i,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(e.el);var v=(0,ye.a_)("div",{class:"".concat(i,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(i,`highlighter" data-hl></div>
      <div class="`).concat(i,`badge" data-badge></div>
      <div class="`).concat(i,`placeholder">
        <div class="`).concat(i,`placeholder-int"></div>
      </div>
      <div class="`).concat(i,`ghost"></div>
      <div class="`).concat(i,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(i,`resizer"></div>
      <div class="`).concat(i,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(i,`offset-fixed-v"></div>
    `));this.elTools=v;var _=l==null?void 0:l.toolsWrapper;return _&&_.appendChild(v),d&&d({el:p,elTop:p.querySelector("[data-frame-top]"),elRight:p.querySelector("[data-frame-right]"),elBottom:p.querySelector("[data-frame-bottom]"),elLeft:p.querySelector("[data-frame-left]"),frame:f,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},n}(ca);const OP=CP;var TP=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),EP=function(o){TP(n,o);function n(t,e){t===void 0&&(t={});var r=o.call(this,t,!0)||this;return r.listenTo(r.collection,"reset",r.render),r.canvasView=e.canvasView,r._module=e.module,r}return n.prototype.onRemoveBefore=function(t,e){e===void 0&&(e={}),t.forEach(function(r){return r.remove(e)})},n.prototype.onRender=function(){var t=this,e=t.$el,r=t.ppfx;e.attr({class:"".concat(r,"frames")})},n.prototype.clearItems=function(){var t=this.viewCollection||[];t.forEach(function(e){return e.remove()}),this.viewCollection=[]},n.prototype.renderView=function(t,e){return new OP(t,this.canvasView)},n}(oA);const AP=EP;var PP=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uv=function(){return uv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},uv.apply(this,arguments)},DP=function(o){PP(n,o);function n(t){var e=o.call(this,{model:t})||this;e.ready=!1,(0,H.bindAll)(e,"clearOff","onKeyPress","onWheel","onPointer");var r=e,i=r.em,l=r.pfx,f=r.ppfx,p=e.module.events;return e.className="".concat(l,"canvas ").concat(f,"no-touch-actions").concat(i.config.customUI?"":" ".concat(l,"canvas-bg")),e.clsUnscale="".concat(l,"unscale"),e._initFrames(),e.listenTo(i,p.refresh,e.clearOff),e.listenTo(i,"component:selected",e.checkSelected),e.listenTo(i,"".concat(p.coords," ").concat(p.zoom),e.updateFrames),e.listenTo(t,"change:frames",e._onFramesUpdate),e.toggleListeners(!0),e}return n.prototype.template=function(){var t=this.pfx;return`
      <div class="`.concat(t,`canvas__frames" data-frames>
        <div class="`).concat(t,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(t,'tools" class="').concat(t,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},n.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},n.prototype._initFrames=function(){var t=this,e=t.frames,r=t.model,i=t.config,l=t.em,f=r.frames;l.set("readyCanvas",0),f.once("loaded:all",function(){return l.set("readyCanvas",1)}),e==null||e.remove(),this.frames=new AP({collection:f},uv(uv({},i),{canvasView:this}))},n.prototype.checkSelected=function(t,e){var r;e===void 0&&(e={});var i=e.scroll,l=this.em.getCurrentFrame();i&&((r=t.views)===null||r===void 0||r.forEach(function(f){f.frameView===l&&f.scrollIntoView(i)}))},n.prototype.remove=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return clearTimeout(this.timerZoom),(t=this.frames)===null||t===void 0||t.remove(),this.frames=void 0,ca.prototype.remove.apply(this,e),this.toggleListeners(!1),this},n.prototype.preventDefault=function(t){var e;t&&(t.preventDefault(),(e=t._parentEvent)===null||e===void 0||e.preventDefault())},n.prototype.toggleListeners=function(t){var e=this,r=e.el,i=e.config,l=t?ye.on:ye.AU;l(document,"keypress",this.onKeyPress),l(window,"scroll resize",this.clearOff),l(r,"wheel",this.onWheel,{passive:!i.infiniteCanvas}),l(r,"pointermove",this.onPointer)},n.prototype.screenToWorld=function(t,e){var r=this.module,i=r.getCoords(),l=r.getZoomMultiplier(),f=this.getViewportDelta();return{x:(t-i.x-f.x)*l,y:(e-i.y-f.y)*l}},n.prototype.onPointer=function(t){if(this.config.infiniteCanvas){var e=this.getCanvasOffset(),r=(0,ye.Xy)(),i={x:t.clientX-e.left+r.x,y:t.clientY-e.top+r.y};if(t._parentEvent){var l=t.target.getBoundingClientRect(),f=this.module.getZoomDecimal();i.x=l.left-e.left+r.x+t.clientX*f,i.y=l.top-e.top+r.y+t.clientY*f}this.model.set({pointerScreen:i,pointer:this.screenToWorld(i.x,i.y)})}},n.prototype.onKeyPress=function(t){var e=this.em,r=(0,ye.Ch)(t);r===" "&&e.getZoomDecimal()!==1&&!e.Canvas.isInputFocused()&&(this.preventDefault(t),e.Editor.runCommand("core:canvas-move"))},n.prototype.onWheel=function(t){var e=this,r=e.module,i=e.config;if(i.infiniteCanvas){this.preventDefault(t);var l=t.deltaX,f=t.deltaY,p=r.getZoomDecimal(),d=(0,ye.rp)(t),v=r.getCoords();if(d){var _=p-f*p*.01;r.setZoom(_*100);var w=this.model.getPointerCoords(fe.x2.Screen),S=this.getCanvasOffset(),O=w.x-S.width/2,A=w.y-S.height/2,P=_/p,j=O-(O-v.x)*P,z=A-(A-v.y)*P;r.setCoords(j,z)}else this.onPointer(t),r.setCoords(v.x-l,v.y-f)}},n.prototype.updateFrames=function(t){var e=this.em,r=this.toolsWrapper,i={preserveSelected:1};this.updateFramesArea(),this.clearOff(),r.style.display="none",e.trigger("canvas:update",t),clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){e.stopDefault(i),e.runDefault(i),r.style.display=""},300)},n.prototype.updateFramesArea=function(){var t=this,e=t.framesArea,r=t.model,i=t.module,l=t.cvStyle,f=t.clsUnscale,p=i.getZoomMultiplier();if(e){var d=r.attributes,v=d.x,_=d.y,w=i.getZoomDecimal();e.style.transform="scale(".concat(w,") translate(").concat(v*p,"px, ").concat(_*p,"px)")}l&&(l.innerHTML=`
        .`.concat(f," { scale: ").concat(p,` }
      `))},n.prototype.fitViewport=function(t){var e,r,i;t===void 0&&(t={});var l=this,f=l.em,p=l.module,d=l.model;this.clearOff();var v=this.getCanvasOffset(),_=t.el,w=_&&((e=(0,Jt.getComponentView)(_))===null||e===void 0?void 0:e.frameView),S=w?w.model:t.frame||f.getCurrentFrameModel()||d.frames.at(0),O=S.attributes,A=O.x,P=O.y,j={x:A??0,y:P??0,width:S.width,height:S.height};if(_){var z=this.getElBoxRect(_);j.x=j.x+z.x,j.y=j.y+z.y,j.width=z.width,j.height=z.height}var k=t.ignoreHeight,G=(r=t.gap)!==null&&r!==void 0?r:0,ot=(0,H.isNumber)(G),xt=ot?G:G.x,Nt=ot?G:G.y,vt=j.width+xt*2,$=j.height+Nt*2,mt=v.width,X=v.height,B=mt/vt,Q=X/$,J=k?B:Math.min(B,Q),ft=J*100,M=(i=(0,H.isFunction)(t.zoom)?t.zoom(ft):t.zoom)!==null&&i!==void 0?i:ft;p.setZoom(M,{from:"fitViewport"});var ht=-j.x+(S.width>=mt?mt/2-vt/2:-xt),yt=-j.y+X/2-$/2,Bt=p.getZoomDecimal(),nt={x:(ht+xt)*Bt,y:(yt+Nt)*Bt};if(k){var Lt=p.getZoomMultiplier(),pt=X*Lt,Et=pt-X,At=Et/2;nt.y=(-j.y+Nt)*Bt-At/Lt}p.setCoords(nt.x,nt.y)},n.prototype.isElInViewport=function(t){var e=(0,Jt.getElement)(t),r=(0,ye.C8)(e),i=this.getFrameOffset(e),l=r.top,f=r.left;return l>=0&&f>=0&&l<=i.height&&f<=i.width},n.prototype.offset=function(t,e){e===void 0&&(e={});var r=e.noScroll,i=(0,ye.C8)(t),l=r?{x:0,y:0}:(0,ye.Xy)(t);return{top:i.top+l.y,left:i.left+l.x,width:i.width,height:i.height}},n.prototype.getRectToScreen=function(t){var e,r,i,l,f=this.getCanvasScroll(),p=this.module.getZoomDecimal(),d=this.module.getCoords(),v=this.getViewportDelta(),_=((e=t.x)!==null&&e!==void 0?e:0)*p-f.scrollLeft+d.x+v.x||0,w=((r=t.y)!==null&&r!==void 0?r:0)*p-f.scrollTop+d.y+v.y||0;return{x:_,y:w,width:((i=t.width)!==null&&i!==void 0?i:0)*p,height:((l=t.height)!==null&&l!==void 0?l:0)*p}},n.prototype.getElBoxRect=function(t,e){var r,i,l;e===void 0&&(e={});var f=this.module,p=(0,ye.C8)(t),d=p.width,v=p.height,_=p.left,w=p.top,S=(r=(0,Jt.getComponentView)(t))===null||r===void 0?void 0:r.frameView,O=S==null?void 0:S.getBoxRect(),A=f.getZoomMultiplier(),P=(i=O==null?void 0:O.x)!==null&&i!==void 0?i:0,j=(l=O==null?void 0:O.y)!==null&&l!==void 0?l:0,z=this.el,k=(0,ye.Xy)(),G=_+P+(z.scrollLeft+k.x)*A,ot=w+j+(z.scrollTop+k.y)*A,xt={x:G,y:ot,width:d,height:v};return e.local&&(xt.x=_,xt.y=w),e.toScreen?this.getRectToScreen(xt):xt},n.prototype.getViewportRect=function(t){t===void 0&&(t={});var e=this.getCanvasOffset(),r=e.top,i=e.left,l=e.width,f=e.height,p=this.module;if(t.toWorld){var d=p.getZoomMultiplier(),v=p.getCoords(),_=this.getViewportDelta(),w=-v.x-_.x||0,S=-v.y-_.y||0;return{x:w*d,y:S*d,width:l*d,height:f*d}}else return{x:i,y:r,width:l,height:f}},n.prototype.getViewportDelta=function(t){var e=this.module.getZoomMultiplier(),r=this.getCanvasOffset(),i=r.width,l=r.height,f=i*e,p=l*e,d=f-i,v=p-l;return{x:d/2/e,y:v/2/e}},n.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},n.prototype.getFrameOffset=function(t){var e;if(!this.frmOff||t){var r=(e=this.frame)===null||e===void 0?void 0:e.el,i=t==null?void 0:t.ownerDocument.defaultView,l=i?i.frameElement:r;this.frmOff=this.offset(l||r)}return this.frmOff},n.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},n.prototype.getElementPos=function(t,e){e===void 0&&(e={});var r=this.module.getZoomDecimal(),i=this.getFrameOffset(t),l=this.el,f=this.getCanvasOffset(),p=this.offset(t,e),d=e.avoidFrameOffset?0:i.top,v=e.avoidFrameOffset?0:i.left,_=e.avoidFrameZoom?p.top:p.top*r,w=e.avoidFrameZoom?p.left:p.left*r,S=e.avoidFrameOffset?_:_+d-f.top+l.scrollTop,O=e.avoidFrameOffset?w:w+v-f.left+l.scrollLeft,A=e.avoidFrameZoom?p.height:p.height*r,P=e.avoidFrameZoom?p.width:p.width*r;return{top:S,left:O,height:A,width:P,zoom:r,rect:p}},n.prototype.getElementOffsets=function(t){if(!t||(0,ye.ir)(t))return{};var e={},r=window.getComputedStyle(t),i=this.module.getZoomDecimal(),l=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"];return l.forEach(function(f){e[f]=parseFloat(r[f])*i}),e},n.prototype.getPosition=function(t){var e;t===void 0&&(t={});var r=(e=this.frame)===null||e===void 0?void 0:e.el.contentDocument;if(!r)return{top:0,left:0,width:0,height:0};var i=r.body,l=this.module.getZoomDecimal(),f=this.getFrameOffset(),p=this.getCanvasOffset(),d=t.noScroll;return{top:f.top+(d?0:i.scrollTop)*l-p.top,left:f.left+(d?0:i.scrollLeft)*l-p.left,width:p.width,height:p.height}},n.prototype.getCanvasScroll=function(){return this.config.scrollableCanvas?{scrollTop:this.el.scrollTop,scrollLeft:this.el.scrollLeft}:{scrollTop:0,scrollLeft:0}},n.prototype.updateScript=function(t){var e=t.model,r=e.getId(),i={component:e,view:t,el:t.el};if(!t.scriptContainer){t.scriptContainer=(0,ye.a_)("div",{"data-id":r});var l=this.getJsContainer();l==null||l.appendChild(t.scriptContainer)}t.el.id=r,t.scriptContainer.innerHTML="";var f=document.createElement("script"),p=e.getScriptString(),d=e.get("script-props")?p:`function(){
`.concat(p,`
;}`),v=JSON.stringify(e.__getScriptProps());f.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(r,`');
        if (!item) return;
        var script = (`).concat(d,`).bind(item);
        script(`).concat(v,`, { el: item });
      }, 1);`),setTimeout(function(){e.emitWithEditor(Jn.I.scriptMountBefore,i);var _=t.scriptContainer;_==null||_.appendChild(f),e.emitWithEditor(Jn.I.scriptMount,i)},0)},n.prototype.getJsContainer=function(t){var e=this.getFrameView(t);return e==null?void 0:e.getJsContainer()},n.prototype.getFrameView=function(t){return(t==null?void 0:t.frameView)||this.em.getCurrentFrame()},n.prototype._renderFrames=function(){if(this.ready){var t=this,e=t.model,r=t.frames,i=t.em,l=t.framesArea,f=e.frames;f.listenToLoad(),r.render();var p=f.at(0),d=p==null?void 0:p.view;i.setCurrentFrame(d),l==null||l.appendChild(r.el),this.frame=d,this.updateFramesArea()}},n.prototype.renderFrames=function(){this._renderFrames()},n.prototype.render=function(){var t=this,e=t.el,r=t.$el,i=t.ppfx,l=t.config,f=t.em;r.html(this.template());var p=r.find("[data-frames]");this.framesArea=p.get(0);var d=r.find("[data-tools]");return this.toolsWrapper=d.get(0),d.append(`
      <div class="`.concat(i,"tools ").concat(i,`tools-gl" style="pointer-events:none">
        <div class="`).concat(i,`placeholder">
          <div class="`).concat(i,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(i,`tools" style="pointer-events:none">
        `).concat(l.extHl?'<div class="'.concat(i,'highlighter-sel"></div>'):"",`
        <div class="`).concat(i,`badge"></div>
        <div class="`).concat(i,`ghost"></div>
        <div class="`).concat(i,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(i,`resizer"></div>
        <div class="`).concat(i,`offset-v"></div>
        <div class="`).concat(i,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=e.querySelector("#".concat(i,"tools")),this.hlEl=e.querySelector(".".concat(i,"highlighter")),this.badgeEl=e.querySelector(".".concat(i,"badge")),this.placerEl=e.querySelector(".".concat(i,"placeholder")),this.ghostEl=e.querySelector(".".concat(i,"ghost")),this.toolbarEl=e.querySelector(".".concat(i,"toolbar")),this.resizerEl=e.querySelector(".".concat(i,"resizer")),this.offsetEl=e.querySelector(".".concat(i,"offset-v")),this.fixedOffsetEl=e.querySelector(".".concat(i,"offset-fixed-v")),this.toolsGlobEl=e.querySelector(".".concat(i,"tools-gl")),this.spotsEl=e.querySelector("[data-spots]"),this.cvStyle=e.querySelector("[data-canvas-style]"),e.className=(0,Jt.getUiClass)(f,this.className),l.scrollableCanvas===!0&&(e.style.overflow="auto"),this.ready=!0,this._renderFrames(),this},n}(ca);const MP=DP;var jP=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mu=function(){return Mu=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Mu.apply(this,arguments)},RP=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},LP=function(o){jP(n,o);function n(t){var e=o.call(this,t,"Canvas",OE())||this;return e.events=Jh,e.framesById={},e.canvas=new JE(e),e.spots=new tA(e),e.model=e.canvas,e.startAutoscroll=e.startAutoscroll.bind(e),e.stopAutoscroll=e.stopAutoscroll.bind(e),e.autoScroller=new kx,e}return n.prototype.getCanvasView=function(){return this.canvasView},n.prototype.postLoad=function(){this.model.init()},n.prototype.getModel=function(){return this.canvas},n.prototype.getElement=function(){return this.getCanvasView().el},n.prototype.getFrame=function(t){return this.getFrames()[t||0]},n.prototype.getFrameEl=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.el},n.prototype.getFramesEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.framesArea},n.prototype.getWindow=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.getWindow()},n.prototype.getDocument=function(){var t=this.getFrameEl();return t==null?void 0:t.contentDocument},n.prototype.getBody=function(){var t=this.getDocument();return t==null?void 0:t.body},n.prototype._getLocalEl=function(t,e,r){var i=t,l=e==null?void 0:e.frameView;return i=l?l[r]():i,i},n.prototype.getGlobalToolsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.toolsGlobEl},n.prototype.getToolsEl=function(t){return this._getLocalEl(this.getCanvasView().toolsEl,t,"getToolsEl")},n.prototype.getHighlighter=function(t){return this._getLocalEl(this.getCanvasView().hlEl,t,"getHighlighter")},n.prototype.getBadgeEl=function(t){return this._getLocalEl(this.getCanvasView().badgeEl,t,"getBadgeEl")},n.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},n.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},n.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},n.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},n.prototype.getOffsetViewerEl=function(t){return this._getLocalEl(this.getCanvasView().offsetEl,t,"getOffsetViewerEl")},n.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},n.prototype.getSpotsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.spotsEl},n.prototype.render=function(){var t;return(t=this.canvasView)===null||t===void 0||t.remove(),this.canvasView=new MP(this.canvas),this.canvasView.render().el},n.prototype.getOffset=function(){var t=this.offset(this.getFrameEl()),e=this.offset(this.getElement());return{top:t.top-e.top,left:t.left-e.left}},n.prototype.offset=function(t){return this.getCanvasView().offset(t)},n.prototype.setCustomBadgeLabel=function(t){this.config.customBadgeLabel=t},n.prototype.getElementPos=function(t,e){return this.getCanvasView().getElementPos(t,e)},n.prototype.getElementOffsets=function(t){return this.getCanvasView().getElementOffsets(t)},n.prototype.getRect=function(){var t,e=(t=this.getCanvasView().getPosition())!==null&&t!==void 0?t:{},r=e.top,i=r===void 0?0:r,l=e.left,f=l===void 0?0:l;return Mu(Mu({},this.getCanvasView().getCanvasOffset()),{topScroll:i,leftScroll:f})},n.prototype.getTargetToElementDim=function(t,e,r){r===void 0&&(r={});var i=r||{},l=this.getCanvasView().getPosition();if(l){var f=i.elPos||this.getCanvasView().getElementPos(e),p=r.toRight||0,d=i.targetHeight||t.offsetHeight,v=i.targetWidth||t.offsetWidth,_=i.event||null,w=f.top-d,S=f.left;S+=p?f.width:0,S=p?S-v:S;var O=S<l.left?l.left:S,A=w<l.top?l.top:w;A=A>f.top+f.height?f.top+f.height:A;var P={top:A,left:O,elementTop:f.top,elementLeft:f.left,elementWidth:f.width,elementHeight:f.height,targetWidth:t.offsetWidth,targetHeight:t.offsetHeight,canvasTop:l.top,canvasLeft:l.left,canvasWidth:l.width,canvasHeight:l.height};return _&&this.em&&this.em.trigger(_,P),P}},n.prototype.canvasRectOffset=function(t,e,r){var i=this;r===void 0&&(r={});var l=function(p){var d=p.defaultView;return d==null?void 0:d.frameElement},f=function(p,d,v){d===void 0&&(d=1);var _=i.em.getZoomDecimal(),w=d?"top":"left",S=p.ownerDocument,O=r.offset?l(S):{},A=O.offsetTop,P=A===void 0?0:A,j=O.offsetLeft,z=j===void 0?0:j,k=S.body||{},G=k.scrollTop,ot=G===void 0?0:G,xt=k.scrollLeft,Nt=xt===void 0?0:xt,vt=d?ot:Nt,$=d?P:z;return v[w]-(vt-$)*_};return{top:f(t,1,e),left:f(t,0,e)}},n.prototype.getTargetToElementFixed=function(t,e,r){r===void 0&&(r={});var i=r.pos||this.getElementPos(t,{noScroll:!0}),l=r.canvasOff||this.canvasRectOffset(t,i),f=e.offsetHeight||0,p=e.offsetWidth||0,d=this.getCanvasView(),v=d.getCanvasScroll(),_=v.scrollTop,w=v.scrollLeft,S=d.getPosition(),O=r.event,A=i.width-p,P=-f,j=(0,H.isUndefined)(r.left)?A:r.left,z=Math.max(-i.left+w,0);j=Math.max(j,z);var k=i.width-p;j=Math.min(j,k);var G=S.width+w-p-i.left;j=Math.min(j,G);var ot=l.top<f+_,xt=P;if(ot){var Nt=i.height+f,vt=Nt<S.height;if(vt)xt=xt+Nt;else{var $=-l.top+_;xt=$<i.height?$:i.height}}var mt={top:xt,left:j,canvasOffsetTop:l.top,canvasOffsetLeft:l.left,elRect:i,canvasOffset:l,canvasRect:S,targetWidth:p,targetHeight:f};return O&&this.em.trigger(O,mt),mt},n.prototype.getMouseRelativePos=function(t,e){e===void 0&&(e={});var r=e.subWinOffset,i=t.target,l=i.nodeType===Node.DOCUMENT_NODE?i:i.ownerDocument,f=l.defaultView||l.parentWindow,p=f.frameElement,d=r?f.pageYOffset:0,v=r?f.pageXOffset:0,_=this.getZoomMultiplier(),w=0,S=0;if(p){var O=p.getBoundingClientRect();w=O.top||0,S=O.left||0}return{y:(t.clientY+w-d)*_,x:(t.clientX+S-v)*_}},n.prototype.getMouseRelativeCanvas=function(t,e){var r,i=this.getZoomDecimal(),l=this.getCanvasView(),f=(r=l.getPosition(e))!==null&&r!==void 0?r:{top:0,left:0},p=l.getCanvasScroll(),d={top:f.top+p.scrollTop,left:f.left+p.scrollLeft},v=d.top,_=d.left;return{y:t.clientY*i+v,x:t.clientX*i+_}},n.prototype.startDrag=function(t){this.em.set("dragSource",t)},n.prototype.endDrag=function(){this.em.set({dragResult:null,dragSource:void 0})},n.prototype.hasFocus=function(){return this.getDocument().hasFocus()},n.prototype.isInputFocused=function(){var t=this.getDocument(),e=this.getFrameEl(),r=RP(["body"],this.config.notTextable,!0),i=e&&document.activeElement===e,l=i?t&&t.activeElement:document.activeElement;return l&&!r.some(function(f){return l.matches(f)})},n.prototype.scrollTo=function(t,e){e===void 0&&(e={});var r=(0,Jt.getElement)(t),i=r&&(0,Jt.getViewEl)(r);i&&i.scrollIntoView(e)},n.prototype.startAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();if(e&&e.startAutoscroll(),this.config.scrollableCanvas){var r=this.getCanvasView().el;this.autoScroller.start(r,r,{zoom:this.em.getZoomDecimal()})}},n.prototype.stopAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();e&&e.stopAutoscroll(),this.config.scrollableCanvas&&this.autoScroller.stop()},n.prototype.setZoom=function(t,e){return e===void 0&&(e={}),this.canvas.set("zoom",typeof t=="string"?parseFloat(t):t,e),this},n.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},n.prototype.setCoords=function(t,e,r){var i;r===void 0&&(r={});var l=t||t===0,f=e||e===0,p={x:this.canvas.get("x"),y:this.canvas.get("y")};if(l&&(p.x=parseFloat("".concat(t))),f&&(p.y=parseFloat("".concat(e))),r.toWorld){var d=(i=this.canvasView)===null||i===void 0?void 0:i.getViewportDelta();d&&(l&&(p.x=p.x-d.x),f&&(p.y=p.y-d.y))}return this.canvas.set(p),this},n.prototype.getCoords=function(){var t=this.canvas.attributes,e=t.x,r=t.y;return{x:e,y:r}},n.prototype.getPointer=function(t){var e=this.canvas.attributes,r=e.pointer,i=e.pointerScreen;return t?i:r},n.prototype.getZoomDecimal=function(){return this.getZoom()/100},n.prototype.getZoomMultiplier=function(){var t=this.getZoomDecimal();return t?1/t:1},n.prototype.fitViewport=function(t){var e;(e=this.canvasView)===null||e===void 0||e.fitViewport(t)},n.prototype.toggleFramesEvents=function(t){var e=this.getFramesEl().style;e.pointerEvents=t?"":"none"},n.prototype.getFrames=function(){return this.canvas.frames.map(function(t){return t})},n.prototype.addFrame=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),this.canvas.frames.add(new yx(this,Mu({},t)),e)},n.prototype.getLastDragResult=function(){return this.em.get("dragResult")},n.prototype.addSpot=function(t,e){var r;e===void 0&&(e={});var i=t,l=this.getSpots(i);if(l.length){var f=l[0];return f.set(i),f}var p=i.componentView||((r=i.component)===null||r===void 0?void 0:r.view),d=new la.A(this,Mu(Mu({},i),{id:i.id||"cs_".concat(i.type,"_").concat(p==null?void 0:p.cid),type:i.type||""}));return this.spots.add(d,e),d},n.prototype.getSpots=function(t){return t===void 0&&(t={}),this.spots.where(t.id?{id:t.id}:t)},n.prototype.removeSpots=function(t){t===void 0&&(t={});var e=(0,H.isArray)(t)?t:this.getSpots(t),r=this.spots.remove(e);return r},n.prototype.hasCustomSpot=function(t){var e=this.config.customSpots;return!!(e===!0||e&&t&&e[t])},n.prototype.getWorldRectToScreen=function(t){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.getRectToScreen(t)},n.prototype.refresh=function(t){t===void 0&&(t={});var e=this,r=e.em,i=e.events,l=e.canvasView;l==null||l.clearOff(),(t.spots||t.all)&&(this.refreshSpots(),r.trigger("canvas:updateTools")),r.set("canvasOffset",this.getOffset()),r.trigger(i.refresh,t)},n.prototype.refreshSpots=function(){this.spots.refresh()},n.prototype.destroy=function(){var t=this,e;this.canvas.stopListening(),(e=this.canvasView)===null||e===void 0||e.remove(),["model","droppable"].forEach(function(r){return t[r]={}})},n}(Eo);const NP=LP;var kP=function(){return{stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]}};const VP=kP;var UP=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cv=function(){return cv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},cv.apply(this,arguments)},HP=function(o){UP(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return cv(cv({},o.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),n.prototype.toHTML=function(){var t=this.content,e=this.parent();return e!=null&&e.is("script")?t:this.__escapeContent(t)},n.prototype.__escapeContent=function(t){return(0,Jt.escapeNodeContent)(t)},n.isComponent=function(t){var e;if(t.nodeType===3)return{type:"textnode",content:(e=t.textContent)!==null&&e!==void 0?e:""}},n}(Tr);const Ux=HP;var BP=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gy=function(){return gy=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},gy.apply(this,arguments)},IP=function(o){BP(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return gy({},o.prototype.defaults)},enumerable:!1,configurable:!0}),n.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},n.isComponent=function(t){var e;if(t.nodeType==8)return{type:"comment",content:(e=t.textContent)!==null&&e!==void 0?e:""}},n}(Ux);const zP=IP;var FP=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fv=function(){return fv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},fv.apply(this,arguments)},wm="iframe",WP=function(o){FP(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return fv(fv({},o.prototype.defaults),{type:wm,tagName:wm,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,Jt.toLowerCase)(t.tagName)===wm},n}(Tr);const qP=WP;var GP=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dv=function(){return dv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},dv.apply(this,arguments)},pb='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',KP=function(o){GP(n,o);function n(t,e){t===void 0&&(t={});var r=o.call(this,t,e)||this,i=r.get("attributes").src;return i&&(0,Jt.buildBase64UrlFromSvg)((0,H.result)(r,"defaults").src)!==i&&r.set("src",i,{silent:!0}),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return dv(dv({},o.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(pb,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(pb,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),n.prototype.initToolbar=function(){o.prototype.initToolbar.call(this);var t=this.em;if(t){var e=t.Commands,r="image-editor";if(e.has(r)){for(var i=!1,l=this.get("toolbar"),f=0;f<l.length;f++)if(l[f].command==="image-editor"){i=!0;break}i||(l.push({attributes:{class:"fa fa-pencil"},command:r}),this.set("toolbar",l))}}},n.prototype.getAttrToHTML=function(){var t=o.prototype.getAttrToHTML.call(this),e=this.getSrcResult();return e&&(t.src=e),t},n.prototype.getSrcResult=function(t){t===void 0&&(t={});var e=this.get(t.fallback?"fallback":"src")||"",r=e;return e&&e.substr(0,4)==="<svg"&&(r=(0,Jt.buildBase64UrlFromSvg)(e)),r},n.prototype.isDefaultSrc=function(){var t=this.get("src"),e=(0,H.result)(this,"defaults").src;return t===e||t===(0,Jt.buildBase64UrlFromSvg)(e)},n.prototype.toJSON=function(t){var e=o.prototype.toJSON.call(this,t),r=e.attributes;return r&&e.src===r.src&&delete e.src,e},n.prototype.parseUri=function(t){var e={},r=function(i){i===void 0&&(i="");for(var l={},f=i.substring(1).split("&"),p=0;p<f.length;p++){var d=f[p].split("="),v=decodeURIComponent(d[0]);v&&(l[v]=decodeURIComponent(d[1]||""))}return l};if((0,Jt.hasWin)())e=document.createElement("a"),e.href=t;else if(typeof URL<"u")try{e=new URL(t)}catch{}return{hostname:e.hostname||"",pathname:e.pathname||"",protocol:e.protocol||"",search:e.search||"",hash:e.hash||"",port:e.port||"",query:r(e.search)}},n.isComponent=function(t){return(0,Jt.toLowerCase)(t.tagName)==="img"},n}(Tr);const e0=KP;var YP=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pv=function(){return pv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},pv.apply(this,arguments)},XP=function(o){YP(n,o);function n(t,e){t===void 0&&(t={});var r=o.call(this,t,e)||this;return r.__checkInnerChilds(),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return pv(pv({},o.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),n.prototype.__checkInnerChilds=function(){var t=this.em.Components.config.disableTextInnerChilds;if(t){var e=function(r){r.isInstanceOf("textnode")||r.set({locked:!0,layerable:!1})};(0,H.isFunction)(t)?this.forEachChild(function(r){t(r)&&e(r)}):this.forEachChild(e)}},n}(Tr);const n0=XP;var ZP=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hv=function(){return hv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},hv.apply(this,arguments)},xm="label",JP=function(o){ZP(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return hv(hv({},o.prototype.defaults),{type:xm,tagName:xm,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,Jt.toLowerCase)(t.tagName)===xm},n}(n0);const QP=JP;var $P=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vv=function(){return vv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},vv.apply(this,arguments)},hb="link",tD=function(o){$P(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return vv(vv({},o.prototype.defaults),{type:hb,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t,e){e===void 0&&(e={});var r;if((0,Jt.toLowerCase)(t.tagName)==="a"){var i=e.textTags||[];r={type:hb,editable:!1};var l=t.childNodes,f=l.length;f||delete r.editable,(0,H.forEach)(l,function(p){var d=p.tagName;(p.nodeType==3&&p.textContent.trim()!==""||d&&i.indexOf((0,Jt.toLowerCase)(d))>=0)&&delete r.editable})}return r},n}(n0);const eD=tD;var nD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gv=function(){return gv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},gv.apply(this,arguments)},rD=function(o){nD(n,o);function n(t,e){t===void 0&&(t={});var r=o.call(this,t,e)||this;return r.get("src")?r.parseFromSrc():r.updateSrc(),r.listenTo(r,"change:address change:zoom change:mapType",r.updateSrc),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){var t=o.prototype.defaults;return gv(gv({},t),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:t.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),n.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},n.prototype.getMapUrl=function(){var t=this.get("address"),e=this.get("zoom"),r=this.get("mapType");t=t?"&q="+t:"",e=e?"&z="+e:"",r=r?"&t="+r:"";var i=this.get("mapUrl")+"?"+t+e+r;return i+="&output=embed",i},n.prototype.parseFromSrc=function(){var t=this.parseUri(this.get("src")),e=t.query;e.q&&this.set("address",e.q),e.z&&this.set("zoom",e.z),e.t&&this.set("mapType",e.t)},n.isComponent=function(t){if((0,Jt.toLowerCase)(t.tagName)=="iframe"&&/maps\.google\.com/.test(t.src))return{type:"map",src:t.src}},n}(e0);const iD=rD;var oD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mv=function(){return mv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},mv.apply(this,arguments)},Sm="script",aD=function(o){oD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return mv(mv({},o.prototype.defaults),{type:Sm,tagName:Sm,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,Jt.toLowerCase)(t.tagName)===Sm},n}(Tr);const sD=aD;var lD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yv=function(){return yv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},yv.apply(this,arguments)},Cm="svg",uD=function(o){lD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return yv(yv({},o.prototype.defaults),{type:Cm,tagName:Cm,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),n.prototype.getName=function(){var t=this.get("tagName"),e=this.get("custom-name");return t=t.charAt(0).toUpperCase()+t.slice(1),e||t},n.isComponent=function(t){return(0,Jt.toLowerCase)(t.tagName)===Cm},n}(Tr);const Hx=uD;var cD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_v=function(){return _v=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},_v.apply(this,arguments)},fD=function(o){cD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return _v(_v({},o.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),n.isComponent=function(t,e){return e===void 0&&(e={}),!!e.inSvg},n}(Hx);const dD=fD;var pD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bv=function(){return bv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},bv.apply(this,arguments)},Om="table",hD=function(o){pD(n,o);function n(t,e){t===void 0&&(t={});var r=o.call(this,t,e)||this,i=r.get("components");return!i.length&&i.add({type:"tbody"}),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return bv(bv({},o.prototype.defaults),{type:Om,tagName:Om,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,Jt.toLowerCase)(t.tagName)===Om},n}(Tr);const vD=hD;var gD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wv=function(){return wv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},wv.apply(this,arguments)},Tm="tbody",mD=function(o){gD(n,o);function n(t,e){t===void 0&&(t={});var r=o.call(this,t,e)||this,i=r.get("components"),l=r.get("columns"),f=r.get("rows");if(!i.length){for(var p=[];f--;){for(var d=[],v=l;v--;)d.push({type:"cell",classes:["cell"]});p.push({type:"row",classes:["row"],components:d})}i.add(p)}return r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return wv(wv({},o.prototype.defaults),{type:Tm,tagName:Tm,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,Jt.toLowerCase)(t.tagName)===Tm},n}(Tr);const r0=mD;var yD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xv=function(){return xv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},xv.apply(this,arguments)},_D=function(o){yD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return xv(xv({},o.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return["td","th"].indexOf((0,Jt.toLowerCase)(t.tagName))>=0},n}(Tr);const bD=_D;var wD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sv=function(){return Sv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Sv.apply(this,arguments)},Em="tfoot",xD=function(o){wD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Sv(Sv({},o.prototype.defaults),{type:Em,tagName:Em})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,Jt.toLowerCase)(t.tagName)===Em},n}(r0);const SD=xD;var CD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cv=function(){return Cv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Cv.apply(this,arguments)},Am="thead",OD=function(o){CD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Cv(Cv({},o.prototype.defaults),{type:Am,tagName:Am})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,Jt.toLowerCase)(t.tagName)===Am},n}(r0);const TD=OD;var ED=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ov=function(){return Ov=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Ov.apply(this,arguments)},vb="tr",AD=function(o){ED(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Ov(Ov({},o.prototype.defaults),{tagName:vb,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,Jt.toLowerCase)(t.tagName)===vb},n}(Tr);const PD=AD;var DD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Tv=function(){return Tv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Tv.apply(this,arguments)},Pm="video",Qc="yt",$c="vi",tf="ytnc",gb="so",Dm=function(o){return o&&o!=="0"},MD=function(o){DD(n,o);function n(t,e){t===void 0&&(t={});var r=o.call(this,t,e)||this;return r.get("src")&&r.parseFromSrc(),r.updatePropsFromAttr(),r.updateTraits(),r.on("change:provider",r.updateTraits),r.on("change:videoId change:provider",r.updateSrc),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Tv(Tv({},o.prototype.defaults),{type:Pm,tagName:Pm,videoId:"",void:!1,provider:gb,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:0,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),n.prototype.updatePropsFromAttr=function(){if(this.get("provider")===gb){var t=this.get("attributes"),e=t.controls,r=t.autoplay,i=t.loop,l={};(0,Jt.isDef)(e)&&(l.controls=!!e),(0,Jt.isDef)(r)&&(l.autoplay=!!r),(0,Jt.isDef)(i)&&(l.loop=!!i),(0,Jt.isEmptyObj)(l)||this.set(l)}},n.prototype.updateTraits=function(){var t=this.em,e=this.get("provider"),r="iframe",i;switch(e){case Qc:case tf:i=this.getYoutubeTraits();break;case $c:i=this.getVimeoTraits();break;default:r="video",i=this.getSourceTraits()}this.set({tagName:r},{silent:!0}),this.set({traits:i}),t.get("ready")&&t.trigger("component:toggled")},n.prototype.parseFromSrc=function(){var t=this.get("provider"),e=this.parseUri(this.get("src")),r=e.query;switch(t){case Qc:case tf:case $c:this.set("videoId",e.pathname.split("/").pop()),r.list&&this.set("list",r.list),Dm(r.autoplay)&&this.set("autoplay",!0),Dm(r.loop)&&this.set("loop",!0),parseInt(r.controls)===0&&this.set("controls",!1),Dm(r.color)&&this.set("color",r.color),r.rel==="0"&&this.set("rel",0),r.modestbranding==="1"&&this.set("modestbranding",1);break}},n.prototype.updateSrc=function(){var t=this.get("provider"),e="";switch(t){case Qc:e=this.getYoutubeSrc();break;case tf:e=this.getYoutubeNoCookieSrc();break;case $c:e=this.getVimeoSrc();break}this.set({src:e})},n.prototype.getAttrToHTML=function(){var t=o.prototype.getAttrToHTML.call(this),e=this.get("provider");switch(e){case Qc:case tf:case $c:break;default:t.loop=!!this.get("loop"),t.autoplay=!!this.get("autoplay"),t.controls=!!this.get("controls")}return t},n.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:Qc,name:"Youtube"},{value:tf,name:"Youtube (no cookie)"},{value:$c,name:"Vimeo"}]}},n.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},n.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0}]},n.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait()]},n.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},n.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},n.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},n.prototype.getYoutubeSrc=function(){var t=this.get("videoId"),e=this.get("ytUrl"),r=this.get("list");return e+=t+(t.indexOf("?")<0?"?":""),e+=r?"&list=".concat(r):"",e+=this.get("autoplay")?"&autoplay=1&mute=1":"",e+=this.get("controls")?"":"&controls=0&showinfo=0",e+=this.get("loop")?"&loop=1&playlist=".concat(t):"",e+=this.get("rel")?"":"&rel=0",e+=this.get("modestbranding")?"&modestbranding=1":"",e},n.prototype.getYoutubeNoCookieSrc=function(){var t=this.getYoutubeSrc();return t=t.replace(this.get("ytUrl"),this.get("ytncUrl")),t},n.prototype.getVimeoSrc=function(){var t=this.get("viUrl");return t+=this.get("videoId")+"?",t+=this.get("autoplay")?"&autoplay=1&muted=1":"",t+=this.get("loop")?"&loop=1":"",t+=this.get("controls")?"":"&title=0&portrait=0&badge=0",t+=this.get("color")?"&color="+this.get("color"):"",t},n.isComponent=function(t){var e=t.tagName,r=t.src,i=/youtube\.com\/embed/.test(r),l=/youtube-nocookie\.com\/embed/.test(r),f=/player\.vimeo\.com\/video/.test(r),p=i||l||f;if((0,Jt.toLowerCase)(e)==Pm||(0,Jt.toLowerCase)(e)=="iframe"&&p){var d={type:"video"};return r&&(d.src=r),p&&(i?d.provider=Qc:l?d.provider=tf:f&&(d.provider=$c)),d}},n}(e0);const jD=MD;var RD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uf=function(){return uf=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},uf.apply(this,arguments)},LD=function(o){RD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return uf(uf({},o.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],doctype:"",head:null,docEl:null,stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),n.prototype.preInit=function(){var t,e,r=this,i=r.opt,l=r.attributes,f=(t=this.em)===null||t===void 0?void 0:t.Components,p=(e=f==null?void 0:f.getType(xf))===null||e===void 0?void 0:e.model,d=f==null?void 0:f.getType("default").model;if(p){var v=l.head,_=l.docEl;this.set({head:v&&v instanceof Tr?v:new p(uf({},v),i),docEl:_&&_ instanceof Tr?_:new d(uf({tagName:"html"},_),i)},{silent:!0})}},Object.defineProperty(n.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"docEl",{get:function(){return this.get("docEl")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"doctype",{get:function(){return this.attributes.doctype||""},enumerable:!1,configurable:!0}),n.prototype.clone=function(t){var e=o.prototype.clone.call(this,t);return e.set("head",this.get("head").clone(t)),e.set("docEl",this.get("docEl").clone(t)),e},n.prototype.toHTML=function(t){t===void 0&&(t={});var e=this.doctype,r=(0,H.isUndefined)(t.asDocument)?!!e:t.asDocument,i=this,l=i.head,f=i.docEl,p=o.prototype.toHTML.call(this,t),d=r&&(l==null?void 0:l.toHTML(t))||"",v=r&&(0,ye.kk)(f==null?void 0:f.getAttrToHTML())||"",_=v?" ".concat(v):"";return r?"".concat(e,"<html").concat(_,">").concat(d).concat(p,"</html>"):p},n.prototype.__postAdd=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return!this.__hasUm&&(e==null||e.add(this)),o.prototype.__postAdd.call(this)},n.prototype.__postRemove=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return e==null||e.remove(this),o.prototype.__postRemove.call(this)},n.isComponent=function(){return!1},n}(Tr);const ND=LD;var kD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),VD=function(o){kD(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t.compView=Zn,t}return n.prototype.initialize=function(t){this.opts=t||{},this.config=t.config||{},this.em=this.config.em;var e=this.collection;this.listenTo(e,"add",this.addTo),this.listenTo(e,"reset",this.resetChildren),this.listenTo(e,"remove",this.removeChildren)},n.prototype.removeChildren=function(t,e,r){var i=this;r===void 0&&(r={}),t.views.forEach(function(f){if(f){var p=f.childrenView,d=f.scriptContainer;p&&p.stopListening(),(0,ye.YZ)(d),f.remove.apply(f)}});var l=t.components();l.forEach(function(f){return i.removeChildren(f,e,r)})},n.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},n.prototype.addToCollection=function(t,e,r){for(var i=this,l=i.config,f=i.opts,p=i.em,d=l.frameView,v=(d==null?void 0:d.model)&&t.getView(d.model),_=f.componentTypes||(p==null?void 0:p.Components.getTypes()),w=t.get("type")||"default",S=this.compView,O=0;O<_.length;O++)if(_[O].id==w){S=_[O].view;break}var A=v||new S({model:t,config:l,componentTypes:_}),P;try{P=A.render().el}catch(G){P=document.createTextNode(""),p.logError(G)}if(e)e.appendChild(P);else{var j=this.parentEl,z=j.childNodes;if((0,H.isUndefined)(r))j.appendChild(P);else{var k=z.length==r;k&&r--,k||!z.length?j.appendChild(P):j.insertBefore(P,z[r])}}return t.opt.temporary||p==null||p.trigger("component:mount",t),P},n.prototype.resetChildren=function(t,e){var r=this;e===void 0&&(e={});var i=e.previousModels;e.skipDomReset||(this.parentEl.innerHTML=""),i==null||i.forEach(function(l){return r.removeChildren(l,r.collection)}),t.each(function(l){return r.addToCollection(l)})},n.prototype.render=function(t){var e=this,r=this.el,i=document.createDocumentFragment();return this.parentEl=t||this.el,this.collection.each(function(l){return e.addToCollection(l,i)}),r.innerHTML="",r.appendChild(i),this},n}(fe.Ss);const Bx=VD;var UD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ds=function(){return ds=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},ds.apply(this,arguments)},HD=function(o){UD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.className=function(){return this.getClasses()},n.prototype.tagName=function(){return this.model.get("tagName")},n.prototype.preinitialize=function(t){t===void 0&&(t={}),this.opts=t},n.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,r=t.config||{},i=r.em,l=e.opt||{},f=this,p=f.$el,d=f.el;this.opts=t,this.modelOpt=l,this.config=r,this.em=i,this.pfx=r.stylePrefix||"",this.ppfx=r.pStylePrefix||"",this.attr=e.get("attributes"),this.classe=this.attr.class||[],this.listenTo(e,"change:style",this.updateStyle),this.listenTo(e,"change:attributes",this.renderAttributes),this.listenTo(e,"change:highlightable",this.updateHighlight),this.listenTo(e,"change:status change:locked",this.updateStatus),this.listenTo(e,"change:script rerender",this.reset),this.listenTo(e,"change:content",this.updateContent),this.listenTo(e,"change",this.handleChange),this.listenTo(e,"active",this.onActive),this.listenTo(e,"disable",this.onDisable),p.data("model",e),(0,Jt.setViewEl)(d,this),e.view=this,this.frameView&&e.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=ds(ds({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!l.temporary&&this.init(this._clbObj())},Object.defineProperty(n.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"createDoc",{get:function(){var t,e,r=((t=this.frameView)===null||t===void 0?void 0:t.getDoc())||document;return!((e=this.opts.config)===null||e===void 0)&&e.useFrameDoc?r:document},enumerable:!1,configurable:!0}),n.prototype.__isDraggable=function(){var t=this,e=t.model,r=t.config,i=e.attributes.draggable;return r.draggableComponents&&i},n.prototype._clbObj=function(){var t=this,e=t.em,r=t.model,i=t.el;return{editor:e==null?void 0:e.getEditor(),model:r,el:i}},n.prototype.init=function(t){},n.prototype.removed=function(t){},n.prototype.onRender=function(t){},n.prototype.onActive=function(t){},n.prototype.onDisable=function(t){},n.prototype.remove=function(){var t;o.prototype.remove.call(this);var e=this,r=e.model,i=e.$el,l=r.views,f=this.frameView||{};return r.components().forEach(function(p){var d=p.getView(f.model);d==null||d.remove()}),(t=this.childrenView)===null||t===void 0||t.remove(),l.splice(l.indexOf(this),1),this.removed(this._clbObj()),i.data({model:"",collection:"",view:""}),this},n.prototype.handleDragStart=function(t){if(!this.__isDraggable())return!1;t.stopPropagation(),t.preventDefault();var e=this.em.getSelectedAll(),r=e.includes(this.model)?e:[this.model];this.em.Commands.run("tlb-move",{target:r,event:t})},n.prototype.initClasses=function(){var t=this.model,e=t.classes,r="change:classes";e instanceof Ul&&(this.stopListening(t,r,this.initClasses),this.listenTo(t,r,this.initClasses),this.listenTo(e,"add remove change reset",this.updateClasses),e.length&&this.importClasses())},n.prototype.initComponents=function(t){t===void 0&&(t={});var e=this,r=e.model,i=e.$el,l=e.childrenView,f="change:components",p=r.get("components"),d=[r,f,this.initComponents];p instanceof dp&&(i.data("collection",p),l&&l.remove(),this.stopListening.apply(this,d),!t.avoidRender&&this.renderChildren(),this.listenTo.apply(this,d))},n.prototype.handleChange=function(){var t=this.model,e=(0,H.keys)(t.changed);if(!(e.length===1&&e[0]==="status")){t.emitUpdate();for(var r in t.changed)t.emitUpdate(r)}},n.prototype.importClasses=function(){var t=this,e=t.em,r=t.model,i=e.Selectors;i&&r.classes.forEach(function(l){return i.add(l.getName())})},n.prototype.updateStatus=function(t){t===void 0&&(t={});var e=this,r=e.em,i=e.el,l=e.ppfx,f=e.model,p=r==null?void 0:r.Canvas,d=p==null?void 0:p.config.extHl,v=f.get("status"),_="".concat(l,"selected"),w="".concat(_,"-parent"),S="".concat(l,"freezed"),O="".concat(l,"hovered"),A="".concat(l,"no-pointer"),P="".concat(l,"pointer-init"),j=[_,w,S,O,A,P],z=d&&!t.noExtHl?"":_;this.$el.removeClass(j.join(" "));var k=i.getAttribute("class")||"",G=[k],ot=!(p!=null&&p.hasCustomSpot(la.F.Select)),xt=!(p!=null&&p.hasCustomSpot(la.F.Target));switch(v){case"selected":ot&&G.push(z);break;case"selected-parent":xt&&G.push(w);break;case"freezed":G.push(S);break;case"freezed-selected":G.push(S),ot&&G.push(z);break;case"hovered":!t.avoidHover&&G.push(O);break}(0,H.isBoolean)(f.locked)&&G.push(f.locked?A:P);var Nt=G.filter(Boolean).join(" ");Nt&&i.setAttribute("class",Nt)},n.prototype.updateHighlight=function(){var t=this.model,e=t.get("textable"),r=t.get("highlightable")&&(e||!t.isChildOf("text"));this.setAttribute("data-gjs-highlightable",r?!0:"")},n.prototype.updateStyle=function(t,e,r){r===void 0&&(r={});var i=this,l=i.model,f=i.em;if(Gd(f)&&!r.inline){var p=this.__cmpStyleOpts,d=l.getStyle(ds({inline:!0},p));!(0,H.isEmpty)(d)&&l.setStyle(d,p)}else this.setAttribute("style",l.styleToString(r))},n.prototype.updateStyles=function(){this.updateStyle()},n.prototype.updateClasses=function(){var t=this.model.classes.pluck("name").join(" ");this.setAttribute("class",t),this.updateStatus(),this.onAttrUpdate()},n.prototype.setAttribute=function(t,e){var r=this.$el;e?r.attr(t,e):r.removeAttr(t)},n.prototype.getClasses=function(){return this.model.getClasses().join(" ")},n.prototype.updateAttributes=function(){var t=[],e=this,r=e.model,i=e.$el,l=e.el,f=r.attributes,p=f.textable,d=f.type,v=ds(ds({id:r.getId(),"data-gjs-type":d||"default"},this.__isDraggable()&&{draggable:!0}),p&&{contenteditable:"false"});(0,H.each)(l.attributes,function(w){return t.push(w.nodeName)}),t.forEach(function(w){return i.removeAttr(w)}),this.updateStyle(),this.updateHighlight();var _=ds(ds({},v),r.getAttributes());(0,H.keys)(_).forEach(function(w){return _[w]===!1&&delete _[w]}),i.attr(_)},n.prototype.updateContent=function(){var t=this.model.content,e=this.model.components().length;this.getChildrenContainer().innerHTML=e?"":t},n.prototype.prevDef=function(t){t.preventDefault()},n.prototype.updateScript=function(){var t=this,e=t.model,r=t.em;e.get("script")&&(r==null||r.Canvas.getCanvasView().updateScript(this))},n.prototype.getChildrenContainer=function(){var t=this.el;return typeof this.getChildrenSelector=="function"?t=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,t},n.prototype.getOffsetRect=function(){var t={top:0,left:0,bottom:0,right:0},e=this.el,r=0,i=0,l=function(f){var p=f.offsetParent;p?(r+=p.offsetTop,i+=p.offsetLeft,l(p)):(t.top=e.offsetTop+r,t.left=e.offsetLeft+i,t.bottom=t.top+e.offsetHeight,t.right=t.left+e.offsetWidth)};return l(e),t},n.prototype.isInViewport=function(){var t=this,e=t.el,r=t.em,i=t.frameView,l=r.Canvas.getCanvasView(),f=l.getElBoxRect(e,{local:!0}),p=i.el,d=p.clientHeight,v=p.clientWidth,_=f.y,w=f.x,S=_+f.height,O=w+f.width,A=_>=0&&_<d,P=S>0&&S<d,j=O>=0&&O<v,z=w>0&&w<=v,k=(A||P)&&(j||z);return k},n.prototype.scrollIntoView=function(t){var e;t===void 0&&(t={});var r=this.isInViewport();if(!r||t.force){var i=this.el;if(t.behavior!=="smooth"){var l=this.getOffsetRect();(e=i.ownerDocument.defaultView)===null||e===void 0||e.scrollTo(0,l.top)}else i.scrollIntoView(ds({behavior:"smooth",block:"nearest"},t))}},n.prototype.reset=function(){var t=this,e=t.el,r=t.model;t.scriptContainer&&r.emitWithEditor(Jn.I.scriptUnmount,{component:r,view:t,el:e}),this.el="",this._ensureElement(),this._setData(),(0,ye.bG)(e,this.el),this.render()},n.prototype._setData=function(){var t=this,e=t.model,r=t.el,i=e.components(),l=this;this.$el.data({model:e,collection:i,view:l}),(0,Jt.setViewEl)(r,this)},n.prototype._createElement=function(t){return this.createDoc.createElement(t)},n.prototype.renderChildren=function(){this.updateContent();var t=this.getChildrenContainer(),e=this.childrenView||new Bx({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});e.render(t),this.childrenView=e;for(var r=Array.prototype.slice.call(e.el.childNodes),i=0,l=r.length;i<l;i++)t.appendChild(r.shift())},n.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},n.prototype.onAttrUpdate=function(){},n.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,Jt.setViewEl)(this.el,this),this.postRender(),this)},n.prototype.postRender=function(){if(!this.modelOpt.temporary){var t=this,e=t.model,r=t.el;this.onRender(this._clbObj()),e.emitWithEditor(Jn.I.render,{component:e,view:this,el:r})}},n.getEvents=function(){return(0,H.result)(this.prototype,"events")},n}(fe.Ss);const Zn=HD;var BD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ID=function(o){BD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype._setAttributes=function(){},n.prototype.renderAttributes=function(){},n.prototype.updateStatus=function(){},n.prototype.updateClasses=function(){},n.prototype.setAttribute=function(){},n.prototype.updateAttributes=function(){},n.prototype.initClasses=function(){},n.prototype.initComponents=function(){},n.prototype.delegateEvents=function(){return this},n.prototype._createElement=function(){return document.createTextNode("")},n.prototype.render=function(){var t=this,e=t.model,r=t.el;return e.opt.temporary?this:(r.textContent=e.content,this)},n}(Zn);const Ix=ID;var zD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),FD=function(o){zD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype._createElement=function(){return document.createComment(this.model.content)},n}(Ix);const WD=FD;var qD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),GD=function(o){qD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.initialize=function(t){o.prototype.initialize.call(this,t),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},n.prototype.updateSrc=function(){var t=(0,ye.I6)(this.el,"iframe")[0];t&&(0,ye.X6)(t,{src:this.__getSrc()})},n.prototype.render=function(){o.prototype.render.call(this);var t=(0,ye.a_)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(t),this},n.prototype.__getSrc=function(){return this.model.getAttributes().src||""},n}(Zn);const KD=GD;var YD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),XD=function(o){YD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.tagName=function(){return"img"},n.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},n.prototype.initialize=function(t){o.prototype.initialize.call(this,t),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},n.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var t=this,e=t.model,r=t.em,i=e.get("file");if(i&&r){var l=r.Assets.FileUploader();l==null||l.uploadFile({dataTransfer:{files:[i]}},function(f){var p=f&&f.data&&f.data[0],d=p&&((0,H.isString)(p)?p:p.src);d&&e.set({src:d})}),e.set("file","")}}},n.prototype.updateSrc=function(){var t=this.model;t.addAttributes({src:t.getSrcResult()}),this.updateClasses()},n.prototype.updateClasses=function(){o.prototype.updateClasses.call(this);var t=this,e=t.el,r=t.classEmpty,i=t.model,l=i.getSrcResult()&&!i.isDefaultSrc(),f=l?"remove":"add";e.classList[f](r)},n.prototype.onActive=function(t){t==null||t.stopPropagation();var e=this,r=e.em,i=e.model,l=r==null?void 0:r.Assets;l&&i.get("editable")&&l.open({select:function(f,p){i.set({src:f.getSrc()}),p&&l.close()},target:i,types:["image"],accept:"image/*"})},n.prototype.onError=function(){var t=this,e=t.model,r=t.el,i=e.getSrcResult({fallback:!0});i&&(r.srcset&&(r.srcset=""),r.src=i)},n.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},n.prototype.noDrag=function(t){return t.preventDefault(),!1},n.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var t=this,e=t.$el,r=t.model,i=e.attr("class")||"";return!r.get("src")&&e.attr("class","".concat(i," ").concat(this.classEmpty).trim()),this.postRender(),this},n}(Zn);const i0=XD;var ZD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ju=function(){return ju=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},ju.apply(this,arguments)},Ah=function(o,n,t,e){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function f(v){try{d(e.next(v))}catch(_){l(_)}}function p(v){try{d(e.throw(v))}catch(_){l(_)}}function d(v){v.done?i(v.value):r(v.value).then(f,p)}d((e=e.apply(o,n||[])).next())})},Ph=function(o,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(d){return function(v){return p([d,v])}}function p(d){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(t=0)),t;)try{if(e=1,r&&(i=d[0]&2?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,r=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){t.label=d[1];break}if(d[0]===6&&t.label<i[1]){t.label=i[1],i=d;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(d);break}i[2]&&t.ops.pop(),t.trys.pop();continue}d=n.call(o,t)}catch(v){d=[6,v],r=0}finally{e=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},JD=function(o){ZD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},n.prototype.initialize=function(t){o.prototype.initialize.call(this,t),(0,H.bindAll)(this,"disableEditing","onDisable");var e=this.model,r=this.em;this.listenTo(e,"focus",this.onActive),this.listenTo(e,"change:content",this.updateContentText),this.listenTo(e,"sync:content",this.syncContent),this.rte=r==null?void 0:r.RichTextEditor},n.prototype.updateContentText=function(t,e,r){r===void 0&&(r={}),!r.fromDisable&&this.disableEditing()},n.prototype.canActivate=function(){var t=this,e=t.model,r=t.rteEnabled,i=t.em,l=i==null?void 0:i.getEditing(),f=l===e,p=!0,d=!1,v;if((r||!e.get("editable")||f||(d=e.isChildOf("text")))&&(p=!1,d&&!e.get("textable"))){for(var _=e.parent();_&&!_.isInstanceOf("text");)_=_.parent();_&&_.get("editable")?v=_:p=!0}return{result:p,delegate:v}},n.prototype.onActive=function(t){return Ah(this,void 0,void 0,function(){var e,r,i,l,f,p,d,v,_,w,S,O;return Ph(this,function(A){switch(A.label){case 0:return e=this,r=e.rte,i=e.em,l=this.canActivate(),f=l.result,p=l.delegate,f?((O=t==null?void 0:t.stopPropagation)===null||O===void 0||O.call(t),d=this,[4,this.getContent()]):(p&&((S=t==null?void 0:t.stopPropagation)===null||S===void 0||S.call(t),i.setSelected(p),p.trigger("active",t)),[2]);case 1:if(d.lastContent=A.sent(),!r)return[3,5];A.label=2;case 2:return A.trys.push([2,4,,5]),v=this,_=this,[4,r.enable(v,this.activeRte,{event:t,view:v})];case 3:return _.activeRte=A.sent(),[3,5];case 4:return w=A.sent(),i.logError(w),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},n.prototype.onDisable=function(t){this.disableEditing(t)},n.prototype.disableEditing=function(){return Ah(this,arguments,void 0,function(t){var e,r,i,l,f,p,d,v,_;return t===void 0&&(t={}),Ph(this,function(w){switch(w.label){case 0:return e=this,r=e.model,i=e.rte,l=e.activeRte,f=e.em,p=r&&r.get("editable"),i?(d={},[4,this.getContent()]):[3,7];case 1:v=w.sent(),w.label=2;case 2:return w.trys.push([2,4,,5]),[4,i.disable(this,l,t)];case 3:return d=w.sent(),[3,5];case 4:return _=w.sent(),f.logError(_),[3,5];case 5:return p&&(v!==this.lastContent||d.forceSync)?[4,this.syncContent(ju(ju({},t),{content:v}))]:[3,7];case 6:w.sent(),this.lastContent="",w.label=7;case 7:return this.toggleEvents(),[2]}})})},n.prototype.getContent=function(){return Ah(this,void 0,void 0,function(){var t,e,r,i;return Ph(this,function(l){switch(l.label){case 0:return t=this,e=t.rte,r=t.activeRte,i="",e?[4,e.getContent(this,r)]:[3,2];case 1:i=l.sent(),l.label=2;case 2:return[2,i]}})})},n.prototype.syncContent=function(){return Ah(this,arguments,void 0,function(t){var e,r,i,l,f,p,d,v,_;return t===void 0&&(t={}),Ph(this,function(w){switch(w.label){case 0:return e=this,r=e.model,i=e.rte,l=e.rteEnabled,!l&&!t.force?[2]:(_=t.content)!==null&&_!==void 0?(p=_,[3,3]):[3,1];case 1:return[4,this.getContent()];case 2:p=w.sent(),w.label=3;case 3:return f=p,d=r.components(),v=ju({fromDisable:1},t),r.set("content","",v),i!=null&&i.customRte&&!i.customRte.parseContent?(d.length&&d.reset(void 0,ju(ju({},t),{keepIds:of(d)})),r.set("content",f,v)):d.resetFromString(f,t),[2]}})})},n.prototype.insertComponent=function(t,e){var r;e===void 0&&(e={});var i=this,l=i.model,f=i.el,p=f.ownerDocument,d=p.getSelection();if(d!=null&&d.rangeCount){var v=d.getRangeAt(0),_=v.startContainer,w=v.startOffset,S=(0,Jt.getComponentModel)(_),O=[];if(S&&(!((r=S.is)===null||r===void 0)&&r.call(S,"textnode"))){var A=S.collection;A.forEach(function(z){if(z===S){var k="textnode",G=e.useDomContent?_.textContent||"":z.content;O.push({type:k,content:G.slice(0,w)}),O.push(t),O.push({type:k,content:G.slice(w)})}else O.push(z)});var P=O.filter(Boolean),j=P.indexOf(t);return A.reset(P,e),A.at(j)}}return l.append(t,e)},n.prototype.onInput=function(){var t,e="component",r=["".concat(e,":update"),"".concat(e,":input")].join(" ");(t=this.em)===null||t===void 0||t.trigger(r,this.model)},n.prototype.disablePropagation=function(t){t.stopPropagation()},n.prototype.toggleEvents=function(t){var e=this,r=e.em,i=e.model,l=e.$el,f={on:ye.on,off:ye.AU},p=t?"on":"off";r.setEditing(t?this:!1),this.rteEnabled=!!t;var d=[this.el.ownerDocument,document];if(f.off(d,"mousedown",this.onDisable),f[p](d,"mousedown",this.onDisable),r[p]("toolbar:run:before",this.onDisable),i&&(i[p]("removed",this.onDisable),i.trigger("rte:".concat(t?"enable":"disable"))),l==null||l.off("mousedown",this.disablePropagation),l&&l[p]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var v=this.el;v;)v.draggable=!t,v=v.parentNode,v&&v.tagName=="BODY"&&(v=0)},n}(Zn);const zx=JD;var QD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$D=function(o){QD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.render=function(){return o.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},n}(zx);const Fx=$D;var tM=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),eM=function(o){tM(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}(Fx);const nM=eM;var rM=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),iM=function(o){rM(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.events=function(){return{}},n.prototype.initialize=function(t){o.prototype.initialize.call(this,t),this.classEmpty=this.ppfx+"plh-map"},n.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},n.prototype.getIframe=function(){if(!this.iframe){var t=document.createElement("iframe");t.src=this.model.get("src"),t.frameBorder="0",t.style.height="100%",t.style.width="100%",t.className=this.ppfx+"no-pointer",this.iframe=t}return this.iframe},n.prototype.render=function(){return o.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},n}(i0);const oM=iM;var aM=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sM=function(o){aM(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.tagName=function(){return"script"},n.prototype.events=function(){return{}},n}(Zn);const lM=sM;var uM=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cM=function(o){uM(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype._createElement=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},n}(Zn);const mb=cM;var fM=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dM=function(o){fM(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}(Zn);const pM=dM;var hM=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vM=function(o){hM(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}(Zn);const gM=vM;var mM=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yM=function(o){mM(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}(Zn);const _M=yM;var bM=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wM=function(o){bM(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}(Zn);const xM=wM;var SM=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),CM=function(o){SM(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}(Zn);const OM=CM;var TM=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),EM=function(o){TM(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.events=function(){return{}},n}(Zn);const AM=EM;var PM=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),DM=function(o){PM(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.events=function(){return{}},n.prototype.initialize=function(){Zn.prototype.initialize.apply(this,arguments);var t=this.model,e=["loop","autoplay","controls","color","rel","modestbranding","poster"],r=e.map(function(i){return"change:".concat(i)}).join(" ");this.listenTo(t,"change:provider",this.updateProvider),this.listenTo(t,"change:src",this.updateSrc),this.listenTo(t,r,this.updateVideo)},n.prototype.updateProvider=function(){var t=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(t))},n.prototype.updateSrc=function(){var t=this,e=t.model,r=t.videoEl;if(r){var i=e.get("provider"),l=e.get("src");switch(i){case"yt":l=e.getYoutubeSrc();break;case"ytnc":l=e.getYoutubeNoCookieSrc();break;case"vi":l=e.getVimeoSrc();break}r.src=l}},n.prototype.updateVideo=function(){var t=this,e=t.model,r=t.videoEl,i=e.get("provider");switch(i){case"yt":case"ytnc":case"vi":e.trigger("change:videoId");break;default:if(r){var l=r;l.loop=e.get("loop"),l.autoplay=e.get("autoplay"),l.controls=e.get("controls"),l.poster=e.get("poster")}}},n.prototype.renderByProvider=function(t){var e;switch(t){case"yt":e=this.renderYoutube();break;case"ytnc":e=this.renderYoutubeNoCookie();break;case"vi":e=this.renderVimeo();break;default:e=this.renderSource()}return this.videoEl=e,e},n.prototype.renderSource=function(){var t=document.createElement("video");return t.src=this.model.get("src"),this.initVideoEl(t),t},n.prototype.renderYoutube=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},n.prototype.renderYoutubeNoCookie=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeNoCookieSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},n.prototype.renderVimeo=function(){var t=document.createElement("iframe");return t.src=this.model.getVimeoSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},n.prototype.initVideoEl=function(t){t.className=this.ppfx+"no-pointer",t.style.height="100%",t.style.width="100%"},n.prototype.render=function(){Zn.prototype.render.apply(this),this.updateClasses();var t=this.model.get("provider");return this.el.appendChild(this.renderByProvider(t)),this.updateVideo(),this},n}(i0);const MM=DM;var jM=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),RM=function(o){jM(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n}(Zn);const LM=RM;var NM=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ev=function(){return Ev=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Ev.apply(this,arguments)},kM=function(o){NM(n,o);function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=o.apply(this,t)||this;r.refreshDbn=(0,H.debounce)(function(){return r.refresh()},0);var i=r.events;return r.on(i.update,r.onUpdate),r.on(i.updateInside,r.onUpdateDeep),r}return n.prototype.removeChildren=function(t,e,r){var i;r===void 0&&(r={}),o.prototype.removeChildren.call(this,t,e,r),(i=So(t))===null||i===void 0||i.forEach(function(l){return bg(l,{skipRefs:!0})}),this.__trgEvent(this.events.symbolMainRemove,{component:t})},n.prototype.onAdd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.onAdd.apply(this,t);var r=t[0];this.__trgEvent(this.events.symbolMainAdd,{component:r})},n.prototype.onUpdate=function(t){this.__trgEvent(this.events.symbolMainUpdate,t)},n.prototype.onUpdateDeep=function(t){this.__trgEvent(this.events.symbolMainUpdateDeep,t)},n.prototype.refresh=function(){var t=this,e=t.em,r=t.events;e.trigger(r.symbol)},n.prototype.__trgEvent=function(t,e,r){r===void 0&&(r=!1);var i=this,l=i.em,f=i.events,p=r?f.symbolInstance:f.symbolMain;l.trigger(t,e),l.trigger(p,Ev(Ev({},e),{event:t})),this.refreshDbn()},n}(dp);const VM=kM;var UM=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cf=function(){return cf=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},cf.apply(this,arguments)},Wx=function(o){UM(n,o);function n(t,e){var r=o.call(this,t,e)||this;return r.dataResolver=r.initializeDataResolver(t,e),r.listenToPropsChange(),r}return n.prototype.initializeDataResolver=function(t,e){var r,i=(r=t.dataResolver)!==null&&r!==void 0?r:{type:t.type},l=this.createResolverInstance(i,cf(cf({},e),{collectionsStateMap:this.collectionsStateMap}));return l},n.prototype.getDataResolver=function(){return this.get("dataResolver")},n.prototype.setDataResolver=function(t){return this.set("dataResolver",t)},n.prototype.onCollectionsStateMapUpdate=function(t){this.dataResolver.updateCollectionsStateMap(t),o.prototype.onCollectionsStateMapUpdate.call(this,t)},n.prototype.listenToPropsChange=function(){var t=this;this.listenTo(this.dataResolver,"change",(function(){t.__changesUp({m:t})}).bind(this)),this.on("change:dataResolver",function(){t.dataResolver.set(t.get("dataResolver"))})},n.prototype.removePropsListeners=function(){this.stopListening(this.dataResolver),this.off("change:dataResolver"),this.off("change:".concat(this.collectionsStateMap))},n.prototype.destroy=function(t){return this.removePropsListeners(),o.prototype.destroy.call(this,t)},n.prototype.toJSON=function(t){var e=o.prototype.toJSON.call(this,t),r=this.dataResolver.toJSON();return delete r.type,cf(cf({},e),{dataResolver:r})},n}(Tr),HM=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Av=function(){return Av=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Av.apply(this,arguments)},BM=function(o){HM(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Av(Av({},o.prototype.defaults),{type:Fo,dataResolver:{},droppable:!1})},enumerable:!1,configurable:!0}),n.prototype.getPath=function(){return this.dataResolver.get("path")},n.prototype.getCollectionId=function(){return this.dataResolver.get("collectionId")},n.prototype.getVariableType=function(){return this.dataResolver.get("variableType")},n.prototype.getDefaultValue=function(){return this.dataResolver.get("defaultValue")},n.prototype.getDataValue=function(){return this.dataResolver.getDataValue()},n.prototype.resolvesFromCollection=function(){return this.dataResolver.resolvesFromCollection()},n.prototype.getInnerHTML=function(){return this.getDataValue()},n.prototype.setPath=function(t){this.dataResolver.set("path",t)},n.prototype.setDefaultValue=function(t){this.dataResolver.set("defaultValue",t)},n.prototype.resetDataSourcePath=function(t){this.set("dataResolver",{path:t,collectionId:void 0,variableType:void 0})},n.prototype.createResolverInstance=function(t,e){return new Ku(t,e)},n.isComponent=function(t){return(0,Jt.toLowerCase)(t.tagName)===Fo},n}(Wx);const IM=BM;var zM=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),FM=function(o){zM(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.initialize=function(t){var e=this;t===void 0&&(t={}),o.prototype.initialize.call(this,t),this.dataResolverListener=new Mf({em:this.em,resolver:this.model.dataResolver,onUpdate:function(){return e.postRender()}})},n.prototype.remove=function(){return this.dataResolverListener.destroy(),o.prototype.remove.call(this)},n.prototype.postRender=function(){this.el.innerHTML=this.model.getDataValue(),o.prototype.postRender.call(this)},n}(Zn);const WM=FM;var qM=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),GM=function(o){qM(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.initialize=function(t){t===void 0&&(t={}),o.prototype.initialize.call(this,t),this.postRender=this.postRender.bind(this),this.listenTo(this.model.components(),"reset",this.postRender),this.dataResolverListener=new Mf({em:this.em,resolver:this.model.dataResolver,onUpdate:this.postRender})},n.prototype.renderDataResolver=function(){var t=this.model.getIfTrueContent(),e=this.model.getIfFalseContent(),r=t==null?void 0:t.getEl(),i=e==null?void 0:e.getEl(),l=this.model.isTrue();r&&(r.style.display=l?"":"none"),i&&(i.style.display=l?"none":"")},n.prototype.postRender=function(){this.renderDataResolver(),o.prototype.postRender.call(this)},n.prototype.remove=function(){return this.stopListening(this.model.components(),"reset",this.postRender),this.dataResolverListener.destroy(),o.prototype.remove.call(this)},n}(Zn);const KM=GM;var YM=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pv=function(){return Pv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Pv.apply(this,arguments)},XM=function(o){YM(n,o);function n(t,e){e===void 0&&(e={});var r,i=o.call(this,t,e)||this;return i.mutable=(r=t.mutable)!==null&&r!==void 0?r:!0,i.on("change",i.handleChange),i}return Object.defineProperty(n.prototype,"cl",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dataSource",{get:function(){return this.cl.dataSource},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"em",{get:function(){return this.dataSource.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"index",{get:function(){return this.cl.indexOf(this)},enumerable:!1,configurable:!0}),n.prototype.handleChange=function(){var t=this,e=this.changedAttributes();(0,H.keys)(e).forEach(function(r){return t.triggerChange(r)})},n.prototype.getPath=function(t,e){e===void 0&&(e={});var r=this,i=r.dataSource,l=r.id,f=r.index,p=i.id,d=t?".".concat(t):"";return"".concat(p,".").concat(e.useIndex?f:l).concat(d)},n.prototype.getPaths=function(t){return[this.getPath(t),this.getPath(t,{useIndex:!0})]},n.prototype.triggerChange=function(t){var e=this,r=e.dataSource,i=e.em,l={dataSource:r,dataRecord:this},f=this.getPaths(t);f.forEach(function(p){return i.trigger("".concat(Cf.path,":").concat(p),Pv(Pv({},l),{path:p}))})},n.prototype.set=function(t,e,r){var i=this,l,f;if(!this.isNew()&&this.attributes.mutable===!1)throw new Error("Cannot modify immutable record");var p=(f=(l=this.dataSource)===null||l===void 0?void 0:l.transformers)===null||f===void 0?void 0:f.onRecordSetValue,d=function(P,j,z){z===void 0&&(z={});var k=z!=null&&z.avoidTransformers||!p?j:p({id:i.id,key:P,value:j});o.prototype.set.call(i,P,k,z),o.prototype.set.call(i,{__p:z.partial?!0:void 0},z)};if(typeof t=="object"&&t!==null)for(var v=t,_=0,w=Object.entries(v);_<w.length;_++){var S=w[_],O=S[0],A=S[1];d(O,A,e)}else d(t,e,r);return this},n}(fe.Kx);const ZM=XM;var JM=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qx=function(o){JM(n,o);function n(t,e){var r=o.call(this,t,e)||this;return r.dataSource=e.dataSource,r}return n}(fe.pM);const yb=qx;qx.prototype.model=ZM;var QM=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Dv=function(){return Dv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Dv.apply(this,arguments)},$M=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},t2=function(o){QM(n,o);function n(t,e){var r=o.call(this,Dv(Dv({},t),{records:[]}),e)||this,i=t.records,l=t.transformers;return r.transformers=l||{},i instanceof yb||r.set({records:new yb(i,{dataSource:r})}),r.listenTo(r.records,"add",r.onAdd),r.listenTo(r.records,fe.e2,r.handleChanges),r}return n.prototype.defaults=function(){return{records:[],transformers:{}}},Object.defineProperty(n.prototype,"records",{get:function(){return this.attributes.records},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"em",{get:function(){return this.collection.em},enumerable:!1,configurable:!0}),n.prototype.onAdd=function(t){t.triggerChange()},n.prototype.addRecord=function(t,e){return this.records.add(t,e)},n.prototype.getRecord=function(t){return this.records.get(t)},n.prototype.getRecords=function(){var t=this;return $M([],this.records.models,!0).map(function(e){return t.getRecord(e.id)})},n.prototype.removeRecord=function(t,e){var r=this.getRecord(t);if((r==null?void 0:r.mutable)===!1&&!(e!=null&&e.dangerously))throw new Error("Cannot remove immutable record");return this.records.remove(t,e)},n.prototype.setRecords=function(t){var e=this;this.records.reset([],{silent:!0}),t.forEach(function(r){e.records.add(r)})},n.prototype.handleChanges=function(t,e,r){this.em.changesUp(r||e)},n}(fe.Kx);const Gx=t2;var e2=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mo=function(){return mo=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},mo.apply(this,arguments)},Mm={avoidStore:!0,partial:!0},n2=function(o){e2(n,o);function n(t,e){var r=this;if(e.forCloning)return r=o.call(this,t,e)||this;e.em;var i=mo(mo({},t),{droppable:!1}),l=r=o.call(this,i,e)||this;return r.rebuildChildrenFromCollection=r.rebuildChildrenFromCollection.bind(r),r.listenToPropsChange(),r.rebuildChildrenFromCollection(),l}return Object.defineProperty(n.prototype,"defaults",{get:function(){return mo(mo({},o.prototype.defaults),{droppable:!1,dataResolver:{},type:fy,components:[{type:Jd}]})},enumerable:!1,configurable:!0}),n.prototype.getDataResolver=function(){return this.get("dataResolver")},n.prototype.getItemsCount=function(){var t,e,r=this.getDataSourceItems(),i=Math.max(0,(t=this.getConfigStartIndex())!==null&&t!==void 0?t:0),l=(e=this.getConfigEndIndex())!==null&&e!==void 0?e:Number.MAX_VALUE,f=Math.min(r.length-1,l),p=f-i+1;return Math.max(0,p)},n.prototype.getConfigStartIndex=function(){return this.dataResolver.startIndex},n.prototype.getConfigEndIndex=function(){return this.dataResolver.endIndex},n.prototype.getDataSource=function(){var t;return(t=this.dataResolver)===null||t===void 0?void 0:t.dataSource},n.prototype.getCollectionId=function(){var t;return(t=this.dataResolver)===null||t===void 0?void 0:t.collectionId},n.prototype.getCollectionItemComponents=function(){return this.firstChild.components()},n.prototype.setDataResolver=function(t){return this.set("dataResolver",t)},n.prototype.setCollectionId=function(t){this.updateCollectionConfig({collectionId:t})},n.prototype.setStartIndex=function(t){if(t<0){this.em.logError("Start index should be greater than or equal to 0");return}this.updateCollectionConfig({startIndex:t})},n.prototype.setEndIndex=function(t){this.updateCollectionConfig({endIndex:t})},n.prototype.setDataSource=function(t){this.set(ef,mo(mo({},this.dataResolver),{dataSource:t}))},n.prototype.setCollectionItemComponents=function(t){this.firstChild.components(t)},Object.defineProperty(n.prototype,"firstChild",{get:function(){return this.components().at(0)},enumerable:!1,configurable:!0}),n.prototype.updateCollectionConfig=function(t){this.set(ef,mo(mo({},this.dataResolver),t))},n.prototype.getDataSourceItems=function(){return a2(this.dataResolver.dataSource,this.em)},Object.defineProperty(n.prototype,"dataResolver",{get:function(){return this.get(ef)||{}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"collectionDataSource",{get:function(){return this.dataResolver.dataSource},enumerable:!1,configurable:!0}),n.prototype.listenToDataSource=function(){var t,e=this.em,r=(t=this.collectionDataSource)===null||t===void 0?void 0:t.path;r&&(this.dataSourceWatcher=new Mf({em:e,resolver:new Ku({type:Fo,path:r},{em:e,collectionsStateMap:this.collectionsStateMap}),onUpdate:this.rebuildChildrenFromCollection}))},n.prototype.rebuildChildrenFromCollection=function(){this.components().reset(this.getCollectionItems(),hy)},n.prototype.getCollectionItems=function(){var t,e=this.ensureFirstChild(),r=e.getStyle().display,i=!r||r==="none",l=i?"":r;e.addStyle({display:"none"},Mm);var f=[e],p=o2(this.dataResolver,this.em);if(!p)return f;var d=this.collectionId,v=this.getDataSourceItems(),_=this.resolveCollectionConfig(v),w=_.startIndex,S=_.endIndex,O=this.hasDuplicateCollectionId();if(O)return this.em.logError('The collection ID "'.concat(d,'" already exists in the parent collection state. Overriding it is not allowed.')),f;for(var A=w;A<=S;A++){var P=A===w,j=this.getCollectionsStateMapForItem(v,A);if(P){(t=So(e))===null||t===void 0||t.forEach(function(k){return bg(k)}),_b(e,j),e.addStyle({display:l},Mm);continue}var z=e.clone({symbol:!0,symbolInv:!0});z.set({locked:!0,layerable:!1},Mm),_b(z,j),f.push(z)}return f},n.prototype.getCollectionsStateMapForItem=function(t,e){var r,i=this.resolveCollectionConfig(t),l=i.startIndex,f=i.endIndex,p=i.totalItems,d=this.collectionId,v=t[e],_=this.collectionsStateMap,w=e-l,S=p-(1+w),O={collectionId:d,currentIndex:e,currentItem:v,startIndex:l,endIndex:f,totalItems:p,remainingItems:S},A=mo(mo({},_),(r={},r[d]=O,r));return A},n.prototype.hasDuplicateCollectionId=function(){var t=this.collectionId,e=this.collectionsStateMap;return!!e[t]},n.prototype.resolveCollectionConfig=function(t){var e,r,i=(e=this.getConfigStartIndex())!==null&&e!==void 0?e:0,l=(r=this.getConfigEndIndex())!==null&&r!==void 0?r:Number.MAX_VALUE,f=Math.min(t.length-1,l),p=f-i+1;return{startIndex:i,endIndex:f,totalItems:p}},n.prototype.ensureFirstChild=function(){var t=this.em.Components.getType(Jd).model;return this.firstChild||new t({type:Jd},this.opt)},n.prototype.listenToPropsChange=function(){var t=this;this.on("change:".concat(ef),function(){t.rebuildChildrenFromCollection(),t.listenToDataSource()}),this.listenToDataSource()},n.prototype.removePropsListeners=function(){var t;this.off("change:".concat(ef)),(t=this.dataSourceWatcher)===null||t===void 0||t.destroy()},n.prototype.onCollectionsStateMapUpdate=function(t){var e=this;this.collectionsStateMap=t,this.dataResolverWatchers.onCollectionsStateMapUpdate();var r=this.getDataSourceItems(),i=this.resolveCollectionConfig(r).startIndex,l=this.components();l.forEach(function(f,p){var d=e.getCollectionsStateMapForItem(r,i+p);f.onCollectionsStateMapUpdate(d)})},n.prototype.stopSyncComponentCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.onCollectionsStateMapUpdate({})},n.prototype.syncOnComponentChange=function(t,e,r){var i=this.collectionsStateMap;this.collectionsStateMap={},o.prototype.syncOnComponentChange.call(this,t,e,r),this.collectionsStateMap=i,this.onCollectionsStateMapUpdate(i)},Object.defineProperty(n.prototype,"collectionId",{get:function(){return this.getDataResolver().collectionId},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,Jt.toLowerCase)(t.tagName)===fy},n.prototype.toJSON=function(t){var e,r=o.prototype.toJSON.call(this,t);delete r.droppable,delete r[_o],(e=r.attributes)===null||e===void 0||delete e.id;var i=this.firstChild;return mo(mo({},r),{components:[i]})},n.prototype.destroy=function(t){return this.removePropsListeners(),o.prototype.destroy.call(this,t)},n}(Tr);const r2=n2;function _b(o,n){o.setSymbolOverride(["locked","layerable"]),o.syncComponentsCollectionState(),o.onCollectionsStateMapUpdate(n)}function i2(o,n,t){return o?!0:(t.logError('The "'.concat(n,'" property is required in the collection definition.')),!1)}function o2(o,n){for(var t=[{property:o==null?void 0:o.collectionId,propertyPath:"dataResolver.collectionId"},{property:o==null?void 0:o.dataSource,propertyPath:"dataResolver.dataSource"}],e=0,r=t;e<r.length;e++){var i=r[e].propertyPath;if(!i2(o,i,n))return[]}var l=o==null?void 0:o.startIndex;return l!==void 0&&(l<0||!Number.isInteger(l))&&n.logError("Invalid startIndex: ".concat(l,". It must be a non-negative integer.")),!0}function a2(o,n){var t=[];switch(!0){case(0,H.isArray)(o):t=o;break;case((0,Jt.isObject)(o)&&o instanceof Gx):{var e=o.get("id");t=bb(e,n);break}case Fu(o):{var r=o.path;if(!r)break;var i=r.split(".").length===1;i?t=bb(r,n):t=n.DataSources.getValue(r,[]);break}}return t}function bb(o,n){var t=n.DataSources.getValue(o,[]),e=Object.keys(t);return e.map(function(r){return{type:Fo,path:o+"."+r}})}var s2=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),l2=function(o){s2(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}(Zn);const u2=l2;var c2=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mv=function(){return Mv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Mv.apply(this,arguments)},f2=function(o){c2(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Mv(Mv({},o.prototype.defaults),{droppable:!1,type:Il,dataResolver:{condition:{left:"",operator:Pa.equalsIgnoreCase,right:""}},components:[{type:Zy},{type:Jy}]})},enumerable:!1,configurable:!0}),n.prototype.isTrue=function(){return this.dataResolver.isTrue()},n.prototype.getCondition=function(){return this.dataResolver.getCondition()},n.prototype.getIfTrueContent=function(){return this.components().at(0)},n.prototype.getIfFalseContent=function(){return this.components().at(1)},n.prototype.getOutputContent=function(){return this.isTrue()?this.getIfTrueContent():this.getIfFalseContent()},n.prototype.setCondition=function(t){this.dataResolver.setCondition(t)},n.prototype.setIfTrueComponents=function(t){this.setComponentsAtIndex(0,t)},n.prototype.setIfFalseComponents=function(t){this.setComponentsAtIndex(1,t)},n.prototype.getInnerHTML=function(t){var e,r;return(r=(e=this.getOutputContent())===null||e===void 0?void 0:e.getInnerHTML(t))!==null&&r!==void 0?r:""},n.prototype.createResolverInstance=function(t,e){return new Xy(t,e)},n.prototype.setComponentsAtIndex=function(t,e){var r=this.components().at(t);r==null||r.components(e)},n.isComponent=function(t){return(0,Jt.toLowerCase)(t.tagName)===Il},n}(Wx);const d2=f2;var p2=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jv=function(){return jv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},jv.apply(this,arguments)},h2=function(o){p2(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return jv(jv({},o.prototype.defaults),{removable:!1,draggable:!1})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return RA((0,Jt.toLowerCase)(t.tagName))},n}(Tr);const jm=h2;var v2=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pi=function(){return pi=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},pi.apply(this,arguments)},g2=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},m2=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},ff;(function(o){o[o.InvalidSource=0]="InvalidSource",o[o.SourceReject=1]="SourceReject",o[o.TargetReject=2]="TargetReject"})(ff||(ff={}));var y2=function(o){v2(n,o);function n(t){var e=o.call(this,t,"DomComponents",new dp(void 0,{em:t}),Jn.I,VP())||this;e.componentTypes=[{id:Jd,model:jm,view:Zn},{id:Zy,model:jm,view:Zn},{id:Jy,model:jm,view:Zn},{id:fy,model:r2,view:u2},{id:Il,model:d2,view:KM},{id:Fo,model:IM,view:WM},{id:"cell",model:bD,view:gM},{id:"row",model:PD,view:OM},{id:"table",model:vD,view:AM},{id:"thead",model:TD,view:xM},{id:"tbody",model:r0,view:pM},{id:"tfoot",model:SD,view:_M},{id:"map",model:iD,view:oM},{id:"link",model:eD,view:Fx},{id:"label",model:QP,view:nM},{id:"video",model:jD,view:MM},{id:"image",model:e0,view:i0},{id:"script",model:sD,view:lM},{id:"svg-in",model:dD,view:mb},{id:"svg",model:Hx,view:mb},{id:"iframe",model:qP,view:KD},{id:"comment",model:zP,view:WD},{id:"textnode",model:Ux,view:Ix},{id:xf,model:dP,view:Zn},{id:"wrapper",model:ND,view:LM},{id:"text",model:n0,view:zx},{id:"default",model:Tr,view:Zn}],e.componentsById={},e.Component=Tr,e.Components=dp,e.ComponentView=Zn,e.ComponentsView=Bx,e.storageKey="components",e.keySymbols="symbols",e.events=Jn.I;var r=e.config;e.symbols=new VM([],{em:t,config:r,domc:e}),t&&(e.config.components=t.config.components||e.config.components);var i=e.config.pStylePrefix;if(i&&(e.config.stylePrefix=i+e.config.stylePrefix),t){t.get("Parser").compTypes=e.componentTypes,t.on("change:componentHovered",e.componentHovered,e);var l=t.get("selected");t.listenTo(l,"add",function(f,p,d){return e.selectAdd(l.getComponent(f),d)}),t.listenTo(l,"remove",function(f,p,d){return e.selectRemove(l.getComponent(f),d)})}return e}return n.prototype.postLoad=function(){var t=this,e=t.em,r=t.symbols,i=e.UndoManager;i.add(r)},n.prototype.load=function(t){var e=this,r=this.loadProjectData(t,{onResult:function(i){var l=e.getWrapper();if(l||(e.em.Pages.add({},{select:!0}),l=e.getWrapper()),(0,H.isArray)(i))i.length&&l.components(i);else{var f=i.components,p=f===void 0?[]:f,d=g2(i,["components"]);l.set(d),l.components(p)}}});return this.symbols.reset(t[this.keySymbols]||[]),r},n.prototype.store=function(){var t;return t={},t[this.keySymbols]=this.symbols,t},n.prototype.getComponent=function(){var t=this.em.Pages.getSelected(),e=t==null?void 0:t.getMainFrame();return e==null?void 0:e.getComponent()},n.prototype.getWrapper=function(){return this.getComponent()},n.prototype.getComponents=function(){var t=this.getWrapper();return t==null?void 0:t.components()},n.prototype.addComponent=function(t,e){return e===void 0&&(e={}),this.getComponents().add(t,e)},n.prototype.render=function(){var t;return(t=this.componentView)===null||t===void 0?void 0:t.render().el},n.prototype.clear=function(t){t===void 0&&(t={});var e=this.getComponents();return e==null||e.filter(Boolean).forEach(function(r){return r.remove(t)}),this},n.prototype.setComponents=function(t,e){e===void 0&&(e={}),this.clear(e).addComponent(t,e)},n.prototype.addType=function(t,e){var r=this.em,i=e.model,l=i===void 0?{}:i,f=e.view,p=f===void 0?{}:f,d=e.isComponent,v=e.extend,_=e.extendView,w=e.extendFn,S=w===void 0?[]:w,O=e.extendFnView,A=O===void 0?[]:O,P=e.block,j=this.getType(t),z=this.getType(v),k=this.getType(_),G=z||j||this.getType("default"),ot=G.model,xt=k?k.view:G.view,Nt=function(Q,J,ft){return Q.reduce(function(M,ht){var yt=J[ht],Bt=ft.prototype[ht];return yt&&Bt&&(M[ht]=function(){for(var nt=[],Lt=0;Lt<arguments.length;Lt++)nt[Lt]=arguments[Lt];Bt.bind(this).apply(void 0,nt),yt.bind(this).apply(void 0,nt)}),M},{})};if(typeof l=="object"){var vt={defaults:l.defaults};delete l.defaults;var $=new Set(ot.typeExtends);$.add(ot.getDefaults().type),e.model=ot.extend(pi(pi({},l),Nt(S,l,ot)),{typeExtends:$,isComponent:j&&!z&&!d?ot.isComponent:d||function(){return 0}}),Object.defineProperty(e.model.prototype,"defaults",{get:function(){return pi(pi({},(0,H.result)(ot.prototype,"defaults")||{}),(0,H.result)(vt,"defaults")||{})}})}if(typeof p=="object"&&(e.view=xt.extend(pi(pi({},p),Nt(A,p,xt)))),j?(j.model=e.model,j.view=e.view):(e.id=t,this.componentTypes.unshift(e)),P){var mt={id:t,label:t,content:{type:t}},X=P===!0?mt:pi(pi({},mt),P);r.Blocks.add(X.id||t,X)}var B="component:type:".concat(j?"update":"add");return r==null||r.trigger(B,j||e),this},n.prototype.getType=function(t){for(var e=this.componentTypes,r=0;r<e.length;r++){var i=e[r].id;if(i==t)return e[r]}},n.prototype.removeType=function(t){var e=this.componentTypes,r=this.getType(t);if(r){var i=e.indexOf(r);return e.splice(i,1),r}},n.prototype.getTypes=function(){return this.componentTypes},n.prototype.selectAdd=function(t,e){var r=this;e===void 0&&(e={}),t&&(t.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(i){return r.em.trigger(i,t,e)}))},n.prototype.selectRemove=function(t,e){var r=this;e===void 0&&(e={}),t&&(this.em,t.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(i){return r.em.trigger(i,t,e)}))},n.prototype.componentHovered=function(){var t=this.em,e=t.get("componentHovered"),r=t.previous("componentHovered"),i="hovered";r&&r.get("status")==i&&r.set({status:"",state:""}),e&&(0,H.isEmpty)(e.get("status"))&&e.set("status",i)},n.prototype.getShallowWrapper=function(){var t=this,e=t.shallow,r=t.em;if(!e&&r){var i=r.shallow;if(!i)return;var l=i.Components;if(l.componentTypes=this.componentTypes,e=l.getWrapper(),e){var f=[qh,vy].join(" ");e.on(f,(0,H.debounce)(function(){return e==null?void 0:e.components("")},100))}this.shallow=e}return e},n.prototype.isComponent=function(t){return(0,Jt.isComponent)(t)},n.prototype.addSymbol=function(t){if(!((0,H.isSymbol)(t)&&!zu(t))){var e=t.clone({symbol:!0});return Vu(e)&&this.symbols.add(e),this.em.trigger("component:toggled"),e}},n.prototype.getSymbols=function(){return m2([],this.symbols.models,!0)},n.prototype.detachSymbol=function(t){$h(t)&&bg(t)},n.prototype.getSymbolInfo=function(t,e){e===void 0&&(e={});var r=Vu(t),i=ua(t),l=!!i,f=So(r?t:i)||[],p=i||(r?t:void 0),d=Fs(t,{changed:e.withChanges}),v=r||l,_=v&&zu(t);return{isSymbol:v,isMain:r,isInstance:l,isRoot:_,main:p,instances:f,relatives:d||[]}},n.prototype.canMove=function(t,e,r){var i={result:!1,reason:ff.InvalidSource,target:t,source:null};if(!e||!t)return i;if(ps(t)&&e instanceof Tr&&ps(e)){var l=cp(t),f=Vu(l)?l:ua(l),p=cp(e),d=Vu(p)?p:ua(p),v=f===d,_=l!==p;if(v&&_)return pi(pi({},i),{reason:ff.TargetReject})}var w=(0,Jt.isComponent)(e)?e:null;if(!w){var S=this.getShallowWrapper();w=(S==null?void 0:S.append(e,{temporary:!0})[0])||null}if(i.source=w,!w)return i;var O=w.get("draggable");if((0,H.isFunction)(O))O=!!O(w,t,r);else{var A=t.getEl();O=(0,H.isArray)(O)?O.join(","):O,O=(0,H.isString)(O)?A==null?void 0:A.matches(O):O}if(!O)return pi(pi({},i),{reason:ff.SourceReject});var P=t.get("droppable");if((0,H.isFunction)(P))P=!!P(w,t,r);else if(P===!1&&t.isInstanceOf("text")&&w.get("textable"))P=!0;else{var A=w.getEl();P=(0,H.isArray)(P)?P.join(","):P,P=(0,H.isString)(P)?A==null?void 0:A.matches(P):P}var j=[t].concat(t.parents()).indexOf(w)>-1;return!P||j?pi(pi({},i),{reason:ff.TargetReject}):pi(pi({},i),{result:!0})},n.prototype.allById=function(){return this.componentsById},n.prototype.getById=function(t){return this.componentsById[t]||null},n.prototype.destroy=function(){var t,e=this.allById();Object.keys(e).forEach(function(r){return e[r]&&e[r].remove()}),(t=this.componentView)===null||t===void 0||t.remove(),[this.em,this.componentsById,this.componentView].forEach(function(r){return{}})},n}(Xs);const _2=y2;var b2=function(){return{stylePrefix:"css-",rules:[]}};const w2=b2;var x2=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),S2=Number.MAX_VALUE,C2=function(o){var n=/(-?\d*\.?\d+)\w{0,}/.exec(o);return n?n[0]:""},O2=function(o){x2(n,o);function n(){var t=o.call(this)||this;return(0,H.bindAll)(t,"sortRules"),t.compCls=[],t.ids=[],t}return n.prototype.buildFromModel=function(t,e){var r=this;e===void 0&&(e={});var i="",l=this.em,f=l&&l.getConfig().avoidInlineStyle,p=t.styleToString(),d=t.classes;this.ids.push("#".concat(t.getId())),d.forEach(function(_){return r.compCls.push(_.getFullName())}),!f&&p&&(i="#".concat(t.getId(),"{").concat(p,"}"));var v=t.components();return v.forEach(function(_){return i+=r.buildFromModel(_,e)}),i},n.prototype.build=function(t,e){var r=this;e===void 0&&(e={});var i=e.json,l=e.em,f=e.cssc||(l==null?void 0:l.Css);this.em=l,this.compCls=[],this.ids=[],this.model=t;var p=[],d=t?this.buildFromModel(t,e):"",v=(0,H.isUndefined)(e.clearStyles)&&l?l.getConfig().clearStyles:e.clearStyles;if(f){var _=e.rules||f.getAll(),w={},S=[];e.onlyMatched&&t&&(0,Jt.hasWin)()&&(_=this.matchedRules(t,_)),_.forEach(function(O){var A=O.getAtRule();if(A){var P=w[A];P?P.push(O):w[A]=[O];return}var j=r.buildFromRule(O,S,e);i?p.push(j):d+=j}),this.sortMediaObject(w).forEach(function(O){var A="",P=O.key,j=O.value;j.forEach(function(z){var k=r.buildFromRule(z,S,e);z.get("singleAtRule")?d+="".concat(P,"{").concat(k,"}"):A+=k,i&&p.push(k)}),A&&(d+="".concat(P,"{").concat(A,"}"))}),l&&v&&_.remove&&_.remove(S)}return i?p.filter(function(O){return O}):d},n.prototype.buildFromRule=function(t,e,r){var i=this,l;r===void 0&&(r={});var f="",p=this.model,d=t.selectorsToString({skipAdd:1}),v=t.get("selectorsAdd"),_=t.get("singleAtRule"),w;if((l=t.get("selectors"))===null||l===void 0||l.forEach(function(O){var A=O.getFullName();(i.compCls.indexOf(A)>=0||i.ids.indexOf(A)>=0||r.keepUnusedStyles)&&(w=1)}),d&&w||v||_||!p){var S=t.getDeclaration({body:1});S&&(r.json?f=t:f+=S)}else e.push(t);return f},n.prototype.matchedRules=function(t,e){var r=this,i=t.getEl(),l=[];return e.forEach(function(f){try{f.selectorsToString().split(",").some(function(p){return i==null?void 0:i.matches(r.__cleanSelector(p))})&&l.push(f)}catch{}}),t.components().forEach(function(f){l=l.concat(r.matchedRules(f,e))}),l=l.filter(function(f,p){return l.indexOf(f)===p}),l},n.prototype.getQueryLength=function(t){var e=/(-?\d*\.?\d+)\w{0,}/.exec(t);return e?parseFloat(e[1]):S2},n.prototype.sortMediaObject=function(t){var e=this;t===void 0&&(t={});var r=[];return(0,H.each)(t,function(i,l){return r.push({key:l,value:i})}),r.sort(function(i,l){var f=[i.key,l.key].every(function(v){return v.indexOf("min-width")!==-1}),p=f?i.key:l.key,d=f?l.key:i.key;return e.getQueryLength(p)-e.getQueryLength(d)})},n.prototype.sortRules=function(t,e){var r=function(p){return p.get("mediaText")||""},i=[r(t),r(e)].every(function(p){return p.indexOf("min-width")!==-1}),l=r(i?t:e),f=r(i?e:t);return this.getQueryLength(l)-this.getQueryLength(f)},n.prototype.__cleanSelector=function(t){return t.split(" ").map(function(e){return e.split(":")[0]}).join(" ")},n}(fe.Kx);const T2=O2;var E2=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$d=function(){return $d=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},$d.apply(this,arguments)},A2=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},Rm=((0,Jt.hasWin)()?window:{}).CSS,P2=function(o){E2(n,o);function n(t,e){e===void 0&&(e={});var r=o.call(this,t)||this;return r.views=[],r.config=t||{},r.opt=e,r.em=e.em,r.ensureSelectors(null,null,{}),r.on("change",r.__onChange),r.setStyle(r.get("style")),r}return n.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},n.prototype.__onChange=function(t,e){var r=this.em,i=this.changedAttributes();i&&!(0,Jt.isEmptyObj)(i)&&(r==null||r.changesUp(e))},n.prototype.clone=function(){var t=$d({},this.opt),e=$d({},this.attributes);return e.selectors=this.get("selectors").map(function(r){return r.clone()}),new this.constructor(e,t)},n.prototype.ensureSelectors=function(t,e,r){var i=this.em,l=i==null?void 0:i.Selectors,f=[this,"change:selectors",this.ensureSelectors],p=this.getSelectors();if(this.stopListening.apply(this,f),p.models&&(p=A2([],p.models,!0)),p=(0,H.isString)(p)?[p]:p,Array.isArray(p)){var d=p.filter(function(v){return v}).map(function(v){return l?l.add(v):v});p=new Ul(d)}this.set("selectors",p,r),this.listenTo.apply(this,f)},n.prototype.getAtRule=function(){var t=this.get("atRuleType"),e=this.get("mediaText"),r=t?"@".concat(t):e?"@media":"";return r+(e&&r?" ".concat(e):"")},n.prototype.selectorsToString=function(t){t===void 0&&(t={});var e=[],r=this.get("state"),i=this.get("selectorsAdd"),l={escape:function(d){return Rm&&Rm.escape?Rm.escape(d):d}},f=this.getSelectors().getFullString(0,l),p=r&&!t.skipState?":".concat(r):"";return f&&e.push("".concat(f).concat(p)),i&&!t.skipAdd&&e.push(i),e.join(", ")},n.prototype.getDeclaration=function(t){t===void 0&&(t={});var e="",r=this.attributes.important,i=this.selectorsToString(t),l=this.styleToString($d({important:r},t)),f=this.get("singleAtRule");return(i||f)&&(l||t.allowEmpty)&&(e=f?l:"".concat(i,"{").concat(l,"}")),e},n.prototype.getDevice=function(){var t=this.em,e=this.attributes,r=e.atRuleType,i=e.mediaText,l=(t==null?void 0:t.Devices.getDevices())||[],f=l.filter(function(p){return p.getWidthMedia()===""})[0];return r!=="media"||!i?f||null:l.filter(function(p){return p.getWidthMedia()===C2(i)})[0]||null},n.prototype.getState=function(){var t=this.em,e=this.get("state"),r=(t==null?void 0:t.Selectors.getStates())||[];return r.filter(function(i){return i.getName()===e})[0]||null},n.prototype.getComponent=function(){var t,e=this.getSelectors(),r=e.length==1&&e.at(0),i=r&&r.isId()&&r.get("name");return i&&((t=this.em)===null||t===void 0?void 0:t.Components.getById(i))||null},n.prototype.toCSS=function(t){t===void 0&&(t={});var e="",r=this.getAtRule(),i=this.getDeclaration(t);return(i||t.allowEmpty)&&(e=i),r&&e&&(e="".concat(r,"{").concat(e,"}")),e},n.prototype.toJSON=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=fe.Kx.prototype.toJSON.apply(this,e);if(!((t=this.em)===null||t===void 0)&&t.getConfig().avoidDefaults){var l=this.defaults();(0,H.forEach)(l,function(f,p){i[p]===f&&delete i[p]}),delete i.style.__p,(0,H.isEmpty)(i.selectors)&&delete i.selectors,(0,H.isEmpty)(i.style)&&delete i.style}return i},n.prototype.compare=function(t,e,r,i){var l;i===void 0&&(i={});var f=e||"",p=r||"",d=i.selectorsAdd||"",v=i.atRuleType||"",_=!(0,H.isArray)(t)&&!t.models?[t]:t.models||t;p&&!v&&(v="media");var w=_.map(function(P){return P.getFullName()}),S=(l=this.get("selectors"))===null||l===void 0?void 0:l.map(function(P){return P.getFullName()}),O=w.slice().sort(),A=S.slice().sort();return!(w.length!==S.length||!O.every(function(P,j){return P===A[j]})||this.get("state")!==f||this.get("mediaText")!==p||this.get("selectorsAdd")!==d||this.get("atRuleType")!==v)},n}(Ex);const Kx=P2;var D2=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yx=function(o){D2(n,o);function n(t,e){var r=o.call(this,t)||this;return r.editor=e==null?void 0:e.em,setTimeout(function(){r.on("remove",r.onRemove),r.on("add",r.onAdd)}),r}return n.prototype.toJSON=function(t){var e=fe.pM.prototype.toJSON.call(this,t);return e.filter(function(r){return r.style&&!r.shallow})},n.prototype.onAdd=function(t,e,r){t.ensureSelectors(t,e,r)},n.prototype.onRemove=function(t){var e=this.editor;e.stopListening(t),e.UndoManager.remove(t)},n.prototype.add=function(t,e){return e===void 0&&(e={}),typeof t=="string"&&(t=this.editor.get("Parser").parseCss(t)),e.em=this.editor,fe.pM.prototype.add.apply(this,[t,e])},n}(fe.pM);const M2=Yx;Yx.prototype.model=Kx;var j2=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ru=function(){return Ru=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Ru.apply(this,arguments)},R2=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},L2=function(o){j2(n,o);function n(t){var e=o.call(this,t,"CssComposer",null,{},w2())||this;e.Selectors=Ul,e.storageKey="styles";var r=e.config,i=r.pStylePrefix;return i&&(r.stylePrefix=i+r.stylePrefix),r.rules=e.em.config.style||r.rules||"",e.rules=new M2([],r),e}return n.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},n.prototype.postLoad=function(){this.em.UndoManager.add(this.getAll())},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(t){return this.loadProjectData(t,{all:this.rules})},n.prototype.add=function(t,e,r,i,l){i===void 0&&(i={}),l===void 0&&(l={});var f=e||"",p=r||"",d=Ru({},i),v=this.get(t,f,p,d);return v&&v.config&&!v.config.singleAtRule||(d.state=f,d.mediaText=p,d.selectors=[],p&&!d.atRuleType&&(d.atRuleType="media"),v=new Kx(d,this.config),v.get("selectors").add(t,l),this.rules.add(v,l)),v},n.prototype.get=function(t,e,r,i){var l=t;if((0,H.isString)(t)){var f=this.em.Selectors,p=t.split(",")[0].trim(),d=this.em.Parser.parserCss.checkNode({selectors:p})[0];l=f.get(d.selectors)}return this.rules.find(function(v){return v.compare(l,e,r,i)})||null},n.prototype.getAll=function(){return this.rules},n.prototype.addCollection=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var i=this.em,l=[];(0,H.isString)(t)&&(t=i.Parser.parseCss(t));for(var f=t instanceof Array?t:[t],p=0,d=f.length;p<d;p++){var v=f[p]||{};if(v.selectors){var _=i==null?void 0:i.Selectors;_||console.warn("Selector Manager not found");for(var w=v.selectors,S=w instanceof Array?w:[w],O=[],A=0,P=S.length;A<P;A++){var j=_.add(S[A]);O.push(j)}var z=this.get(O,v.state,v.mediaText,v),k=this.add(O,v.state,v.mediaText,v,e),G=!z||!e.avoidUpdateStyle,ot=v.style||{};if((0,Jt.isObject)(r)&&k.set(r,e),G){var xt=e.extend?Ru(Ru({},k.get("style")),ot):ot;k.setStyle(xt,e)}l.push(k)}}return l},n.prototype.addRules=function(t){return this.addCollection(t)},n.prototype.setRule=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var i=r.atRuleType,l=r.atRuleParams,f=this.em.Parser.parserCss.checkNode({selectors:t,style:e})[0],p=f.state,d=f.selectorsAdd,v=this.em.Selectors,_=v.add(f.selectors),w=this.add(_,p,l,{selectorsAdd:d,atRule:i});return r.addStyles?w.addStyle(e,r):w.setStyle(e,r),w},n.prototype.getRule=function(t,e){e===void 0&&(e={});var r=this.em,i=r.Selectors,l=r.Parser.parserCss.checkNode({selectors:t})[0],f=i.get(l.selectors),p=l.state,d=l.selectorsAdd,v=e.atRuleType,_=e.atRuleParams;return f?this.get(f,p,_,{selectorsAdd:d,atRuleType:v}):void 0},n.prototype.getRules=function(t){var e=this.getAll();if(!t)return R2([],e.models,!0);var r={sort:!0},i=(0,H.isString)(t)?t.split(",").map(function(f){return f.trim()}):t,l=e.filter(function(f){return i.indexOf(f.getSelectors().getFullString(null,r))>=0});return l},n.prototype.setIdRule=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var i=r.addOpts,l=i===void 0?{}:i,f=r.mediaText,p=r.state||"",d=(0,H.isUndefined)(f)?this.em.getCurrentMedia():f,v=this.em.Selectors,_=v.add({name:t,type:Qi.TYPE_ID},l),w=this.add(_,p,d,{},l);return w.setStyle(e,Ru(Ru({},r),l)),w},n.prototype.getIdRule=function(t,e){e===void 0&&(e={});var r=e.mediaText,i=e.state||"",l=(0,H.isUndefined)(r)?this.em.getCurrentMedia():r,f=this.em.Selectors.get(t,Qi.TYPE_ID);return f&&this.get(f,i,l)},n.prototype.setClassRule=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var i=r.state||"",l=r.mediaText||this.em.getCurrentMedia(),f=this.em.Selectors,p=f.add({name:t,type:Qi.TYPE_CLASS}),d=this.add(p,i,l);return d.setStyle(e,r),d},n.prototype.getClassRule=function(t,e){e===void 0&&(e={});var r=e.state||"",i=e.mediaText||this.em.getCurrentMedia(),l=this.em.Selectors.get(t,Qi.TYPE_CLASS);return l&&this.get(l,r,i)},n.prototype.remove=function(t,e){var r=(0,H.isString)(t)?this.getRules(t):t,i=this.getAll().remove(r,e);return(0,H.isArray)(i)?i:[i]},n.prototype.clear=function(t){return t===void 0&&(t={}),this.getAll().reset([],t),this},n.prototype.getComponentRules=function(t,e){e===void 0&&(e={});var r=e.state,i=e.mediaText,l=e.current;l&&(r=this.em.get("state")||"",i=this.em.getCurrentMedia());var f=t.getId(),p=this.getAll().filter(function(d){return!(0,H.isUndefined)(r)&&d.get("state")!==r||!(0,H.isUndefined)(i)&&d.get("mediaText")!==i?!1:d.getSelectorsString()==="#".concat(f)});return p},n.prototype.render=function(){var t;return(t=this.rulesView)===null||t===void 0||t.remove(),this.rulesView=new wx({collection:this.rules,config:this.config}),this.rulesView.render().el},n.prototype.checkId=function(t,e){e===void 0&&(e={});var r=e.idMap,i=r===void 0?{}:r,l=[];if(!Object.keys(i).length)return l;var f=Array.isArray(t)?t:[t];return f.forEach(function(p){var d=p.selectors;if(d&&d.length==1){var v=d[0];if((0,H.isString)(v)){if(v[0]==="#"){var _=v.substring(1),w=i[_];_&&w&&(d[0]="#".concat(w),l.push(p))}}else if(v.name&&v.type===Qi.TYPE_ID){var w=i[v.name];w&&(v.name=w,l.push(p))}}}),l},n.prototype.destroy=function(){var t;this.rules.reset(),this.rules.stopListening(),(t=this.rulesView)===null||t===void 0||t.remove()},n}(Xs);const N2=L2;var k2=function(){return{appendTo:"",blocks:[],appendOnClick:!1,custom:!1}};const V2=k2;var U2=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),H2=function(o){U2(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{},dragDef:{}}},Object.defineProperty(n.prototype,"category",{get:function(){var t=this.get("category");return t instanceof yp?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),n.prototype.getId=function(){return this.id},n.prototype.getLabel=function(){return this.get("label")},n.prototype.getMedia=function(){return this.get("media")},n.prototype.getContent=function(){return this.get("content")},n.prototype.getDragDef=function(){return this.get("dragDef")},n.prototype.getCategoryLabel=function(){var t=this.get("category");return(0,H.isFunction)(t==null?void 0:t.get)?t.get("label"):t!=null&&t.label?t==null?void 0:t.label:t},n}(fe.Kx);const Xx=H2;var B2=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zx=function(o){B2(n,o);function n(t,e){var r=o.call(this,t)||this;return r.em=e.em,r.on("add",r.handleAdd),r}return n.prototype.getCategories=function(){return this.em.Blocks.getCategories()},n.prototype.handleAdd=function(t){this.initCategory(t)},n}(Rx);const Dh=Zx;Zx.prototype.model=Xx;var tp;(function(o){o.add="block:add",o.remove="block:remove",o.removeBefore="block:remove:before",o.update="block:update",o.dragStart="block:drag:start",o.drag="block:drag",o.dragEnd="block:drag:stop",o.categoryUpdate="block:category:update",o.custom="block:custom",o.all="block"})(tp||(tp={}));var I2=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),df=function(){return df=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},df.apply(this,arguments)},z2=function(o){I2(n,o);function n(t,e){e===void 0&&(e={});var r=o.call(this,t)||this,i=r.model;return r.em=e.em,r.config=e,r.endDrag=r.endDrag.bind(r),r.ppfx=e.pStylePrefix||"",r.listenTo(i,"destroy remove",r.remove),r.listenTo(i,"change",r.render),r}return n.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},n.prototype.__getModule=function(){return this.em.Blocks},n.prototype.handleClick=function(t){var e,r,i=this,l=i.config,f=i.model,p=i.em,d=f.get("onClick")||l.appendOnClick;if(p.trigger("block:click",f,t),d){if((0,H.isFunction)(d))return d(f,p==null?void 0:p.getEditor(),{event:t})}else return;var v=(e=l.getSorter)===null||e===void 0?void 0:e.call(l);if(v){var _=f.get("content"),w=this.getTempDropModel(_),S=(r=w.view)===null||r===void 0?void 0:r.el,O=S?[{element:S,dragSource:{content:_}}]:[],A=p.getSelected(),P,j,z,k=0;if(A)if(j=v.validTarget(A.getEl(),O,k),j)P=A;else{var G=A.parent();G&&(j=v.validTarget(G.getEl(),O,k),j&&(P=G,z=G.components().indexOf(A)+1))}if(!P){var ot=p.getWrapper();j=v.validTarget(ot.getEl(),O,k),j&&(P=ot)}var xt=P&&P.append(_,{at:z})[0];xt&&p.setSelected(xt,{scroll:1})}},n.prototype.startDrag=function(t){var e,r=this,i=r.config,l=r.em,f=r.model,p=f.get("disable");if(!(t.button!==0||!i.getSorter||this.el.draggable||p)){l.refreshCanvas();var d=i.getSorter();d.__currentBlock=f;var v=this.model.get("content"),_=this.getTempDropModel(v),w=(e=_.view)===null||e===void 0?void 0:e.el,S=w?[{element:w,dragSource:{content:v}}]:[];d.startSort(S),(0,ye.on)(document,"mouseup",this.endDrag)}},n.prototype.handleDragStart=function(t){this.__getModule().__startDrag(this.model,t)},n.prototype.handleDrag=function(t){this.__getModule().__drag(t)},n.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},n.prototype.endDrag=function(){var t,e;(0,ye.AU)(document,"mouseup",this.endDrag);var r=(e=(t=this.config).getSorter)===null||e===void 0?void 0:e.call(t);r&&r.endDrag()},n.prototype.getTempDropModel=function(t){var e,r=this.em.Components.getComponents(),i={avoidChildren:1,avoidStore:1,avoidUpdateStyle:1},l=r.add(t,df(df({},i),{temporary:!0})),f=r.remove(l,df(df({},i),{temporary:!0}));return f=f instanceof Array?f[0]:f,(e=f.view)===null||e===void 0||e.$el.data("model",f),f},n.prototype.render=function(){var t,e=this,r=e.em,i=e.el,l=e.$el,f=e.ppfx,p=e.model,d=p.get("disable"),v=p.get("attributes")||{},_=v.class||"",w="".concat(f,"block"),S=r&&r.t("blockManager.labels.".concat(p.id))||p.get("label"),O=p.get("render"),A=p.get("media"),P=d?"".concat(w,"--disable"):"".concat(f,"four-color-h");l.attr(v),i.className="".concat(_," ").concat(w," ").concat(f,"one-bg ").concat(P).trim(),i.innerHTML=`
      `.concat(A?'<div class="'.concat(w,'__media">').concat(A,"</div>"):"",`
      <div class="`).concat(w,'-label">').concat(S,`</div>
    `),i.title=v.title||((t=i.textContent)===null||t===void 0?void 0:t.trim()),i.setAttribute("draggable","".concat(!!((0,Jt.hasDnd)(r)&&!d)));var j=O&&O({el:i,model:p,className:w,prefix:f});return j&&(i.innerHTML=j),this},n}(fe.Ss);const F2=z2;var W2=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),q2=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},G2=function(o){W2(n,o);function n(t,e,r){var i=o.call(this,t)||this;i.config=e;var l=e.pStylePrefix||"";return i.em=e.em,i.catName=r,i.pfx=l,i.caretR="fa fa-caret-right",i.caretD="fa fa-caret-down",i.iconClass="".concat(l,"caret-icon"),i.activeClass="".concat(l,"open"),i.className="".concat(l).concat(r,"-category"),i.listenTo(i.model,"change:open",i.updateVisibility),i.model.view=i,i}return n.prototype.events=function(){return{"click [data-title]":"toggle"}},n.prototype.template=function(t){var e=t.pfx,r=t.label,i=t.catName;return wo(wb||(wb=q2([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `])),e,e,r,e,i)},n.prototype.attributes=function(){return this.model.get("attributes")||{}},n.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},n.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},n.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},n.prototype.toggle=function(){var t=this.model;t.set("open",!t.get("open"))},n.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},n.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},n.prototype.append=function(t){this.getTypeEl().appendChild(t)},n.prototype.render=function(){var t=this,e=t.em,r=t.el,i=t.$el,l=t.model,f=t.pfx,p=t.catName,d=e.t("".concat(p,"Manager.categories.").concat(l.id))||l.get("label");return r.innerHTML=this.template({pfx:f,label:d,catName:p}),i.addClass(this.className),i.css({order:l.get("order")}),this.updateVisibility(),this},n}(fe.Ss);const Jx=G2;var wb,K2=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rv=function(){return Rv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Rv.apply(this,arguments)},Y2=function(o){K2(n,o);function n(t,e){var r=o.call(this,t)||this;r.renderedCategories=new Map,(0,H.bindAll)(r,"getSorter","onDrag","onDrop","onMove"),r.config=e||{},r.categories=t.categories||"";var i=r.config.pStylePrefix||"";r.ppfx=i,r.noCatClass="".concat(i,"blocks-no-cat"),r.blockContClass="".concat(i,"blocks-c"),r.catsClass="".concat(i,"block-categories");var l=r.collection;return r.listenTo(l,"add",r.addTo),r.listenTo(l,"reset",r.render),r.em=r.config.em,r.em&&(r.config.getSorter=r.getSorter),r}return n.prototype.__getModule=function(){return this.em.Blocks},n.prototype.updateConfig=function(t){t===void 0&&(t={}),this.config=Rv(Rv({},this.config),t)},n.prototype.getSorter=function(){var t=this.em;if(t){if(!this.sorter){var e=t.Utils,r=t.Canvas;this.sorter=new e.ComponentSorter({em:t,treeClass:Nx,containerContext:{container:r.getBody(),containerSel:"*",itemSel:"*",pfx:this.ppfx,placeholderElement:r.getPlacerEl(),document:r.getBody().ownerDocument},dragBehavior:{dragDirection:Wu.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnStartSort:this.onDrag,legacyOnEndMove:this.onDrop,legacyOnMoveClb:this.onMove}})}return this.sorter}},n.prototype.onDrag=function(t){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,t)},n.prototype.onMove=function(t){this.__getModule().__drag(t)},n.prototype.onDrop=function(t){this.em.runDefault(),this.__getModule().__endDrag({component:t}),delete this.sorter.__currentBlock},n.prototype.addTo=function(t){this.add(t)},n.prototype.add=function(t,e){var r=this,i=r.config,l=r.renderedCategories,f=t.get("attributes"),p=new F2({model:t,attributes:f},i),d=p.render().el,v=t.parent.initCategory(t);if(v&&this.categories&&!i.ignoreCategories){var _=v.getId(),w=this.getCategoriesEl(),S=l.get(_);!S&&w&&(S=new Jx({model:v},i,"block").render(),l.set(_,S),w.appendChild(S.el)),S==null||S.append(d);return}e?e.appendChild(d):this.append(d)},n.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},n.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},n.prototype.append=function(t){var e=this.getBlocksEl();e&&e.appendChild(t)},n.prototype.render=function(){var t=this,e=this.ppfx,r=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(l){return t.add(l,r)}),this.append(r);var i="".concat(this.blockContClass,"s ").concat(e,"one-bg ").concat(e,"two-color");return this.$el.addClass(i),this.rendered=!0,this},n}(fe.Ss);const xb=Y2;var X2=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Nl=function(){return Nl=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Nl.apply(this,arguments)},Z2=function(o){X2(n,o);function n(t){var e=o.call(this,t,"BlockManager",new Dh([],{em:t}),tp,V2())||this;return e.events=tp,e.Block=Xx,e.Blocks=Dh,e.Category=yp,e.Categories=nv,e.storageKey="",e.blocks=e.all,e.blocksVisible=new Dh(e.blocks.models,{em:t}),e.categories=new nv([],{em:t,events:{update:tp.categoryUpdate}}),e.__onAllEvent=(0,H.debounce)(function(){return e.__trgCustom()},0),e}return n.prototype.onInit=function(){var t=this,e=t.config,r=t.blocks,i=t.blocksVisible;r.add(e.blocks||[]),r.on("add",function(l){return i.add(l)}),r.on("remove",function(l){return i.remove(l)}),r.on("reset",function(l){return i.reset(l.models)})},n.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},n.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:e.container,dragStart:function(r,i){return t.startDrag(r,i)},drag:function(r){return t.__drag(r)},dragStop:function(r){return t.endDrag(r)}}},n.prototype.__startDrag=function(t,e){var r=this,i=r.em,l=r.events,f=r.blocks,p=t.getContent?t.getContent():t;this._dragBlock=t,i.set({dragResult:null,dragSource:{content:p,dragDef:t.getDragDef()}}),[i,f].map(function(d){return d.trigger(l.dragStart,t,e)})},n.prototype.__drag=function(t){var e=this,r=e.em,i=e.events,l=e.blocks,f=this._dragBlock;[r,l].map(function(p){return p.trigger(i.drag,f,t)})},n.prototype.__endDrag=function(t){t===void 0&&(t={});var e=this,r=e.em,i=e.events,l=e.blocks,f=this._dragBlock,p=t.component||r.get("dragResult");if(delete this._dragBlock,p&&f){var d="activeOnRender",v=p.get&&p.get(d),_=f.get("activate")||v,w=f.get("select"),S=(0,H.isArray)(p)?p[0]:p;(w||_&&w!==!1)&&r.setSelected(S),_&&(S.trigger("active"),v&&S.unset(d)),f.get("resetId")&&S.onAll(function(O){return O.resetId()})}r.set({dragResult:null,dragSource:void 0}),f&&[r,l].map(function(O){return O.trigger(i.dragEnd,p,f)})},n.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(t){return t.view}).filter(Boolean)},n.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=Nl(Nl({},this._bhv||{}),t)},n.prototype.__getBehaviour=function(){return this._bhv||{}},n.prototype.startDrag=function(t,e){this.__startDrag(t,e),this.__getFrameViews().forEach(function(r){var i;return(i=r.droppable)===null||i===void 0?void 0:i.startCustom()})},n.prototype.endDrag=function(t){this.__getFrameViews().forEach(function(e){var r;return(r=e.droppable)===null||r===void 0?void 0:r.endCustom(t)}),this.__endDrag()},n.prototype.postRender=function(){var t=this,e=t.categories,r=t.config,i=t.em,l=this.blocksVisible;this.blocksView=new xb({collection:l,categories:e},Nl(Nl({},r),{em:i})),this.__appendTo(l.models),this.__trgCustom()},n.prototype.add=function(t,e,r){r===void 0&&(r={});var i=e||{};return i.id=t,this.blocks.add(i,r)},n.prototype.get=function(t){return this.blocks.get(t)},n.prototype.getAll=function(){return this.blocks},n.prototype.getAllVisible=function(){return this.blocksVisible},n.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},n.prototype.getCategories=function(){return this.categories},n.prototype.getContainer=function(){var t;return(t=this.blocksView)===null||t===void 0?void 0:t.el},n.prototype.getDragBlock=function(){return this._dragBlock},n.prototype.getBlocksByCategory=function(t){return jx(t||this.getAll().models)},n.prototype.render=function(t,e){e===void 0&&(e={});var r=this,i=r.categories,l=r.config,f=r.em,p=t||this.getAll().models;if(e.external){var d=new Dh(p,{em:f});return new xb({collection:d,categories:i},Nl(Nl({em:f},l),e)).render().el}return this.blocksView&&(this.blocksView.updateConfig(e),this.blocksView.collection.reset(p),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},n.prototype.destroy=function(){var t,e=[this.blocks,this.blocksVisible,this.categories];e.map(function(r){return r.stopListening()}),e.map(function(r){return r.reset()}),(t=this.blocksView)===null||t===void 0||t.remove()},n}(Xs);const J2=Z2;var Q2=function(){return{stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1}};const $2=Q2;var tj=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qx=function(o){tj(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return{name:"",label:""}},n.prototype.getName=function(){return this.get("name")},n.prototype.getLabel=function(){return this.get("label")||this.getName()},n}(fe.Kx);const Lm=Qx;Qx.prototype.idAttribute="name";var ej=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nj=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},Sb="contentEditable",rj=function(o){ej(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this,r=t.config||{};return e.config=r,e.module=t.module,e.coll=t.coll||null,e.pfx=r.stylePrefix||"",e.ppfx=r.pStylePrefix||"",e.em=r.em,e.listenTo(e.model,"change:active",e.updateStatus),e}return n.prototype.template=function(){var t=this,e=t.pfx,r=t.model,i=t.config,l=r.get("label")||"";return wo(Cb||(Cb=nj([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),e,e,e,l,e,e,i.iconTagRemove)},n.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},n.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},n.prototype.startEditTag=function(){var t=this.em,e=this.getInputEl();e[Sb]="true",e.focus(),t==null||t.setEditing(!0)},n.prototype.endEditTag=function(){var t=this,e=t.model,r=t.em,i=this.getInputEl(),l=i.textContent||"",f=r==null?void 0:r.Selectors;i[Sb]="false",r==null||r.setEditing(!1),f&&f.rename(e,l)!==e&&(i.innerText=e.getLabel())},n.prototype.changeStatus=function(){var t=this.model;t.set("active",!t.getActive())},n.prototype.removeTag=function(){this.module.removeSelected(this.model)},n.prototype.updateStatus=function(){var t=this,e=t.model,r=t.$el,i=t.config,l=i.iconTagOn,f=i.iconTagOff,p=r.find("[data-tag-status]");e.get("active")?(p.html(l),r.removeClass("opac50")):(p.html(f),r.addClass("opac50"))},n.prototype.render=function(){var t=this,e=t.pfx,r=t.ppfx,i=t.$el,l=t.model,f="".concat(e,"tag"),p=["".concat(f," ").concat(r,"three-bg")];return l.get("protected")&&p.push("".concat(f,"-protected")),i.html(this.template()),i.attr("class",p.join(" ")),this.updateStatus(),this},n}(fe.Ss);const ij=rj;var Cb,oj=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fd=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},aj=function(o){oj(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.className=e.pfx+"tags",e.stateInputId=e.pfx+"states",e.stateInputC=e.pfx+"input-c",e.states=e.config.states||[];var r=e.config.em,i=e.collection;e.target=r;var l=r.Selectors;e.module=l,e.em=r,e.componentChanged=(0,H.debounce)(e.componentChanged.bind(e),0),e.checkSync=(0,H.debounce)(e.checkSync.bind(e),0);var f=Jn.I.update,p="".concat(f,":classes"),d="component:toggled ".concat(p),v="".concat(p," ").concat(f,":attributes:id change:state");return e.listenTo(r,d,e.componentChanged),e.listenTo(r,"styleManager:update",e.componentChanged),e.listenTo(r,v,e.__handleStateChange),e.listenTo(r,"styleable:change change:device",e.checkSync),e.listenTo(i,"add",e.addNew),e.listenTo(i,"reset",e.renderClasses),e.listenTo(i,"remove",e.tagRemoved),e.listenTo(l.getAll(),l.events.state,(0,H.debounce)(function(){return e.renderStates()},0)),e.delegateEvents(),e}return n.prototype.template=function(t){var e=t.labelInfo,r=t.labelHead,i=t.iconSync,l=t.iconAdd,f=t.pfx,p=t.ppfx;return wo(Ob||(Ob=Fd([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),f,f,f,f,r,f,f,f,p,p,p,f,p,p,f,p,f,f,f,f,f,l,f,f,i,f,f,e,f)},n.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},n.prototype.syncStyle=function(){var t=this.em,e=this.getTarget(),r=t.Css,i={noDisabled:1},l=this.getCommonSelectors({opts:i}),f=t.get("state"),p=t.getCurrentMedia(),d=[],v=r.get(l,f,p)||r.add(l,f,p),_;this.getTargets().forEach(function(w){var S=r.getIdRule(w.getId(),{state:f,mediaText:p});_=S.getStyle(),S.setStyle({}),d.push(S)}),_&&v.addStyle(_),t.trigger("component:toggled"),t.trigger("component:sync-style",{component:e,selectors:l,mediaText:p,rule:v,ruleComponents:d,state:f})},n.prototype.tagRemoved=function(t){this.updateStateVis()},n.prototype.addNew=function(t){this.addToClasses(t)},n.prototype.startNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:"none"}),(e=this.$input)===null||e===void 0||e.show().focus()},n.prototype.endNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:""}),(e=this.$input)===null||e===void 0||e.hide().val("")},n.prototype.onInputKeyUp=function(t){var e;t.keyCode===13?(t.preventDefault(),this.addNewTag((e=this.$input)===null||e===void 0?void 0:e.val())):t.keyCode===27&&this.endNewTag()},n.prototype.checkStates=function(){var t=this.em.getState(),e=this.getStates();e&&e.val(t)},n.prototype.componentChanged=function(t){var e=t===void 0?{}:t,r=e.targets;this.updateSelection(r)},n.prototype.updateSelection=function(t){var e=t||this.getTargets();e=(0,H.isArray)(e)?e:[e];var r=[];return e&&e.length&&(r=this.getCommonSelectors({targets:e}),this.checkSync({validSelectors:r})),this.collection.reset(r),this.updateStateVis(e),this.module.__trgCustom(),r},n.prototype.getCommonSelectors=function(t){var e=t===void 0?{}:t,r=e.targets,i=e.opts,l=i===void 0?{}:i,f=r||this.getTargets();return this.module.__getCommonSelectors(f,l)},n.prototype._commonSelectors=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return(t=this.module).__common.apply(t,e)},n.prototype.checkSync=function(){var t=this,e=t.$btnSyncEl,r=t.config,i=t.collection,l=this.getTarget(),f;if(l&&r.componentFirst&&i.length){var p=l.getStyle();f=!(0,H.isEmpty)(p)}e&&e[f?"show":"hide"]()},n.prototype.getTarget=function(){return this.target.getSelected()},n.prototype.getTargets=function(){return this.target.getSelectedAll()},n.prototype.updateStateVis=function(t){var e=this.em,r=e&&e.getConfig().avoidInlineStyle,i=this.collection.length||r?"":"none";this.getStatesC().css("display",i),this.updateSelector(t)},n.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},n.prototype.updateSelector=function(t){var e=this,r=this.el.querySelector("[data-selected]"),i=[],l=t||this.getTargets();l=(0,H.isArray)(l)?l:[l],l.forEach(function(f){return i.push(e.__getName(f))}),r&&(r.innerHTML=i.join(", ")),this.checkStates()},n.prototype.__getName=function(t){var e=this,r=e.pfx,i=e.config,l=e.em,f=i.selectedName,p=i.componentFirst,d;if((0,H.isString)(t))d=wo(Tb||(Tb=Fd(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),r,t);else{var v=t==null?void 0:t.getSelectors();if(!v)return"";var _=v.getStyleable(),w=l.get("state"),S=t.getId?wo(Eb||(Eb=Fd(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),r,t.getName(),r,t.getId()):"";d=this.collection.getFullString(_),d=d?wo(Ab||(Ab=Fd(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),r,d):t.get("selectorsAdd")||S,d=p&&S?S:d,d+=w?wo(Pb||(Pb=Fd(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),r,w):"",d=f?f({result:d,state:w,target:t}):d}return d&&'<span class="'.concat(r,'sel">').concat(d,"</span>")},n.prototype.stateChanged=function(t){var e=this.em,r=t.target.value;e.set("state",r)},n.prototype.addNewTag=function(t){var e=t.trim();e&&(this.module.addSelected({label:e}),this.endNewTag())},n.prototype.addToClasses=function(t,e){var r=e,i=this.getClasses(),l=new ij({model:t,config:this.config,coll:this.collection,module:this.module}).render().el;return r?r.appendChild(l):i.append(l),l},n.prototype.renderClasses=function(){var t=this,e=document.createDocumentFragment(),r=this.getClasses();r.empty(),this.collection.each(function(i){return t.addToClasses(i,e)}),r.append(e)},n.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},n.prototype.getStates=function(){if(!this.$states){var t=this.$el.find("[data-states]");this.$states=t[0]&&t}return this.$states},n.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},n.prototype.renderStates=function(){var t=this,e=t.module,r=t.em,i=r.t("selectorManager.emptyState"),l=e.getStates().map(function(p){var d=r.t("selectorManager.states.".concat(p.id))||p.getLabel()||p.id;return'<option value="'.concat(p.id,'">').concat(d,"</option>")}).join(""),f=this.getStates();f&&f.html('<option value="">'.concat(i,"</option>").concat(l)),this.checkStates()},n.prototype.render=function(){var t=this,e=t.em,r=t.pfx,i=t.ppfx,l=t.config,f=t.$el,p=t.el,d=l.render,v=l.iconSync,_=l.iconAdd,w={iconSync:v,iconAdd:_,labelHead:e.t("selectorManager.label"),labelInfo:e.t("selectorManager.selected"),ppfx:i,pfx:r,el:p};f.html(this.template(w));var S=d&&d(w);return S&&S!==p&&f.empty().append(S),this.$input=f.find("[data-input]"),this.$addBtn=f.find("[data-add]"),this.$classes=f.find("#"+r+"tags-c"),this.$btnSyncEl=f.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),f.attr("class","".concat(this.className," ").concat(i,"one-bg ").concat(i,"two-color")),this},n}(fe.Ss);const sj=aj;var Ob,Tb,Eb,Ab,Pb,lj=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ep=function(){return ep=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},ep.apply(this,arguments)},Nm=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},Db=function(o){return(0,H.isString)(o)&&o[0]=="#"},Mb=function(o){return(0,H.isString)(o)&&o[0]=="."},$x="selector",_p="".concat($x,":"),uj="".concat(_p,"add"),cj="".concat(_p,"update"),tS="".concat(_p,"remove"),fj="".concat(tS,":before"),dj="".concat(_p,"custom"),eS="".concat(_p,"state"),pj={all:$x,update:cj,add:uj,remove:tS,removeBefore:fj,state:eS,custom:dj},hj=function(o){lj(n,o);function n(t){var e=o.call(this,t,"SelectorManager",new Ul([]),pj,$2(),{skipListen:!0})||this;e.Selector=Qi,e.Selectors=Ul,e.storageKey="",(0,H.bindAll)(e,"__updateSelectedByComponents");var r=e.config,i=r.pStylePrefix;i&&(r.stylePrefix=i+r.stylePrefix),e.all=new Ul(r.selectors),e.selected=new Ul([],{em:t,config:r}),e.states=new fe.pM(r.states.map(function(p){return new Lm(p)}),{model:Lm}),e.model=new fe.Kx({cFirst:r.componentFirst,_undo:!0}),e.__update=(0,H.debounce)(function(){return e.__trgCustom()},0),e.__initListen({collections:[e.states,e.selected],propagate:[{entity:e.states,event:e.events.state}]}),t.on("change:state",function(p,d){return t.trigger(eS,d)}),e.model.on("change:cFirst",function(p,d){return t.trigger("selector:type",d)});var l="".concat(Jn.I.update,":classes");t.on("component:toggled ".concat(l),e.__updateSelectedByComponents);var f="component:toggled ".concat(l," change:device styleManager:update selector:state selector:type style:target");return e.model.listenTo(t,f,function(){return e.__update()}),e}return n.prototype.__trgCustom=function(t){this.em.trigger(this.events.custom,this.__customData(t))},n.prototype.getAll=function(t){return t===void 0&&(t={}),this.all?t.array?Nm([],this.all.models,!0):this.all:[]},n.prototype.__customData=function(t){return t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},n.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},n.prototype.select=function(t,e){e===void 0&&(e={});var r=Array.isArray(t)?t:[t],i=this.em.Styles.select(r,e);this.selected.reset(this.__getCommonSelectors(i));var l=this.selectorTags,f=i.filter(function(p){return p}).map(function(p){return(0,Jt.isComponent)(p)||(0,Jt.isRule)(p)&&!p.get("selectorsAdd")?p:p.getSelectorsString()});return l&&l.componentChanged({targets:f}),this},n.prototype.addSelector=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var i=ep({},e);(0,H.isObject)(t)?i=t:i.name=t,Db(i.name)?(i.name=i.name.substr(1),i.type=Qi.TYPE_ID):Mb(i.name)&&(i.name=i.name.substr(1)),i.label&&!i.name&&(i.name=this.escapeName(i.label));var l=i.name,f=this.getConfig(),p=this,d=p.all,v=p.em,_=l?this.get(l,i.type):d.where(i)[0];if(!_){var w=i instanceof Qi?i:new Qi(i,ep(ep({},r),{config:f,em:v}));return d.add(w,r)}return _},n.prototype.getSelector=function(t,e){return e===void 0&&(e=Qi.TYPE_CLASS),Db(t)?(t=t.substr(1),e=Qi.TYPE_ID):Mb(t)&&(t=t.substr(1)),this.all.where({name:t,type:e})[0]},n.prototype.add=function(t,e){var r=this;e===void 0&&(e={});var i=(0,H.isString)(t)?{}:e;return(0,H.isArray)(t)?t.map(function(l){return r.addSelector(l,e,i)}):this.addSelector(t,e,i)},n.prototype.addClass=function(t){var e=this,r=[];return(0,H.isString)(t)&&(t=t.trim().split(" ")),t.forEach(function(i){return r.push(e.addSelector(i))}),r},n.prototype.get=function(t,e){var r=this;if((0,H.isArray)(t)){var i=[],l=t.map(function(f){return r.getSelector(f)}).filter(Boolean);return l.forEach(function(f){return i.indexOf(f)<0&&i.push(f)}),i}else return this.getSelector(t,e)},n.prototype.remove=function(t,e){return this.__remove(t,e)},n.prototype.rename=function(t,e,r){var i=this.escapeName(e),l=this.get(i);return l||t.set({name:i,label:e},r)},n.prototype.setState=function(t){return this.em.setState(t),this},n.prototype.getState=function(){return this.em.getState()},n.prototype.getStates=function(){return Nm([],this.states.models,!0)},n.prototype.setStates=function(t,e){return this.states.reset(t.map(function(r){return new Lm(r)}),e)},n.prototype.getSelected=function(){return this.__getCommon()},n.prototype.getSelectedAll=function(){return Nm([],this.selected.models,!0)},n.prototype.addSelected=function(t){var e=this.add(t);this.em.getSelectedAll().forEach(function(r){r.getSelectors().add(e)})},n.prototype.removeSelected=function(t){this.em.getSelectedAll().forEach(function(e){!t.get("protected")&&e&&e.getSelectors().remove(t)})},n.prototype.duplicateSelected=function(t,e){var r=this;e===void 0&&(e={});var i=this.em,l=this.getSelected();if(!(l.indexOf(t)<0)){var f=this.getState(),p=i.getCurrentMedia(),d=i.Css.get(l,f,p),v=d==null?void 0:d.getStyle();if(i.getSelectedAll().forEach(function(w){var S=w.getSelectors();if(S.includes(t)){var O=e.suffix||" copy",A=t.getLabel(),P=r.addSelector("".concat(A).concat(O)),j=S.indexOf(t);S.remove(t),S.add(P,{at:j})}}),v){var _=i.Css.add(this.getSelected(),f,p);_.setStyle(v)}}},n.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},n.prototype.setComponentFirst=function(t){this.getConfig().componentFirst=t,this.model.set({cFirst:t})},n.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},n.prototype.escapeName=function(t){var e=this.getConfig().escapeName;return e?e(t):Qi.escapeName(t)},n.prototype.render=function(t){var e=this.selectorTags,r=this.getConfig(),i=e==null?void 0:e.el;return this.selected.reset(t),this.selectorTags=new sj({el:i,collection:this.selected,module:this,config:r}),this.selectorTags.render().el},n.prototype.destroy=function(){var t=this,e=t.selectorTags,r=t.model;r.stopListening(),this.__update.cancel(),this.__destroy(),e==null||e.remove(),this.selectorTags=void 0},n.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},n.prototype.__getCommonSelectors=function(t,e){e===void 0&&(e={});var r=t.map(function(i){return i.getSelectors&&i.getSelectors().getValid(e)}).filter(Boolean);return this.__common.apply(this,r)},n.prototype.__common=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length?e.length===1?e[0]:e.length===2?e[0].filter(function(i){return e[1].indexOf(i)>=0}):e.slice(1).reduce(function(i,l){return t.__common(i,l)},e[0]):[]},n.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},n}(Xs);const vj=hj;var gj=function(){return{textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1,convertDataGjsAttributesHyphens:!1}}};const mj=gj;var Ta,Io={MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15},Sf=(Ta={},Ta[Io.MEDIA_RULE]="media",Ta[Io.FONT_FACE_RULE]="font-face",Ta[Io.PAGE_RULE]="page",Ta[Io.KEYFRAMES_RULE]="keyframes",Ta[Io.COUNTER_STYLE_RULE]="counter-style",Ta[Io.SUPPORTS_RULE]="supports",Ta[Io.DOCUMENT_RULE]="document",Ta[Io.FONT_FEATURE_VALUES_RULE]="font-feature-values",Ta[Io.VIEWPORT_RULE]="viewport",Ta),nS=(0,H.keys)(Sf),o0=[Io.FONT_FACE_RULE,Io.PAGE_RULE,Io.COUNTER_STYLE_RULE,Io.VIEWPORT_RULE],yj=nS.filter(function(o){return o0.indexOf(Number(o))<0}).map(function(o){return Sf[o]}).concat(["container","layer"]),_j=o0.map(function(o){return Sf[o]}),rS=function(o){o===void 0&&(o="");for(var n=[],t=[],e=o.split(","),r=0,i=e.length;r<i;r++){var l=e[r].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(l)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(l)){var f=l.split(".").filter(Boolean);t.push(f)}else n.push(l)}return{result:t,add:n}},bj=function(o){for(var n=o.style,t={},e=0,r=n.length;e<r;e++){var i=n[e],l=n.getPropertyValue(i),f=n.getPropertyPriority(i);t[i]="".concat(l).concat(f?" !".concat(f):"")}return t},jb=function(o){var n=o.conditionText||o.media&&o.media.mediaText||o.name||o.selectorText||"";return n.trim()},my=function(o,n,t){n===void 0&&(n={}),t===void 0&&(t={});var e={},r=o.length,i=o[r-1],l=i?i.split(/:(.+)/):[],f=l[1],p=t.atRule,d=t.selectorsAdd,v=t.mediaText,_=_j.indexOf(p)>=0;return _&&(e.singleAtRule=!0),p&&(e.atRuleType=p),d&&(e.selectorsAdd=d),v&&(e.mediaText=v),f&&(o[r-1]=l[0],e.state=f,l.splice(l.length-1,1)),e.selectors=o,e.style=n,e},Rb=function(o){var n=o.cssText,t=n===void 0?"":n;return yj.find(function(e){return t.indexOf("@".concat(e))===0})},iS=function(o){for(var n=[],t=o.cssRules||[],e=0,r=t.length;e<r;e++){var i=t[e],l=i.type,f=!1,p="",d="",v=i.selectorText||i.keyText||"",_=o0.indexOf(l)>=0;if(_)f=!0,p=Sf[l],d=jb(i);else if(nS.indexOf("".concat(l))>=0||!l&&Rb(i)){var w=iS(i),S=Sf[l]||Rb(i);d=jb(i);for(var O=0,A=w.length;O<A;O++){var P=w[O];d&&(P.mediaText=d),P.atRuleType=S}n=n.concat(w)}if(!(!v&&!_)){for(var j=bj(i),z=rS(v),k=z.add,G=z.result,ot=void 0,xt=0,Nt=G.length;xt<Nt;xt++){var vt=my(G[xt],j,{atRule:Sf[l]});n.push(vt),ot=vt}if(k.length){var $=k.join(", ");if(ot)ot.selectorsAdd=$;else{var vt={selectors:[],selectorsAdd:$,style:j};f&&(vt.singleAtRule=f),p&&(vt.atRuleType=p),d&&(vt.mediaText=d),n.push(vt)}}}}return n};const wj=function(o){var n=document.createElement("style");n.innerHTML=o,document.head.appendChild(n);var t=n.sheet;return document.head.removeChild(n),t?iS(t):[]};var xj=function(o,n){return n===void 0&&(n={}),{parse:function(t,e){var r=this;e===void 0&&(e={});var i=[],l=n.parserCss,f=o==null?void 0:o.Editor,p=[],d,v=o==null?void 0:o.Parser,_={input:t};v==null||v.__emitEvent(Hl.cssBefore,_);var w=_.input;try{p=l?l(w,f):wj(w)}catch(S){if(d=S,e.throwOnError)throw S}return p.forEach(function(S){return i=i.concat(r.checkNode(S))}),v==null||v.__emitEvent(Hl.css,{input:w,output:i,nodes:p,error:d}),i},checkNode:function(t){var e=t.selectors,r=t.style,i=[t];if((0,H.isString)(e)){var l=[],f=t,p=rS(e),d=p.result,v=p.add.join(", "),_={atRule:f.atRule,mediaText:f.params};if(d.length?d.forEach(function(S){l.push(my(S,r,_))}):l.push(my([],r,_)),v){var w=l[l.length-1];w.selectorsAdd=v}i=l}return i}}};const Sj=xj;var Cj=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yy=function(){return yy=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},yy.apply(this,arguments)},Oj=function(o){Cj(n,o);function n(t){var e=o.call(this,t,"Parser",mj())||this;e.events=Hl;var r=e.config;return e.parserCss=Sj(t,r),e.parserHtml=Sx(t,r),e}return n.prototype.parseHtml=function(t,e){e===void 0&&(e={});var r=this,i=r.em,l=r.parserHtml;return l.compTypes=i.Components.getTypes()||[],l.parse(t,this.parserCss,e)},n.prototype.parseCss=function(t){return this.parserCss.parse(t)},n.prototype.__emitEvent=function(t,e){var r=this,i=r.em,l=r.events;i.trigger(t,e),i.trigger(l.all,yy({event:t},e))},n.prototype.destroy=function(){},n}(Eo);const Tj=Oj;var Ej=function(){return{id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(o){return o},onLoad:function(o){return o},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(o){return o},onLoad:function(o){return o}}}}};const Aj=Ej;var Lb=function(o,n,t,e){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function f(v){try{d(e.next(v))}catch(_){l(_)}}function p(v){try{d(e.throw(v))}catch(_){l(_)}}function d(v){v.done?i(v.value):r(v.value).then(f,p)}d((e=e.apply(o,n||[])).next())})},Nb=function(o,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(d){return function(v){return p([d,v])}}function p(d){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(t=0)),t;)try{if(e=1,r&&(i=d[0]&2?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,r=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){t.label=d[1];break}if(d[0]===6&&t.label<i[1]){t.label=i[1],i=d;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(d);break}i[2]&&t.ops.pop(),t.trys.pop();continue}d=n.call(o,t)}catch(v){d=[6,v],r=0}finally{e=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Pj=function(){function o(){}return o.prototype.store=function(n){return Lb(this,arguments,void 0,function(t,e){return e===void 0&&(e={}),Nb(this,function(r){return this.hasLocal(e,!0)&&localStorage.setItem(e.key,JSON.stringify(t)),[2,t]})})},o.prototype.load=function(){return Lb(this,arguments,void 0,function(n){var t;return n===void 0&&(n={}),Nb(this,function(e){return t={},this.hasLocal(n,!0)&&(t=JSON.parse(localStorage.getItem(n.key)||"{}")),[2,t]})})},o.prototype.hasLocal=function(n,t){if(n===void 0&&(n={}),n.checkLocal&&(!(0,Jt.hasWin)()||!localStorage)){if(t)throw new Error("localStorage not available");return!1}return!0},o}();const Dj=Pj;function qu(o){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qu(o)}function Mj(o){var n=this.constructor;return this.then(function(t){return n.resolve(o()).then(function(){return t})},function(t){return n.resolve(o()).then(function(){return n.reject(t)})})}const jj=Mj;function Rj(o){var n=this;return new n(function(t,e){if(!(o&&typeof o.length<"u"))return e(new TypeError(qu(o)+" "+o+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(o);if(r.length===0)return t([]);var i=r.length;function l(p,d){if(d&&(qu(d)==="object"||typeof d=="function")){var v=d.then;if(typeof v=="function"){v.call(d,function(_){l(p,_)},function(_){r[p]={status:"rejected",reason:_},--i===0&&t(r)});return}}r[p]={status:"fulfilled",value:d},--i===0&&t(r)}for(var f=0;f<r.length;f++)l(f,r[f])})}const Lj=Rj;function oS(o,n){this.name="AggregateError",this.errors=o,this.message=n||""}oS.prototype=Error.prototype;function Nj(o){var n=this;return new n(function(t,e){if(!(o&&typeof o.length<"u"))return e(new TypeError("Promise.any accepts an array"));var r=Array.prototype.slice.call(o);if(r.length===0)return e();for(var i=[],l=0;l<r.length;l++)try{n.resolve(r[l]).then(t).catch(function(f){i.push(f),i.length===r.length&&e(new oS(i,"All promises were rejected"))})}catch(f){e(f)}})}const kj=Nj;var Vj=setTimeout;function aS(o){return!!(o&&typeof o.length<"u")}function Uj(){}function Hj(o,n){return function(){o.apply(n,arguments)}}function yr(o){if(!(this instanceof yr))throw new TypeError("Promises must be constructed via new");if(typeof o!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],lS(o,this)}function sS(o,n){for(;o._state===3;)o=o._value;if(o._state===0){o._deferreds.push(n);return}o._handled=!0,yr._immediateFn(function(){var t=o._state===1?n.onFulfilled:n.onRejected;if(t===null){(o._state===1?_y:pp)(n.promise,o._value);return}var e;try{e=t(o._value)}catch(r){pp(n.promise,r);return}_y(n.promise,e)})}function _y(o,n){try{if(n===o)throw new TypeError("A promise cannot be resolved with itself.");if(n&&(qu(n)==="object"||typeof n=="function")){var t=n.then;if(n instanceof yr){o._state=3,o._value=n,by(o);return}else if(typeof t=="function"){lS(Hj(t,n),o);return}}o._state=1,o._value=n,by(o)}catch(e){pp(o,e)}}function pp(o,n){o._state=2,o._value=n,by(o)}function by(o){o._state===2&&o._deferreds.length===0&&yr._immediateFn(function(){o._handled||yr._unhandledRejectionFn(o._value)});for(var n=0,t=o._deferreds.length;n<t;n++)sS(o,o._deferreds[n]);o._deferreds=null}function Bj(o,n,t){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof n=="function"?n:null,this.promise=t}function lS(o,n){var t=!1;try{o(function(e){t||(t=!0,_y(n,e))},function(e){t||(t=!0,pp(n,e))})}catch(e){if(t)return;t=!0,pp(n,e)}}yr.prototype.catch=function(o){return this.then(null,o)};yr.prototype.then=function(o,n){var t=new this.constructor(Uj);return sS(this,new Bj(o,n,t)),t};yr.prototype.finally=jj;yr.all=function(o){return new yr(function(n,t){if(!aS(o))return t(new TypeError("Promise.all accepts an array"));var e=Array.prototype.slice.call(o);if(e.length===0)return n([]);var r=e.length;function i(f,p){try{if(p&&(qu(p)==="object"||typeof p=="function")){var d=p.then;if(typeof d=="function"){d.call(p,function(v){i(f,v)},t);return}}e[f]=p,--r===0&&n(e)}catch(v){t(v)}}for(var l=0;l<e.length;l++)i(l,e[l])})};yr.any=kj;yr.allSettled=Lj;yr.resolve=function(o){return o&&qu(o)==="object"&&o.constructor===yr?o:new yr(function(n){n(o)})};yr.reject=function(o){return new yr(function(n,t){t(o)})};yr.race=function(o){return new yr(function(n,t){if(!aS(o))return t(new TypeError("Promise.race accepts an array"));for(var e=0,r=o.length;e<r;e++)yr.resolve(o[e]).then(n,t)})};yr._immediateFn=typeof setImmediate=="function"&&function(o){setImmediate(o)}||function(o){Vj(o,0)};yr._unhandledRejectionFn=function(n){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",n)};const wy=yr;(0,Jt.hasWin)()&&(window.Promise=window.Promise||wy);const uS=typeof fetch=="function"?fetch.bind():function(o,n){return new wy(function(t,e){var r=new XMLHttpRequest;r.open(n.method||"get",o),r.withCredentials=n.credentials=="include";for(var i in n.headers||{})r.setRequestHeader(i,n.headers[i]);r.onload=function(l){return t({status:r.status,statusText:r.statusText,text:function(){return wy.resolve(r.responseText)}})},r.onerror=e,r.upload&&n.onProgress&&(r.upload.onprogress=n.onProgress),n.body?r.send(n.body):r.send()})};var Lv=function(){return Lv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Lv.apply(this,arguments)},kb=function(o,n,t,e){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function f(v){try{d(e.next(v))}catch(_){l(_)}}function p(v){try{d(e.throw(v))}catch(_){l(_)}}function d(v){v.done?i(v.value):r(v.value).then(f,p)}d((e=e.apply(o,n||[])).next())})},Vb=function(o,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(d){return function(v){return p([d,v])}}function p(d){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(t=0)),t;)try{if(e=1,r&&(i=d[0]&2?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,r=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){t.label=d[1];break}if(d[0]===6&&t.label<i[1]){t.label=i[1],i=d;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(d);break}i[2]&&t.ops.pop(),t.trys.pop();continue}d=n.call(o,t)}catch(v){d=[6,v],r=0}finally{e=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Ij=function(){function o(){}return o.prototype.store=function(n){return kb(this,arguments,void 0,function(t,e){return e===void 0&&(e={}),Vb(this,function(r){switch(r.label){case 0:return[4,this.request(e.urlStore,this.__props(e,t),e)];case 1:return[2,r.sent()]}})})},o.prototype.load=function(){return kb(this,arguments,void 0,function(n){return n===void 0&&(n={}),Vb(this,function(t){switch(t.label){case 0:return[4,this.request(n.urlLoad,this.__props(n),n)];case 1:return[2,t.sent()]}})})},o.prototype.request=function(n,t,e){return t===void 0&&(t={}),e===void 0&&(e={}),uS(n,t).then(function(r){var i=r.text(),l=(r.status/200|0)===1;return l?i:i.then(Promise.reject)}).then(function(r){var i=r&&(0,H.isString)(r);return e.contentTypeJson&&i?JSON.parse(r):r})},o.prototype.__props=function(n,t){n===void 0&&(n={});var e=n.contentTypeJson,r=n.headers||{},i=n.fetchOptions||{},l="X-Requested-With",f="Content-Type",p;if((0,H.isUndefined)(r[l])&&(r[l]="XMLHttpRequest"),(0,H.isUndefined)(r[f])&&e&&(r[f]="application/json; charset=utf-8"),t)if(e)p=JSON.stringify(t);else{p=new FormData;for(var d in t)p.append(d,t[d])}var v={method:p?"POST":"GET",credentials:n.credentials,headers:r,body:p};return Lv(Lv({},v),(0,H.isFunction)(i)?i(v):i)},o}();const zj=Ij;var xy;(function(o){o.start="storage:start",o.startStore="storage:start:store",o.startLoad="storage:start:load",o.load="storage:load",o.store="storage:store",o.after="storage:after",o.afterStore="storage:after:store",o.afterLoad="storage:after:load",o.end="storage:end",o.endStore="storage:end:store",o.endLoad="storage:end:load",o.error="storage:error",o.errorStore="storage:error:store",o.errorLoad="storage:error:load"})(xy||(xy={}));const Yi=xy;var Fj=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pf=function(){return pf=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},pf.apply(this,arguments)},km=function(o,n,t,e){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function f(v){try{d(e.next(v))}catch(_){l(_)}}function p(v){try{d(e.throw(v))}catch(_){l(_)}}function d(v){v.done?i(v.value):r(v.value).then(f,p)}d((e=e.apply(o,n||[])).next())})},Vm=function(o,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(d){return function(v){return p([d,v])}}function p(d){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(t=0)),t;)try{if(e=1,r&&(i=d[0]&2?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,r=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){t.label=d[1];break}if(d[0]===6&&t.label<i[1]){t.label=i[1],i=d;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(d);break}i[2]&&t.ops.pop(),t.trys.pop();continue}d=n.call(o,t)}catch(v){d=[6,v],r=0}finally{e=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Mh="local",Ub="remote",Wj=function(o){Fj(n,o);function n(t){var e=o.call(this,t,"StorageManager",Aj())||this;e.storages={},e.events=Yi;var r=e.config;return r._disable&&(r.type=void 0),e.storages={},e.add(Mh,new Dj),e.add(Ub,new zj),e.setCurrent(r.type),e}return n.prototype.isAutosave=function(){return!!this.config.autosave},n.prototype.setAutosave=function(t){return this.config.autosave=!!t,this},n.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},n.prototype.setStepsBeforeSave=function(t){return this.config.stepsBeforeSave=t,this},n.prototype.add=function(t,e){return this.storages[t]=e,this},n.prototype.get=function(t){return this.storages[t]},n.prototype.getStorages=function(){return this.storages},n.prototype.getCurrent=function(){return this.config.currentStorage},n.prototype.setCurrent=function(t){return this.getConfig().currentStorage=t,this},n.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},n.prototype.getStorageOptions=function(t){return this.getCurrentOptions(t)},n.prototype.store=function(t){return km(this,arguments,void 0,function(e,r){var i,l,f,p,d,v;return r===void 0&&(r={}),Vm(this,function(_){switch(_.label){case 0:i=this.getCurrentStorage(),l=pf(pf({},this.getCurrentOptions()),r),f=this.getRecoveryStorage(),p=this.getCurrentOptions(Mh),_.label=1;case 1:return _.trys.push([1,5,,9]),[4,this.__exec(i,l,e)];case 2:return _.sent(),d=f,d?[4,this.__exec(f,p,{})]:[3,4];case 3:d=_.sent(),_.label=4;case 4:return[3,9];case 5:return v=_.sent(),f?[4,this.__exec(f,p,e)]:[3,7];case 6:return _.sent(),[3,8];case 7:throw v;case 8:return[3,9];case 9:return[2,e]}})})},n.prototype.load=function(){return km(this,arguments,void 0,function(t){var e,r,i,l,f;return t===void 0&&(t={}),Vm(this,function(p){switch(p.label){case 0:return e=this.getCurrentStorage(),r=pf(pf({},this.getCurrentOptions()),t),i=this.getRecoveryStorage(),i?[4,this.__exec(i,this.getCurrentOptions(Mh))]:[3,5];case 1:if(f=p.sent(),(0,H.isEmpty)(f))return[3,5];p.label=2;case 2:return p.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return p.sent(),l=f,[3,5];case 4:return p.sent(),[3,5];case 5:return l?[3,7]:[4,this.__exec(e,r)];case 6:l=p.sent(),p.label=7;case 7:return[2,l||{}]}})})},n.prototype.__askRecovery=function(){var t=this.em,e=this.getRecovery();return new Promise(function(r,i){(0,H.isFunction)(e)?e(r,i,t==null?void 0:t.getEditor()):confirm(t==null?void 0:t.t("storageManager.recover"))?r(null):i()})},n.prototype.getRecovery=function(){return this.config.recovery},n.prototype.getRecoveryStorage=function(){var t=this.getRecovery();return t&&this.getCurrent()===Ub&&this.get(Mh)},n.prototype.__exec=function(t,e,r){return km(this,void 0,void 0,function(){var i,l,f,p,d,v,_,w,S,O,A,P,j,z;return Vm(this,function(k){switch(k.label){case 0:if(i=r?"store":"load",l=this.getConfig(),f=l.onStore,p=l.onLoad,!t)return[2,r||{}];this.onStart(i,r),k.label=1;case 1:return k.trys.push([1,14,,15]),v=(z=this.em)===null||z===void 0?void 0:z.getEditor(),_=void 0,r?(S=f,S?[4,f(r,v)]:[3,3]):[3,7];case 2:S=k.sent(),k.label=3;case 3:return w=S||r,O=e.onStore,O?[4,e.onStore(w,v)]:[3,5];case 4:O=k.sent(),k.label=5;case 5:return w=O||w,[4,t.store(w,e)];case 6:return _=k.sent(),d=r,[3,13];case 7:return[4,t.load(e)];case 8:return _=k.sent(),d=this.__clearKeys(_),A=e.onLoad,A?[4,e.onLoad(d,v)]:[3,10];case 9:A=k.sent(),k.label=10;case 10:return d=A||d,P=p,P?[4,p(d,v)]:[3,12];case 11:P=k.sent(),k.label=12;case 12:d=P||d,k.label=13;case 13:return this.onAfter(i,d,_),this.onEnd(i,d,_),[3,15];case 14:throw j=k.sent(),this.onError(i,j),j;case 15:return[2,d]}})})},n.prototype.__clearKeys=function(t){t===void 0&&(t={});var e=this.getConfig(),r=new RegExp("^".concat(e.id)),i={};for(var l in t){var f=l.replace(r,"");i[f]=t[l]}return i},n.prototype.getCurrentOptions=function(t){var e=this.getConfig(),r=t||this.getCurrent();return e.options[r]||{}},n.prototype.onStart=function(t,e){var r=this.em;if(r){var i=t==="load"?Yi.startLoad:Yi.startStore;r.trigger(Yi.start,t,e),r.trigger(i,e)}},n.prototype.onAfter=function(t,e,r){var i=this.em;if(i){var l=t==="load"?Yi.afterLoad:Yi.afterStore;i.trigger(Yi.after),i.trigger(l,e,r);var f=t==="load"?Yi.load:Yi.store;i.trigger(f,e,r)}},n.prototype.onEnd=function(t,e,r){var i=this.em;if(i){var l=t==="load"?Yi.endLoad:Yi.endStore;i.trigger(Yi.end,t,e,r),i.trigger(l,e,r)}},n.prototype.onError=function(t,e){var r=this.em;if(r){var i=t==="load"?Yi.errorLoad:Yi.errorStore;r.trigger(Yi.error,e,t),r.trigger(i,e),this.onEnd(t,e)}},n.prototype.canAutoload=function(){var t=this.getCurrentStorage();return!!t&&!!this.config.autoload},n.prototype.destroy=function(){this.storages={}},n}(Eo);const qj=Wj;var Gj=function(){return{stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1}};const Kj=Gj;var Yj=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),np=function(){return np=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},np.apply(this,arguments)},cS=function(o){Yj(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.events={},e.appendInput=!0;var r=t.config,i=r===void 0?{}:r,l=e,f=l.model,p=l.eventCapture,d=f.target,v=f.attributes.type;e.config=i,e.em=i.em,e.pfx=i.stylePrefix||"",e.ppfx=i.pStylePrefix||"",e.target=d,e.className=e.pfx+"trait",e.clsField="".concat(e.ppfx,"field ").concat(e.ppfx,"field-").concat(v);var _=[["change:value",e.onValueChange],["remove",e.removeView]];return _.forEach(function(w){var S=w[0],O=w[1];f.off(S,O),e.listenTo(f,S,O)}),f.view=e,e.listenTo(f,"change:label",e.render),e.listenTo(f,"change:placeholder",e.rerender),e.events={},p.forEach(function(w){return e.events[w]="onChange"}),e.delegateEvents(),e.init(),e}return n.prototype.attributes=function(){return this.model.get("attributes")||{}},n.prototype.templateLabel=function(t){var e=this.ppfx,r=this.getLabel();return'<div class="'.concat(e,'label" title="').concat(r,'">').concat(r,"</div>")},n.prototype.templateInput=function(t){var e=this.clsField;return'<div class="'.concat(e,'" data-input></div>')},n.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},n.prototype.removeView=function(){this.remove(),this.removed()},n.prototype.init=function(){},n.prototype.removed=function(){},n.prototype.onRender=function(t){},n.prototype.onUpdate=function(t){},n.prototype.onEvent=function(t){},n.prototype.onChange=function(t){var e=this.getInputElem();e&&!(0,H.isUndefined)(e.value)&&this.model.set("value",e.value),this.onEvent(np(np({},this.getClbOpts()),{event:t}))},n.prototype.getValueForTarget=function(){return this.model.get("value")},n.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.value=t)},n.prototype.onValueChange=function(t,e,r){r===void 0&&(r={});var i=this.model,l=this.getValueForTarget();r.fromTarget?(this.setInputValue(l),this.postUpdate()):i.setValue(l,r)},n.prototype.renderLabel=function(){var t=this,e=t.$el,r=t.target,i=this.getLabel(),l=this.templateLabel(r);this.createLabel&&(l=this.createLabel({label:i,component:r,trait:this})||""),e.find("[data-label]").append(l)},n.prototype.getLabel=function(){var t=this.em,e=this.model.attributes,r=e.label,i=e.name;return t.t("traitManager.traits.labels.".concat(i))||(0,Jt.capitalize)(r||i).replace(/-/g," ")},n.prototype.getComponent=function(){return this.target},n.prototype.getInputEl=function(){if(!this.$input){var t=this,e=t.em,r=t.model,i=r,l=r.attributes.name,f=i.get("placeholder")||i.get("default")||"",p=i.get("type")||"text",d=i.get("min"),v=i.get("max"),_=this.getModelValue(),w=(0,$r.default)('<input type="'.concat(p,'">')),S=e.t("traitManager.traits.attributes.".concat(l))||{};w.attr(np({placeholder:f},S)),(0,H.isUndefined)(_)||(i.set({value:_},{silent:!0}),w.prop("value",_)),d&&w.prop("min",d),v&&w.prop("max",v),this.$input=w}return this.$input.get(0)},n.prototype.getInputElem=function(){var t=this,e=t.input,r=t.$input;return e||r&&r.get&&r.get(0)||this.getElInput()},n.prototype.getModelValue=function(){return this.model.getValue()},n.prototype.getElInput=function(){return this.elInput},n.prototype.renderField=function(){var t=this,e=t.$el,r=t.appendInput,i=t.model,l=e.find("[data-input]"),f=l[l.length-1],p=i.el;p||(p=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,H.isString)(p)?(f.innerHTML=p,this.elInput=f.firstChild):(r?f.appendChild(p):f.insertBefore(p,f.firstChild),this.elInput=p),i.el=this.elInput},n.prototype.hasLabel=function(){var t=this.model.attributes.label;return!this.noLabel&&t!==!1},n.prototype.rerender=function(){delete this.model.el,this.render()},n.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},n.prototype.render=function(){var t=this,e=t.$el,r=t.pfx,i=t.ppfx,l=t.model,f=l.attributes,p=f.type,d=f.id,v=this.hasLabel&&this.hasLabel(),_="".concat(r,"trait");delete this.$input;var w='<div class="'.concat(_," ").concat(_,"--").concat(p,`">
      `).concat(v?'<div class="'.concat(i,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(i,"field-wrp ").concat(i,"field-wrp--").concat(p,`" data-input>
        `).concat(this.templateInput?(0,H.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return e.empty().append(w),v&&this.renderLabel(),this.renderField(),this.el.className="".concat(_,"__wrp ").concat(_,"__wrp-").concat(d),this.postUpdate(),this.onRender(this.getClbOpts()),this},n}(fe.Ss);const Ks=cS;cS.prototype.eventCapture=["change"];var Xj=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fS=function(o){Xj(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.templateInput=function(){return""},n.prototype.onChange=function(){this.handleClick()},n.prototype.handleClick=function(){this.model.runCommand()},n.prototype.renderLabel=function(){this.model.get("label")&&Ks.prototype.renderLabel.apply(this)},n.prototype.getInputEl=function(){var t=this,e=t.model,r=t.ppfx,i=e.props(),l=i.labelButton,f=i.text,p=i.full,d=l||f,v="".concat(r,"btn"),_='<button type="button" class="'.concat(v,"-prim").concat(p?" ".concat(v,"--full"):"",'">').concat(d,"</button>");return _},n}(Ks);const Zj=fS;fS.prototype.eventCapture=["click button"];var Jj=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qj=function(o){Jj(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t.appendInput=!1,t}return n.prototype.templateInput=function(){var t=this,e=t.ppfx,r=t.clsField;return'<label class="'.concat(r,`" data-input>
    <i class="`).concat(e,`chk-icon"></i>
  </label>`)},n.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},n.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.checked=!!t)},n.prototype.getInputEl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=!this.$input,i=Ks.prototype.getInputEl.apply(this,t);if(r){var l=void 0,f=void 0,p=this,d=p.model,v=p.target,_=d.attributes.valueFalse,w=d.getName();d.changeProp?(l=v.get(w),f=l):(f=v.get("attributes")[w],l=!!(f||f==="")),!(0,H.isUndefined)(_)&&f===_&&(l=!1),i.checked=l}return i},n}(Ks);const $j=Qj;function tR(o,n){if(!(0,Jt.hasWin)())return;var t={beforeShow:S,move:S,change:S,show:S,hide:S,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},e=[],r=!!/msie/i.exec(window.navigator.userAgent),i=function(){function Y(Yt,Dt){return!!~(""+Yt).indexOf(Dt)}var gt=document.createElement("div"),F=gt.style;return F.cssText="background-color:rgba(0,0,0,.5)",Y(F.backgroundColor,"rgba")||Y(F.backgroundColor,"hsla")}(),l=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),f=function(){var Y="";if(r)for(var gt=1;gt<=6;gt++)Y+="<div class='sp-"+gt+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",Y,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function p(Y,gt,F,Yt){for(var Dt=[],te=0;te<Y.length;te++){var _e=Y[te];if(_e){var me=B(_e),de=me.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";de+=B.equals(gt,_e)?" sp-thumb-active":"";var De=me.toString(Yt.preferredFormat||"rgb"),Ge=i?"background-color:"+me.toRgbString():"filter:"+me.toFilter();Dt.push('<span title="'+De+'" data-color="'+me.toRgbString()+'" class="'+de+'"><span class="sp-thumb-inner" style="'+Ge+';"></span></span>')}else{var an="sp-clear-display";Dt.push(o("<div />").append(o('<span data-color="" style="background-color:transparent;" class="'+an+'"></span>').attr("title",Yt.noColorSelectedText)).html())}}return"<div class='sp-cf "+F+"'>"+Dt.join("")+"</div>"}function d(){for(var Y=0;Y<e.length;Y++)e[Y]&&e[Y].hide()}function v(Y,gt){var F=o.extend({},t,Y);return F.callbacks={move:A(F.move,gt),change:A(F.change,gt),show:A(F.show,gt),hide:A(F.hide,gt),beforeShow:A(F.beforeShow,gt)},F}function _(Y,gt){var F=v(gt,Y),Yt=F.flat,Dt=F.showSelectionPalette,te=F.localStorageKey,_e=F.theme,me=F.callbacks,de=j(pr,10),De=!1,Ge=!1,an=!0,tn=0,Mn=0,_r=0,q=0,ut=0,Ot=0,Xt=0,he=0,Ue=0,ze=0,rn=1,vn=[],On=[],hi={},Vn=F.selectionPalette.slice(0),ti=F.maxSelectionSize,vi="sp-dragging",fn=null,Gn=Y.ownerDocument;Gn.body;var Qe=o(Y),ar=!1,Be=o(f,Gn).addClass(_e),Er=Be.find(".sp-picker-container"),xn=Be.find(".sp-color"),sr=Be.find(".sp-dragger"),lr=Be.find(".sp-hue"),ur=Be.find(".sp-slider"),un=Be.find(".sp-alpha-inner"),Te=Be.find(".sp-alpha"),br=Be.find(".sp-alpha-handle"),Un=Be.find(".sp-input"),Ar=Be.find(".sp-palette"),en=Be.find(".sp-initial"),Sn=Be.find(".sp-cancel"),cr=Be.find(".sp-clear"),gi=Be.find(".sp-choose"),ie=Be.find(".sp-palette-toggle"),Re=Qe.is("input"),mi=Re&&Qe.attr("type")==="color"&&z(),I=Re&&!Yt,st=I?o(l).addClass(_e).addClass(F.className).addClass(F.replacerClassName):o([]),qt=I?st:Qe,ee=st.find(".sp-preview-inner"),le=F.color||Re&&Qe.val(),Je=!1,$e=F.preferredFormat,Ln=!F.showButtons||F.clickoutFiresChange,gn=!le,Ei=F.allowEmpty&&!mi;function Pr(){if(F.showPaletteOnly&&(F.showPalette=!0),ie.text(F.showPaletteOnly?F.togglePaletteMoreText:F.togglePaletteLessText),F.palette){vn=F.palette.slice(0),On=o.isArray(vn[0])?vn:[vn],hi={};for(var je=0;je<On.length;je++)for(var Me=0;Me<On[je].length;Me++){var dn=B(On[je][Me]).toRgbString();hi[dn]=!0}}Be.toggleClass("sp-flat",Yt),Be.toggleClass("sp-input-disabled",!F.showInput),Be.toggleClass("sp-alpha-enabled",F.showAlpha),Be.toggleClass("sp-clear-enabled",Ei),Be.toggleClass("sp-buttons-disabled",!F.showButtons),Be.toggleClass("sp-palette-buttons-disabled",!F.togglePaletteOnly),Be.toggleClass("sp-palette-disabled",!F.showPalette),Be.toggleClass("sp-palette-only",F.showPaletteOnly),Be.toggleClass("sp-initial-disabled",!F.showInitial),Be.addClass(F.className).addClass(F.containerClassName),pr()}function Ao(){if(r&&Be.find("*:not(input)").attr("unselectable","on"),Pr(),I&&Qe.after(st).hide(),Ei||cr.hide(),Yt)Qe.after(Be).hide();else{var je=F.appendTo==="parent"?Qe.parent():o(F.appendTo);je.length!==1&&(je=o("body")),je.append(Be)}qo(),qt.bind("click.spectrum touchstart.spectrum",function(Pe){ar||pa(),Pe.stopPropagation(),o(Pe.target).is("input")||Pe.preventDefault()}),(Qe.is(":disabled")||F.disabled===!0)&&Pi(),Be.click(O),Un.change(eo),Un.bind("paste",function(){setTimeout(eo,1)}),Un.keydown(function(Pe){Pe.keyCode==13&&eo()}),Sn.text(F.cancelText),Sn.bind("click.spectrum",function(Pe){Pe.stopPropagation(),Pe.preventDefault(),ki(),ei()}),cr.attr("title",F.clearText),cr.bind("click.spectrum",function(Pe){Pe.stopPropagation(),Pe.preventDefault(),gn=!0,no(),Yt&&Wr(!0)}),gi.text(F.chooseText),gi.bind("click.spectrum",function(Pe){Pe.stopPropagation(),Pe.preventDefault(),r&&Un.is(":focus")&&Un.trigger("change"),Do()&&(Wr(!0),ei())}),ie.text(F.showPaletteOnly?F.togglePaletteMoreText:F.togglePaletteLessText),ie.bind("click.spectrum",function(Pe){Pe.stopPropagation(),Pe.preventDefault(),F.showPaletteOnly=!F.showPaletteOnly,!F.showPaletteOnly&&!Yt&&Be.css("left","-="+(Er.outerWidth(!0)+5)),Pr()}),P(Te,function(Pe,Tn,Kn){rn=Pe/ut,gn=!1,Kn.shiftKey&&(rn=Math.round(rn*10)/10),no()},Ai,Go),P(lr,function(Pe,Tn){he=parseFloat(Tn/q),gn=!1,F.showAlpha||(rn=1),no()},Ai,Go),P(xn,function(Pe,Tn,Kn){if(!Kn.shiftKey)fn=null;else if(!fn){var xr=Ue*tn,ao=Mn-ze*Mn,qr=Math.abs(Pe-xr)>Math.abs(Tn-ao);fn=qr?"x":"y"}var Gr=!fn||fn==="x",kr=!fn||fn==="y";Gr&&(Ue=parseFloat(Pe/tn)),kr&&(ze=parseFloat((Mn-Tn)/Mn)),gn=!1,F.showAlpha||(rn=1),no()},Ai,Go),le?(Nr(le),yi(),$e=F.preferredFormat||B(le).getFormat(),Po(le)):yi(),Yt&&Qn();function Me(Pe){return Pe.data&&Pe.data.ignore?(Nr(o(Pe.target).closest(".sp-thumb-el").data("color")),no()):(Nr(o(Pe.target).closest(".sp-thumb-el").data("color")),no(),F.hideAfterPaletteSelect&&(Wr(!0),ei())),!1}var dn=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Ar.delegate(".sp-thumb-el",dn,Me),en.delegate(".sp-thumb-el:nth-child(1)",dn,{ignore:!0},Me)}function qo(){if(te&&window.localStorage){try{var je=window.localStorage[te].split(",#");je.length>1&&(delete window.localStorage[te],o.each(je,function(Me,dn){Po(dn)}))}catch{}try{Vn=window.localStorage[te].split(";")}catch{}}}function Po(je){if(Dt){var Me=B(je).toRgbString();if(!hi[Me]&&o.inArray(Me,Vn)===-1)for(Vn.push(Me);Vn.length>ti;)Vn.shift();if(te&&window.localStorage)try{window.localStorage[te]=Vn.join(";")}catch{}}}function to(){var je=[];if(F.showPalette)for(var Me=0;Me<Vn.length;Me++){var dn=B(Vn[Me]).toRgbString();hi[dn]||je.push(Vn[Me])}return je.reverse().slice(0,F.maxSelectionSize)}function fa(){var je=zn(),Me=o.map(On,function(dn,Pe){return p(dn,je,"sp-palette-row sp-palette-row-"+Pe,F)});qo(),Vn&&Me.push(p(to(),je,"sp-palette-row sp-palette-row-selection",F)),Ar.html(Me.join(""))}function da(){if(F.showInitial){var je=Je,Me=zn();en.html(p([je,Me],Me,"sp-palette-row-initial",F))}}function Ai(){(Mn<=0||tn<=0||q<=0)&&pr(),Ge=!0,Be.addClass(vi),fn=null,Qe.trigger("dragstart.spectrum",[zn()])}function Go(){Ge=!1,Be.removeClass(vi),Qe.trigger("dragstop.spectrum",[zn()])}function eo(){var je=Un.val();if((je===null||je==="")&&Ei)Nr(null),Wr(!0);else{var Me=B(je);Me.isValid()?(Nr(Me),Wr(!0)):Un.addClass("sp-validation-error")}}function pa(){De?ei():Qn()}function Qn(){var je=o.Event("beforeShow.spectrum");if(De){pr();return}if(Qe.trigger("beforeShow.spectrum",[zn()]),!(me.beforeShow(zn())===!1||je.isDefaultPrevented())){d(),De=!0;var Me=o(Gn);Me.bind("keydown.spectrum",wr),Me.bind("click.spectrum",vs),o(window).bind("resize.spectrum",de),st.addClass("sp-active"),Be.removeClass("sp-hidden"),pr(),yi(),Je=zn(),da(),me.show(Je),Qe.trigger("show.spectrum",[Je])}}function wr(je){je.keyCode===27&&ei()}function vs(je){je.button!=2&&(Ge||(Ln?Wr(!0):ki(),ei()))}function ei(){!De||Yt||(De=!1,o(Gn).unbind("keydown.spectrum",wr),o(Gn).unbind("click.spectrum",vs),o(window).unbind("resize.spectrum",de),st.removeClass("sp-active"),Be.addClass("sp-hidden"),me.hide(zn()),Qe.trigger("hide.spectrum",[zn()]))}function ki(){Nr(Je,!0)}function Nr(je,Me){if(B.equals(je,zn())){yi();return}var dn,Pe;!je&&Ei?gn=!0:(gn=!1,an=!je,dn=B(je),Pe=dn.toHsv(),he=Pe.h%360/360,Ue=Pe.s,ze=Pe.v,rn=Pe.a),yi(),dn&&dn.isValid()&&!Me&&($e=F.preferredFormat||dn.getFormat())}function zn(je){return je=je||{},Ei&&gn?null:B.fromRatio({h:he,s:Ue,v:ze,a:Math.round(rn*100)/100},{format:je.format||$e})}function Do(){return!Un.hasClass("sp-validation-error")}function no(){yi(),me.move(zn()),Qe.trigger("move.spectrum",[zn()])}function yi(){Un.removeClass("sp-validation-error"),Ko();var je=B.fromRatio({h:he,s:1,v:1});xn.css("background-color",je.toHexString());var Me=$e;rn<1&&!(rn===0&&Me==="name")&&(Me==="hex"||Me==="hex3"||Me==="hex6"||Me==="name")&&(Me="rgb");var dn=zn({format:Me}),Pe="";if(ee.removeClass("sp-clear-display"),ee.css("background-color","transparent"),!dn&&Ei)ee.addClass("sp-clear-display");else{var Tn=dn.toHexString(),Kn=dn.toRgbString();if(i||dn.alpha===1?ee.css("background-color",Kn):(ee.css("background-color","transparent"),ee.css("filter",dn.toFilter())),F.showAlpha){var xr=dn.toRgb();xr.a=0;var ao=B(xr).toRgbString(),qr="linear-gradient(left, "+ao+", "+Tn+")";r?un.css("filter",B(ao).toFilter({gradientType:1},Tn)):(un.css("background","-webkit-"+qr),un.css("background","-moz-"+qr),un.css("background","-ms-"+qr),un.css("background","linear-gradient(to right, "+ao+", "+Tn+")"))}Pe=dn.toString(Me)}F.showInput&&Un.val(Pe),F.showPalette&&fa(),da()}function Ko(){var je=Ue,Me=ze;if(Ei&&gn)br.hide(),ur.hide(),sr.hide();else{br.show(),ur.show(),sr.show();var dn=je*tn,Pe=Mn-Me*Mn;dn=Math.max(-_r,Math.min(tn-_r,dn-_r)),Pe=Math.max(-_r,Math.min(Mn-_r,Pe-_r)),sr.css({top:Pe+"px",left:dn+"px"});var Tn=rn*ut;br.css({left:Tn-Ot/2+"px"});var Kn=he*q;ur.css({top:Kn-Xt+"px"})}}function Wr(je){var Me=zn(),dn="",Pe=an?!0:!B.equals(Me,Je);Me&&(dn=Me.toString($e),!De&&Po(Me)),Re&&Qe.val(dn),je&&Pe&&(me.change(Me),Qe.trigger("change",[Me]))}function pr(){De&&(tn=xn.width(),Mn=xn.height(),_r=sr.height(),lr.width(),q=lr.height(),Xt=ur.height(),ut=Te.width(),Ot=br.width(),Yt||(Be.css("position","absolute"),F.offset?Be.offset(F.offset):Be.offset(w(Be,qt))),Ko(),F.showPalette&&fa(),Qe.trigger("reflow.spectrum"))}function ha(){Qe.show(),qt.unbind("click.spectrum touchstart.spectrum"),Be.remove(),st.remove(),e[oo.id]=null}function ro(je,Me){if(je===n)return o.extend({},F);if(Me===n)return F[je];F[je]=Me,je==="preferredFormat"&&($e=F.preferredFormat),Pr()}function ni(){ar=!1,Qe.attr("disabled",!1),qt.removeClass("sp-disabled")}function Pi(){ei(),ar=!0,Qe.attr("disabled",!0),qt.addClass("sp-disabled")}function io(je){F.offset=je,pr()}Ao();var oo={show:Qn,hide:ei,toggle:pa,reflow:pr,option:ro,enable:ni,disable:Pi,offset:io,set:function(je){Nr(je),Wr()},get:zn,destroy:ha,container:Be};return oo.id=e.push(oo)-1,oo}function w(Y,gt){for(var F=gt[0],Yt=Y[0],Dt=Yt.parentElement,te=F.getBoundingClientRect(),_e=Yt.offsetWidth,me=Yt.offsetHeight,de={top:0,left:0,width:F.offsetWidth,height:F.offsetHeight};F&&(de.top+=F.offsetTop-F.scrollTop,de.left+=F.offsetLeft-F.scrollLeft,!(F===Dt||!Dt.contains(F.offsetParent)));)F=F.offsetParent;return te.right+_e>window.innerWidth-window.scrollX&&te.right-_e>0&&(de.left-=_e-de.width),te.bottom+me<window.innerHeight-window.scrollY?de.top+=de.height:de.top-=me,de}function S(){}function O(Y){Y.stopPropagation()}function A(Y,gt){var F=Array.prototype.slice,Yt=F.call(arguments,2);return function(){return Y.apply(gt,Yt.concat(F.call(arguments)))}}function P(Y,gt,F,Yt){gt=gt||function(){},F=F||function(){},Yt=Yt||function(){};var Dt=document,te=!1,_e={},me=0,de=0,De="ontouchstart"in window,Ge={};Ge.selectstart=an,Ge.dragstart=an,Ge["touchmove mousemove"]=tn,Ge["touchend mouseup"]=_r;function an(q){q.stopPropagation&&q.stopPropagation(),q.preventDefault&&q.preventDefault(),q.returnValue=!1}function tn(q){if(te){if(r&&Dt.documentMode<9&&!q.button)return _r();var ut=q&&q.touches&&q.touches[0],Ot=ut&&ut.pageX||q.pageX,Xt=ut&&ut.pageY||q.pageY,he=Math.max(0,Math.min(Ot-_e.left,de)),Ue=Math.max(0,Math.min(Xt-_e.top,me));De&&an(q),gt.apply(Y,[he,Ue,q])}}function Mn(q){var ut=q.which?q.which==3:q.button==2;!ut&&!te&&F.apply(Y,arguments)!==!1&&(te=!0,me=o(Y).height(),de=o(Y).width(),_e=o(Y).offset(),o(Dt).bind(Ge),o(Dt.body).addClass("sp-dragging"),tn(q),an(q))}function _r(){te&&(o(Dt).unbind(Ge),o(Dt.body).removeClass("sp-dragging"),setTimeout(function(){Yt.apply(Y,arguments)},0)),te=!1}o(Y).bind("touchstart mousedown",Mn)}function j(Y,gt,F){var Yt;return function(){var Dt=this,te=arguments,_e=function(){Yt=null,Y.apply(Dt,te)};Yt||(Yt=setTimeout(_e,gt))}}function z(){return o.fn.spectrum.inputTypeColorSupport()}var k="spectrum.id";o.fn.spectrum=function(Y,gt){if(typeof Y=="string"){var F=this,Yt=Array.prototype.slice.call(arguments,1);return this.each(function(){var Dt=e[o(this).data(k)];if(Dt){var te=Dt[Y];if(!te)throw new Error("Spectrum: no such method: '"+Y+"'");Y=="get"?F=Dt.get():Y=="container"?F=Dt.container:Y=="option"?F=Dt.option.apply(Dt,Yt):Y=="destroy"?(Dt.destroy(),o(this).removeData(k)):te.apply(Dt,Yt)}}),F}return this.spectrum("destroy").each(function(){var Dt=o.extend({},Y,o(this).data()),te=_(this,Dt);o(this).data(k,te.id)})},o.fn.spectrum.load=!0,o.fn.spectrum.loadOpts={},o.fn.spectrum.draggable=P,o.fn.spectrum.defaults=t,o.fn.spectrum.inputTypeColorSupport=function Y(){if(typeof Y._cachedResult>"u"){var gt=o("<input type='color'/>")[0];Y._cachedResult=gt.type==="color"&&gt.value!==""}return Y._cachedResult},o.spectrum={},o.spectrum.localization={},o.spectrum.palettes={},o.fn.spectrum.processNativeColorInputs=function(){var Y=o("input[type=color]");Y.length&&!z()&&Y.spectrum({preferredFormat:"hex6"})};var G=/^[\s,#]+/,ot=/\s+$/,xt=0,Nt=Math,vt=Nt.round,$=Nt.min,mt=Nt.max,X=Nt.random,B=function(Y,gt){if(Y=Y||"",gt=gt||{},Y instanceof B)return Y;if(!(this instanceof B))return new B(Y,gt);var F=Q(Y);this._originalInput=Y,this._r=F.r,this._g=F.g,this._b=F.b,this._a=F.a,this._roundA=vt(100*this._a)/100,this._format=gt.format||F.format,this._gradientType=gt.gradientType,this._r<1&&(this._r=vt(this._r)),this._g<1&&(this._g=vt(this._g)),this._b<1&&(this._b=vt(this._b)),this._ok=F.ok,this._tc_id=xt++};B.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Y=this.toRgb();return(Y.r*299+Y.g*587+Y.b*114)/1e3},setAlpha:function(Y){return this._a=ge(Y),this._roundA=vt(100*this._a)/100,this},toHsv:function(){var Y=ht(this._r,this._g,this._b);return{h:Y.h*360,s:Y.s,v:Y.v,a:this._a}},toHsvString:function(){var Y=ht(this._r,this._g,this._b),gt=vt(Y.h*360),F=vt(Y.s*100),Yt=vt(Y.v*100);return this._a==1?"hsv("+gt+", "+F+"%, "+Yt+"%)":"hsva("+gt+", "+F+"%, "+Yt+"%, "+this._roundA+")"},toHsl:function(){var Y=ft(this._r,this._g,this._b);return{h:Y.h*360,s:Y.s,l:Y.l,a:this._a}},toHslString:function(){var Y=ft(this._r,this._g,this._b),gt=vt(Y.h*360),F=vt(Y.s*100),Yt=vt(Y.l*100);return this._a==1?"hsl("+gt+", "+F+"%, "+Yt+"%)":"hsla("+gt+", "+F+"%, "+Yt+"%, "+this._roundA+")"},toHex:function(Y){return Bt(this._r,this._g,this._b,Y)},toHexString:function(Y){return"#"+this.toHex(Y)},toHex8:function(){return nt(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:vt(this._r),g:vt(this._g),b:vt(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+vt(this._r)+", "+vt(this._g)+", "+vt(this._b)+")":"rgba("+vt(this._r)+", "+vt(this._g)+", "+vt(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:vt(N(this._r,255)*100)+"%",g:vt(N(this._g,255)*100)+"%",b:vt(N(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+vt(N(this._r,255)*100)+"%, "+vt(N(this._g,255)*100)+"%, "+vt(N(this._b,255)*100)+"%)":"rgba("+vt(N(this._r,255)*100)+"%, "+vt(N(this._g,255)*100)+"%, "+vt(N(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Ve[Bt(this._r,this._g,this._b,!0)]||!1},toFilter:function(Y){var gt="#"+nt(this._r,this._g,this._b,this._a),F=gt,Yt=this._gradientType?"GradientType = 1, ":"";if(Y){var Dt=B(Y);F=Dt.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+Yt+"startColorstr="+gt+",endColorstr="+F+")"},toString:function(Y){var gt=!!Y;Y=Y||this._format;var F=!1,Yt=this._a<1&&this._a>=0,Dt=!gt&&Yt&&(Y==="hex"||Y==="hex6"||Y==="hex3"||Y==="name");return Dt?Y==="name"&&this._a===0?this.toName():this.toRgbString():(Y==="rgb"&&(F=this.toRgbString()),Y==="prgb"&&(F=this.toPercentageRgbString()),(Y==="hex"||Y==="hex6")&&(F=this.toHexString()),Y==="hex3"&&(F=this.toHexString(!0)),Y==="hex8"&&(F=this.toHex8String()),Y==="name"&&(F=this.toName()),Y==="hsl"&&(F=this.toHslString()),Y==="hsv"&&(F=this.toHsvString()),F||this.toHexString())},_applyModification:function(Y,gt){var F=Y.apply(null,[this].concat([].slice.call(gt)));return this._r=F._r,this._g=F._g,this._b=F._b,this.setAlpha(F._a),this},lighten:function(){return this._applyModification(At,arguments)},brighten:function(){return this._applyModification(Zt,arguments)},darken:function(){return this._applyModification(Qt,arguments)},desaturate:function(){return this._applyModification(Lt,arguments)},saturate:function(){return this._applyModification(pt,arguments)},greyscale:function(){return this._applyModification(Et,arguments)},spin:function(){return this._applyModification(ne,arguments)},_applyCombination:function(Y,gt){return Y.apply(null,[this].concat([].slice.call(gt)))},analogous:function(){return this._applyCombination(_t,arguments)},complement:function(){return this._applyCombination(oe,arguments)},monochromatic:function(){return this._applyCombination(se,arguments)},splitcomplement:function(){return this._applyCombination(Se,arguments)},triad:function(){return this._applyCombination(Oe,arguments)},tetrad:function(){return this._applyCombination(He,arguments)}},B.fromRatio=function(Y,gt){if(typeof Y=="object"){var F={};for(var Yt in Y)Y.hasOwnProperty(Yt)&&(Yt==="a"?F[Yt]=Y[Yt]:F[Yt]=Pt(Y[Yt]));Y=F}return B(Y,gt)};function Q(Y){var gt={r:0,g:0,b:0},F=1,Yt=!1,Dt=!1;return typeof Y=="string"&&(Y=Ne(Y)),typeof Y=="object"&&(Y.hasOwnProperty("r")&&Y.hasOwnProperty("g")&&Y.hasOwnProperty("b")?(gt=J(Y.r,Y.g,Y.b),Yt=!0,Dt=String(Y.r).substr(-1)==="%"?"prgb":"rgb"):Y.hasOwnProperty("h")&&Y.hasOwnProperty("s")&&Y.hasOwnProperty("v")?(Y.s=Pt(Y.s),Y.v=Pt(Y.v),gt=yt(Y.h,Y.s,Y.v),Yt=!0,Dt="hsv"):Y.hasOwnProperty("h")&&Y.hasOwnProperty("s")&&Y.hasOwnProperty("l")&&(Y.s=Pt(Y.s),Y.l=Pt(Y.l),gt=M(Y.h,Y.s,Y.l),Yt=!0,Dt="hsl"),Y.hasOwnProperty("a")&&(F=Y.a)),F=ge(F),{ok:Yt,format:Y.format||Dt,r:$(255,mt(gt.r,0)),g:$(255,mt(gt.g,0)),b:$(255,mt(gt.b,0)),a:F}}function J(Y,gt,F){return{r:N(Y,255)*255,g:N(gt,255)*255,b:N(F,255)*255}}function ft(Y,gt,F){Y=N(Y,255),gt=N(gt,255),F=N(F,255);var Yt=mt(Y,gt,F),Dt=$(Y,gt,F),te,_e,me=(Yt+Dt)/2;if(Yt==Dt)te=_e=0;else{var de=Yt-Dt;switch(_e=me>.5?de/(2-Yt-Dt):de/(Yt+Dt),Yt){case Y:te=(gt-F)/de+(gt<F?6:0);break;case gt:te=(F-Y)/de+2;break;case F:te=(Y-gt)/de+4;break}te/=6}return{h:te,s:_e,l:me}}function M(Y,gt,F){var Yt,Dt,te;Y=N(Y,360),gt=N(gt,100),F=N(F,100);function _e(De,Ge,an){return an<0&&(an+=1),an>1&&(an-=1),an<1/6?De+(Ge-De)*6*an:an<1/2?Ge:an<2/3?De+(Ge-De)*(2/3-an)*6:De}if(gt===0)Yt=Dt=te=F;else{var me=F<.5?F*(1+gt):F+gt-F*gt,de=2*F-me;Yt=_e(de,me,Y+1/3),Dt=_e(de,me,Y),te=_e(de,me,Y-1/3)}return{r:Yt*255,g:Dt*255,b:te*255}}function ht(Y,gt,F){Y=N(Y,255),gt=N(gt,255),F=N(F,255);var Yt=mt(Y,gt,F),Dt=$(Y,gt,F),te,_e,me=Yt,de=Yt-Dt;if(_e=Yt===0?0:de/Yt,Yt==Dt)te=0;else{switch(Yt){case Y:te=(gt-F)/de+(gt<F?6:0);break;case gt:te=(F-Y)/de+2;break;case F:te=(Y-gt)/de+4;break}te/=6}return{h:te,s:_e,v:me}}function yt(Y,gt,F){Y=N(Y,360)*6,gt=N(gt,100),F=N(F,100);var Yt=Nt.floor(Y),Dt=Y-Yt,te=F*(1-gt),_e=F*(1-Dt*gt),me=F*(1-(1-Dt)*gt),de=Yt%6,De=[F,_e,te,te,me,F][de],Ge=[me,F,F,_e,te,te][de],an=[te,te,me,F,F,_e][de];return{r:De*255,g:Ge*255,b:an*255}}function Bt(Y,gt,F,Yt){var Dt=[tt(vt(Y).toString(16)),tt(vt(gt).toString(16)),tt(vt(F).toString(16))];return Yt&&Dt[0].charAt(0)==Dt[0].charAt(1)&&Dt[1].charAt(0)==Dt[1].charAt(1)&&Dt[2].charAt(0)==Dt[2].charAt(1)?Dt[0].charAt(0)+Dt[1].charAt(0)+Dt[2].charAt(0):Dt.join("")}function nt(Y,gt,F,Yt){var Dt=[tt(St(Yt)),tt(vt(Y).toString(16)),tt(vt(gt).toString(16)),tt(vt(F).toString(16))];return Dt.join("")}B.equals=function(Y,gt){return!Y||!gt?!1:B(Y).toRgbString()==B(gt).toRgbString()},B.random=function(){return B.fromRatio({r:X(),g:X(),b:X()})};function Lt(Y,gt){gt=gt===0?0:gt||10;var F=B(Y).toHsl();return F.s-=gt/100,F.s=Z(F.s),B(F)}function pt(Y,gt){gt=gt===0?0:gt||10;var F=B(Y).toHsl();return F.s+=gt/100,F.s=Z(F.s),B(F)}function Et(Y){return B(Y).desaturate(100)}function At(Y,gt){gt=gt===0?0:gt||10;var F=B(Y).toHsl();return F.l+=gt/100,F.l=Z(F.l),B(F)}function Zt(Y,gt){gt=gt===0?0:gt||10;var F=B(Y).toRgb();return F.r=mt(0,$(255,F.r-vt(255*-(gt/100)))),F.g=mt(0,$(255,F.g-vt(255*-(gt/100)))),F.b=mt(0,$(255,F.b-vt(255*-(gt/100)))),B(F)}function Qt(Y,gt){gt=gt===0?0:gt||10;var F=B(Y).toHsl();return F.l-=gt/100,F.l=Z(F.l),B(F)}function ne(Y,gt){var F=B(Y).toHsl(),Yt=(vt(F.h)+gt)%360;return F.h=Yt<0?360+Yt:Yt,B(F)}function oe(Y){var gt=B(Y).toHsl();return gt.h=(gt.h+180)%360,B(gt)}function Oe(Y){var gt=B(Y).toHsl(),F=gt.h;return[B(Y),B({h:(F+120)%360,s:gt.s,l:gt.l}),B({h:(F+240)%360,s:gt.s,l:gt.l})]}function He(Y){var gt=B(Y).toHsl(),F=gt.h;return[B(Y),B({h:(F+90)%360,s:gt.s,l:gt.l}),B({h:(F+180)%360,s:gt.s,l:gt.l}),B({h:(F+270)%360,s:gt.s,l:gt.l})]}function Se(Y){var gt=B(Y).toHsl(),F=gt.h;return[B(Y),B({h:(F+72)%360,s:gt.s,l:gt.l}),B({h:(F+216)%360,s:gt.s,l:gt.l})]}function _t(Y,gt,F){gt=gt||6,F=F||30;var Yt=B(Y).toHsl(),Dt=360/F,te=[B(Y)];for(Yt.h=(Yt.h-(Dt*gt>>1)+720)%360;--gt;)Yt.h=(Yt.h+Dt)%360,te.push(B(Yt));return te}function se(Y,gt){gt=gt||6;for(var F=B(Y).toHsv(),Yt=F.h,Dt=F.s,te=F.v,_e=[],me=1/gt;gt--;)_e.push(B({h:Yt,s:Dt,v:te})),te=(te+me)%1;return _e}B.mix=function(Y,gt,F){F=F===0?0:F||50;var Yt=B(Y).toRgb(),Dt=B(gt).toRgb(),te=F/100,_e=te*2-1,me=Dt.a-Yt.a,de;_e*me==-1?de=_e:de=(_e+me)/(1+_e*me),de=(de+1)/2;var De=1-de,Ge={r:Dt.r*de+Yt.r*De,g:Dt.g*de+Yt.g*De,b:Dt.b*de+Yt.b*De,a:Dt.a*te+Yt.a*(1-te)};return B(Ge)},B.readability=function(Y,gt){var F=B(Y),Yt=B(gt),Dt=F.toRgb(),te=Yt.toRgb(),_e=F.getBrightness(),me=Yt.getBrightness(),de=Math.max(Dt.r,te.r)-Math.min(Dt.r,te.r)+Math.max(Dt.g,te.g)-Math.min(Dt.g,te.g)+Math.max(Dt.b,te.b)-Math.min(Dt.b,te.b);return{brightness:Math.abs(_e-me),color:de}},B.isReadable=function(Y,gt){var F=B.readability(Y,gt);return F.brightness>125&&F.color>500},B.mostReadable=function(Y,gt){for(var F=null,Yt=0,Dt=!1,te=0;te<gt.length;te++){var _e=B.readability(Y,gt[te]),me=_e.brightness>125&&_e.color>500,de=3*(_e.brightness/125)+_e.color/500;(me&&!Dt||me&&Dt&&de>Yt||!me&&!Dt&&de>Yt)&&(Dt=me,Yt=de,F=B(gt[te]))}return F};var ue=B.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Ve=B.hexNames=Ae(ue);function Ae(Y){var gt={};for(var F in Y)Y.hasOwnProperty(F)&&(gt[Y[F]]=F);return gt}function ge(Y){return Y=parseFloat(Y),(isNaN(Y)||Y<0||Y>1)&&(Y=1),Y}function N(Y,gt){bt(Y)&&(Y="100%");var F=kt(Y);return Y=$(gt,mt(0,parseFloat(Y))),F&&(Y=parseInt(Y*gt,10)/100),Nt.abs(Y-gt)<1e-6?1:Y%gt/parseFloat(gt)}function Z(Y){return $(1,mt(0,Y))}function it(Y){return parseInt(Y,16)}function bt(Y){return typeof Y=="string"&&Y.indexOf(".")!=-1&&parseFloat(Y)===1}function kt(Y){return typeof Y=="string"&&Y.indexOf("%")!=-1}function tt(Y){return Y.length==1?"0"+Y:""+Y}function Pt(Y){return Y<=1&&(Y=Y*100+"%"),Y}function St(Y){return Math.round(parseFloat(Y)*255).toString(16)}function we(Y){return it(Y)/255}var Ee=function(){var Y="[-\\+]?\\d+%?",gt="[-\\+]?\\d*\\.\\d+%?",F="(?:"+gt+")|(?:"+Y+")",Yt="[\\s|\\(]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",Dt="[\\s|\\(]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?";return{rgb:new RegExp("rgb"+Yt),rgba:new RegExp("rgba"+Dt),hsl:new RegExp("hsl"+Yt),hsla:new RegExp("hsla"+Dt),hsv:new RegExp("hsv"+Yt),hsva:new RegExp("hsva"+Dt),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Ne(Y){Y=Y.replace(G,"").replace(ot,"").toLowerCase();var gt=!1;if(ue[Y])Y=ue[Y],gt=!0;else if(Y=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var F;return(F=Ee.rgb.exec(Y))?{r:F[1],g:F[2],b:F[3]}:(F=Ee.rgba.exec(Y))?{r:F[1],g:F[2],b:F[3],a:F[4]}:(F=Ee.hsl.exec(Y))?{h:F[1],s:F[2],l:F[3]}:(F=Ee.hsla.exec(Y))?{h:F[1],s:F[2],l:F[3],a:F[4]}:(F=Ee.hsv.exec(Y))?{h:F[1],s:F[2],v:F[3]}:(F=Ee.hsva.exec(Y))?{h:F[1],s:F[2],v:F[3],a:F[4]}:(F=Ee.hex8.exec(Y))?{a:we(F[1]),r:it(F[2]),g:it(F[3]),b:it(F[4]),format:gt?"name":"hex8"}:(F=Ee.hex6.exec(Y))?{r:it(F[1]),g:it(F[2]),b:it(F[3]),format:gt?"name":"hex"}:(F=Ee.hex3.exec(Y))?{r:it(F[1]+""+F[1]),g:it(F[2]+""+F[2]),b:it(F[3]+""+F[3]),format:gt?"name":"hex"}:!1}window.tinycolor=B,o(function(){o.fn.spectrum.load&&o.fn.spectrum.processNativeColorInputs()})}var eR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dS=function(o){eR(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this,r=t.ppfx||"";return e.opts=t,e.ppfx=r,e.em=t.target||{},!t.onChange&&e.listenTo(e.model,"change:value",e.handleModelChange),e}return n.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},n.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},n.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},n.prototype.elementUpdated=function(){this.model.trigger("el:change")},n.prototype.setValue=function(t,e){var r=this.model,i=t||r.get("defaults"),l=this.getInputEl();l&&(l.value=i)},n.prototype.handleModelChange=function(t,e,r){this.setValue(e,r)},n.prototype.handleChange=function(t){t.stopPropagation();var e=this.getInputEl().value;this.__onInputChange(e),this.elementUpdated()},n.prototype.__onInputChange=function(t){this.model.set({value:t},{fromInput:1})},n.prototype.getInputEl=function(){if(!this.inputEl){var t=this,e=t.model,r=t.opts,i=r.type||"text",l=e.get("placeholder")||e.get("defaults")||e.get("default")||"";this.inputEl=(0,$r.default)('<input type="'.concat(i,'" placeholder="').concat(l,'">'))}return this.inputEl.get(0)},n.prototype.render=function(){this.inputEl=null;var t=this.$el;return t.addClass(this.inputClass()),t.html(this.template()),t.find(".".concat(this.holderClass())).append(this.getInputEl()),this},n}(fe.Ss);const Nv=dS;dS.prototype.events={change:"handleChange"};var nR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rp=function(){return rp=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},rp.apply(this,arguments)};$r.default&&tR($r.default);var jh=function(o){var n=o.getFormat()==="name"&&o.toName(),t=o.getAlpha()==1?o.toHexString():o.toRgbString();return n||t.replace(/ /g,"")},rR=function(o){nR(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.template=function(){var t=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(t,`field-colorp">
        <div class="`).concat(t,`field-colorp-c" data-colorp-c>
          <div class="`).concat(t,`checker-bg"></div>
        </div>
      </div>
    `)},n.prototype.inputClass=function(){var t=this.ppfx;return"".concat(t,"field ").concat(t,"field-color")},n.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},n.prototype.remove=function(){return o.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},n.prototype.handleChange=function(t){t.stopPropagation();var e=t.target.value;(0,H.isUndefined)(e)||this.__onInputChange(e)},n.prototype.__onInputChange=function(t){var e=this,r=e.model,i=e.opts,l=i.onChange,f=t,p=this.getColorEl();if(p){p.spectrum("set",f);var d=p.spectrum("get"),v=f&&jh(d);v&&(f=v)}l?l(f):r.set({value:f},{fromInput:1})},n.prototype.setValue=function(t,e){e===void 0&&(e={});var r=this.model,i=(0,H.isUndefined)(e.def)?r.get("defaults"):e.def,l=(0,H.isUndefined)(t)?(0,H.isUndefined)(i)?"":i:t,f=this.getInputEl(),p=this.getColorEl(),d=l!="none"?l:"";f.value=l,p.get(0).style.backgroundColor=d,(e.fromTarget||e.fromInput&&!e.avoidStore)&&(p.spectrum("set",d),this.noneColor=l=="none",this.movedColor=d)},n.prototype.getColorEl=function(){var t=this;if(!this.colorEl){var e=this,r=e.em,i=e.model,l=e.opts,f=this.ppfx,p=l.onChange,d=(0,$r.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),v=d.get(0).style,_=r&&r.getConfig&&r.getConfig().colorPicker||{};this.movedColor="";var w=!1,S;this.$el.find("[data-colorp-c]").append(d);var O=function(A,P){P===void 0&&(P=!0),p?p(A,!P):(P&&i.setValueFromInput(0,!1),i.setValueFromInput(A,P))};d.spectrum(rp(rp(rp({color:i.getValue()||!1,containerClassName:"".concat(f,"one-bg ").concat(f,"two-color ").concat(f,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"⨯",palette:[]},_),i.get("colorPicker")||{}),{move:function(A){var P=jh(A);t.movedColor=P,v.backgroundColor=P,O(P,!1)},change:function(A){w=!0;var P=jh(A);v.backgroundColor=P,O(P),t.noneColor=!1},show:function(A){w=!1,t.movedColor="",S=p?i.getValue({noDefault:!0}):jh(A)},hide:function(){!w&&(S||p)&&(t.noneColor&&(S=""),v.backgroundColor=S,d.spectrum("set",S),O(S,!1))}})),r&&r.on&&this.listenTo(r,"component:selected",function(){t.movedColor&&O(t.movedColor),w=!0,t.movedColor="",d.spectrum("hide")}),this.colorEl=d}return this.colorEl},n.prototype.render=function(){return Nv.prototype.render.call(this),this.getColorEl(),this},n}(Nv);const pS=rR;var iR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oR=function(o){iR(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.templateInput=function(){return""},n.prototype.getInputEl=function(){if(!this.input){var t=this.model,e=this.getModelValue(),r=new pS({model:t,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),i=r.render();i.setValue(e,{fromTarget:1}),this.input=i.el}return this.input},n}(Ks);const aR=oR;var sR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hS=function(o){sR(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;return(0,H.bindAll)(e,"moveIncrement","upIncrement"),e.doc=document,e.listenTo(e.model,"change:unit",e.handleModelChange),e}return n.prototype.template=function(){var t=this.ppfx;return`
      <span class="`.concat(t,`input-holder"></span>
      <span class="`).concat(t,`field-units"></span>
      <div class="`).concat(t,`field-arrows" data-arrows>
        <div class="`).concat(t,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(t,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},n.prototype.inputClass=function(){var t=this.ppfx;return this.opts.contClass||"".concat(t,"field ").concat(t,"field-integer")},n.prototype.setValue=function(t,e){var r=e||{},i=this.validateInputValue(t,{deepCheck:1}),l={value:i.value,unit:""};(i.unit||i.force)&&(l.unit=i.unit),this.model.set(l,r),r.silent&&this.handleModelChange()},n.prototype.handleChange=function(t){t.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},n.prototype.handleUnitChange=function(t){t.stopPropagation();var e=this.getUnitEl().value;this.model.set("unit",e),this.elementUpdated()},n.prototype.handleKeyDown=function(t){t.key==="ArrowUp"&&(t.preventDefault(),this.upArrowClick()),t.key==="ArrowDown"&&(t.preventDefault(),this.downArrowClick())},n.prototype.elementUpdated=function(){this.model.trigger("el:change")},n.prototype.handleModelChange=function(){var t=this.model;this.getInputEl().value=t.get("value");var e=this.getUnitEl();e&&(e.value=t.get("unit")||"")},n.prototype.getUnitEl=function(){if(!this.unitEl){var t=this.model,e=t.get("units")||[];if(e.length){var r=['<option value="" disabled hidden>-</option>'];e.forEach(function(l){var f=l==t.get("unit")?"selected":"";r.push("<option ".concat(f,">").concat(l,"</option>"))});var i=document.createElement("div");i.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(r.join(""),"</select>"),this.unitEl=i.firstChild}}return this.unitEl},n.prototype.upArrowClick=function(){var t=this.model,e=t.get("step"),r=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(r+e)),this.elementUpdated()},n.prototype.downArrowClick=function(){var t=this.model,e=t.get("step"),r=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(r-e)),this.elementUpdated()},n.prototype.downIncrement=function(t){t.preventDefault(),this.moved=!1;var e=this.model.get("value")||0;e=this.normalizeValue(e),this.current={y:t.pageY,val:e},(0,ye.on)(this.doc,"mousemove",this.moveIncrement),(0,ye.on)(this.doc,"mouseup",this.upIncrement)},n.prototype.moveIncrement=function(t){this.moved=!0;var e=this.model,r=e.get("step"),i=this.current,l=this.normalizeValue(i.val+(i.y-t.pageY)*r),f=this.validateInputValue(l),p=f.value,d=f.unit;return this.prValue=p,e.set({value:p,unit:d},{avoidStore:1}),!1},n.prototype.upIncrement=function(){var t=this.model,e=t.get("step");if((0,ye.AU)(this.doc,"mouseup",this.upIncrement),(0,ye.AU)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var r=this.prValue-e;t.set("value",r,{avoidStore:1}).set("value",r+e),this.elementUpdated()}},n.prototype.normalizeValue=function(t,e){e===void 0&&(e=0);var r=this.model,i=r.get("step"),l=0;if(isNaN(t))return e;if(t=parseFloat(t),Math.floor(t)!==t){var f=i.toString().split(".")[1];l=f?f.length:0}return l?parseFloat(t.toFixed(l)):t},n.prototype.validateInputValue=function(t,e){e===void 0&&(e={});var r=0,i=e||{},l=this.model,f="",p=(0,H.isUndefined)(t)?f:t,d=e.units||l.get("units")||[],v=l.get("unit")||d.length&&d[0]||"",_=(0,H.isUndefined)(e.max)?l.get("max"):e.max,w=(0,H.isUndefined)(e.min)?l.get("min"):e.min,S=!!l.get("limitlessMax"),O=!!l.get("limitlessMin");if(i.deepCheck){var A=l.get("fixedValues")||[];if(p===""&&(v=""),p){var P=new RegExp("^"+A.join("|"),"g");if(A.length&&P.test(p))p=p.match(P)[0],v="",r=1;else{var j=p+"";p+="",p=parseFloat(p.replace(",",".")),p=isNaN(p)?f:p;var z=j.replace(p,"");(0,H.indexOf)(d,z)>=0&&(v=z)}}}return!isNaN(p)&&p!==""&&(!S&&!(0,H.isUndefined)(_)&&_!==""&&(p=p>_?_:p),!O&&!(0,H.isUndefined)(w)&&w!==""&&(p=p<w?w:p)),{force:r,value:p,unit:v}},n.prototype.render=function(){Nv.prototype.render.call(this),this.unitEl=null;var t=this.getUnitEl();return t&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(t),this},n}(Nv);const vS=hS;hS.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var lR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uR=function(o){lR(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.getValueForTarget=function(){var t=this.model,e=t.attributes,r=e.value,i=e.unit;return!(0,H.isUndefined)(r)&&r!==""?r+i:t.get("default")},n.prototype.getInputEl=function(){if(!this.input){var t=this,e=t.ppfx,r=t.model,i=this.getModelValue(),l=new vS({contClass:"".concat(e,"field-int"),type:"number",model:r,ppfx:e});l.render(),this.$input=l.inputEl,this.$unit=l.unitEl,r.set("value",i,{fromTarget:!0}),this.$input.val(i),this.input=l.el}return this.input},n}(Ks);const cR=uR;var fR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dR=function(o){fR(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;return e.listenTo(e.model,"change:options",e.rerender),e}return n.prototype.templateInput=function(){var t=this,e=t.ppfx,r=t.clsField;return'<div class="'.concat(r,`">
      <div data-input></div>
      <div class="`).concat(e,`sel-arrow">
        <div class="`).concat(e,`d-s-arrow"></div>
      </div>
    </div>`)},n.prototype.getInputEl=function(){if(!this.$input){var t=this,e=t.model,r=t.em,i=e.get("name"),l=e.get("options")||[],f=[],p="<select>";l.forEach(function(_){var w="",S,O,A;(0,H.isString)(_)?(S=_,O=_):(S=_.name||_.label||_.value,O="".concat((0,H.isUndefined)(_.value)?_.id:_.value).replace(/"/g,"&quot;"),A=_.style?_.style.replace(/"/g,"&quot;"):"",w+=A?' style="'.concat(A,'"'):"");var P=r.t("traitManager.traits.options.".concat(i,".").concat(O))||S;p+='<option value="'.concat(O,'"').concat(w,">").concat(P,"</option>"),f.push(O)}),p+="</select>",this.$input=(0,$r.default)(p);var d=e.getTargetValue(),v=f.indexOf(d)>=0?d:e.get("default");!(0,H.isUndefined)(v)&&this.$input.val(v)}return this.$input.get(0)},n}(Ks);const pR=dR;var hR=wn(8242),vR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hb="data-categories",Bb="data-no-categories",gS=function(o){vR(n,o);function n(t,e){var r=o.call(this,t)||this;r.reuseView=!0,r.renderedCategories=new Map,r.itemsView=e;var i=t.config||{};r.config=i;var l=t.editor;r.em=l;var f=i.pStylePrefix||"";return r.ppfx=f,r.pfx=f+i.stylePrefix||"",r.className="".concat(r.pfx,"traits"),r.traitContClass="".concat(f,"traits-c"),r.classNoCat="".concat(f,"traits-empty-c"),r.catsClass="".concat(f,"trait-categories"),r.collection=new av([],{em:l}),r.listenTo(l,"component:toggled",r.updatedCollection),r.updatedCollection(),r}return n.prototype.updatedCollection=function(){var t=this,e=t.ppfx,r=t.em,i=r.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(e,"one-bg ").concat(e,"two-color"),this.collection=(i==null?void 0:i.traits)||new av([],{em:r}),this.render()},n.prototype.add=function(t,e){var r=this,i=r.config,l=r.renderedCategories,f=this.itemView,p=t.get(this.itemType);this.itemsView&&this.itemsView[p]&&(f=this.itemsView[p]);var d=new f({config:i,model:t,attributes:t.get("attributes")}),v=d.render().el,_=t.parent.initCategory(t);if(_){var w=_.getId(),S=this.getCategoriesEl(),O=l.get(w);!O&&S&&(O=new Jx({model:_},i,"trait").render(),l.set(w,O),S.appendChild(O.el)),O==null||O.append(v);return}e?e.appendChild(v):this.append(v)},n.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(Hb,"]"))),this.catsEl},n.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(Bb,"]"))),this.traitsEl},n.prototype.append=function(t){var e=this.getTraitsEl();e==null||e.appendChild(t)},n.prototype.render=function(){var t=this,e=this,r=e.el,i=e.ppfx,l=e.catsClass,f=e.traitContClass,p=e.classNoCat,d=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,r.innerHTML=`
      <div class="`.concat(l,'" ').concat(Hb,`></div>
      <div class="`).concat(p," ").concat(f,'" ').concat(Bb,`></div>
    `),this.collection.forEach(function(_){return t.add(_,d)}),this.append(d);var v="".concat(f,"s ").concat(i,"one-bg ").concat(i,"two-color");return this.$el.addClass(v),this.rendered=!0,this},n}(hR.A);const Ib=gS;gS.prototype.itemView=Ks;var gR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mR=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},yR=function(o){gR(n,o);function n(t){var e=o.call(this,t,"TraitManager",Kj())||this;e.TraitsView=Ib,e.events=rv,e.state=new fe.Kx({traits:[]}),e.types={text:Ks,number:cR,select:pR,checkbox:$j,color:aR,button:Zj};var r=e,i=r.state,l=r.config,f=r.events,p=l.pStylePrefix;p&&(l.stylePrefix="".concat(p).concat(l.stylePrefix)),(0,H.bindAll)(e,"__onSelect");var d=(0,H.debounce)(function(){return e.__upSel()},0),v=(0,H.debounce)(function(){return e.__onUp()},0);return i.listenTo(t,"component:toggled",d),i.listenTo(t,f.value,v),i.on("change:traits",e.__onSelect),e.debounced=[d,v],e}return n.prototype.select=function(t){var e=(t==null?void 0:t.getTraits())||[];this.state.set({component:t,traits:e}),this.__trgCustom()},n.prototype.getCategories=function(){var t,e=this.getComponent(),r=((t=e==null?void 0:e.traits.categories)===null||t===void 0?void 0:t.models)||[];return mR([],r,!0)},n.prototype.getTraits=function(){return this.getCurrent()},n.prototype.getTraitsByCategory=function(t){return jx(t||this.getTraits())},n.prototype.getComponent=function(){return this.state.attributes.component},n.prototype.addType=function(t,e){var r=this.getType("text");this.types[t]=r.extend(e)},n.prototype.getType=function(t){return this.getTypes()[t]},n.prototype.getTypes=function(){return this.types},n.prototype.getTraitsViewer=function(){return this.view},n.prototype.getCurrent=function(){return this.state.get("traits")||[]},n.prototype.render=function(){var t=this.view,e=this.em;return t=new Ib({el:t==null?void 0:t.el,collection:[],editor:e,config:this.getConfig()},this.getTypes()),this.view=t,t.el},n.prototype.postRender=function(){this.__appendTo()},n.prototype.__onSelect=function(){var t=this,e=t.em,r=t.events,i=t.state,l=i.attributes,f=l.component,p=l.traits;e.trigger(r.select,{component:f,traits:p})},n.prototype.__trgCustom=function(t){t===void 0&&(t={});var e=this,r=e.em,i=e.events,l=e.__ctn;this.__ctn=l||t.container,r.trigger(i.custom,this.__customData())},n.prototype.__customData=function(){return{container:this.__ctn}},n.prototype.__upSel=function(){this.select(this.em.getSelected())},n.prototype.__onUp=function(){this.select(this.getComponent())},n}(Eo);const _R=yR;var bR=function(){return{stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}}};const wR=bR;var xR=wn(6756),SR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),CR=function(o){SR(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t._dropAreaConfig={ratio:.4,minUndroppableDimension:3,maxUndroppableDimension:20},t}return Object.defineProperty(n.prototype,"view",{get:function(){return this.model.viewLayer},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){var t;return(t=this.model.viewLayer)===null||t===void 0?void 0:t.el},enumerable:!1,configurable:!0}),n}(xR.h);const OR=CR;var TR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ER=function(o){TR(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.items=[],e.opt=t;var r=t.config||{};e.config=r,e.module=t.module,e.parentView=t.parentView;var i=r.stylePrefix||"";r.pStylePrefix;var l=e.collection;e.listenTo(l,"add",e.addTo),e.listenTo(l,"reset resetNavigator",e.render),e.listenTo(l,"remove",e.removeChildren),e.className="".concat(i,"layers");var f=r.em;if(r.sortable&&!e.opt.sorter){var p=f.Utils,d=r.sortContainer||e.el,v=e.createPlaceholder(i);e.opt.sorter=new p.ComponentSorter({em:f,treeClass:OR,containerContext:{container:d,containerSel:".".concat(e.className),itemSel:".".concat(i,"layer"),pfx:r.pStylePrefix,document,placeholderElement:v},dragBehavior:{dragDirection:Wu.A.Vertical,nested:!0}})}return e.$el.data("collection",l),t.parent&&e.$el.data("model",t.parent),e}return n.prototype.createPlaceholder=function(t){var e=document.createElement("div"),r=document.createElement("div");return this.el.parentNode,e.className=t+"placeholder",e.style.display="none",e.style.pointerEvents="none",r.className=t+"placeholder-int",e.appendChild(r),e},n.prototype.removeChildren=function(t){var e=t.viewLayer;e&&(e.remove(),delete t.viewLayer)},n.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},n.prototype.addToCollection=function(t,e,r){var i=this,l=i.parentView,f=i.opt,p=i.config,d=i.el,v=f.ItemView,_=f.opened,w=f.module,S=f.level,O=f.sorter,A=t.viewLayer||new v({ItemView:v,level:S,model:t,parentView:l,config:p,sorter:O,opened:_,module:w}),P=A.render().el;if(e)e.appendChild(P);else{var j=d,z=j.childNodes;if((0,H.isUndefined)(r))j.appendChild(P);else{var k=z.length==r;k&&r--,k||!z.length?j.appendChild(P):j.insertBefore(P,z[r])}}return this.items.push(A),P},n.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return fe.Ss.prototype.remove.apply(this,t),this.items.map(function(r){return r.remove()}),this},n.prototype.render=function(){var t=this,e=this,r=e.el,i=e.module,l=document.createDocumentFragment();return r.innerHTML="",this.collection.map(function(f){return i.__getLayerFromComponent(f)}).forEach(function(f){return t.addToCollection(f,l)}),r.appendChild(l),r.className=this.className,this},n}(fe.Ss);const AR=ER;var Um=wn(9946),PR=function(){return{stylePrefix:"com-",defaults:{},strict:!0,defaultOptions:{}}};const DR=PR;var MR=wn(1738),jR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kv=function(){return kv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},kv.apply(this,arguments)},zb=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},Fb=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],mS={preserveSelected:1},yS=function(o){return function(n){return o.trigger("".concat(t0,":start"),n)}},_S=function(o){return function(n){return o.trigger(t0,n)}},bS=function(o,n,t){return t===void 0&&(t={}),function(e,r,i){setTimeout(function(){n.forEach(function(l){return l.set("status",l.get("selectable")?"selected":"")}),o.setSelected(n),n[0].emitUpdate()}),o.trigger("".concat(t0,":end"),i),setTimeout(function(){return o.runDefault(mS)}),(t.altMode||i.cancelled)&&o.set("_cmpDrag",1)}},RR=function(o){jR(n,o);function n(t){var e=o.call(this,t,"Commands",DR())||this;e.CommandAbstract=Um.default,e.defaultCommands={},e.commands={},e.active={},e.events=MR.A;var r=e.config,i=r.pStylePrefix,l=e.defaultCommands;i&&(r.stylePrefix=i+r.stylePrefix),Object.keys(r.defaults).forEach(function(p){var d=r.defaults[p];d.id&&e.add(d.id,d)}),l["tlb-delete"]={run:function(p){return p.runCommand("core:component-delete")}},l["tlb-clone"]={run:function(p){p.runCommand("core:copy"),p.runCommand("core:paste",{action:"clone-component"})}},l["tlb-move"]={run:function(p,d,v){var _,w;v===void 0&&(v={});var S=p.getModel(),O=v.event,A=v.target,P=Array.isArray(A)?A:A?[A]:zb([],p.getSelectedAll(),!0),j=P.map(function(B){var Q,J;return((J=(Q=B.delegate)===null||Q===void 0?void 0:Q.move)===null||J===void 0?void 0:J.call(Q,B))||B}).filter(Boolean),z=j[j.length-1],k=(O==null?void 0:O.type)==="dragstart",G=["absolute","translate"];if(!(z!=null&&z.get("draggable")))return S.logWarning("The element is not draggable");var ot=z.get("dmode")||S.get("dmode"),xt=function(){return S.stopDefault(mS)},Nt=(0,H.includes)(G,ot);j.forEach(function(B){return B.trigger("disable",{fromMove:!0})}),k?setTimeout(xt,0):xt();var vt=yS(S),$=_S(S),mt=bS(S,j,{altMode:Nt});if(Nt)p.runCommand("core:component-drag",{guidesInfo:1,mode:ot,target:z,onStart:vt,onDrag:$,onEnd:mt,event:O});else{k&&((_=O==null?void 0:O.dataTransfer)===null||_===void 0||_.setDragImage((w=z.view)===null||w===void 0?void 0:w.el,0,0));var X=p.Commands.get("move-comp");X.onStart=vt,X.onDrag=$,X.onEndMoveFromModel=mt,X.initSorterFromModels(j)}j.filter(function(B){return B.get("selectable")}).forEach(function(B){return B.set("status","freezed-selected")})}},l["core:undo"]=function(p){return p.UndoManager.undo()},l["core:redo"]=function(p){return p.UndoManager.redo()},Fb.forEach(function(p){var d=p[2],v=wn(585)("./".concat(p[1])).default,_="core:".concat(p[0]);l[_]=v,d&&(l[d]=v,["run","stop"].forEach(function(w){t.on("".concat(w,":").concat(d),function(){for(var S=[],O=0;O<arguments.length;O++)S[O]=arguments[O];return t.trigger.apply(t,zb(["".concat(w,":").concat(_)],S,!1))})}))}),r.model=t.Canvas;for(var f in l)e.add(f,l[f]);return e}return n.prototype.add=function(t,e){var r=(0,H.isFunction)(e)?{run:e}:e;return r.stop||(r.noStop=!0),delete r.initialize,r.id=t,this.commands[t]=Um.default.extend(r),this},n.prototype.get=function(t){var e=this.commands[t];return(0,H.isFunction)(e)?(e=new e(this.config),this.commands[t]=e):e||this.em.logWarning("'".concat(t,"' command not found")),e},n.prototype.extend=function(t,e){e===void 0&&(e={});var r=this.get(t);if(r){var i=kv(kv({},r.constructor.prototype),e);this.add(t,i);var l=Fb.filter(function(f){return"core:".concat(f[0])===t&&f[2]})[0];l&&this.add(l[2],i)}return this},n.prototype.has=function(t){return!!this.commands[t]},n.prototype.getAll=function(){return this.commands},n.prototype.run=function(t,e){return e===void 0&&(e={}),this.runCommand(this.get(t),e)},n.prototype.stop=function(t,e){return e===void 0&&(e={}),this.stopCommand(this.get(t),e)},n.prototype.isActive=function(t){return this.getActive().hasOwnProperty(t)},n.prototype.getActive=function(){return this.active},n.prototype.runCommand=function(t,e){var r,i;e===void 0&&(e={});var l;if(t!=null&&t.run){var f=this,p=f.em,d=f.config,v=t.id,_=p.Editor;if(!this.isActive(v)||e.force||!d.strict){var w=(i=(r=d.defaultOptions)===null||r===void 0?void 0:r[v])===null||i===void 0?void 0:i.run;(0,H.isFunction)(w)&&(e=w(e)),l=_&&t.callRun(_,e)}}return l},n.prototype.stopCommand=function(t,e){var r,i;e===void 0&&(e={});var l;if(t!=null&&t.run){var f=this,p=f.em,d=f.config,v=t.id,_=p.Editor;if(this.isActive(v)||e.force||!d.strict){var w=(i=(r=d.defaultOptions)===null||r===void 0?void 0:r[v])===null||i===void 0?void 0:i.stop;(0,H.isFunction)(w)&&(e=w(e)),l=t.callStop(_,e)}}return l},n.prototype.create=function(t){t.stop||(t.noStop=!0);var e=Um.default.extend(t);return new e(this.config)},n.prototype.__onRun=function(t,e){var r=this,i=r.em,l=r.events;i.on("".concat(l.runCommand).concat(t),e)},n.prototype.__onStop=function(t,e){var r=this,i=r.em,l=r.events;i.on("".concat(l.stopCommand).concat(t),e)},n.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},n}(Eo);const LR=RR;var NR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sy=function(){return Sy=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Sy.apply(this,arguments)},Wb="contentEditable",Rh="data-toggle-move",kR=function(o){NR(n,o);function n(t){var e=o.call(this,t)||this;(0,H.bindAll)(e,"__render"),e.opt=t,e.module=t.module,e.config=t.config||{},e.sorter=t.sorter||"",e.parentView=t.parentView;var r=e,i=r.model,l=r.pfx,f=r.ppfx,p=i.get("type")||"default";return e.className="".concat(l,"layer ").concat(l,"layer__t-").concat(p," no-select ").concat(f,"two-color"),e.inputNameCls="".concat(f,"layer-name"),e.clsTitleC="".concat(l,"layer-title-c"),e.clsTitle="".concat(l,"layer-title"),e.clsCaret="".concat(l,"layer-caret"),e.clsCount="".concat(l,"layer-count"),e.clsMove="".concat(l,"layer-move"),e.clsChildren="".concat(l,"layer-children"),e.clsNoChild="".concat(l,"layer-no-chld"),e.clsEdit="".concat(e.inputNameCls,"--edit"),e.clsNoEdit="".concat(e.inputNameCls,"--no-edit"),e.initComponent(),e}return n.prototype.events=function(){var t;return t={},t["mousedown [".concat(Rh,"]")]="startSort",t["touchstart [".concat(Rh,"]")]="startSort",t["click [data-toggle-visible]"]="toggleVisibility",t["click [data-toggle-open]"]="toggleOpening",t["click [data-toggle-select]"]="handleSelect",t["mouseover [data-toggle-select]"]="handleHover",t["mouseout [data-toggle-select]"]="handleHoverOut",t["dblclick [data-name]"]="handleEdit",t["keydown [data-name]"]="handleEditKey",t["focusout [data-name]"]="handleEditEnd",t},n.prototype.template=function(t){var e=this,r=e.pfx,i=e.ppfx,l=e.config,f=e.clsNoEdit,p=e.module,d=e.opt,v=e.em,_=l.hidable,w=p.getComponents(t).length,S=w?"":this.clsNoChild,O="".concat(this.clsTitle," ").concat(S),A="".concat(this.clsTitleC),P="".concat(this.inputNameCls," ").concat(f," ").concat(i,"no-app"),j=d.level||0,z="".concat(j*10,"px"),k=t.getName(),G=t.getIcon(),ot="".concat(r,"layer"),xt=(v==null?void 0:v.getConfig()).icons,Nt=xt,vt=Nt.move,$=Nt.eye,mt=Nt.eyeOff,X=Nt.chevron;return`
      <div class="`.concat(r,"layer-item ").concat(i,`one-bg" data-toggle-select>
        <div class="`).concat(r,`layer-item-left">
          `).concat(_?'<i class="'.concat(r,`layer-vis" data-toggle-visible>
                <i class="`).concat(r,'layer-vis-on">').concat($,`</i>
                <i class="`).concat(r,'layer-vis-off">').concat(mt,`</i>
              </i>`):"",`
          <div class="`).concat(A,`">
            <div class="`).concat(O,'" style="padding-left: ').concat(z,`">
              <div class="`).concat(r,'layer-title-inn" title="').concat(k,`">
                <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(X,`</i>
                  `).concat(G?'<span class="'.concat(ot,'__icon">').concat(G,"</span>"):"",`
                <span class="`).concat(P,'" data-name>').concat(k,`</span>
              </div>
            </div>
          </div>
        </div>
        <div class="`).concat(r,`layer-item-right">
          <div class="`).concat(this.clsCount,'" data-count>').concat(w||"",`</div>
          <div class="`).concat(this.clsMove,'" ').concat(Rh,">").concat(vt||"",`</div>
        </div>
      </div>
      <div class="`).concat(this.clsChildren,`"></div>
    `)},Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),n.prototype.initComponent=function(){var t=this,e=this,r=e.model,i=e.config,l=i.onInit,f=r.components();this.listenTo(f,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["change:draggable",this.updateMove],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(p){return t.listenTo(r,p[0],p[1])}),this.$el.data("model",r),this.$el.data("collection",f),r.viewLayer=this,l.bind(this)({component:r,render:this.__render,listenTo:this.listenTo})},n.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},n.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},n.prototype.updateVisibility=function(){var t=this,e=t.pfx,r=t.model,i=t.module,l="".concat(e,"layer-hidden"),f=!i.isVisible(r),p=f?"addClass":"removeClass";this.$el[p](l),this.getVisibilityEl()[p]("".concat(e,"layer-off"))},n.prototype.updateMove=function(){var t=this,e=t.model,r=t.config,i=this.getItemContainer().find("[".concat(Rh,"]"))[0];if(i){var l=e.get("draggable")&&r.sortable;i.style.display=l?"":"none"}},n.prototype.toggleVisibility=function(t){t==null||t.stopImmediatePropagation();var e=this,r=e.module,i=e.model;r.setVisible(i,!r.isVisible(i))},n.prototype.handleEdit=function(t){t==null||t.stopPropagation();var e=this,r=e.em,i=e.$el,l=e.clsNoEdit,f=e.clsEdit,p=this.getInputName();p[Wb]="true",p.focus(),document.execCommand("selectAll",!1),r.setEditing(!0),i.find(".".concat(this.inputNameCls)).removeClass(l).addClass(f)},n.prototype.handleEditKey=function(t){t.stopPropagation(),((0,ye.v$)(t)||(0,ye.Ci)(t))&&this.handleEditEnd(t)},n.prototype.handleEditEnd=function(t){t==null||t.stopPropagation();var e=this,r=e.em,i=e.$el,l=e.clsNoEdit,f=e.clsEdit,p=e.model,d=this.getInputName(),v=d.textContent;d.scrollLeft=0,d[Wb]="false",p.setName(v),r.setEditing(!1),i.find(".".concat(this.inputNameCls)).addClass(l).removeClass(f),this.updateName()},n.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},n.prototype.updateOpening=function(){var t=this,e=t.$el,r=t.model,i=t.pfx,l="open",f="".concat(i,"layer-open"),p=this.getCaret();this.module.isOpen(r)?(e.addClass(l),p.addClass(f)):(e.removeClass(l),p.removeClass(f))},n.prototype.toggleOpening=function(t){var e=this,r=e.model,i=e.module;t==null||t.stopImmediatePropagation(),r.get("components").length&&i.setOpen(r,!i.isOpen(r))},n.prototype.handleSelect=function(t){t==null||t.stopPropagation();var e=this,r=e.module,i=e.model;r.setLayerData(i,{selected:!0},{event:t})},n.prototype.handleHover=function(t){t==null||t.stopPropagation();var e=this,r=e.module,i=e.model;r.setLayerData(i,{hovered:!0})},n.prototype.handleHoverOut=function(t){t==null||t.stopPropagation();var e=this,r=e.module,i=e.model;r.setLayerData(i,{hovered:!1})},n.prototype.startSort=function(t){var e,r,i;t.stopPropagation();var l=this,f=l.em,p=l.sorter,d=l.model;if(!(t.button&&t.button!==0)&&p){var v=((r=(e=d.delegate)===null||e===void 0?void 0:e.move)===null||r===void 0?void 0:r.call(e,d))||d;p.eventHandlers=Sy({legacyOnStartSort:yS(f),legacyOnMoveClb:_S(f),legacyOnEndMove:bS(f,[v])},p.eventHandlers);var _=((i=v.viewLayer)===null||i===void 0?void 0:i.el)||t.target;p.startSort([{element:_}])}},n.prototype.updateStatus=function(){Zn.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},n.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},n.prototype.checkChildren=function(){var t=this,e=t.model,r=t.clsNoChild,i=t.module,l=i.getComponents(e).length,f=this.getItemContainer(),p=f.find(".".concat(this.clsTitle)),d=f.find("[data-count]");p[l?"removeClass":"addClass"](r),d.html("".concat(l||"")),!l&&i.setOpen(e,!1)},n.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},n.prototype.setRoot=function(t){var e,r=(0,H.isString)(t)?(e=this.em.getWrapper())===null||e===void 0?void 0:e.find(t)[0]:t;r&&(this.stopListening(),this.model=r,this.initComponent(),this._rendered&&this.render())},n.prototype.updateLayerable=function(){var t=this.parentView,e=t||this;e.render()},n.prototype.__clearItems=function(){var t;(t=this.items)===null||t===void 0||t.remove()},n.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return fe.Ss.prototype.remove.apply(this,t),delete this.model.viewLayer,this.__clearItems(),this},n.prototype.render=function(){var t=this,e=t.model,r=t.config,i=t.pfx,l=t.ppfx,f=t.opt,p=t.sorter;this.__clearItems();var d=f.opened,v=f.module,_=f.ItemView,w=!v.__isLayerable(e),S=this.$el.empty(),O=f.level+1;delete this.inputName,this.items=new AR({ItemView:_,collection:e.get("components"),config:r,sorter:p,opened:d,parentView:this,parent:e,level:O,module:v});var A=this.items.render().$el;return!r.showWrapper&&O===1?S.append(A):(S.html(this.template(e)),S.find(".".concat(this.clsChildren)).append(A)),!v.isVisible(e)&&(this.className+=" ".concat(i,"hide")),w&&(this.className+=" ".concat(l,"hidden")),S.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.updateMove(),this.__render(),this._rendered=!0,this},n.prototype.__render=function(){var t=this,e=t.model,r=t.config,i=t.el,l=r.onRender,f={component:e,el:i};l.bind(this)(f),this.em.trigger("layer:render",f)},n}(fe.Ss);const VR=kR;var UR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cy=function(){return Cy=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Cy.apply(this,arguments)},wS="layer",a0="".concat(wS,":"),xS="".concat(a0,"root"),SS="".concat(a0,"component"),HR="".concat(a0,"custom"),BR={all:wS,root:xS,component:SS,custom:HR},Hm={mediaText:""},IR=["open","status","locked","custom-name","components","classes"].map(function(o){return"".concat(Jn.I.update,":").concat(o)}).join(" "),zR=function(o){return o===void 0&&(o={}),(o.display||"").trim().indexOf("none")===0},FR=function(o){UR(n,o);function n(t){var e=o.call(this,t,"LayerManager",wR())||this;return e.events=BR,(0,H.bindAll)(e,"componentChanged","__onRootChange","__onComponent"),e.model=new Bl.A(e,{opened:{}}),e.config.stylePrefix=e.config.pStylePrefix,e}return n.prototype.onLoad=function(){var t=this,e=this,r=e.em,i=e.config,l=e.model;l.listenTo(r,"component:selected",this.componentChanged),l.on("change:root",this.__onRootChange),l.listenTo(r,IR,this.__onComponent),this.componentChanged(),l.listenToOnce(r,"load",function(){t.setRoot(i.root),t.__appendTo()})},n.prototype.setRoot=function(t){var e=this.em.getWrapper(),r=(0,Jt.isComponent)(t)?t:e;t&&(0,H.isString)(t)&&(0,Jt.hasWin)()&&(r=e.find(t)[0]||e);var i=this.__getLayerFromComponent(r);return this.model.set("root",i),i},n.prototype.getRoot=function(){return this.model.get("root")},n.prototype.getComponents=function(t){var e=this;return t.components().map(function(r){return e.__getLayerFromComponent(r)}).filter(function(r){return e.__isLayerable(r)})},n.prototype.setOpen=function(t,e){t.set("open",e)},n.prototype.isOpen=function(t){return!!t.get("open")},n.prototype.setVisible=function(t,e){var r="__prev-display",i=t.getStyle(Hm),l=i.display;if(e){var f=t.get(r);delete i.display,f&&(i.display=f,t.unset(r))}else l&&t.set(r,l),i.display="none";t.setStyle(i,Hm),this.updateLayer(t),this.em.trigger("component:toggled")},n.prototype.isVisible=function(t){return!zR(t.getStyle(Hm))},n.prototype.setLocked=function(t,e){t.set("locked",e)},n.prototype.isLocked=function(t){return!!t.get("locked")},n.prototype.setName=function(t,e){t.set("custom-name",e)},n.prototype.getName=function(t){return t.getName()},n.prototype.getLayerData=function(t){var e=t.get("status");return{name:t.getName(),open:this.isOpen(t),selected:e==="selected",hovered:e==="hovered",visible:this.isVisible(t),locked:this.isLocked(t),components:this.getComponents(t)}},n.prototype.setLayerData=function(t,e,r){var i;r===void 0&&(r={});var l=this,f=l.em,p=l.config,d=e.open,v=e.selected,_=e.hovered,w=e.visible,S=e.locked,O=e.name,A=Cy({fromLayers:!0},r);if((0,Jt.isDef)(d)&&this.setOpen(t,d),(0,Jt.isDef)(v))if(v){f.setSelected(t,A);var P=p.scrollCanvas;P&&((i=t.views)===null||i===void 0||i.forEach(function(j){return j.scrollIntoView(P)}))}else f.removeSelected(t,A);(0,Jt.isDef)(_)&&p.showHover&&(_?f.setHovered(t,A):f.setHovered(null,A)),(0,Jt.isDef)(w)&&w!==this.isVisible(t)&&this.setVisible(t,w),(0,Jt.isDef)(S)&&this.setLocked(t,S),(0,Jt.isDef)(O)&&this.setName(t,O)},n.prototype.componentChanged=function(t,e){var r;if(e===void 0&&(e={}),!e.fromLayers){var i=this,l=i.em,f=i.config,p=f.scrollLayers,d=this.model.get("opened"),v=l.getSelected(),_=v==null?void 0:v.parent();for(var w in d)d[w].set("open",!1),delete d[w];for(;_;)_.set("open",!0),d[_.cid]=_,_=_.parent();if(v&&p){var S=(r=v.viewLayer)===null||r===void 0?void 0:r.el;S==null||S.scrollIntoView(p)}}},n.prototype.getAll=function(){return this.view},n.prototype.render=function(){var t,e,r=this,i=r.config,l=r.model,f=VR.extend(i.extend);return this.view=new f({el:(t=this.view)===null||t===void 0?void 0:t.el,ItemView:f,level:0,config:i,opened:l.get("opened"),model:this.getRoot(),module:this}),(e=this.view)===null||e===void 0?void 0:e.render().el},n.prototype.destroy=function(){var t;(t=this.view)===null||t===void 0||t.remove()},n.prototype.__onRootChange=function(){var t,e=this.getRoot();(t=this.view)===null||t===void 0||t.setRoot(e),this.em.trigger(xS,e),this.__trgCustom()},n.prototype.__getLayerFromComponent=function(t){var e,r;return((r=(e=t.delegate)===null||e===void 0?void 0:e.layer)===null||r===void 0?void 0:r.call(e,t))||t},n.prototype.__onComponent=function(t){this.updateLayer(t)},n.prototype.__isLayerable=function(t){var e=t.tagName,r=this.config.hideTextnode,i=!r||!t.isInstanceOf("textnode")&&e!=="br";return i&&t.get("layerable")},n.prototype.__trgCustom=function(t){var e=this,r=e.__ctn,i=e.em,l=e.events;this.__ctn=r||(t==null?void 0:t.container),i.trigger(l.custom,{container:this.__ctn,root:this.getRoot()})},n.prototype.updateLayer=function(t,e){this.em.trigger(SS,t,e)},n}(Eo);const WR=FR;var qR=function(){return{assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""}};const GR=qR;var KR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),CS=function(o){KR(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.getDefaults=function(){return(0,H.result)(this.prototype,"defaults")},n.prototype.defaults=function(){return{type:"",src:""}},n.prototype.getType=function(){return this.get("type")},n.prototype.getSrc=function(){return this.get("src")},n.prototype.getFilename=function(){return this.get("src").split("/").pop().split("?").shift()},n.prototype.getExtension=function(){return this.getFilename().split(".").pop()},n}(fe.Kx);const Oy=CS;CS.prototype.idAttribute="src";var YR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Vv=function(){return Vv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Vv.apply(this,arguments)},XR=function(o){YR(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return Vv(Vv({},Oy.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},n}(Oy);const ZR=XR;var JR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),QR=function(o){JR(n,o);function n(t){var e=o.call(this,t)||this;e.options=t,e.collection=t.collection;var r=t.config||{};e.config=r,e.pfx=r.stylePrefix||"",e.ppfx=r.pStylePrefix||"",e.em=r.em,e.className=e.pfx+"asset",e.listenTo(e.model,"destroy remove",e.remove),e.model.view=e;var i=e.init&&e.init.bind(e);return i&&i(t),e}return n.prototype.__getBhv=function(){var t=this.em,e=t==null?void 0:t.Assets;return(e==null?void 0:e.__getBehaviour())||{}},n.prototype.template=function(t,e){var r=this.pfx;return`
      <div class="`.concat(r,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(r,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(r,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},n.prototype.updateTarget=function(t){t&&t.set&&(t.set("attributes",(0,H.clone)(t.get("attributes"))),t.set("src",this.model.get("src")))},n.prototype.getPreview=function(){return""},n.prototype.getInfo=function(){return""},n.prototype.render=function(){var t=this.el;return t.innerHTML=this.template(this,this.model),t.className=this.className,this},n}(fe.Ss);const $R=QR;var tL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qb=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},OS=function(o){tL(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.getPreview=function(){var t=this,e=t.pfx,r=t.ppfx,i=t.model,l=i.get("src");return wo(Gb||(Gb=qb([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),e,l,e,r)},n.prototype.getInfo=function(){var t=this,e=t.pfx,r=t.model,i=r.get("name"),l=r.get("width"),f=r.get("height"),p=r.get("unitDim"),d=l&&f?"".concat(l,"x").concat(f).concat(p):"";return i=i||r.getFilename(),wo(Kb||(Kb=qb([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),e,i,e,d)},n.prototype.init=function(t){var e=this.pfx;this.className+=" ".concat(e,"asset-image")},n.prototype.onClick=function(){var t=this,e=t.model,r=t.pfx,i=this.__getBhv().select,l=this.config.onClick,f=this.collection;f.trigger("deselectAll"),this.$el.addClass(r+"highlight"),(0,H.isFunction)(i)?i(e,!1):(0,H.isFunction)(l)?l(e):this.updateTarget(f.target)},n.prototype.onDblClick=function(){var t=this,e=t.em,r=t.model,i=this.__getBhv().select,l=this.config.onDblClick,f=this.collection,p=f.target,d=f.onSelect;(0,H.isFunction)(i)?i(r,!0):(0,H.isFunction)(l)?l(r):(this.updateTarget(p),e==null||e.Modal.close()),(0,H.isFunction)(d)&&d(r)},n.prototype.onRemove=function(t){t.stopImmediatePropagation(),this.model.collection.remove(this.model)},n}($R);const eL=OS;OS.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var Gb,Kb,Uv=function(){return Uv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Uv.apply(this,arguments)},nL={types:[],initialize:function(o,n){var t=this;n===void 0&&(n={});var e=n.em;this.em=e,this.opts=n,this.model=function(i,l){i===void 0&&(i={}),l===void 0&&(l={});var f,p,d;if(i&&i.type){var v=t.getBaseType();d=t.getType(i.type),f=d?d.model:v.model,p=d?d.view:v.view}else{var _=t.recognizeType(i);d=_.type,f=d.model,p=d.view,i=_.attributes}var w=new f(i,Uv(Uv({},l),{em:e}));return w.typeView=p,t.model.prototype=f.prototype,w};var r=this.init&&this.init.bind(this);r&&r()},recognizeType:function(o){for(var n=this.getTypes(),t=0;t<n.length;t++){var e=n[t],r=e.isType(o);if(r=typeof r=="boolean"&&r?{type:e.id}:r,r)return{type:e,attributes:r}}return{type:this.getBaseType(),attributes:o}},getBaseType:function(){var o=this.getTypes();return o[o.length-1]},getTypes:function(){return this.types},getType:function(o){for(var n=this.getTypes(),t=0;t<n.length;t++){var e=n[t];if(e.id===o)return e}},addType:function(o,n){var t=this.getType(o),e=this.getBaseType(),r=t?t.model:e.model,i=t?t.view:e.view,l=n.model,f=n.view,p=n.isType;l=l instanceof fe.Kx||(0,H.isFunction)(l)?l:r.extend(l||{}),f=f instanceof fe.Ss||(0,H.isFunction)(f)?f:i.extend(f||{}),this.extendViewApi&&!n.model&&!n.view&&(f=f.extend(n)),t?(t.model=l,t.view=f,t.isType=p||t.isType):(n.id=o,n.model=l,n.view=f,n.isType=p||function(d){if(d&&d.type==o)return!0},this.getTypes().unshift(n))}};const TS=nL;var rL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),iL=fe.pM.extend(TS),ES=function(o){rL(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}(iL);const Bm=ES;ES.prototype.types=[{id:"image",model:ZR,view:eL,isType:function(o){return typeof o=="string"?{type:"image",src:o}:o}}];var Ty;(function(o){o.add="asset:add",o.remove="asset:remove",o.removeBefore="asset:remove:before",o.update="asset:update",o.open="asset:open",o.close="asset:close",o.uploadStart="asset:upload:start",o.uploadEnd="asset:upload:end",o.uploadError="asset:upload:error",o.uploadResponse="asset:upload:response",o.custom="asset:custom",o.all="asset"})(Ty||(Ty={}));const Yb=Ty;var oL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),AS=function(o){oL(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.options=t,e.config=t.config,e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.em=e.config.em;var r=e.collection;return e.listenTo(r,"reset",e.renderAssets),e.listenTo(r,"add",e.addToAsset),e.listenTo(r,"remove",e.removedAsset),e.listenTo(r,"deselectAll",e.deselectAll),e}return n.prototype.template=function(t){var e=t.pfx,r=t.ppfx,i=t.em,l="";return this.config.showUrlInput&&(l=`
          <form class="`.concat(e,`add-asset">
            <div class="`).concat(r,"field ").concat(e,`add-field">
              <input placeholder="`).concat(i==null?void 0:i.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(r,'btn-prim">').concat(i==null?void 0:i.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(e,`assets-cont">
      <div class="`).concat(e,`assets-header">
        `).concat(l,`
      </div>
      <div class="`).concat(e,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},n.prototype.handleSubmit=function(t){t.preventDefault();var e=this.getAddInput(),r=e&&e.value.trim(),i=this.config.handleAdd;if(r){e.value="";var l=this.getAssetsEl();l&&(l.scrollTop=0),i?i.bind(this)(r):this.options.globalCollection.add(r,{at:0})}},n.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},n.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},n.prototype.removedAsset=function(t){this.collection.length||this.toggleNoAssets()},n.prototype.addToAsset=function(t){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(t)},n.prototype.addAsset=function(t,e){e===void 0&&(e=null);var r=e,i=this.collection,l=this.config,f=new t.typeView({model:t,collection:i,config:l}).render().el;if(r)r.appendChild(f);else{var p=this.getAssetsEl();p&&p.insertBefore(f,p.firstChild)}return f},n.prototype.toggleNoAssets=function(t){t===void 0&&(t=!1);var e=this.$el.find(".".concat(this.pfx,"assets"));if(t)e.empty();else{var r=this.config.noAssets;r&&e.append(r)}},n.prototype.deselectAll=function(){var t=this.pfx;this.$el.find(".".concat(t,"highlight")).removeClass("".concat(t,"highlight"))},n.prototype.renderAssets=function(){var t=this,e=document.createDocumentFragment(),r=this.$el.find(".".concat(this.pfx,"assets"));r.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(i){return t.addAsset(i,e)}),r.append(e)},n.prototype.render=function(){var t=this.options.fu.render().el;return this.$el.empty(),this.$el.append(t).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},n}(fe.Ss);const aL=AS;AS.prototype.events={submit:"handleSubmit"};var sL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lL=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},uL=function(o){sL(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.options=t;var r=t.config||{};e.module=t.module,e.config=r,e.em=e.config.em,e.pfx=r.stylePrefix||"",e.ppfx=r.pStylePrefix||"",e.target=e.options.globalCollection||{},e.uploadId=e.pfx+"uploadFile",e.disabled=r.disableUpload!==void 0?r.disableUpload:!r.upload&&!r.embedAsBase64,e.multiUpload=r.multiUpload!==void 0?r.multiUpload:!0;var i=r.uploadFile;return i?e.uploadFile=i.bind(e):!r.upload&&r.embedAsBase64&&(e.uploadFile=n.embedAsBase64),e.delegateEvents(),e}return n.prototype.template=function(t){var e=t.pfx,r=t.title,i=t.uploadId,l=t.disabled,f=t.multiUpload;return wo(Xb||(Xb=lL([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),e,r,i,l?"disabled":"",f?"multiple":"")},n.prototype.events=function(){return{"change [data-input]":"uploadFile"}},n.prototype.onUploadStart=function(){var t=this.module;t==null||t.__propEv(t.events.uploadStart)},n.prototype.onUploadEnd=function(t){var e=this,r=e.$el,i=e.module;i==null||i.__propEv(i.events.uploadEnd,t);var l=r.find("input");l&&l.val("")},n.prototype.onUploadError=function(t){var e=this.module;console.error(t),this.onUploadEnd(t),e==null||e.__propEv(e.events.uploadError,t)},n.prototype.onUploadResponse=function(t,e){var r=this,i=r.module,l=r.config,f=r.target,p;try{p=typeof t=="string"?JSON.parse(t):t}catch{p=t}i==null||i.__propEv(i.events.uploadResponse,p),l.autoAdd&&f&&f.add(p.data,{at:0}),this.onUploadEnd(t),e==null||e(p)},n.prototype.uploadFile=function(t,e){var r=this,i=t.dataTransfer?t.dataTransfer.files:t.target.files,l=this.config,f=l.beforeUpload,p=f&&f(i);if(p!==!1){var d=new FormData,v=l.params,_=l.customFetch,w=l.fetchOptions;for(var S in v)d.append(S,v[S]);if(this.multiUpload)for(var O=0;O<i.length;O++)d.append("".concat(l.uploadName).concat(l.multiUploadSuffix),i[O]);else i.length&&d.append(l.uploadName,i[0]);var A=l.upload,P=l.headers,j="X-Requested-With";if(typeof P[j]>"u"&&(P[j]="XMLHttpRequest"),A){this.onUploadStart();var z={method:"post",credentials:l.credentials||"include",headers:P,body:d},k=(w==null?void 0:w(z))||z,G=_?_(A,k):uS(A,k).then(function(ot){return(ot.status/200|0)==1?ot.text():ot.text().then(function(xt){return Promise.reject(xt)})});return G.then(function(ot){return r.onUploadResponse(ot,e)}).catch(function(ot){return r.onUploadError(ot)})}}},n.prototype.initDrop=function(){var t=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var e=this.uploadForm;"draggable"in e&&(this.uploadForm.ondragover=function(){return e.className=t.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return e.className="",!1},this.uploadForm.ondrop=function(r){e.className="",r.preventDefault(),t.uploadFile(r)})}},n.prototype.initDropzone=function(t){var e=this,r=0,i=this.config,l=t.model,f=t.el,p=l.Editor,d=l.Canvas.getBody(),v=this.ppfx,_="".concat(v,"dropzone-active"),w="".concat(v,"dropzone"),S=function(){f.className=f.className.replace(_,"").trim(),r=0},O=function(){return r||(f.className+=" ".concat(_),r=1),!1},A=function(){return S(),!1},P=function(j){if(S(),j.preventDefault(),j.stopPropagation(),e.uploadFile(j),i.openAssetsOnDrop&&p){var z=p.getSelected();p.runCommand("open-assets",{target:z,onSelect:function(){p.Modal.close(),p.AssetManager.setTarget(null)}})}return!1};t.$el.append('<div class="'.concat(w,'">').concat(i.dropzoneContent,"</div>")),S(),"draggable"in f&&[f,d].forEach(function(j){j.ondragover=O,j.ondragleave=A,j.ondrop=P})},n.prototype.render=function(){var t=this,e=t.$el,r=t.pfx,i=t.em;return e.html(this.template({title:i&&i.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:r})),this.initDrop(),e.attr("class",r+"file-uploader"),this},n.embedAsBase64=function(t,e){var r=this,i=t.dataTransfer?t.dataTransfer.files:t.target.files,l={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var f=[],p=/^(.+)\/(.+)$/,d=function(S){var O=new Promise(function(A,P){var j=new FileReader;j.addEventListener("load",function(z){var k,G=S.name,ot=p.exec(S.type);if(ot?k=ot[1]:k=S.type,k==="image"){var xt={src:j.result,name:G,type:k,height:0,width:0},Nt=new Image;Nt.addEventListener("error",function(vt){P(vt)}),Nt.addEventListener("load",function(){xt.height=Nt.height,xt.width=Nt.width,A(xt)}),Nt.src=xt.src}else A(k?{src:j.result,name:G,type:k}:j.result)}),j.addEventListener("error",function(z){P(z)}),j.addEventListener("abort",function(z){P("Aborted")}),j.readAsDataURL(S)});f.push(O)},v=0,_=i;v<_.length;v++){var w=_[v];d(w)}return Promise.all(f).then(function(S){l.data=S,r.onUploadResponse(l,e)},function(S){r.onUploadError(S)})},n}(fe.Ss);const cL=uL;var Xb,fL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hf=function(){return hf=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},hf.apply(this,arguments)},Zb=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},Wd="open-assets",dL=function(o){fL(n,o);function n(t){var e=o.call(this,t,"AssetManager",new Bm([],t),Yb,GR())||this;e.storageKey="assets",e.Asset=Oy,e.Assets=Bm,e.events=Yb;var r=e,i=r.all,l=r.config;e.assetsVis=new Bm([]);var f=l.pStylePrefix;return f&&(l.stylePrefix="".concat(f).concat(l.stylePrefix)),i.on("add",function(p){return e.getAllVisible().add(p)}),i.on("remove",function(p){return e.getAllVisible().remove(p)}),e.__onAllEvent=(0,H.debounce)(function(){return e.__trgCustom()},0),e}return n.prototype.open=function(t){t===void 0&&(t={});var e=this.em.Commands;e.run(Wd,hf({types:["image"],select:function(){}},t))},n.prototype.close=function(){var t=this.em.Commands;t.stop(Wd)},n.prototype.isOpen=function(){var t=this.em.Commands;return!!(t!=null&&t.isActive(Wd))},n.prototype.add=function(t,e){return e===void 0&&(e={}),typeof e.at>"u"&&(e.at=0),this.all.add(t,e)},n.prototype.get=function(t){return this.all.where({src:t})[0]||null},n.prototype.getAll=function(){return this.all},n.prototype.getAllVisible=function(){return this.assetsVis},n.prototype.remove=function(t,e){return this.__remove(t,e)},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(t){return this.loadProjectData(t)},n.prototype.getContainer=function(){var t,e=this.__getBehaviour();return e.container||((t=this.am)===null||t===void 0?void 0:t.el)},n.prototype.getAssetsEl=function(){var t;return(t=this.am)===null||t===void 0?void 0:t.el.querySelector("[data-el=assets]")},n.prototype.render=function(t){if(!this.getConfig().custom){var e=t||this.getAll().models;if(!this.am){var r=this.__viewParams();r.fu=this.FileUploader(),this.am=new aL(hf({},r)),this.am.render()}return this.assetsVis.reset(e),this.getContainer()}},n.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},n.prototype.addType=function(t,e){this.getAll().addType(t,e)},n.prototype.getType=function(t){return this.getAll().getType(t)},n.prototype.getTypes=function(){return this.getAll().getTypes()},n.prototype.AssetsView=function(){return this.am},n.prototype.FileUploader=function(){return this.fu||(this.fu=new cL(this.__viewParams())),this.fu},n.prototype.onLoad=function(){var t=this;this.getAll().reset(this.config.assets);var e=this,r=e.em,i=e.events;r.Commands.__onRun(Wd,function(){return t.__propEv(i.open)}),r.Commands.__onStop(Wd,function(){return t.__propEv(i.close)})},n.prototype.postRender=function(t){var e;this.config.dropzone&&((e=this.fu)===null||e===void 0||e.initDropzone(t))},n.prototype.setTarget=function(t){this.assetsVis.target=t},n.prototype.onSelect=function(t){this.assetsVis.onSelect=t},n.prototype.onClick=function(t){this.config.onClick=t},n.prototype.onDblClick=function(t){this.config.onDblClick=t},n.prototype.__propEv=function(t){for(var e,r,i=[],l=1;l<arguments.length;l++)i[l-1]=arguments[l];(e=this.em).trigger.apply(e,Zb([t],i,!1)),(r=this.getAll()).trigger.apply(r,Zb([t],i,!1))},n.prototype.__trgCustom=function(){var t=this.__getBehaviour(),e=this.getConfig().custom;!t.container&&!e.open||this.em.trigger(this.events.custom,this.__customData())},n.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:e.types||[],container:e.container,close:function(){return t.close()},remove:function(r,i){return t.remove(r,i)},select:function(r,i){var l=t.add(r);(0,H.isFunction)(e.select)&&e.select(l,i)},options:e.options||{}}},n.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=hf(hf({},this._bhv||{}),t)},n.prototype.__getBehaviour=function(t){return this._bhv||{}},n.prototype.destroy=function(){var t,e;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(t=this.fu)===null||t===void 0||t.remove(),(e=this.am)===null||e===void 0||e.remove(),this._bhv={}},n}(Xs);const pL=dL;var hL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vL=function(o){hL(n,o);function n(t,e){e===void 0&&(e={});var r=o.call(this,t,e)||this,i=e.em,l={};r.em=i,t.frames||(l.component=t.component,l.styles=t.styles,["component","styles"].map(function(d){return r.unset(d)}));var f=t.frames||[l],p=new _x(i.Canvas,f);return p.page=r,r.set("frames",p),!r.getId()&&r.set("id",i==null?void 0:i.Pages._createId()),i==null||i.UndoManager.add(p),r}return n.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},n.prototype.onRemove=function(){this.getFrames().reset()},n.prototype.getFrames=function(){return this.get("frames")},n.prototype.getId=function(){return this.id},n.prototype.getName=function(){return this.get("name")},n.prototype.setName=function(t){return this.set({name:t})},n.prototype.getAllFrames=function(){return this.getFrames().models||[]},n.prototype.getMainFrame=function(){return this.getFrames().at(0)},n.prototype.getMainComponent=function(){var t=this.getMainFrame();return t==null?void 0:t.getComponent()},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=fe.Kx.prototype.toJSON.call(this,t),r=(0,H.result)(this,"defaults");return(0,H.forEach)(e,function(i,l){l.indexOf("_")===0&&delete e[l]}),(0,H.forEach)(r,function(i,l){e[l]===i&&delete e[l]}),e},n}(fe.Kx);const Ey=vL;var gL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hv=function(){return Hv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Hv.apply(this,arguments)},mL=function(o){gL(n,o);function n(t,e){var r=o.call(this,t)||this;return r.on("reset",r.onReset),r.on("remove",r.onRemove),r.model=function(i,l){return l===void 0&&(l={}),new Ey(i,Hv(Hv({},l),{em:e}))},r}return n.prototype.onReset=function(t,e){var r=this,i;(i=e==null?void 0:e.previousModels)===null||i===void 0||i.map(function(l){return r.onRemove(l,r,e)})},n.prototype.onRemove=function(t,e,r){r===void 0&&(r={}),!(r.fromUndo||r.temporary)&&(t==null||t.onRemove())},n}(fe.pM);const yL=mL;var _L=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vf=function(){return vf=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},vf.apply(this,arguments)},bL=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},wL=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},Jb="change:selected",Qb="main",xL=function(o){_L(n,o);function n(t){var e=o.call(this,t,"PageManager",new yL([],t),uy)||this;e.events=uy,e.storageKey="pages",(0,H.bindAll)(e,"_onPageChange");var r=new Bl.A(e,{_undo:!0});return e.model=r,e.pages.on("reset",function(i){return i.at(0)&&e.select(i.at(0))}),e.pages.on("all",e.__onChange,e),r.on(Jb,e._onPageChange),e}return Object.defineProperty(n.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),n.prototype.getAll=function(){return wL([],this.all.models,!0)},n.prototype.__onChange=function(t,e,r,i){var l=this,f=l.em,p=l.events,d=i||r;f.trigger(p.all,{event:t,page:e,options:d})},n.prototype.onLoad=function(){var t,e=this,r=e.pages,i=e.config,l=e.em,f={silent:!0},p=((t=i.pages)===null||t===void 0?void 0:t.map(function(v){return new Ey(v,{em:l,config:i})}))||[];r.add(p,f);var d=r.length?this._initPage():this.add({type:Qb},f);d&&this.select(d,f)},n.prototype._onPageChange=function(t,e,r){var i=this,l=i.em,f=i.events,p=l.Layers,d=e.getMainComponent();p&&d&&p.setRoot(d),l.trigger(f.select,e,t.previous("selected")),this.__onChange(Jb,e,r)},n.prototype.postLoad=function(){var t=this,e=t.em,r=t.model,i=t.pages,l=e.UndoManager;l.add(r),l.add(i),i.on("add remove reset change",function(f,p,d){return e.changesUp(d||p)})},n.prototype.add=function(t,e){var r=this;e===void 0&&(e={});var i=this,l=i.em,f=i.events;t.id=t.id||this._createId();var p=function(){var d=r.pages.add(new Ey(t,{em:r.em,config:r.config}),e);return e.select&&r.select(d),d};return!e.silent&&l.trigger(f.addBefore,t,p,e),e.abort?void 0:p()},n.prototype.remove=function(t,e){var r=this;e===void 0&&(e={});var i=this,l=i.em,f=i.events,p=(0,H.isString)(t)?this.get(t):t,d=function(){return p&&r.pages.remove(p,e),p};return!e.silent&&l.trigger(f.removeBefore,p,d,e),!e.abort&&d()},n.prototype.move=function(t,e){e===void 0&&(e={});var r=this.pages,i=(0,H.isString)(t)?this.get(t):t,l=e.at,f=l===void 0?0:l,p=bL(e,["at"]);if(i){var d=r.indexOf(i),v=d===f;if(!(f<0||f>=r.length||v))return this.remove(i,vf(vf({},p),{temporary:!0})),r.add(i,vf(vf({},p),{at:f})),i}},n.prototype.get=function(t){return this.pages.filter(function(e){return e.get(e.idAttribute)===t})[0]},n.prototype.getMain=function(){var t=this.pages;return t.filter(function(e){return e.get("type")===Qb})[0]||t.at(0)},n.prototype.getAllWrappers=function(){var t=this.getAll();return(0,H.unique)((0,H.flatten)(t.map(function(e){return e.getAllFrames().map(function(r){return r.getComponent()})})))},n.prototype.select=function(t,e){e===void 0&&(e={});var r=this,i=r.em,l=r.model,f=r.events,p=(0,H.isString)(t)?this.get(t):t;return p&&(i.trigger(f.selectBefore,p,e),l.set("selected",p,e)),this},n.prototype.getSelected=function(){return this.model.get("selected")},n.prototype.destroy=function(){var t=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(e){return t[e]=0})},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(t){var e=this.loadProjectData(t,{all:this.pages,reset:!0});return this.pages.forEach(function(r){return r.getFrames().initRefs()}),e},n.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},n.prototype._createId=function(){var t=this.getAll(),e=t.length+16,r=this.getAllMap(),i;do i=(0,Jt.createId)(e);while(r[i]);return i},n}(Xs);const SL=xL;var Im={placeholder:"eg. Text here"};const CL={assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:Im,alt:Im,title:Im,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}};var OL=function(){return{locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:CL},messagesAdd:void 0}};const TL=OL;var Ay;(function(o){o.add="i18n:add",o.update="i18n:update",o.locale="i18n:locale"})(Ay||(Ay={}));const EL=Ay;var AL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),PL=function(o){AL(n,o);function n(t){var e=o.call(this,t,"I18n",TL())||this;e.events=EL;var r=e.config.messagesAdd;return r&&e.addMessages(r),e.config.detectLocale&&(e.config.locale=e._localLang()),e}return n.prototype.setLocale=function(t){var e=this,r=e.em,i=e.config,l=e.events;return r.trigger(l.locale,{value:t,valuePrev:i.locale}),i.locale=t,this},n.prototype.getLocale=function(){return this.config.locale},n.prototype.getMessages=function(t,e){e===void 0&&(e={});var r=this.config.messages;return t&&!r[t]&&this._debug("'".concat(t,"' i18n lang not found"),e),t?r[t]:r},n.prototype.setMessages=function(t){var e=this,r=e.em,i=e.config,l=e.events;return i.messages=t,r.trigger(l.update,t),this},n.prototype.addMessages=function(t){var e=this,r=e.em,i=e.events,l=e.config,f=l.messages;return r.trigger(i.add,t),this.setMessages((0,Jt.deepMerge)(f,t)),this},n.prototype.t=function(t,e){e===void 0&&(e={});var r=this.config,i=e.params||{},l=e.l||this.getLocale(),f=e.lFlb||r.localeFallback,p=this._getMsg(t,l,e);return p||(p=this._getMsg(t,f,e)),!p&&this._debug("'".concat(t,"' i18n key not found in '").concat(l,"' lang"),e),p=p&&(0,H.isString)(p)?this._addParams(p,i):p,p},n.prototype._localLang=function(){var t=(0,Jt.hasWin)()&&window.navigator||{},e=t.language||t.userLanguage;return e?e.split("-")[0]:"en"},n.prototype._addParams=function(t,e){var r=new RegExp("{([\\w\\d-]*)}","g");return t.replace(r,function(i,l){return e[l]||""}).trim()},n.prototype._getMsg=function(t,e,r){r===void 0&&(r={});var i=this.getMessages(e,r);if(i){var l=i[t];return!l&&t.indexOf(".")>0&&(l=t.split(".").reduce(function(f,p){if(!(0,H.isUndefined)(f))return f[p]},i)),l}},n.prototype._debug=function(t,e){e===void 0&&(e={});var r=this,i=r.em,l=r.config;(e.debug||l.debug)&&i&&i.logWarning(t)},n.prototype.destroy=function(){},n}(Eo);const DL=PL;var Lu=function(){return Lu=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Lu.apply(this,arguments)},ML=function(o,n){n===void 0&&(n={});var t=n.prefix||"",e=document.createElement("i");return e.className=t+"resizer-h "+t+"resizer-h-"+o,e.setAttribute("data-"+t+"handler",o),e},jL=function(o,n){var t=window,e=o.getBoundingClientRect();return{left:e.left+t.pageXOffset,top:e.top+t.pageYOffset,width:e.width,height:e.height}},RL=function(){function o(n){n===void 0&&(n={}),this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=Lu({},this.defOpts),this.setOptions(n),(0,H.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return o.prototype.getConfig=function(){return this.opts},o.prototype.setOptions=function(n,t){n===void 0&&(n={}),this.opts=Lu(Lu({},t?this.defOpts:this.opts),n),this.setup()},o.prototype.setup=function(){var n=this.opts,t=n.prefix||"",e=n.appendTo||document.body,r=this.container;for(r||(r=document.createElement("div"),r.className="".concat(t,"resizer-c"),e.appendChild(r),this.container=r);r.firstChild;)r.removeChild(r.firstChild);var i={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(p){return i[p]=n[p]?ML(p,n):null});for(var l in i){var f=i[l];f&&r.appendChild(f)}this.handlers=i,this.mousePosFetcher=n.mousePosFetcher,this.updateTarget=n.updateTarget,this.posFetcher=n.posFetcher,this.onStart=n.onStart,this.onMove=n.onMove,this.onEnd=n.onEnd,this.onUpdateContainer=n.onUpdateContainer},o.prototype.toggleFrames=function(n){if(this.opts.silentFrames){var t=document.querySelectorAll("iframe");(0,H.each)(t,function(e){return e.style.pointerEvents=n?"none":""})}},o.prototype.isHandler=function(n){var t=this.handlers;for(var e in t)if(t[e]===n)return!0;return!1},o.prototype.getFocusedEl=function(){return this.el},o.prototype.getParentEl=function(){var n;return(n=this.el)===null||n===void 0?void 0:n.parentElement},o.prototype.getDocumentEl=function(){return[this.el.ownerDocument,document]},o.prototype.getElementPos=function(n,t){t===void 0&&(t={});var e=this.posFetcher;return e?e(n,t):jL(n)},o.prototype.focus=function(n){n&&n===this.el||(this.el=n,this.updateContainer({forceShow:!0}),(0,ye.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},o.prototype.blur=function(){this.container.style.display="none",this.el&&((0,ye.AU)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},o.prototype.start=function(n){var t=n;if(t.button===0){t.preventDefault(),t.stopPropagation();var e=this.el,r=this.getParentEl(),i=this,l=this.opts||{},f=this.mousePosFetcher,p="data-"+l.prefix+"handler",d=this.getElementPos(e,{avoidFrameZoom:!0,avoidFrameOffset:!0}),v=this.getElementPos(r),_=t.target;this.handlerAttr=_.getAttribute(p),this.clickedHandler=_,this.startDim={t:d.top,l:d.left,w:d.width,h:d.height},this.rectDim={t:d.top,l:d.left,w:d.width,h:d.height},this.startPos=f?f(t):{x:t.clientX,y:t.clientY},this.parentDim={t:v.top,l:v.left,w:v.width,h:v.height};var w=this.getDocumentEl();this.docs=w,(0,ye.on)(w,"pointermove",this.move),(0,ye.on)(w,"keydown",this.handleKeyDown),(0,ye.on)(w,"pointerup",this.stop),(0,H.isFunction)(this.onStart)&&this.onStart(t,{docs:w,config:l,el:e,resizer:i}),this.toggleFrames(!0),this.move(t)}},o.prototype.move=function(n){var t=n,e=this.onMove,r=this.mousePosFetcher,i=r?r(t):{x:t.clientX,y:t.clientY};this.currentPos=i,this.delta={x:i.x-this.startPos.x,y:i.y-this.startPos.y},this.keys={shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey},this.rectDim=this.calc(this),this.updateRect(!1),e&&e(t)},o.prototype.stop=function(n){var t=this.el,e=this.opts,r=this.docs||this.getDocumentEl();(0,ye.AU)(r,"pointermove",this.move),(0,ye.AU)(r,"keydown",this.handleKeyDown),(0,ye.AU)(r,"pointerup",this.stop),this.updateRect(!0),this.toggleFrames(),(0,H.isFunction)(this.onEnd)&&this.onEnd(n,{docs:r,config:e,el:t,resizer:this}),delete this.docs},o.prototype.updateRect=function(n){var t=this.el,e=this,r=this.opts,i=this.rectDim,l=this.updateTarget,f=this.getSelectedHandler(),p=r.unitHeight,d=r.unitWidth,v=r.keyWidth,_=r.keyHeight;if((0,H.isFunction)(l))l(t,i,{store:n,selectedHandler:f,resizer:e,config:r});else{var w=t.style;w[v]=i.w+d,w[_]=i.h+p}this.updateContainer()},o.prototype.updateContainer=function(n){var t;n===void 0&&(n={});var e=this,r=e.opts,i=e.container,l=e.el,f=i.style;!r.avoidContainerUpdate&&l&&n.forceShow&&(f.display="block"),(t=this.onUpdateContainer)===null||t===void 0||t.call(this,{el:i,resizer:this,opts:Lu(Lu({},r),n)})},o.prototype.getSelectedHandler=function(){var n=this.handlers;if(this.selectedHandler){for(var t in n)if(n[t]===this.selectedHandler)return t}},o.prototype.handleKeyDown=function(n){n.keyCode===27&&(this.rectDim=this.startDim,this.stop(n))},o.prototype.handleMouseDown=function(n){var t=n.target;this.isHandler(t)?(this.selectedHandler=t,this.start(n)):t!==this.el&&(delete this.selectedHandler,this.blur())},o.prototype.calc=function(n){var t,e=this.opts||{},r=e.step,i=this.startDim,l=e.minDim,f=e.maxDim,p=n.delta.x,d=n.delta.y,v=this.parentDim.w,_=this.parentDim.h,w=this.opts.unitWidth,S=this.opts.unitHeight,O=this.getParentRect(),A=w==="%"?i.w/100*v:i.w,P=S==="%"?i.h/100*_:i.h,j={t:i.t-O.top,l:i.l-O.left,w:A,h:P};if(n){var z=n.handlerAttr;~z.indexOf("r")&&(t=w==="%"?(0,Jt.normalizeFloat)((A+p*r)/v*100,.01):(0,Jt.normalizeFloat)(A+p*r,r),t=Math.max(l,t),f&&(t=Math.min(f,t)),j.w=t),~z.indexOf("b")&&(t=S==="%"?(0,Jt.normalizeFloat)((P+d*r)/_*100,.01):(0,Jt.normalizeFloat)(P+d*r,r),t=Math.max(l,t),f&&(t=Math.min(f,t)),j.h=t),~z.indexOf("l")&&(t=w==="%"?(0,Jt.normalizeFloat)((A-p*r)/v*100,.01):(0,Jt.normalizeFloat)(A-p*r,r),t=Math.max(l,t),f&&(t=Math.min(f,t)),j.w=t),~z.indexOf("t")&&(t=S==="%"?(0,Jt.normalizeFloat)((P-d*r)/_*100,.01):(0,Jt.normalizeFloat)(P-d*r,r),t=Math.max(l,t),f&&(t=Math.min(f,t)),j.h=t);var k=e.ratioDefault?!n.keys.shift:n.keys.shift;if(z.indexOf("c")<0&&k){var G=i.w/i.h;j.w/j.h>G?j.h=Math.round(j.w/G):j.w=Math.round(j.h*G)}~z.indexOf("l")&&(j.l+=i.w-j.w),~z.indexOf("t")&&(j.t+=i.h-j.h);for(var ot in j){var xt=ot;j[xt]=parseInt("".concat(j[xt]),10)}return j}},o.prototype.getParentRect=function(){var n={left:0,top:0,width:0,height:0},t=this.el;if(!t)return n;var e=t.offsetParent;return e&&e.tagName!=="BODY"&&(n=this.getElementPos(e)),n},o}();const LL=RL;var Bo=function(){return Bo=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Bo.apply(this,arguments)};function NL(o,n,t){for(var e={index:0,placement:"before"},r=0,i=0,l=0,f=0,p=0,d=0,v=0,_,w=0,S=o.length;w<S;w++){_=o[w];var O=_.top,A=_.left,P=_.height,j=_.width;if(l=A+j,v=O+P,p=A+j/2,d=O+P/2,!(i&&A>i||f&&d>=f||r&&l<r))if(e.index=w,!_.dir)t<v&&(f=v),n<p?(i=p,e.placement="before"):(r=p,e.placement="after");else if(t<d){e.placement="before";break}else e.placement="after"}return e}function $b(o){var n=o.getBoundingClientRect();return{top:n.top+document.body.scrollTop,left:n.left+document.body.scrollLeft}}function s0(o,n){return Jt.matches.call(o,n)}function kL(o,n){var t=Py(o),e=Py(n),r=e.filter(function(p){return t.includes(p)}),i=r[0];if(!i)return o.model.index()-n.model.index();var l=e[e.indexOf(i)-1],f=t[t.indexOf(i)-1];return f.index()-l.index()}function Py(o){return o?[o].concat(Py(o.parent())):[]}function VL(o,n){if(o)for(var t=o.parentNode;t&&t.nodeType===1;){if(s0(t,n))return t;t=t.parentNode}}function UL(o,n){if((0,ye.ir)(o))return!1;var t=o.style||{},e=(0,$r.default)(o),r=(0,$r.default)(n);if(t.overflow&&t.overflow!=="visible")return!1;var i=e.css("float");return i&&i!=="none"||r.css("display")==="flex"&&r.css("flex-direction")!=="column"||!HL(t.position)?!1:BL(o)||IL(e)}function HL(o){switch(o){case"static":case"relative":case"":return!0;default:return!1}}function BL(o){var n=["TR","TBODY","THEAD","TFOOT"];return n.includes(o.tagName)}function IL(o){var n=o.css("display"),t=["block","list-item","table","flex","grid"];return t.includes(n)}function zL(o){var n={containerContext:{container:"",placeholderElement:"",containerSel:"*",itemSel:"*",pfx:"",document},positionOptions:{borderOffset:10,relative:!1,windowMargin:0,offsetTop:0,offsetLeft:0,scale:1,canvasRelative:!1},dragBehavior:{dragDirection:Wu.A.Vertical,nested:!1,selectOnEnd:!0},eventHandlers:{}},t=Bo(Bo(Bo({},n),o),{containerContext:Bo(Bo({},n.containerContext),o.containerContext),positionOptions:Bo(Bo({},n.positionOptions),o.positionOptions),dragBehavior:Bo(Bo({},n.dragBehavior),o.dragBehavior),eventHandlers:Bo(Bo({},n.eventHandlers),o.eventHandlers)});return t}var PS=function(){function o(n){this.timeout=null,this.threshold=n}return o.prototype.updateArgs=function(n){this.lastArgs=n},o.prototype.execute=function(n){var t=this;this.timeout||(this.timeout=setTimeout(function(){t.lastArgs&&n(t.lastArgs),t.timeout=null},this.threshold))},o.prototype.clearTimeout=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),delete this.lastArgs},o}(),Dy=function(){return Dy=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Dy.apply(this,arguments)},FL=function(){function o(n){this.top=n.top,this.left=n.left,this.height=n.height,this.width=n.width,this.offsets=n.offsets,this.dir=n.dir}return o.prototype.calculateDimensionDifference=function(n){var t=n.top-this.top,e=n.left-this.left;return{topDifference:t,leftDifference:e}},o.prototype.adjustDimensions=function(n){return this.top+=n.topDifference,this.left+=n.leftDifference,this},o.prototype.determinePlacement=function(n,t){var e=this.left+this.width/2,r=this.top+this.height/2;return this.dir?t<r?"before":"after":n<e?"before":"after"},o.prototype.equals=function(n){return n?this.top===n.top&&this.left===n.left&&this.height===n.height&&this.width===n.width&&this.dir===n.dir&&JSON.stringify(this.offsets)===JSON.stringify(n.offsets):!1},o.prototype.clone=function(){return new o({top:this.top,left:this.left,height:this.height,width:this.width,offsets:Dy({},this.offsets),dir:this.dir})},o.prototype.getDropArea=function(n){var t=this.clone(),e=this.adjustDropDimension(this.width,this.left,n),r=e.newSize,i=e.newPosition;t.width=r,t.left=i;var l=this.adjustDropDimension(this.height,this.top,n),f=l.newSize,p=l.newPosition;return t.height=f,t.top=p,t},o.prototype.adjustDropDimension=function(n,t,e){var r=e.ratio,i=e.minUndroppableDimension,l=e.maxUndroppableDimension,f=n*(1-r)/2;f=Math.max(f,i),f=Math.min(f,l);var p=n-f*2,d=t+f;return{newSize:p,newPosition:d}},o.prototype.isWithinBounds=function(n,t){return n>=this.left&&n<=this.left+this.width&&t>=this.top&&t<=this.top+this.height},o}();const WL=FL;var qL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bv=function(){return Bv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Bv.apply(this,arguments)},GL=function(o){qL(n,o);function n(t){var e=o.call(this)||this;return e.sourceNodes=[],e.containerOffset={top:0,left:0},e.moveThreshold=20,e.treeClass=t.treeClass,e.em=t.em,e.containerContext=t.containerContext,e.positionOptions=t.positionOptions,e.dragDirection=t.dragDirection,e.eventHandlers=t.eventHandlers,(0,H.bindAll)(e,"endDrag","cancelDrag","recalculateTargetOnScroll","startSort","onDragStart","onMove"),e.restLastMoveData(),e.rateLimiter=new PS(e.moveThreshold),e}return n.prototype.startSort=function(t){this.sourceNodes=t,this.bindDragEventHandlers()},n.prototype.bindDragEventHandlers=function(){(0,ye.on)(this.containerContext.container,"dragstart",this.onDragStart),(0,ye.on)(this.containerContext.container,"mousemove dragover",this.onMove),(0,ye.on)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},n.prototype.recalculateTargetOnScroll=function(){var t=this.lastMoveData.mouseEvent;t&&this.onMove(t)},n.prototype.onMove=function(t){this.rateLimiter.updateArgs(t),this.rateLimiter.execute(this.handleMove.bind(this))},n.prototype.handleMove=function(t){var e,r,i,l,f,p;this.adjustForScroll();var d=this.lastMoveData.targetNode;(r=(e=this.eventHandlers).onMouseMove)===null||r===void 0||r.call(e,t);var v=this.getMousePositionRelativeToContainer(t.clientX,t.clientY),_=v.mouseXRelative,w=v.mouseYRelative,S=this.getTargetNode(t),O=!(S!=null&&S.equals(d));if(O&&((l=(i=this.eventHandlers).onTargetChange)===null||l===void 0||l.call(i,d,S)),!S){this.triggerLegacyOnMoveCallback(t,0),this.triggerMoveEvent(_,w),this.restLastMoveData();return}var A=this.getDropPosition(S,_,w),P=A.index,j=A.placement,z=A.placeholderDimensions,k=!z.equals(this.lastMoveData.placeholderDimensions)||j!==this.lastMoveData.placement;k&&((p=(f=this.eventHandlers).onPlaceholderPositionChange)===null||p===void 0||p.call(f,z,j)),this.lastMoveData=Bv(Bv({},this.lastMoveData),{targetNode:S,mouseEvent:t,index:P,placement:j,placeholderDimensions:z}),this.triggerMoveEvent(_,w),this.triggerLegacyOnMoveCallback(t,P)},n.prototype.adjustForScroll=function(){var t,e,r=this.lastMoveData.targetNode;if(r!=null&&r.element){var i=this.getDim(r==null?void 0:r.element),l=(t=r.nodeDimensions)===null||t===void 0?void 0:t.calculateDimensionDifference(i);l&&r.adjustDimensions(l)}var f=this.lastMoveData.hoveredNode;if(f!=null&&f.element){var i=this.getDim(f==null?void 0:f.element),l=(e=f.nodeDimensions)===null||e===void 0?void 0:e.calculateDimensionDifference(i);l&&f.adjustDimensions(l)}},n.prototype.restLastMoveData=function(){this.lastMoveData={targetNode:void 0,index:void 0,placement:void 0,mouseEvent:void 0}},n.prototype.triggerLegacyOnMoveCallback=function(t,e){var r,i,l,f,p=(r=this.sourceNodes[0])===null||r===void 0?void 0:r.model;(l=(i=this.eventHandlers).legacyOnMoveClb)===null||l===void 0||l.call(i,{event:t,target:p,parent:(f=this.lastMoveData.targetNode)===null||f===void 0?void 0:f.model,index:e})},n.prototype.triggerMoveEvent=function(t,e){var r,i=this.lastMoveData,l=i.targetNode,f=i.placement,p=i.index,d=p?p+(f==="after"?-1:0):0;this.em.trigger("sorter:drag",{target:(l==null?void 0:l.element)||null,targetModel:(r=this.lastMoveData.targetNode)===null||r===void 0?void 0:r.model,sourceModel:this.sourceNodes[0].model,dims:(l==null?void 0:l.childrenDimensions)||[],pos:{index:d,indexEl:d,placement:f},x:t,y:e})},n.prototype.getDropPosition=function(t,e,r){var i,l=t.nodeDimensions,f=t.childrenDimensions,p=t.getChildren(),d=p&&p.length>0;l=l||this.getDim(t.element),t.nodeDimensions=l,f=f||this.getChildrenDim(t),t.childrenDimensions=f;var v=l.clone(),_=0,w="inside";return d&&(i=NL(f,e,r),_=i.index,w=i.placement,v=f[_].clone(),_=_+(w=="after"?1:0)),{index:_,placement:w,placeholderDimensions:v}},n.prototype.getTargetNode=function(t){var e;this.cacheContainerPosition(this.containerContext.container);var r=this.getMousePositionRelativeToContainer(t.clientX,t.clientY),i=r.mouseXRelative,l=r.mouseYRelative,f=this.getMouseTargetElement(t),p=this.getFirstElementWithAModel(f);if(p){var d=(e=(0,$r.default)(p))===null||e===void 0?void 0:e.data("model");if(d){var v=this.getOrCreateHoveredNode(d),_=this.getDropPosition(v,i,l).index,w=this.getValidParent(v,_,i,l);return this.getOrReuseTargetNode(w)}}},n.prototype.getOrCreateHoveredNode=function(t){var e=this.lastMoveData.hoveredNode,r=new this.treeClass(t),i=r.equals(e)?e:r;return this.lastMoveData.hoveredNode=i,i},n.prototype.getOrReuseTargetNode=function(t){var e=this.lastMoveData.targetNode;return t!=null&&t.equals(e)?e:t},n.prototype.getMouseTargetElement=function(t){var e=this.containerContext.customTarget,r=this.containerContext.document.elementFromPoint(t.clientX,t.clientY),i=e?e({event:t}):r;return i},n.prototype.onDragStart=function(t){this.eventHandlers.onDragStart&&this.eventHandlers.onDragStart(t)},n.prototype.endDrag=function(){this.dropDragged()},n.prototype.cancelDrag=function(){var t,e,r=this.lastMoveData.targetNode;(e=(t=this.eventHandlers).onTargetChange)===null||e===void 0||e.call(t,r,void 0),this.finalizeMove()},n.prototype.finalizeMove=function(){var t,e,r,i;this.cleanupEventListeners(),this.triggerOnDragEndEvent(),(e=(t=this.eventHandlers).onEnd)===null||e===void 0||e.call(t),(i=(r=this.eventHandlers).legacyOnEnd)===null||i===void 0||i.call(r),this.restLastMoveData(),this.rateLimiter.clearTimeout()},n.prototype.dropDragged=function(){var t,e,r=this.lastMoveData,i=r.targetNode,l=r.index;(e=(t=this.eventHandlers).onDrop)===null||e===void 0||e.call(t,i,this.sourceNodes,l),this.finalizeMove()},n.prototype.triggerOnDragEndEvent=function(){var t=this.lastMoveData.targetNode,e=this.sourceNodes[0];this.em.trigger("sorter:drag:end",{targetCollection:t?t.getChildren():null,modelToDrop:e==null?void 0:e.model,warns:[""],validResult:{result:!0,src:this.sourceNodes.map(function(r){return r.element}),srcModel:e==null?void 0:e.model,trg:t==null?void 0:t.element,trgModel:t==null?void 0:t.model,draggable:!0,droppable:!0},dst:t==null?void 0:t.element,srcEl:e==null?void 0:e.element})},n.prototype.getFirstElementWithAModel=function(t){for(var e=function(r){return(0,$r.default)(r).data("model")!==void 0};t&&this.containerContext.container.contains(t);){if(e(t))return t;t=t.parentElement}return null},n.prototype.getValidParent=function(t,e,r,i){if(t){var l=this.lastMoveData.targetNode,f=t.equals(l);if(t.nodeDimensions=f?l.nodeDimensions:this.getDim(t.element),!t.isWithinDropBounds(r,i))return this.handleParentTraversal(t,r,i);var p=f&&e===this.lastMoveData.index;if(p)return l;var d=this.sourceNodes.some(function(v){return t.canMove(v,e)});return this.triggerDragValidation(d,t),d?t:this.handleParentTraversal(t,r,i)}},n.prototype.handleParentTraversal=function(t,e,r){var i=t.getParent();if(i){var l=this.getIndexInParent(i,t,t.nodeDimensions,e,r);return this.getValidParent(i,l,e,r)}},n.prototype.getIndexInParent=function(t,e,r,i,l){var f=t==null?void 0:t.indexOfChild(e);return r.dir=this.getDirection(e.element,t.element),f=f+(r.determinePlacement(i,l)=="after"?1:0),f},n.prototype.triggerDragValidation=function(t,e){var r=this.sourceNodes[0];return this.em.trigger("sorter:drag:validation",{valid:t,src:r==null?void 0:r.element,srcModel:r==null?void 0:r.model,trg:e.element,trgModel:e.model}),r},n.prototype.cleanupEventListeners=function(){var t=this.containerContext.container;(0,ye.AU)(t,"dragstart",this.onDragStart),(0,ye.AU)(t,"mousemove dragover",this.onMove),(0,ye.AU)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},n.prototype.getDirection=function(t,e){var r;return this.dragDirection===Wu.A.Vertical?r=!0:this.dragDirection===Wu.A.Horizontal?r=!1:r=UL(t,e),r},n.prototype.getChildrenDim=function(t){var e=this,r=[],i=t.element;if(!i)return[];var l=t.getChildren();return!l||l.length===0?[]:((0,H.each)(l,function(f,p){var d=f.element;if(d&&!(!(0,ye.ir)(d)&&!s0(d,e.containerContext.itemSel))){var v=e.getDim(d);v.dir=e.getDirection(d,i),r.push(v)}}),r)},n.prototype.getMousePositionRelativeToContainer=function(t,e){var r=e-this.containerOffset.top+this.containerContext.container.scrollTop,i=t-this.containerOffset.left+this.containerContext.container.scrollLeft;if(this.positionOptions.canvasRelative){var l=this.em.Canvas.getMouseRelativeCanvas({clientX:t,clientY:e},{noScroll:1});i=l.x,r=l.y}return{mouseXRelative:i,mouseYRelative:r}},n.prototype.cacheContainerPosition=function(t){var e=$b(t),r=this.positionOptions.windowMargin?Math.abs(e.top):e.top,i=this.positionOptions.windowMargin?Math.abs(e.left):e.left;this.containerOffset={top:r,left:i}},n.prototype.getDim=function(t){var e=this.em,r=this.positionOptions.relative,i=this.positionOptions.windowMargin,l=e==null?void 0:e.Canvas,f=l?l.getElementOffsets(t):{},p,d,v,_;if(this.positionOptions.canvasRelative&&this.em){var w=l.getElementPos(t,{noScroll:1});p=w.top,d=w.left,v=w.height,_=w.width}else{var S=$b(t);p=r?t.offsetTop:S.top-(i?-1:1)*this.containerOffset.top,d=r?t.offsetLeft:S.left-(i?-1:1)*this.containerOffset.left,v=t.offsetHeight,_=t.offsetWidth}return new WL({top:p,left:d,height:v,width:_,offsets:f})},n}(fe.Ss),KL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),YL=function(o){KL(n,o);function n(t){var e=o.call(this)||this;return e.pfx=t.pfx||"",e.allowNesting=t.allowNesting||!1,e.container=t.container,e.setElement(t.el),e.offset={top:t.offset.top||0,left:t.offset.left||0},e.moveLimiter=new PS(100),e}return n.prototype.show=function(){this.el.style.display="block"},n.prototype.hide=function(){this.moveLimiter.clearTimeout(),this.el.style.display="none"},n.prototype.move=function(t,e){var r=this,i={elementDimension:t,placement:e};this.moveLimiter.updateArgs(i),this.moveLimiter.execute(function(l){var f=l.elementDimension,p=l.placement;r._move(f,p)})},n.prototype._move=function(t,e){var r=0,i="px",l=0,f=0,p="",d="";this.setOrientationForDimension(t);var v=t.top,_=t.left,w=t.height,S=t.width,O=t.dir,A=t.offsets;if(e==="inside"){if(this.setOrientation("horizontal"),!this.allowNesting){this.hide();return}var P=5,j=(A==null?void 0:A.paddingTop)||P,z=(A==null?void 0:A.paddingLeft)||P,k=(A==null?void 0:A.borderTopWidth)||0,G=(A==null?void 0:A.borderLeftWidth)||0,ot=(A==null?void 0:A.borderRightWidth)||0,xt=G+ot;l=v+j+k,f=_+z+G,p=Math.max(S-z*2-xt,1)+"px",d="auto"}else O?(p=S+i,d="auto",l=e==="before"?v-r:v+w-r,f=_):(p="auto",d=w-r*2+i,l=v+r,f=e==="before"?_-r:_+S-r,this.setOrientation("vertical"));this.updateStyles(l,f,p,d),this.adjustOffset()},n.prototype.setOrientationForDimension=function(t){this.el.classList.remove("vertical"),this.el.classList.add("horizontal"),t&&!t.dir&&this.setOrientation("vertical")},n.prototype.setOrientation=function(t){this.el.classList.remove("horizontal"),this.el.classList.remove("vertical"),this.el.classList.add(t)},n.prototype.updateStyles=function(t,e,r,i){this.el.style.top=t+"px",this.el.style.left=e+"px",r&&(this.el.style.width=r),i&&(this.el.style.height=i)},n.prototype.adjustOffset=function(){this.$el.css("top","+="+this.offset.top+"px"),this.$el.css("left","+="+this.offset.left+"px")},n}(fe.Ss),gf=function(){return gf=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},gf.apply(this,arguments)},XL=function(){function o(n){var t=zL(n);(0,H.bindAll)(this,"startSort","cancelDrag","recalculateTargetOnScroll","rollback","updateOffset","handlePlaceholderMove","finalizeMove"),this.containerContext=t.containerContext,this.positionOptions=t.positionOptions,this.dragBehavior=t.dragBehavior,this.eventHandlers=gf(gf({},t.eventHandlers),{onPlaceholderPositionChange:this.handlePlaceholderMove,onEnd:this.finalizeMove}),this.em=n.em,this.treeClass=n.treeClass,this.updateOffset(),this.em.on(this.em.Canvas.events.refresh,this.updateOffset),this.placeholder=this.createPlaceholder(),this.dropLocationDeterminer=new GL({em:this.em,treeClass:this.treeClass,containerContext:this.containerContext,positionOptions:this.positionOptions,dragDirection:this.dragBehavior.dragDirection,eventHandlers:this.eventHandlers})}return o.prototype.startSort=function(n){var t,e,r,i,l,f,p,d=this.getSourceNodes(n),v=d.sourceNodes,_=d.sourcesWithModel;this.sourceNodes=v,this.dropLocationDeterminer.startSort(v),this.bindDragEventHandlers(),(e=(t=this.eventHandlers).onStartSort)===null||e===void 0||e.call(t,this.sourceNodes,this.containerContext.container);var w=(r=this.sourceNodes[0])===null||r===void 0?void 0:r.model;(l=(i=this.eventHandlers).legacyOnStartSort)===null||l===void 0||l.call(i,{sorter:this,target:w,parent:w&&((f=w.parent)===null||f===void 0?void 0:f.call(w)),index:w&&((p=w.index)===null||p===void 0?void 0:p.call(w))}),this.em.trigger("sorter:drag:start",n[0],_[0])},o.prototype.validTarget=function(n,t,e){if(!n)return!1;var r=(0,$r.default)(n).data("model");if(!r)return!1;var i=new this.treeClass(r),l=this.getSourceNodes(t).sourceNodes,f=l.some(function(p){return i.canMove(p,e)});return f},o.prototype.getSourceNodes=function(n){var t=this,e=n.filter(function(f){return!!f.dragSource||t.findValidSourceElement(f.element)}),r=e.map(function(f){var p;return{model:(p=(0,$r.default)(f.element))===null||p===void 0?void 0:p.data("model"),content:f.dragSource}}),i=r.sort(function(f,p){return kL(f.model,p.model)}),l=i.map(function(f){return new t.treeClass(f.model,f.content)});return{sourceNodes:l,sourcesWithModel:r}},o.prototype.recalculateTargetOnScroll=function(){this.dropLocationDeterminer.recalculateTargetOnScroll()},o.prototype.cancelDrag=function(){this.triggerNullOnEndMove(!0),this.dropLocationDeterminer.cancelDrag()},o.prototype.endDrag=function(){this.dropLocationDeterminer.endDrag()},o.prototype.handlePlaceholderMove=function(n,t){this.ensurePlaceholderElement(),this.updatePlaceholderPosition(n,t)},o.prototype.createPlaceholder=function(){return new YL({container:this.containerContext.container,allowNesting:this.dragBehavior.nested,pfx:this.containerContext.pfx,el:this.containerContext.placeholderElement,offset:{top:this.positionOptions.offsetTop,left:this.positionOptions.offsetLeft}})},o.prototype.ensurePlaceholderElement=function(){var n=this.placeholder.el,t=this.containerContext.container;n.ownerDocument.contains(n)||t.append(this.placeholder.el)},o.prototype.updateOffset=function(){var n,t=((n=this.em)===null||n===void 0?void 0:n.get("canvasOffset"))||{};this.positionOptions.offsetTop=t.top,this.positionOptions.offsetLeft=t.left},o.prototype.findValidSourceElement=function(n){return n&&!s0(n,"".concat(this.containerContext.itemSel,", ").concat(this.containerContext.containerSel))&&(n=VL(n,this.containerContext.itemSel)),n},o.prototype.bindDragEventHandlers=function(){(0,ye.on)(this.containerContext.document,"keydown",this.rollback)},o.prototype.updatePlaceholderPosition=function(n,t){this.placeholder.move(n,t)},o.prototype.cleanupEventListeners=function(){(0,ye.AU)(this.containerContext.document,"keydown",this.rollback)},o.prototype.finalizeMove=function(){this.cleanupEventListeners(),this.placeholder.hide(),delete this.sourceNodes},o.prototype.rollback=function(n){(0,ye.AU)(this.containerContext.document,"keydown",this.rollback);var t="Escape";n.key===t&&this.cancelDrag()},o.prototype.triggerNullOnEndMove=function(n){var t,e,r,i,l,f=(t=this.sourceNodes)===null||t===void 0?void 0:t[0].model,p={target:f,parent:f&&((e=f.parent)===null||e===void 0?void 0:e.call(f)),index:f&&((r=f.index)===null||r===void 0?void 0:r.call(f))};(l=(i=this.eventHandlers).legacyOnEndMove)===null||l===void 0||l.call(i,null,this,gf(gf({},p),{cancelled:n}))},o}();const DS=XL;var ZL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mf=function(){return mf=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},mf.apply(this,arguments)},JL=la.F.Target,zm={id:"sorter-target",type:JL},QL=function(o){ZL(n,o);function n(t){var e=t.em,r=t.treeClass,i=t.containerContext,l=t.dragBehavior,f=t.positionOptions,p=f===void 0?{}:f,d=t.eventHandlers,v=d===void 0?{}:d,_=o.call(this,{em:e,treeClass:r,containerContext:i,positionOptions:p,dragBehavior:l,eventHandlers:mf(mf({},v),{onStartSort:function(w,S){var O;(O=v.onStartSort)===null||O===void 0||O.call(v,w,S),_.onStartSort()},onDrop:function(w,S,O){var A;(A=v.onDrop)===null||A===void 0||A.call(v,w,S,O),_.onDrop(w,S,O)},onTargetChange:function(w,S){var O;(O=v.onTargetChange)===null||O===void 0||O.call(v,w,S),_.onTargetChange(w,S)},onMouseMove:function(w){var S;(S=v.onMouseMove)===null||S===void 0||S.call(v,w),_.onMouseMove(w)}})})||this;return _.targetIsText=!1,_.onMouseMove=function(w){var S,O=_.targetIsText&&((S=_.sourceNodes)===null||S===void 0?void 0:S.some(function(A){return A.isTextable()}));O&&_.updateTextViewCursorPosition(w)},_.onDrop=function(w,S,O){var A=typeof O=="number"?O:-1;if(w&&S.length>0){var P=_.handleNodeAddition(w,S,A);P.length===0&&_.triggerNullOnEndMove(!1)}else _.triggerNullOnEndMove(!0);w==null||w.restNodeState(),_.placeholder.hide()},_.onTargetChange=function(w,S){var O;w==null||w.restNodeState();var A=_.em.Canvas;if(!S){_.placeholder.hide(),A.removeSpots(zm);return}S==null||S.setSelectedParentState(),_.targetIsText=S.isTextNode();var P=_.targetIsText&&((O=_.sourceNodes)===null||O===void 0?void 0:O.some(function(G){return G.isTextable()}));P?(S.setContentEditable(!0),_.placeholder.hide()):_.placeholder.show();var j=la.F.Select,z=la.F.Hover,k=la.F.Spacing;[j,z,k].forEach(function(G){return A.removeSpots({type:G})}),A.addSpot(mf(mf({},zm),{component:S.model}))},(0,H.bindAll)(_,"handleScrollEvent"),_}return n.prototype.onStartSort=function(){this.em.clearSelection(),this.setAutoCanvasScroll(!0)},n.prototype.bindDragEventHandlers=function(){this.em.on("frame:scroll",this.handleScrollEvent),o.prototype.bindDragEventHandlers.call(this)},n.prototype.cleanupEventListeners=function(){this.em.off("frame:scroll",this.handleScrollEvent),o.prototype.cleanupEventListeners.call(this)},n.prototype.handleScrollEvent=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=(t=e==null?void 0:e[0])===null||t===void 0?void 0:t.frame,l=this.em.Canvas.getCanvasView().frame===i;l&&this.recalculateTargetOnScroll()},n.prototype.handleNodeAddition=function(t,e,r){var i=this;return e.reduce(function(l,f){if(!t.canMove(f,r))return l;if(i.isPositionChanged(t,f,r)){var p=i.moveNode(t,f,r),d=p.index,v=p.addedNode;l.push(v),r=d}return r++,l},[])},n.prototype.isPositionChanged=function(t,e,r){var i=e.getParent(),l=i?i.indexOfChild(e):-1;(i==null?void 0:i.model.cid)===t.model.cid&&l<r&&r--;var f=(i==null?void 0:i.model.cid)===t.model.cid,p=l===r,d=this.targetIsText&&e.isTextable();return!(f&&p&&!d)},n.prototype.moveNode=function(t,e,r){var i=e.getParent();if(i){var l=i.indexOfChild(e);i.removeChildAt(l,{temporary:!0}),i.model.cid===t.model.cid&&l<r&&r--}var f=t.addChildAt(e,r,{action:"move-component"});return f&&this.triggerEndMoveEvent(f),{addedNode:f,index:r}},n.prototype.triggerEndMoveEvent=function(t){var e,r,i,l,f,p;(r=(e=this.eventHandlers).legacyOnEndMove)===null||r===void 0||r.call(e,t.model,this,{target:t.model,parent:t.model&&((l=(i=t.model).parent)===null||l===void 0?void 0:l.call(i)),index:t.model&&((p=(f=t.model).index)===null||p===void 0?void 0:p.call(f))})},n.prototype.finalizeMove=function(){var t,e;(t=this.em)===null||t===void 0||t.Canvas.removeSpots(zm),(e=this.sourceNodes)===null||e===void 0||e.forEach(function(r){return r.restNodeState()}),this.setAutoCanvasScroll(!1),o.prototype.finalizeMove.call(this)},n.prototype.updateTextViewCursorPosition=function(t){var e=this.em;if(e){var r=e.Canvas,i=r.getDocument(),l=null,f=(0,ye.G2)(t);if(i.caretPositionFromPoint){var p=i.caretPositionFromPoint(f.clientX,f.clientY);p&&(l=i.createRange(),l.setStart(p.offsetNode,p.offset))}else i.caretRangeFromPoint?l=i.caretRangeFromPoint(f.clientX,f.clientY):t.rangeParent&&(l=i.createRange(),l.setStart(t.rangeParent,t.rangeOffset));var d=r.getWindow().getSelection();r.getFrameEl().focus(),d==null||d.removeAllRanges(),l&&(d==null||d.addRange(l))}},n.prototype.setAutoCanvasScroll=function(t){var e=this.em,r=e==null?void 0:e.Canvas;r&&(t?r.startAutoscroll():r.stopAutoscroll())},n}(DS);const tw=QL;var $L=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Iv=function(){return Iv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Iv.apply(this,arguments)},tN=function(o){$L(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return{values:{}}},n.prototype.initialize=function(){var t=this.collection;this.prop=t==null?void 0:t.prop},n.prototype.getId=function(){return this.cid},n.prototype.getIndex=function(){var t=this.collection;return t?t.indexOf(this):-1},n.prototype.getValues=function(t){t===void 0&&(t={});var e=this.get("values");return t.camelCase?Object.keys(e).reduce(function(r,i){return r[(0,Jt.camelCase)(i)]=e[i],r},{}):e},n.prototype.getLabel=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.getLayerLabel(this)},n.prototype.isSelected=function(){var t;return((t=this.prop)===null||t===void 0?void 0:t.getSelectedLayer())===this},n.prototype.select=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.selectLayer(this)},n.prototype.remove=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.removeLayer(this)},n.prototype.move=function(t){var e;return(e=this.prop)===null||e===void 0?void 0:e.moveLayer(this,t)},n.prototype.getStylePreview=function(t){var e;return t===void 0&&(t={}),(e=this.prop)===null||e===void 0?void 0:e.getStylePreview(this,t)},n.prototype.hasPreview=function(){var t;return!!(!((t=this.prop)===null||t===void 0)&&t.get("preview"))},n.prototype.upValues=function(t){return t===void 0&&(t={}),this.set("values",Iv(Iv({},this.getValues()),t))},n}(fe.Kx);const Kd=tN;var eN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),MS=function(o){eN(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.initialize=function(t,e){e===void 0&&(e={}),this.prop=e.prop},n}(fe.pM);const Gh=MS;MS.prototype.model=Kd;var nN=wn(3178),rN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),iN=function(o){rN(n,o);function n(t){return o.call(this,t)||this}return n.prototype.getChildren=function(){return this.model instanceof Gh?this.model.models.map(function(t){return new n(t)}):null},n.prototype.getParent=function(){var t=this.model instanceof Kd?this.model.collection:null;return t?new n(t):null},n.prototype.addChildAt=function(t,e){if(this.model instanceof Kd)throw Error("Cannot add a layer model to another layer model");var r=this.model.add(t.model,{at:e});return new n(r)},n.prototype.removeChildAt=function(t){if(this.model instanceof Kd)throw Error("Cannot remove a layer model from another layer model");var e=this.model.at(t);e&&this.model.remove(e)},n.prototype.indexOfChild=function(t){return!(t.model instanceof Kd)||!(this.model instanceof Gh)?-1:this.model.indexOf(t.model)},n.prototype.canMove=function(t,e){return this.model instanceof Gh&&!!t.model},Object.defineProperty(n.prototype,"view",{get:function(){return this.model.view},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){var t;return(t=this.view)===null||t===void 0?void 0:t.el},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),n}(nN.$),oN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),My=function(){return My=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},My.apply(this,arguments)},aN=function(o){oN(n,o);function n(t){var e=t.em,r=t.containerContext,i=t.dragBehavior,l=t.positionOptions,f=l===void 0?{}:l,p=t.eventHandlers,d=p===void 0?{}:p,v=o.call(this,{em:e,treeClass:iN,containerContext:r,positionOptions:f,dragBehavior:i,eventHandlers:My({onStartSort:function(_,w){var S;(S=d.onStartSort)===null||S===void 0||S.call(d,_,w),v.onLayerStartSort(_)},onDrop:function(_,w,S){var O;(O=d.onDrop)===null||O===void 0||O.call(d,_,w,S),v.onLayerDrop(_,w,S)},onEnd:function(){v.placeholder.hide()}},d)})||this;return v.onLayerStartSort=function(_){v.em.clearSelection();var w=_[0];v.em.trigger("sorter:drag:start",w==null?void 0:w.element,w==null?void 0:w.model),v.placeholder.show()},v.onLayerDrop=function(_,w,S){if(_){S=typeof S=="number"?S:-1;for(var O=0;O<w.length;O++){var A=w[O];if(_.canMove(A,O)){var P=A.getParent(),j=-1;P&&(j=P.indexOfChild(A),P.removeChildAt(j)),S=j<S?S-1:S,_.addChildAt(A,S)}}v.placeholder.hide()}},v}return n}(DS);const sN=aN;var lN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jy=function(){return jy=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},jy.apply(this,arguments)},uN=function(o){lN(n,o);function n(t){var e=o.call(this,t,"Utils")||this;return e.Sorter=tw,e.Resizer=LL,e.Dragger=Vx.A,e.ComponentSorter=tw,e.StyleManagerSorter=sN,e.helpers=jy({},Jt),e}return n.prototype.destroy=function(){},n}(Eo);const cN=uN;var xo,Wo={},Ji={16:!1,18:!1,17:!1,91:!1},jS="all",Gu={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},RS={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},l0=function(o){return RS[o]||o.toUpperCase().charCodeAt(0)},Of=[];for(xo=1;xo<20;xo++)RS["f"+xo]=111+xo;function ip(o,n){for(var t=o.length;t--;)if(o[t]===n)return t;return-1}function fN(o,n){if(o.length!=n.length)return!1;for(var t=0;t<o.length;t++)if(o[t]!==n[t])return!1;return!0}var dN={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function pN(o){for(xo in Ji)Ji[xo]=o[dN[xo]]}function hN(o){var n,t,e,r,i,l;if(n=o.keyCode,ip(Of,n)==-1&&Of.push(n),(n==93||n==224)&&(n=91),n in Ji){Ji[n]=!0;for(e in Gu)Gu[e]==n&&($i[e]=!0);return}if(pN(o),!!$i.filter.call(this,o)&&n in Wo){for(l=u0(),r=0;r<Wo[n].length;r++)if(t=Wo[n][r],t.scope==l||t.scope=="all"){i=t.mods.length>0;for(e in Ji)(!Ji[e]&&ip(t.mods,+e)>-1||Ji[e]&&ip(t.mods,+e)==-1)&&(i=!1);(t.mods.length==0&&!Ji[16]&&!Ji[18]&&!Ji[17]&&!Ji[91]||i)&&t.method(o,t)===!1&&(o.preventDefault?o.preventDefault():o.returnValue=!1,o.stopPropagation&&o.stopPropagation(),o.cancelBubble&&(o.cancelBubble=!0))}}}function vN(o){var n=o.keyCode,t,e=ip(Of,n);if(e>=0&&Of.splice(e,1),(n==93||n==224)&&(n=91),n in Ji){Ji[n]=!1;for(t in Gu)Gu[t]==n&&($i[t]=!1)}}function gN(){for(xo in Ji)Ji[xo]=!1;for(xo in Gu)$i[xo]=!1}function $i(o,n,t){var e,r;e=LS(o),t===void 0&&(t=n,n="all");for(var i=0;i<e.length;i++)r=[],o=e[i].split("+"),o.length>1&&(r=NS(o),o=[o[o.length-1]]),o=o[0],o=l0(o),o in Wo||(Wo[o]=[]),Wo[o].push({shortcut:e[i],scope:n,method:t,key:e[i],mods:r})}function mN(o,n){var t,e,r=[],i,l,f;for(t=LS(o),l=0;l<t.length;l++){if(e=t[l].split("+"),e.length>1&&(r=NS(e)),o=e[e.length-1],o=l0(o),n===void 0&&(n=u0()),!Wo[o])return;for(i=0;i<Wo[o].length;i++)f=Wo[o][i],f.scope===n&&fN(f.mods,r)&&(Wo[o][i]={})}}function yN(o){return typeof o=="string"&&(o=l0(o)),ip(Of,o)!=-1}function _N(){return Of.slice(0)}function bN(o){var n=(o.target||o.srcElement).tagName;return!(n=="INPUT"||n=="SELECT"||n=="TEXTAREA")}for(xo in Gu)$i[xo]=!1;function wN(o){jS=o||"all"}function u0(){return jS||"all"}function xN(o){var n,t,e;for(n in Wo)for(t=Wo[n],e=0;e<t.length;)t[e].scope===o?t.splice(e,1):e++}function LS(o){var n;return o=o.replace(/\s/g,""),n=o.split(","),n[n.length-1]==""&&(n[n.length-2]+=","),n}function NS(o){for(var n=o.slice(0,o.length-1),t=0;t<n.length;t++)n[t]=Gu[n[t]];return n}function Fm(o,n,t){o.addEventListener?o.addEventListener(n,t,!1):o.attachEvent&&o.attachEvent("on"+n,function(){t(window.event)})}$i.setScope=wN;$i.getScope=u0;$i.deleteScope=xN;$i.filter=bN;$i.isPressed=yN;$i.getPressedKeyCodes=_N;$i.unbind=mN;$i.handlers=Wo;$i.init=function(o){Fm(o.document,"keydown",function(n){hN(n)}),Fm(o.document,"keyup",vN),Fm(o,"focus",gN)};const Yd=$i;var SN=function(){return{defaults:{"core:undo":{keys:"⌘+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"⌘+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"⌘+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"⌘+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}}};const CN=SN;var ON=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ew=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))};(0,Jt.hasWin)()&&Yd.init(window);var TN=function(o){ON(n,o);function n(t){var e=o.call(this,t,"Keymaps",CN())||this;return e.keymaster=Yd,e.keymaps={},e}return n.prototype.onLoad=function(){if(!this.em.isHeadless){var t=this.config.defaults;for(var e in t){var r=t[e];this.add(e,r.keys,r.handler,r.opts||{})}}},n.prototype.add=function(t,e,r,i){i===void 0&&(i={});var l=this.em,f=l.Commands,p=l.getEditor(),d=l.Canvas,v={id:t,keys:e,handler:r},_=this.keymaps[t];return _&&this.remove(t),this.keymaps[t]=v,Yd(e,function(w,S){var O,A={event:w,h:S},P=(0,H.isString)(r)?f.get(r):r,j=!l.isEditing()&&!p.Canvas.isInputFocused();if(j||i.force){i.prevent&&((O=d.getCanvasView())===null||O===void 0||O.preventDefault(w)),(0,H.isFunction)(P)?P(p,0,A):f.runCommand(P,A);var z=[t,S.shortcut,w];l.trigger.apply(l,ew(["keymap:emit"],z,!1)),l.trigger.apply(l,ew(["keymap:emit:".concat(t)],z,!1))}},void 0),l.trigger("keymap:add",v),v},n.prototype.get=function(t){return this.keymaps[t]},n.prototype.getAll=function(){return this.keymaps},n.prototype.remove=function(t){var e=this.em,r=this.get(t);if(r)return delete this.keymaps[t],r.keys.split(", ").forEach(function(i){Yd.unbind(i.trim())}),e==null||e.trigger("keymap:remove",r),r},n.prototype.removeAll=function(){var t=this;return Object.keys(this.keymaps).forEach(function(e){return t.remove(e)}),Yd.handlers={},this},n.prototype.destroy=function(){this.removeAll(),this.keymaps={}},n}(Eo);const EN=TN;var AN=function(){return{stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}}};const PN=AN;var DN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),MN=function(o){DN(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},n.prototype.open=function(){this.set("open",!0)},n.prototype.close=function(){this.set("open",!1)},n}(Bl.A);const jN=MN;var RN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zv=function(){return zv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},zv.apply(this,arguments)},LN=function(o){RN(n,o);function n(t){var e=o.call(this,t)||this,r=e.model;return e.listenTo(r,"change:open",e.updateOpen),e.listenTo(r,"change:title",e.updateTitle),e.listenTo(r,"change:content",e.updateContent),e}return n.prototype.template=function(t){var e=t.pfx,r=t.ppfx,i=t.content,l=t.title;return'<div class="'.concat(e,"dialog ").concat(r,"one-bg ").concat(r,`two-color">
      <div class="`).concat(e,`header">
        <div class="`).concat(e,'title">').concat(l,`</div>
        <div class="`).concat(e,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(e,`content">
        <div id="`).concat(e,'c">').concat(i,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(e,'collector" style="display: none"></div>')},n.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},n.prototype.onClick=function(t){var e=this.config.backdrop;e&&t.target===this.el&&this.hide()},n.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},n.prototype.getContent=function(){var t=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(t,"content #").concat(t,"c"))),this.$content},n.prototype.getTitle=function(t){return t===void 0&&(t={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),t.$?this.$title:this.$title.get(0)},n.prototype.updateContent=function(){var t=this.getContent(),e=t.children(),r=this.getCollector(),i=this.model.get("content");e.length&&r.append(e),t.empty().append(i)},n.prototype.updateTitle=function(){var t=this.getTitle({$:!0});t&&t.empty().append(this.model.get("title"))},n.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},n.prototype.hide=function(){this.model.close()},n.prototype.show=function(){this.model.open()},n.prototype.updateAttr=function(t){var e=this,r=e.pfx,i=e.$el,l=e.el,f=[].slice.call(l.attributes).map(function(p){return p.name});i.removeAttr(f.join(" ")),i.attr(zv(zv({},t||{}),{class:"".concat(r,"container ").concat(t&&t.class||"").trim()}))},n.prototype.render=function(){var t=this.$el,e=this.model.toJSON();return e.pfx=this.pfx,e.ppfx=this.ppfx,t.html(this.template(e)),this.updateAttr(),this.updateOpen(),this},n}(ca);const NN=LN;var kN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),VN=function(o){kN(n,o);function n(t){var e=o.call(this,t,"Modal",PN())||this;return e.model=new jN(e),e.model.on("change:open",function(r,i){t.trigger("modal:".concat(i?"open":"close"))}),e.model.on("change",(0,H.debounce)(function(){var r=e._evData(),i=e.config.custom;(0,H.isFunction)(i)&&i(r),t.trigger("modal",r)},0)),e}return n.prototype._evData=function(){var t=this,e=this.getTitle(),r=this.getContent(),i=this.model.attributes,l=i.open,f=i.attributes;return{open:l,attributes:f,title:(0,H.isString)(e)?(0,ye.GZ)(e):e,content:(0,H.isString)(r)?(0,ye.GZ)(r):r.get?r.get(0):r,close:function(){t.close()}}},n.prototype.postRender=function(t){var e=t.model.config.el||t.el,r=this.render();r&&(e==null||e.appendChild(r))},n.prototype.open=function(t){t===void 0&&(t={});var e=t.attributes||{};return t.title&&this.setTitle(t.title),t.content&&this.setContent(t.content),this.model.set("attributes",e),this.model.open(),this.modal&&this.modal.updateAttr(e),this},n.prototype.close=function(){return this.model.close(),this},n.prototype.onceClose=function(t){return this.em.once("modal:close",t),this},n.prototype.onceOpen=function(t){return this.em.once("modal:open",t),this},n.prototype.isOpen=function(){return!!this.model.get("open")},n.prototype.setTitle=function(t){return this.model.set("title",t),this},n.prototype.getTitle=function(){return this.model.get("title")},n.prototype.setContent=function(t){return this.model.set("content"," "),this.model.set("content",t),this},n.prototype.getContent=function(){return this.model.get("content")},n.prototype.getContentEl=function(){var t;return(t=this.modal)===null||t===void 0?void 0:t.getContent().get(0)},n.prototype.getModel=function(){return this.model},n.prototype.render=function(){var t;if(!this.config.custom){var e=NN.extend(this.config.extend),r=this.modal&&this.modal.el;return this.modal=new e({el:r,model:this.model,config:this.config}),(t=this.modal)===null||t===void 0?void 0:t.render().el}},n.prototype.destroy=function(){var t;(t=this.modal)===null||t===void 0||t.remove()},n}(Eo);const UN=VN;var nw="sw-visibility",rw="export-template",iw="open-sm",ow="open-tm",aw="open-layers",sw="open-blocks",Wm="fullscreen",qm="preview",HN=function(){return{stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:nw,className:"fa fa-square-o",command:"core:component-outline",context:nw,attributes:{title:"View components"}},{id:qm,className:"fa fa-eye",command:qm,context:qm,attributes:{title:"Preview"}},{id:Wm,className:"fa fa-arrows-alt",command:Wm,context:Wm,attributes:{title:"Fullscreen"}},{id:rw,className:"fa fa-code",command:rw,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:iw,className:"fa fa-paint-brush",command:iw,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:ow,className:"fa fa-cog",command:ow,togglable:!1,attributes:{title:"Settings"}},{id:aw,className:"fa fa-bars",command:aw,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:sw,className:"fa fa-th-large",command:sw,togglable:!1,attributes:{title:"Open Blocks"}}]}]}};const BN=HN;var IN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zN=function(o){IN(n,o);function n(t,e){var r=o.call(this,t,e)||this;return r.get("buttons").length&&r.set("buttons",new US(r.module,r.get("buttons"))),r}return n.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(n.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"active",{get:function(){return this.get("active")},set:function(t){this.set("active",t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),n}(Bl.A);const kS=zN;var FN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),VS=function(o){FN(n,o);function n(t,e){return o.call(this,t,e,kS)||this}return n.prototype.deactivateAllExceptOne=function(t,e){this.forEach(function(r,i){r!==t&&(r.set("active",!1),e&&r.get("buttons").length&&r.get("buttons").deactivateAllExceptOne(t,e))})},n.prototype.deactivateAll=function(t,e){var r=t||"";this.forEach(function(i){i.get("context")==r&&i!==e&&i.set("active",!1,{fromCollection:!0})})},n.prototype.disableAllButtons=function(t){var e=t||"";this.forEach(function(r,i){r.get("context")==e&&r.set("disable",!0)})},n.prototype.disableAllButtonsExceptOne=function(t,e){this.forEach(function(r,i){r!==t&&(r.set("disable",!0),e&&r.get("buttons").length&&r.get("buttons").disableAllButtonsExceptOne(t,e))})},n}(yg);const US=VS;VS.prototype.model=kS;var WN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qN=function(o){WN(n,o);function n(t,e){var r=o.call(this,t,e)||this,i=r.get("buttons")||[];return r.buttons=new US(t,i),r}return n.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(n.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(t){this.set("buttons",t)},enumerable:!1,configurable:!0}),n}(Bl.A);const HS=qN;var GN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),BS=function(o){GN(n,o);function n(t,e){return o.call(this,t,e,HS)||this}return n}(yg);const KN=BS;BS.prototype.model=HS;var YN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yf=function(){return yf=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},yf.apply(this,arguments)},XN=function(o){YN(n,o);function n(t){var e=o.call(this,t)||this,r=e,i=r.model,l=r.em,f=r.pfx,p=r.ppfx,d=i.className,v=i.attributes,_=v.command,w=v.listen;if(e.id=f+i.get("id"),e.activeCls="".concat(f,"active ").concat(p,"four-color"),e.disableCls="".concat(p,"disabled"),e.btnsVisCls="".concat(f,"visible"),e.className=f+"btn"+(d?" "+d:""),e.listenTo(i,"change",e.render),e.listenTo(i,"change:active updateActive",e.updateActive),e.listenTo(i,"checkActive",e.checkActive),e.listenTo(i,"change:bntsVis",e.updateBtnsVis),e.listenTo(i,"change:attributes",e.updateAttributes),e.listenTo(i,"change:className",e.updateClassName),e.listenTo(i,"change:disable",e.updateDisable),l&&(0,H.isString)(_)&&w){var S={fromListen:!0};e.listenTo(l,"run:".concat(_),function(){return i.set("active",!0,S)}),e.listenTo(l,"stop:".concat(_),function(){return i.set("active",!1,S)})}return l&&l.get&&(e.commands=l.get("Commands")),e}return n.prototype.tagName=function(){return this.model.get("tagName")},n.prototype.events=function(){return{click:"clicked"}},n.prototype.updateClassName=function(){var t=this,e=t.model,r=t.pfx,i=e.className,l=e.get("attributes").class,f="".concat(l||""," ").concat(r,"btn ").concat(i||"");this.$el.attr("class",f.trim())},n.prototype.updateAttributes=function(){var t=this,e=t.em,r=t.model,i=t.$el,l=r.get("attributes")||{},f=e&&e.t&&e.t("panels.buttons.titles.".concat(r.id));i.attr(l),f&&i.attr({title:f}),this.updateClassName()},n.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},n.prototype.updateActive=function(t,e,r){var i;r===void 0&&(r={});var l=this,f=l.model,p=l.commands,d=l.$el,v=l.activeCls,_=r.fromCollection,w=r.fromListen,S=f.get("context"),O=f.get("options"),A=f.command,P={};A&&(p&&(0,H.isString)(A)?P=p.get(A)||{}:(0,H.isFunction)(A)?P=p.create({run:A}):A!==null&&(0,H.isObject)(A)&&(P=p.create(A)),f.active?(!_&&((i=f.collection)===null||i===void 0||i.deactivateAll(S,f)),f.set("active",!0,{silent:!0}).trigger("checkActive"),!w&&p.runCommand(P,yf(yf({},O),{sender:f})),P.noStop&&f.set("active",!1)):(d.removeClass(v),!w&&p.stopCommand(P,yf(yf({},O),{sender:f,force:1}))))},n.prototype.updateDisable=function(){var t=this,e=t.disableCls,r=t.model,i=r.disable;this.$el[i?"addClass":"removeClass"](e)},n.prototype.checkActive=function(){var t=this,e=t.model,r=t.$el,i=t.activeCls;e.active?r.addClass(i):r.removeClass(i)},n.prototype.clicked=function(){var t=this.model;t.get("bntsVis")||t.disable||!t.command||this.toggleActive()},n.prototype.toggleActive=function(){var t=this,e=t.model,r=t.em,i=e.active,l=e.togglable;i&&!l||(e.active=!i,i?e.runDefaultCommand&&r.runDefault():e.stopDefaultCommand&&r.stopDefault())},n.prototype.render=function(){var t=this.model,e=t.get("label"),r=this.$el;return!t.get("el")&&r.empty(),this.updateAttributes(),e&&r.append(e),this.checkActive(),this.updateDisable(),this},n}(ca);const ZN=XN;var JN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),QN=function(o){JN(n,o);function n(t){var e=o.call(this,{collection:t})||this;return e.listenTo(e.collection,"add",e.addTo),e.listenTo(e.collection,"reset remove",e.render),e.className=e.pfx+"buttons",e}return n.prototype.addTo=function(t){this.addToCollection(t)},n.prototype.addToCollection=function(t,e){var r=e||null,i=t.get("el"),l=new ZN({el:i,model:t}),f=l.render().el;return r?r.appendChild(f):this.$el.append(f),f},n.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(r){return t.addToCollection(r,e)}),this.$el.append(e),this.$el.attr("class",(0,H.result)(this,"className")),this},n}(ca);const $N=QN;var tk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ry=function(){return Ry=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Ry.apply(this,arguments)},ek=function(o){tk(n,o);function n(t){var e=o.call(this,{model:t,el:t.get("el")})||this;return e.className=e.pfx+"panel",e.id=e.pfx+t.get("id"),e.listenTo(t,"change:appendContent",e.appendContent),e.listenTo(t,"change:content",e.updateContent),e.listenTo(t,"change:visible",e.toggleVisible),t.view=e,e}return n.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},n.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},n.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},n.prototype.attributes=function(){return this.model.get("attributes")},n.prototype.initResize=function(){var t=this.em,e=t==null?void 0:t.Editor,r=this.model.get("resizable");if(e&&r){var i=r===!0?[!0,!0,!0,!0]:r,l=i.length,f=void 0,p=void 0,d=void 0,v=!1;if(l==2){var _=i;f=_[0],d=_[0],p=_[1],v=_[1]}else if(l==4){var _=i;f=_[0],p=_[1],d=_[2],v=_[3]}var w=new e.Utils.Resizer(Ry({tc:f,cr:p,bc:d,cl:v,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:e.getConfig().stylePrefix,onEnd:function(){t.Canvas.refresh({all:!0})},posFetcher:function(S,O){var A=O.target,P=S.style,j=w.getConfig(),z=j.keyWidth,k=j.keyHeight,G=S.getBoundingClientRect(),ot=A=="container",xt=P[z],Nt=P[k],vt=xt&&!ot?parseFloat(xt):G.width,$=Nt&&!ot?parseFloat(Nt):G.height;return{left:0,top:0,width:vt,height:$}}},r&&typeof r!="boolean"?r:{}));w.blur=function(){},w.focus(this.el)}},n.prototype.render=function(){var t=this.model.buttons,e=this.$el,r=this.ppfx,i="".concat(this.className," ").concat(this.id," ").concat(r,"one-bg ").concat(r,"two-color");if(e.addClass(i),this.toggleVisible(),t.length){var l=new $N(t);e.append(l.render().el)}return e.append(this.model.get("content")),this},n}(ca);const nk=ek;var rk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ik=function(o){rk(n,o);function n(t){var e=o.call(this,{collection:t})||this;return e.listenTo(t,"add",e.addTo),e.listenTo(t,"reset",e.render),e.listenTo(t,"remove",e.onRemove),e.className=e.pfx+"panels",e}return n.prototype.onRemove=function(t){var e=t.view;e&&e.remove()},n.prototype.addTo=function(t){this.addToCollection(t)},n.prototype.addToCollection=function(t,e){var r=e||null,i=t.get("el"),l=new nk(t),f=l.render().el,p=t.get("appendTo");if(!i)if(p){var d=document.querySelector(p);d==null||d.appendChild(f)}else r?r.appendChild(f):this.$el.append(f);return l.initResize(),f},n.prototype.render=function(){var t=this,e=this.$el,r=document.createDocumentFragment();return e.empty(),this.collection.each(function(i){return t.addToCollection(i,r)}),e.append(r),e.attr("class",this.className),this},n}(ca);const ok=ik;var ak=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sk=function(o){ak(n,o);function n(t){var e=o.call(this,t,"Panels",BN())||this;return e.panels=new KN(e,e.config.defaults),e}return n.prototype.getPanels=function(){return this.panels},n.prototype.getPanelsEl=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0?void 0:t.el},n.prototype.addPanel=function(t){return this.panels.add(t)},n.prototype.removePanel=function(t){return this.panels.remove(t)},n.prototype.getPanel=function(t){var e=this.panels.where({id:t});return e.length?e[0]:null},n.prototype.addButton=function(t,e){var r=this.getPanel(t);return r?r.buttons.add(e):null},n.prototype.removeButton=function(t,e){var r=this.getPanel(t);return r&&r.buttons.remove(e)},n.prototype.getButton=function(t,e){var r=this.getPanel(t);if(r){var i=r.buttons.where({id:e});return i.length?i[0]:null}return null},n.prototype.render=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0||t.remove(),this.PanelsViewObj=new ok(this.panels),this.PanelsViewObj.render().el},n.prototype.active=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("active")&&e.trigger("updateActive")})})},n.prototype.disableButtons=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("disable")&&e.trigger("change:disable")})})},n.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},n}(Eo);const lk=sk;var uk=function(){return{stylePrefix:"cm-",optsCodeViewer:{}}};const ck=uk;var fk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dk=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},pk=function(o){fk(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.build=function(t,e){e===void 0&&(e={});var r=e.em,i=dk(e,["em"]),l=i;if(e.cleanId&&r){var f=r.Css.getAll(),p=f.toJSON().map(function(d){var v=d.selectors,_=v&&v.length===1&&v.models[0];return _&&_.isId()&&_.get("name")}).filter(Boolean);l.attributes||(l.attributes=function(d,v){var _=v.id;return _&&_[0]==="i"&&!d.get("script")&&!d.get("script-export")&&!d.get("attributes").id&&p.indexOf(_)<0&&delete v.id,v})}return t.toHTML(l)},n}(fe.Kx);const hk=pk;var vk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gk=function(o){vk(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.build=function(t){var e=this,r=t.toJSON();return this.beforeEach(r),(0,H.each)(r,function(i,l){var f=r[l];if(f instanceof fe.Kx)r[l]=e.build(f);else if(f instanceof fe.pM){var p=f;r[l]=[],p.length&&p.forEach(function(d,v){r[l][v]=e.build(d)})}}),r},n.prototype.beforeEach=function(t){delete t.status},n}(fe.Kx);const mk=gk;var yk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function _k(o){var n,t=((n=o.toString().match(/\{([\s\S]*)\}/m))===null||n===void 0?void 0:n[1])||"";return t.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var bk=function(o){yk(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.mapModel=function(t){var e,r=this,i="",l=t.get("script-export")||t.get("script"),f=t.get("type"),p=t.get("components"),d=t.getId();if(l){var v=t.get("attributes");v=(0,H.extend)({},v,{id:d}),t.set("attributes",v,{silent:!0});var _=t.getScriptString(l),w=t.get("script-props");if(t.get("scriptUpdated")&&!w)this.mapJs[f+"-"+d]={ids:[d],code:_};else{var S=void 0,O=this.mapJs[f];if(w&&(S=t.__getScriptProps()),O)O.ids.push(d),S&&(O.props[d]=S);else{var A={ids:[d],code:_};S&&(A.props=(e={},e[d]=S,e)),this.mapJs[f]=A}}}return p.forEach(function(P){i+=r.mapModel(P)}),i},n.prototype.build=function(t){this.mapJs={},this.mapModel(t);var e="";for(var r in this.mapJs){var i=this.mapJs[r];if(i.code)if(i.props){if(_k(i.code))continue;e+=`
          var props = `.concat(JSON.stringify(i.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(i.code,`.bind(el))(props[el.id]);
          }`)}else{var l="#"+i.ids.join(", #");e+=`
          var items = document.querySelectorAll('`.concat(l,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(i.code,`
}.bind(items[i]))();
          }`)}}return e},n}(fe.Kx);const wk=bk;var xk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ly=function(){return Ly=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Ly.apply(this,arguments)},op;(0,Jt.hasWin)()&&(op=wn(4408),wn(8253),wn(7389),wn(3640));var IS=function(o){xk(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},n.prototype.init=function(t){return(0,H.bindAll)(this,"onChange"),this.editor=op.fromTextArea(t,Ly({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=t,this.editor.on("change",this.onChange),this},n.prototype.onChange=function(){this.trigger("update",this)},n.prototype.getEditor=function(){return this.editor},n.prototype.getElement=function(){return this.element},n.prototype.setElement=function(t){return this.element=t,this},n.prototype.refresh=function(){return this.getEditor().refresh(),this},n.prototype.focus=function(){return this.getEditor().focus(),this},n.prototype.getContent=function(){var t=this.getEditor();return t&&t.getValue()},n.prototype.setContent=function(t,e){var r=this;e===void 0&&(e={});var i=this.editor;if(i){i.setValue(t);var l=this.get("autoFormat"),f=i.autoFormatRange&&(l===!0||Array.isArray(l)&&l.includes(this.get("codeName")));f&&(op.commands.selectAll(i),i.autoFormatRange(i.getCursor(!0),i.getCursor(!1)),op.commands.goDocStart(i)),!e.noRefresh&&setTimeout(function(){return r.refresh()})}},n}(fe.Kx);const Sk=IS;IS.prototype.CodeMirror=op;var Ck=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ok=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},Tk=function(o){Ck(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.template=function(t){var e=t.pfx,r=t.codeName,i=t.label;return wo(lw||(lw=Ok([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),e,e,r,e,i,e)},n.prototype.initialize=function(t){this.config=t.config||{},this.pfx=this.config.stylePrefix},n.prototype.render=function(){var t,e,r=this,i=r.model,l=r.pfx,f=r.$el,p=i.toJSON(),d=i.get("input")||((e=(t=i).getElement)===null||e===void 0?void 0:e.call(t));return p.pfx=l,f.html(this.template(p)),f.attr("class","".concat(l,"editor-c")),f.find("#".concat(l,"code")).append(d),this},n}(fe.Ss);const Ek=Tk;var lw,Ak=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fv=function(){return Fv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Fv.apply(this,arguments)},Pk="CodeMirror",Dk=function(o){Ak(n,o);function n(t){var e=o.call(this,t,"CodeManager",ck())||this;e.EditorView=Ek;var r=e.config,i=r.pStylePrefix;return i&&(r.stylePrefix=i+r.stylePrefix),e.generators={},e.viewers={},e.defGenerators={html:new hk,css:new T2,json:new mk,js:new wk},e.defViewers={CodeMirror:new Sk},e.loadDefaultGenerators().loadDefaultViewers(),e}return n.prototype.addGenerator=function(t,e){return this.generators[t]=e,this},n.prototype.getGenerator=function(t){return this.generators[t]},n.prototype.getGenerators=function(){return this.generators},n.prototype.addViewer=function(t,e){return this.viewers[t]=e,this},n.prototype.getViewer=function(t){return this.viewers[t]},n.prototype.getViewers=function(){return this.viewers},n.prototype.createViewer=function(t){t===void 0&&(t={});var e=(0,H.isUndefined)(t.type)?Pk:t.type,r=this.getViewer(e)&&this.getViewer(e).clone(),i=document.createElement("div"),l=document.createElement("textarea");return i.appendChild(l),r.set(Fv(Fv({},this.config.optsCodeViewer),t)),r.init(l),r.setElement(i),r},n.prototype.updateViewer=function(t,e){t.setContent(e)},n.prototype.getCode=function(t,e,r){r===void 0&&(r={}),r.em=this.em;var i=this.getGenerator(e);return i?i.build(t,r):""},n.prototype.loadDefaultGenerators=function(){for(var t in this.defGenerators)this.addGenerator(t,this.defGenerators[t]);return this},n.prototype.loadDefaultViewers=function(){for(var t in this.defViewers)this.addViewer(t,this.defViewers[t]);return this},n.prototype.destroy=function(){},n}(Eo);const Mk=Dk;var jk=wn(4729),Rk=wn.n(jk),Lk=function(){return{maximumStackLength:500,trackSelection:!0}};const Nk=Lk;var bo;(function(o){o.update="update",o.undo="undo",o.redo="redo",o.load="load",o.projectLoad="project:load",o.projectGet="project:get",o.log="log",o.telemetryInit="telemetry:init",o.destroy="destroy",o.destroyed="destroyed"})(bo||(bo={}));var kk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Is=function(){return Is=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Is.apply(this,arguments)},Vk=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},Lh=function(o){return o.avoidStore||o.noUndo||o.partial},uw=function(o){return Object.keys(o.changedAttributes())},Nh=new WeakMap,Uk=function(o){kk(n,o);function n(t){var e=o.call(this,t,"UndoManager",Nk())||this;e.config._disable&&(e.config.maximumStackLength=0);var r=!0;return e.um=new(Rk())(Is({track:!0,register:[]},e.config)),e.um.changeUndoType("change",{condition:function(i){var l=i.get("_undo");if(l){var f=i.get("_undoexc");if((0,H.isArray)(f)&&uw(i).some(function(p){return f.indexOf(p)>=0}))return!1;if((0,H.isBoolean)(l)||(0,H.isArray)(l)&&uw(i).some(function(p){return l.indexOf(p)>=0}))return!0}return!1},on:function(i,l,f){var p=Nh.get(i);p||(p=i.previousAttributes(),Nh.set(i,p));var d=f||l||{};if(d.noUndo&&setTimeout(function(){Nh.delete(i)}),!Lh(d)){var v=i.toJSON({fromUndo:r}),_={object:i,before:p,after:v};return Nh.delete(i),(0,H.isEmpty)(v)?void 0:_}}}),e.um.changeUndoType("add",{on:function(i,l,f){if(f===void 0&&(f={}),!(Lh(f)||!e.isRegistered(l)))return{object:l,before:void 0,after:i,options:Is(Is({},f),{fromUndo:r})}}}),e.um.changeUndoType("remove",{on:function(i,l,f){if(f===void 0&&(f={}),!(Lh(f)||!e.isRegistered(l)))return{object:l,before:i,after:void 0,options:Is(Is({},f),{fromUndo:r})}}}),e.um.changeUndoType("reset",{undo:function(i,l){i.reset(l,{fromUndo:r})},redo:function(i,l,f){i.reset(f,{fromUndo:r})},on:function(i,l){if(l===void 0&&(l={}),!(Lh(l)||!e.isRegistered(i)))return{object:i,before:l.previousModels,after:Vk([],i.models,!0),options:Is(Is({},l),{fromUndo:r})}}}),e.um.on("undo redo",function(){t.getSelectedAll().map(function(i){return i.trigger("rerender:layer")})}),[bo.undo,bo.redo].forEach(function(i){return e.um.on(i,function(){return t.trigger(i)})}),e}return n.prototype.postLoad=function(){var t=this,e=t.config,r=t.em;e.trackSelection&&r&&this.add(r.get("selected"))},n.prototype.add=function(t){return this.um.register(t),this},n.prototype.remove=function(t){return this.um.unregister(t),this},n.prototype.removeAll=function(){return this.um.unregisterAll(),this},n.prototype.start=function(){return this.um.startTracking(),this},n.prototype.stop=function(){return this.um.stopTracking(),this},n.prototype.undo=function(t){t===void 0&&(t=!0);var e=this,r=e.em,i=e.um;return!r.isEditing()&&i.undo(t),this},n.prototype.undoAll=function(){return this.um.undoAll(),this},n.prototype.redo=function(t){t===void 0&&(t=!0);var e=this,r=e.em,i=e.um;return!r.isEditing()&&i.redo(t),this},n.prototype.redoAll=function(){return this.um.redoAll(),this},n.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},n.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},n.prototype.isRegistered=function(t){return!!this.getInstance().objectRegistry.isRegistered(t)},n.prototype.getStack=function(){return this.um.stack},n.prototype.getStackGroup=function(){var t=[],e=[];return this.getStack().forEach(function(r){var i=r.get("magicFusionIndex");e.indexOf(i)<0&&(e.push(i),t.push(r))}),t},n.prototype.skip=function(t){var e=!!this.um.isTracking();e&&this.stop(),t(),e&&this.start()},n.prototype.getGroupedStack=function(){var t={},e=this.getStack(),r=function(i,l){var f=i.attributes,p=f.type,d=f.after,v=f.before,_=f.object,w=f.options,S=w===void 0?{}:w;return{index:l,type:p,after:d,before:v,object:_,options:S}};return e.forEach(function(i,l){var f=i.get("magicFusionIndex"),p=r(i,l);t[f]?t[f].push(p):t[f]=[p]}),Object.keys(t).map(function(i){var l=t[i];return{index:l[l.length-1].index,actions:l,labels:(0,H.unique)(l.reduce(function(f,p){var d,v=(d=p.options)===null||d===void 0?void 0:d.action;return v&&f.push(v),f},[]))}})},n.prototype.goToGroup=function(t){var e=this;if(t){var r=this.getPointer(),i=t.index-r;(0,H.times)(Math.abs(i),function(){e[i<0?"undo":"redo"](!1)})}},n.prototype.getPointer=function(){return this.getStack().pointer},n.prototype.clear=function(){return this.um.clear(),this},n.prototype.getInstance=function(){return this.um},n.prototype.destroy=function(){this.clear().removeAll()},n}(Eo);const Hk=Uk;var Bk=function(){return{stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1}};const Ik=Bk;var _f=function(){return _f=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},_f.apply(this,arguments)},Wv;(function(o){o[o.ACTIVE=1]="ACTIVE",o[o.INACTIVE=0]="INACTIVE",o[o.DISABLED=-1]="DISABLED"})(Wv||(Wv={}));var Gm="_rte",Uu={ACTIVE:1,INACTIVE:0,DISABLED:-1},kh=function(o,n){n===void 0&&(n="A");var t=o.selection()||{},e=t.anchorNode,r=t.focusNode,i=e==null?void 0:e.parentNode,l=r==null?void 0:r.parentNode;return(i==null?void 0:i.nodeName)==n||(l==null?void 0:l.nodeName)==n},qv="data-selectme",qd={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(o){return o.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(o){return o.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(o){return o.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(o){return o.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(o){return o&&o.selection()&&kh(o)?Uu.ACTIVE:Uu.INACTIVE},result:function(o){kh(o)?o.exec("unlink"):o.insertHTML('<a href="" '.concat(qv,">").concat(o.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(o){return o!=null&&o.selection()&&kh(o,"SPAN")?Uu.DISABLED:Uu.INACTIVE},result:function(o){!kh(o,"SPAN")&&o.insertHTML("<span ".concat(qv,">").concat(o.selection(),"</span>"),{select:!0})}}},zk=function(){function o(n,t,e){e===void 0&&(e={});var r=this;if(this.em=n,this.settings=e,t[Gm])return t[Gm];t[Gm]=this,this.setEl(t),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var i=(e.actions||[]).map(function(v){var _=v;return(0,H.isString)(v)?_=_f({},qd[v]):qd[v.name]&&(_=_f(_f({},qd[v.name]),v)),_}),l=i.length?i:Object.keys(qd).map(function(v){return qd[v]});e.classes=_f({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},e.classes);var f=e.classes,p=e.actionbar;if(this.actionbar=p,this.classes=f,this.actions=l,!p){if(!this.isCustom(e.module)){var d=e.actionbarContainer;p=document.createElement("div"),p.className=f.actionbar,d==null||d.appendChild(p),this.actionbar=p}l.forEach(function(v){return r.addAction(v)})}return e.styleWithCSS&&this.exec("styleWithCSS"),this}return o.prototype.isCustom=function(n){var t=n||this.em.RichTextEditor;return!!(t!=null&&t.config.custom||t!=null&&t.customRte)},o.prototype.destroy=function(){},o.prototype.setEl=function(n){this.el=n,this.doc=n.ownerDocument},o.prototype.updateActiveActions=function(){var n=this,t=this.getActions();t.forEach(function(e){var r=e.update,i=e.btn,l=n.classes,f=l.active,p=l.inactive,d=l.disabled,v=e.state,_=e.name,w=n.doc,S=Wv.INACTIVE;if(i&&(i.className=i.className.replace(f,"").trim(),i.className=i.className.replace(p,"").trim(),i.className=i.className.replace(d,"").trim()),v){var O=v(n,w);if(S=O,i)switch(O){case Uu.ACTIVE:i.className+=" ".concat(f);break;case Uu.INACTIVE:i.className+=" ".concat(p);break;case Uu.DISABLED:i.className+=" ".concat(d);break}}else w.queryCommandSupported(_)&&w.queryCommandState(_)&&(i&&(i.className+=" ".concat(f)),S=Wv.ACTIVE);e.currentState=S,r==null||r(n,e)}),t.length&&this.em.RichTextEditor.__dbdTrgCustom()},o.prototype.enable=function(n){return this.enabled?this:this.__toggleEffects(!0,n)},o.prototype.disable=function(){return this.__toggleEffects(!1)},o.prototype.__toggleEffects=function(n,t){n===void 0&&(n=!1),t===void 0&&(t={});var e=n?ye.on:ye.AU,r=this,i=r.el,l=r.doc,f=this.actionbarEl();if(f&&(f.style.display=n?"":"none"),i.contentEditable="".concat(!!n),e(i,"mouseup keyup",this.updateActiveActions),e(l,"keydown",this.__onKeydown),e(l,"paste",this.__onPaste),this.enabled=n,n){var p=t.event;if(this.syncActions(),this.updateActiveActions(),p){var d=null;if(l.caretRangeFromPoint){var v=(0,ye.G2)(p);d=l.caretRangeFromPoint(v.clientX,v.clientY)}else p.rangeParent&&(d=l.createRange(),d.setStart(p.rangeParent,p.rangeOffset));var _=l.getSelection();_==null||_.removeAllRanges(),d&&(_==null||_.addRange(d))}i.focus()}return this},o.prototype.__onKeydown=function(n){var t=this.em,e=t.RichTextEditor.getConfig().onKeydown;if(e)return e({ev:n,rte:this,editor:t.getEditor()});var r=this.doc,i=["insertOrderedList","insertUnorderedList"];n.key==="Enter"&&!i.some(function(l){return r.queryCommandState(l)})&&(r.execCommand("insertLineBreak"),n.preventDefault())},o.prototype.__onPaste=function(n){var t=this.em,e=t.RichTextEditor.getConfig().onPaste;if(e)return e({ev:n,rte:this,editor:t.getEditor()});var r=n.clipboardData,i=r.getData("text"),l=r.getData("text/html");if(i&&!l){n.preventDefault();var f=i.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,f)}},o.prototype.syncActions=function(){var n=this;this.getActions().forEach(function(t){if(n.actionbar&&(!t.state||t.state&&t.state(n,n.doc)>=0)){var e=t.event||"click",r=t.btn;r&&(r["on".concat(e)]=function(){t.result(n,t),n.updateActiveActions()})}})},o.prototype.addAction=function(n,t){t===void 0&&(t={});var e=t.sync,r=this.actionbarEl();if(r){var i=n.icon,l=n.attributes,f=l===void 0?{}:l,p=document.createElement("span");p.className=this.classes.button,n.btn=p;for(var d in f)p.setAttribute(d,f[d]);typeof i=="string"?p.innerHTML=i:p.appendChild(i),r.appendChild(p)}e&&(this.actions.push(n),this.syncActions())},o.prototype.getActions=function(){return this.actions},o.prototype.selection=function(){return this.doc.getSelection()},o.prototype.exec=function(n,t){this.doc.execCommand(n,!1,t)},o.prototype.actionbarEl=function(){return this.actionbar},o.prototype.insertHTML=function(n,t){var e=t===void 0?{}:t,r=e.select,i=this,l=i.em,f=i.doc,p=i.el,d=f.getSelection();if(d&&d.rangeCount){var v=(0,Jt.getComponentModel)(p)||l.getSelected(),_=f.createElement("div"),w=d.getRangeAt(0);w.deleteContents(),(0,H.isString)(n)?_.innerHTML=n:n&&_.appendChild(n),Array.prototype.slice.call(_.childNodes).forEach(function(S){w.insertNode(S)}),d.removeAllRanges(),d.addRange(w),p.focus(),r&&v&&(v.once("rte:disable",function(){var S=v.find("[".concat(qv,"]"))[0];S&&(l.setSelected(S),S.removeAttributes(qv))}),v.trigger("disable"))}},o}();const Fk=zk;var Wk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gv=function(){return Gv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Gv.apply(this,arguments)},Km=function(o,n,t,e){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function f(v){try{d(e.next(v))}catch(_){l(_)}}function p(v){try{d(e.throw(v))}catch(_){l(_)}}function d(v){v.done?i(v.value):r(v.value).then(f,p)}d((e=e.apply(o,n||[])).next())})},Ym=function(o,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(d){return function(v){return p([d,v])}}function p(d){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(t=0)),t;)try{if(e=1,r&&(i=d[0]&2?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,r=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){t.label=d[1];break}if(d[0]===6&&t.label<i[1]){t.label=i[1],i=d;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(d);break}i[2]&&t.ops.pop(),t.trys.pop();continue}d=n.call(o,t)}catch(v){d=[6,v],r=0}finally{e=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},qk=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},Xm="".concat(zh.refresh," frame:scroll ").concat(Jn.I.update),Gk="rte:enable",Kk="rte:disable",Yk="rte:custom",Xk={enable:Gk,disable:Kk,custom:Yk},Zk=function(o){Wk(n,o);function n(t){var e=o.call(this,t,"RichTextEditor",Ik())||this;e.events=Xk;var r=e.config,i=r.pStylePrefix;i&&(r.stylePrefix=i+r.stylePrefix),e.pfx=r.stylePrefix,e.actions=r.actions||[];var l=new fe.Kx;return e.model=l,l.on("change:currentView",e.__trgCustom,e),e.__dbdTrgCustom=(0,H.debounce)(function(){return e.__trgCustom()},0),e}return n.prototype.onLoad=function(){if((0,Jt.hasWin)()){var t=this.config,e=t.pStylePrefix,r=t.custom,i=(0,ye.a_)("div",{class:(0,ye.cx)("".concat(e,"rte-toolbar"),!r&&"".concat(e,"one-bg ").concat(e,"rte-toolbar-ui"))});this.toolbar=i,this.initRte((0,ye.a_)("div")),(0,ye.on)(i,"mousedown",function(l){return l.stopPropagation()})}},n.prototype.__trgCustom=function(){var t=this,e=t.model,r=t.em,i=t.events;r.trigger(i.custom,{enabled:!!e.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},n.prototype.destroy=function(){var t,e,r;(t=this.globalRte)===null||t===void 0||t.destroy(),(r=(e=this.customRte)===null||e===void 0?void 0:e.destroy)===null||r===void 0||r.call(e),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,ye.YZ)(this.toolbar)},n.prototype.postRender=function(t){var e=t.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),e.getToolsEl().appendChild(this.toolbar)},n.prototype.initRte=function(t){var e=this.globalRte,r=this,i=r.em,l=r.pfx,f=r.actionbar,p=r.config,d=this.actions||qk([],p.actions,!0),v={actionbar:"".concat(l,"actionbar"),button:"".concat(l,"action"),active:"".concat(l,"active"),inactive:"".concat(l,"inactive"),disabled:"".concat(l,"disabled")};return e?(e.em=i,e.setEl(t)):(e=new Fk(i,t,{classes:v,actions:d,actionbar:f,actionbarContainer:this.toolbar,module:this}),this.globalRte=e),e.actionbar&&(this.actionbar=e.actionbar),e.actions&&(this.actions=e.actions),e},n.prototype.add=function(t,e){var r;e===void 0&&(e={}),e.name=t,(r=this.globalRte)===null||r===void 0||r.addAction(e,{sync:!0})},n.prototype.get=function(t){var e,r;return(e=this.globalRte)===null||e===void 0||e.getActions().forEach(function(i){i.name==t&&(r=i)}),r},n.prototype.getAll=function(){var t;return((t=this.globalRte)===null||t===void 0?void 0:t.getActions())||[]},n.prototype.remove=function(t){var e,r=this.getAll(),i=this.get(t);if(i){var l=i.btn,f=r.indexOf(i);(e=l==null?void 0:l.parentNode)===null||e===void 0||e.removeChild(l),r.splice(f,1)}return i},n.prototype.run=function(t){var e=this.globalRte,r=(0,H.isString)(t)?this.get(t):t;e&&r&&(r.result(e,r),e.updateActiveActions())},n.prototype.getToolbarEl=function(){return this.toolbar},n.prototype.updatePosition=function(){var t=this,e=t.em,r=t.toolbar,i="px",l=e.Canvas,f=r.style,p=l.getTargetToElementFixed(this.lastEl,r,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(d){var v=p[d];(0,Jt.isDef)(v)&&(f[d]=(0,H.isString)(v)?v:(v||0)+i)})},n.prototype.enable=function(t,e,r){return Km(this,void 0,void 0,function(){var i,l,f,p,d;return Ym(this,function(v){switch(v.label){case 0:return this.lastEl=t.el,i=this,l=i.customRte,f=i.em,p=t.getChildrenContainer(),this.toolbar.style.display="",[4,l?l.enable(p,e,r):this.initRte(p).enable(r)];case 1:return d=v.sent(),f&&(setTimeout(this.updatePosition.bind(this),0),f.off(Xm,this.updatePosition,this),f.on(Xm,this.updatePosition,this),f.trigger("rte:enable",t,d)),this.model.set({currentView:t}),[2,d]}})})},n.prototype.getContent=function(t,e){return Km(this,void 0,void 0,function(){var r,i;return Ym(this,function(l){switch(l.label){case 0:return r=this.customRte,i=t.getChildrenContainer(),r&&e&&(0,H.isFunction)(r.getContent)?[4,r.getContent(i,e,{view:t})]:[3,2];case 1:return[2,l.sent()];case 2:return[2,i.innerHTML]}})})},n.prototype.hideToolbar=function(){var t=this.toolbar.style,e="-1000px";t.top=e,t.left=e,t.display="none"},n.prototype.disable=function(t,e){return Km(this,arguments,void 0,function(r,i,l){var f,p,d,v;return l===void 0&&(l={}),Ym(this,function(_){switch(_.label){case 0:return f={},p=this.em,d=this.customRte,d?[4,d.disable(r.getChildrenContainer(),i,Gv(Gv({},l),{view:r}))]:[3,2];case 1:return v=_.sent(),v&&(f=v),[3,3];case 2:i&&i.disable(),_.label=3;case 3:return this.hideToolbar(),p&&(p.off(Xm,this.updatePosition,this),!l.fromMove&&p.trigger("rte:disable",r,i)),this.model.unset("currentView"),[2,f]}})})},n}(Eo);const Jk=Zk;var Qk=function(){return{sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]}};const $k=Qk;var tV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xi=function(){return Xi=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Xi.apply(this,arguments)},eV=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},cw=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},c0=function(o){tV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.getDefaults=function(){return(0,H.result)(this.prototype,"defaults")},n.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.em=e.em;var r=this.getId()||"",i=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(i||r).replace(/ /g,"-"));var l=this.get("property");!this.get("id")&&this.set("id",l),!i&&this.set("name",(0,Jt.capitalize)(l).replace(/-/g," ")),this.on("change",this.__upTargets),n.callInit(this,t,e)},n.prototype.__getParentProp=function(){var t,e;return(e=(t=this.collection)===null||t===void 0?void 0:t.opts)===null||e===void 0?void 0:e.parentProp},n.prototype.__upTargets=function(t,e){var r,i=this;e===void 0&&(e={});var l=this.em,f=l.Styles,p=this.getName(),d=e.__clear,v=d?"":this.__getFullValue(e),_=this.__getParentProp(),w=this.changedAttributes(),S=(0,H.keys)(w).reduce(function(k,G){return k[G]=i.previous(G),k},{}),O=cw(cw([],(0,H.keys)(this.__getClearProps()),!0),["__p"],!1),A=(0,H.keys)(w),P=!e.__up&&!_&&(d||O.some(function(k){return A.indexOf(k)>=0})),j=this.get("onChange"),z={property:this,from:S,to:w,value:v,opts:e};f.__trgEv(f.events.propertyUpdate,z),j&&j(z),P&&this.__upTargetsStyle((r={},r[p]=v,r),e)},n.prototype.__upTargetsStyle=function(t,e){var r,i=(r=this.em)===null||r===void 0?void 0:r.get("StyleManager");i==null||i.addStyleTargets(Xi(Xi({},t),{__p:!!e.avoidStore}),e)},n.prototype._up=function(t,e){e===void 0&&(e={}),e.noTarget&&(e.__up=!0);var r=e.partial,i=eV(e,["partial"]);return t.__p=!!(i.avoidStore||r),this.set(t,Xi(Xi({},i),{avoidStore:t.__p}))},n.prototype.up=function(t,e){e===void 0&&(e={}),this.set(t,Xi(Xi({},e),{__up:!0}))},n.prototype.init=function(){},n.prototype.getId=function(){return this.get("id")},n.prototype.getType=function(){return this.get("type")},n.prototype.getName=function(){return this.get("property")},n.prototype.getLabel=function(t){var e;t===void 0&&(t={});var r=t.locale,i=r===void 0?!0:r,l=this.getId(),f=this.get("name")||this.get("label");return i&&((e=this.em)===null||e===void 0?void 0:e.t("styleManager.properties.".concat(l)))||f},n.prototype.getValue=function(t){t===void 0&&(t={});var e=t.noDefault,r=this.get("value");return!this.hasValue()&&!e?this.getDefaultValue():r},n.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent,r=e&&this.getParentTarget(),i=this.get("value");return!(0,H.isUndefined)(i)&&i!==""&&!r},n.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},n.prototype.getStyle=function(t){var e;t===void 0&&(t={});var r=this.getName(),i=t.camelCase?(0,Jt.camelCase)(r):r;return e={},e[i]=this.__getFullValue(t),e},n.prototype.getDefaultValue=function(){var t=this.get("default");return"".concat((0,H.isUndefined)(t)?this.get("defaults"):t)},n.prototype.upValue=function(t,e){e===void 0&&(e={});var r=t===null||t===""?this.__getClearProps():this.__parseValue(t,e);return this._up(r,e)},n.prototype.isVisible=function(){return!!this.get("visible")},n.prototype.clear=function(t){return t===void 0&&(t={}),this._up(this.__getClearProps(),Xi(Xi({},t),{__clear:!0})),this},n.prototype.canClear=function(){var t=this.getParent();return t?t.__canClearProp(this):this.hasValue({noParent:!0})},n.prototype.getParent=function(){return this.__getParentProp()},n.prototype.isFull=function(){return!!this.get("full")},n.prototype.__parseValue=function(t,e){return this.parseValue(t,e)},n.prototype.__getClearProps=function(){return{value:"",important:!1}},n.prototype.setValue=function(t,e,r){e===void 0&&(e=!0),r===void 0&&(r={});var i=this.parseValue(t),l=!e;!l&&this.set({value:void 0},{avoidStore:l,silent:!0}),this.set(i,Xi({avoidStore:l},r))},n.prototype.setValueFromInput=function(t,e,r){r===void 0&&(r={}),this.setValue(t,e,Xi(Xi({},r),{fromInput:1}))},n.prototype.parseValue=function(t,e){e===void 0&&(e={});var r={value:t},i="!important",l=this.get("functionName")||"";if((0,H.isString)(t)&&t.indexOf(i)!==-1&&(r.value=t.replace(i,"").trim(),r.important=!0),!l&&!e.complete)return r;var f=[],p="".concat(r.value).trim(),d=p.indexOf("(")+1,v=l||p.substring(0,d-1);if(v&&(r.functionName=v),!l||p.indexOf("".concat(l,"("))===0){var _=p.lastIndexOf(")");f.push(d),_>=0&&f.push(_),r.value=String.prototype.substring.apply(p,f)}if(e.numeric){var w=parseFloat(r.value);r.unit=r.value.replace(w,""),r.value=w}return r},n.prototype.__getFullValue=function(t){var e=t===void 0?{}:t,r=e.withDefault;return!this.hasValue()&&r?this.getDefaultValue():this.getFullValue()},n.prototype.getFullValue=function(t,e){e===void 0&&(e={});var r=this.get("functionName"),i=this.getDefaultValue(),l=(0,H.isUndefined)(t)?this.get("value"):t,f=this.hasValue();if(l&&i&&l===i)return i;if(r&&f){var p=r==="url"?"'".concat(l.replace(/'|"/g,""),"'"):l;l="".concat(r,"(").concat(p,")")}return f&&this.get("important")&&!e.skipImportant&&(l="".concat(l," !important")),l||""},n.prototype.__setParentTarget=function(t){this.up({parentTarget:t})},n.prototype.getParentTarget=function(){return this.get("parentTarget")||null},n.prototype.__parseFn=function(t){t===void 0&&(t="");var e=t.indexOf("(")+1,r=t.lastIndexOf(")");return{name:t.substring(0,e-1).trim(),value:String.prototype.substring.apply(t,[e,r>=0?r:void 0]).trim()}},n.prototype.__checkVisibility=function(t){var e=t.target,r=t.component,i=t.sectors,l=r||e;if(!l)return!1;var f=this.getId(),p=this.getName(),d=this.get("toRequire"),v=this.get("requires"),_=this.get("requiresParent"),w=l.get("unstylable"),S=l.get("stylable-require"),O=l.get("stylable");if((0,H.isArray)(O)&&(O=O.indexOf(p)>=0),(0,H.isArray)(w)&&(O=w.indexOf(p)<0),d&&(O=!e||S&&(S.indexOf(f)>=0||S.indexOf(p)>=0)),i&&v){var A=(0,H.keys)(v);i.forEach(function(k){k.getProperties().forEach(function(G){if((0,H.includes)(A,G.id)){var ot=v[G.id];O=O&&(0,H.includes)(ot,G.get("value"))}})})}if(_){var P=r&&r.parent(),j=P&&P.getEl();if(j){var z=(0,Jt.hasWin)()?window.getComputedStyle(j):{};(0,H.each)(_,function(k,G){O=O&&z[G]&&(0,H.includes)(k,z[G])})}else O=!1}return!!O},n}(fe.Kx);const or=c0;c0.callParentInit=function(o,n,t,e){e===void 0&&(e={}),o.prototype.initialize.apply(n,[t,Xi(Xi({},e),{skipInit:1})])};c0.callInit=function(o,n,t){t===void 0&&(t={}),!t.skipInit&&o.init(n,t)};var nV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bf=function(){return bf=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},bf.apply(this,arguments)},fw=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},zS=function(o){return o==="integer"||o==="number"},rV=function(o){nV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return bf(bf({},or.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),or.callParentInit(or,this,t,e);var r=this.em,i=new d0(this.get("properties")||[],{em:r,parentProp:this});this.set("properties",i,{silent:!0}),this.listenTo(i,"change",this.__upProperties),or.callInit(this,t,e)},Object.defineProperty(n.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),n.prototype.getProperties=function(){return fw([],this.get("properties").models,!0)},n.prototype.getProperty=function(t){return this.properties.filter(function(e){return e.getId()===t||e.getName()===t})[0]},n.prototype.getPropertyAt=function(t){return this.get("properties").at(t)},n.prototype.isDetached=function(){return!!this.get("detached")},n.prototype.getValues=function(t){var e=t===void 0?{}:t,r=e.byName;return this.getProperties().reduce(function(i,l){var f=r?l.getName():l.getId();return i[f]="".concat(l.__getFullValue()),i},{})},n.prototype.getSeparator=function(){return this.getSplitSeparator()},n.prototype.getJoin=function(){return this.__getJoin()},n.prototype.getStyleFromProps=function(t){var e;t===void 0&&(t={});var r=this.getName(),i=this.__getJoin(),l=this.get("toStyle"),f=this.getValues(),p={};if(l)p=l(f,{join:i,name:r,property:this});else if(f=this.getValues({byName:!0}),this.isDetached())p=f;else{var d=this.getProperties().map(function(v){return v.__getFullValue({withDefault:1})}).filter(Boolean).join(i);p=(e={},e[r]=d,e)}return this.isDetached()?p[r]="":(p[r]=p[r]||"",p=bf(bf({},p),this.getProperties().reduce(function(v,_){return v[_.getName()]="",v},{}))),t.camelCase?Object.keys(p).reduce(function(v,_){return v[(0,Jt.camelCase)(_)]=p[_],v},{}):p},n.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},n.prototype.__upProperties=function(t,e){if(e===void 0&&(e={}),!(e.__up||e.__clearIn)){var r=this.__getParentProp();if(r)return r.__upProperties(this,e);this.__upTargetsStyleProps(e,t)}},n.prototype.__upTargetsStyleProps=function(t,e){var r;t===void 0&&(t={});var i=this.getStyleFromProps();if(this.isDetached()&&e){var l=e.getName();i=(r={},r[l]=i[l],r)}this.__upTargetsStyle(i,t)},n.prototype._up=function(t,e){return e===void 0&&(e={}),this.__setProperties(this.__getSplitValue(t.value),e),or.prototype._up.call(this,t,e),this},n.prototype.getStyle=function(t){return this.getStyleFromProps(t)},n.prototype.__getFullValue=function(t){if(t===void 0&&(t={}),this.isDetached()||t.__clear)return"";var e=this.getStyleFromProps()[this.getName()]||"";return dy(e)},n.prototype.__getJoin=function(){var t=this.get("join");return(0,H.isString)(t)?t:this.get("separator")},n.prototype.__styleHasProps=function(t){t===void 0&&(t={});var e=this.getName(),r=this.getProperties(),i=r.map(function(f){return f.getName()}),l=fw([e],i,!0);return l.some(function(f){return!(0,H.isUndefined)(t[f])&&t[f]!==""})},n.prototype.__splitValue=function(t,e){return dy(t).split(e).map(function(r){return r.trim()}).filter(Boolean)},n.prototype.__splitStyleName=function(t,e,r){var i=t[e];return this.__splitValue(i||"",r)},n.prototype.__getSplitValue=function(t,e){t===void 0&&(t="");var r=e===void 0?{}:e,i=r.byName,l=this.getProperties(),f=l.length===4&&l.every(function(v){return zS(v.getType())}),p=this.__splitValue(t,this.getSplitSeparator()),d={};return l.forEach(function(v,_){var w=p[_],S=(0,H.isUndefined)(w)?"":w;if(f){var O=p.length;S=p[_]||p[_%O+(O!=1&&O%2?1:0)]||S}var A=i?v.getName():v.getId();d[A]=S||""}),d},n.prototype.__getPropsFromStyle=function(t,e){if(t===void 0&&(t={}),e===void 0&&(e={}),!this.__styleHasProps(t))return null;var r=e.byName,i=this.getName(),l=this.getProperties(),f=this.getSplitSeparator(),p=this.get("fromStyle"),d=p?p(t,{property:this,name:i,separator:f}):{};if(!p){var v=t[i];d=this.__getSplitValue(v||"",{byName:r}),l.forEach(function(_){var w=t[_.getName()],S=r?_.getName():_.getId();!(0,H.isUndefined)(w)&&w!==""&&(d[S]=w)})}return d},n.prototype.__setProperties=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.getProperties().forEach(function(i){var l=t[i.getId()];i.__getFullValue()!==l&&i.upValue(l,e)});var r=(0,H.keys)(t).map(function(i){return t[i]}).join(" ");this.set("value",r,{silent:!0})},n.prototype.clear=function(){var t=this;return this.getProperties().map(function(e){return e.clear({__clearIn:!t.isDetached()})}),or.prototype.clear.call(this),this},n.prototype.hasValue=function(t){return this.getProperties().some(function(e){return e.hasValue(t)})},n.prototype.getFullValue=function(){return this.__getFullValue()},n.prototype.__canClearProp=function(t){return this.isDetached()&&t.hasValue({noParent:!0})},n}(or);const nf=rV;var iV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yo=function(){return yo=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},yo.apply(this,arguments)},oV=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},aV=/,(?![^\(]*\))/,sV=/\s(?![^(]*\))/,lV=function(o){iV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return yo(yo({},nf.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),nf.callParentInit(nf,this,t,e);var r=this.get("layers"),i=new Gh(r,{prop:this});i.property=this,i.properties=this.get("properties"),this.set("layers",i,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(i,"add remove",this.__upLayers),nf.callInit(this,t,e)},Object.defineProperty(n.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),n.prototype.getLayers=function(){return this.layers.models},n.prototype.hasLayers=function(){return this.getLayers().length>0},n.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers.at(t)||void 0},n.prototype.getSelectedLayer=function(){var t=this.get("selectedLayer");return t&&t.getIndex()>=0?t:void 0},n.prototype.selectLayer=function(t){return this.set("selectedLayer",t,{__select:!0})},n.prototype.selectLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e&&this.selectLayer(e)},n.prototype.moveLayer=function(t,e){e===void 0&&(e=0);var r=this.layers,i=t?t.getIndex():-1;i>=0&&(0,H.isNumber)(e)&&e>=0&&e<r.length&&i!==e&&(this.removeLayer(t),r.add(t,{at:e}))},n.prototype.addLayer=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var r={};this.getProperties().forEach(function(l){var f=l.getId(),p=t[f];r[f]=(0,H.isUndefined)(p)?l.getDefaultValue():p});var i=this.layers.push({values:r},e);return i},n.prototype.removeLayer=function(t){return this.layers.remove(t)},n.prototype.removeLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e?this.removeLayer(e):null},n.prototype.getLayerLabel=function(t){var e="";if(t){var r=this.get("layerLabel"),i=t.getValues(),l=t.getIndex();if(r)e=r(t,{index:l,values:i,property:this});else{var f=[];this.getProperties().map(function(p){f.push(i[p.getId()])}),e=f.filter(Boolean).join(" ")}}return e},n.prototype.getStyleFromLayer=function(t,e){var r;e===void 0&&(e={});var i=this.__getJoin(),l=this.__getJoinLayers(),f=this.get("toStyle"),p=this.getName(),d=t.getValues(),v;if(f)v=f(d,{join:i,joinLayers:l,name:p,layer:t,property:this});else{var _=this.getProperties().map(function(w){var S=w.getName(),O=d[w.getId()],A=(0,H.isUndefined)(O)?w.getDefaultValue():O;if(e.number&&zS(w.getType())){var P=w.parseValue(O,e.number);A="".concat(P.value).concat(P.unit)}return{name:S,value:A}});v=this.isDetached()?_.reduce(function(w,S){return w[S.name]=S.value,w},{}):(r={},r[this.getName()]=_.map(function(w){return w.value}).join(i),r)}return e.camelCase?Object.keys(v).reduce(function(w,S){return w[(0,Jt.camelCase)(S)]=v[S],w},{}):v},n.prototype.getStylePreview=function(t,e){e===void 0&&(e={});var r={},i=this.get("preview");return i&&(r=this.getStyleFromLayer(t,e)),r},n.prototype.getLayerSeparator=function(){var t=this.get("layerSeparator");return(0,H.isString)(t)?new RegExp("".concat(t,"(?![^\\(]*\\))")):t},n.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},n.prototype.__upProperties=function(t,e){var r;e===void 0&&(e={});var i=this.getSelectedLayer();i&&(i.upValues((r={},r[t.getId()]=t.__getFullValue(),r)),!e.__up&&this.__upTargetsStyleProps(e))},n.prototype.__upLayers=function(t,e,r){this.__upTargetsStyleProps(r||e)},n.prototype.__upTargets=function(t,e){if(e===void 0&&(e={}),!e.__select)return or.prototype.__upTargets.call(this,t,e)},n.prototype.__upTargetsStyleProps=function(t){t===void 0&&(t={}),this.__upTargetsStyle(this.getStyleFromLayers(t),t)},n.prototype.__upTargetsStyle=function(t,e){return or.prototype.__upTargetsStyle.call(this,t,e)},n.prototype.__upSelected=function(t,e){var r=t===void 0?{}:t,i=r.noEvent;e===void 0&&(e={});var l=this.em.Styles,f=this.getSelectedLayer(),p=f==null?void 0:f.getValues();p&&this.getProperties().forEach(function(d){var v,_=(v=p[d.getId()])!==null&&v!==void 0?v:"";d.__getFullValue()!==_&&d.upValue(_,yo(yo({},e),{__up:!0}))}),!i&&l.__trgEv(l.events.layerSelect,{property:this})},n.prototype._up=function(t,e){e===void 0&&(e={});var r=t.__layers,i=r===void 0?[]:r,l=oV(t,["__layers"]);return!this.isDetached()&&this.__setLayers(i),this.__upSelected({noEvent:!0},e),or.prototype._up.call(this,l,e),this},n.prototype.__setLayers=function(t,e){t===void 0&&(t=[]),e===void 0&&(e={});var r=this.layers,i=t.map(function(l){return{values:l}});r.length===i.length?i.map(function(l,f){var p;return(p=r.at(f))===null||p===void 0?void 0:p.upValues(l.values)}):r.reset(i),this.set({isEmptyValue:!!e.isEmptyValue}),this.__upSelected({noEvent:!0})},n.prototype.__parseValue=function(t){var e=this,r=this.parseValue(t);return r.__layers=t.split(aV).map(function(i){return i.trim()}).map(function(i){return e.__parseLayer(i)}).filter(Boolean),r},n.prototype.__parseLayer=function(t){var e=this.get("parseLayer"),r=t.split(sV),i=this.getProperties();return e?e({value:t,values:r}):i.reduce(function(l,f,p){var d=r[p];return l[f.getId()]=(0,H.isUndefined)(d)?f.getDefaultValue():d,l},{})},n.prototype.__getLayersFromStyle=function(t){var e=this;if(t===void 0&&(t={}),!this.__styleHasProps(t))return null;if(this.isEmptyValueStyle(t))return[];var r=this.getName(),i=this.getProperties(),l=this.getLayerSeparator(),f=this.attributes.fromStyle,p=f?f(t,{property:this,name:r,separatorLayers:l}):[];if(!f){var d=this.__splitStyleName(t,r,l).map(function(v){return v.split(e.getSplitSeparator())}).map(function(v){var _={};return i.forEach(function(w,S){var O=v[S];_[w.getId()]=(0,H.isUndefined)(O)?w.getDefaultValue():O}),_});i.forEach(function(v){var _=v.getId();e.__splitStyleName(t,v.getName(),l).map(function(w){var S;return S={},S[_]=w||v.getDefaultValue(),S}).forEach(function(w,S){d[S]=d[S]?yo(yo({},d[S]),w):w})}),p=d}return(0,H.isArray)(p)?p:[p]},n.prototype.getStyle=function(t){return t===void 0&&(t={}),this.getStyleFromLayers(t)},n.prototype.getStyleFromLayers=function(t){var e=this;t===void 0&&(t={});var r={},i=this.getName(),l=this.getLayers(),f=this.getProperties(),p=l.map(function(v){return e.getStyleFromLayer(v,t)});if(p.forEach(function(v){(0,H.keys)(v).map(function(_){r[_]||(r[_]=[]),r[_].push(v[_])})}),(0,H.keys)(r).map(function(v){r[v]=r[v].join(e.__getJoinLayers())}),this.isDetached())r[i]="",!l.length&&f.map(function(v){r[v.getName()]=""});else{var d=f.reduce(function(v,_){return v[_.getName()]="",v},{});r[i]=r[i]||"",r=yo(yo({},r),d)}return yo(yo({},r),t.__clear?{}:this.getEmptyValueStyle())},n.prototype.isEmptyValueStyle=function(t){t===void 0&&(t={});var e=this.getEmptyValueStyle({force:!0}),r=(0,H.keys)(e);return!!r.length&&r.every(function(i){return e[i]===t[i]})},n.prototype.getEmptyValueStyle=function(t){t===void 0&&(t={});var e=this.attributes.emptyValue;if(e&&(!this.hasLayers()||t.force)){var r=this.getName(),i=this.getProperties(),l=(0,H.isString)(e)?e:e({property:this});if((0,H.isString)(l)){var f={};return this.isDetached()?i.map(function(p){f[p.getName()]=l}):f[r]=l,f}else return l}else return{}},n.prototype.__getJoinLayers=function(){var t=this.get("layerJoin"),e=this.get("layerSeparator");return t||((0,H.isString)(e)?e:t)},n.prototype.__getFullValue=function(){if(this.get("detached"))return"";var t=this.getStyleFromLayers();return dy(t[this.getName()])},n.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent,r=e&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!r},n.prototype.clear=function(t){return t===void 0&&(t={}),this.layers.reset(),this.__upTargetsStyleProps(yo(yo({},t),{__clear:!0})),or.prototype.clear.call(this),this},n.prototype.__canClearProp=function(){return!1},n.prototype.__getLayers=function(){return this.layers},n}(nf);const uV=lV;var cV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kv=function(){return Kv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Kv.apply(this,arguments)},fV=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},dV=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},Zm="data-clear-style",pV=function(o){cV(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;(0,H.bindAll)(e,"__change","__updateStyle");var r=t.config||{},i=r.em;e.config=r,e.em=i,e.pfx=r.stylePrefix||"",e.ppfx=r.pStylePrefix||"",e.__destroyFn=e.destroy?e.destroy.bind(e):function(){};var l=e.model;l.view=e,e.onValueChange=(0,H.debounce)(e.onValueChange.bind(e),10),e.updateStatus=(0,H.debounce)(e.updateStatus.bind(e),0),e.listenTo(l,"destroy remove",e.remove),e.listenTo(l,"change:visible",e.updateVisibility),e.listenTo(l,"change:name change:className change:full",e.render),e.listenTo(l,"change:value",e.onValueChange),e.listenTo(l,"change:parentTarget",e.updateStatus),e.listenTo(i,"change:device",e.onValueChange);var f=e.init&&e.init.bind(e);return f&&f(),e}return n.prototype.events=function(){var t;return t={change:"inputValueChanged"},t["click [".concat(Zm,"]")]="clear",t},n.prototype.template=function(t){var e=this,r=e.pfx,i=e.ppfx;return`
      <div class="`.concat(r,`label" data-sm-label></div>
      <div class="`).concat(i,`fields" data-sm-fields></div>
    `)},n.prototype.templateLabel=function(t){var e=this,r=e.pfx,i=e.em,l=t.parent,f=t.attributes,p=f.icon,d=p===void 0?"":p,v=f.info,_=v===void 0?"":v,w=i==null?void 0:i.getConfig().icons,S=(w==null?void 0:w.close)||"";return`
      <span class="`.concat(r,"icon ").concat(d,'" title="').concat(_,`">
        `).concat(t.getLabel(),`
      </span>
      `).concat(l?"":'<div class="'.concat(r,'clear" style="display: none" ').concat(Zm,">").concat(S,"</div>"),`
    `)},n.prototype.templateInput=function(t){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(t.getDefaultValue(),`"/>
      </div>
    `)},n.prototype.remove=function(){var t=this;return fe.Ss.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(e){return t[e]=null}),this.__destroyFn(this._getClbOpts()),this},n.prototype.updateStatus=function(){var t,e=this,r=e.model,i=e.pfx,l=e.ppfx,f=e.config,p="".concat(l,"four-color"),d="".concat(l,"color-warn"),v=this.$el.children(".".concat(i,"label")),_=this.getClearEl(),w=_?_.style:{};v.removeClass("".concat(p," ").concat(d)),w.display="none",r.hasValue({noParent:!0})&&f.highlightChanged?(v.addClass(p),f.clearProperties&&(w.display="")):r.hasValue()&&f.highlightComputed&&v.addClass(d),(t=this.parent)===null||t===void 0||t.updateStatus()},n.prototype.clear=function(t){t&&t.stopPropagation(),this.model.clear()},n.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(Zm,"]"))),this.clearEl},n.prototype.inputValueChanged=function(t){t&&t.stopPropagation(),!this.emit&&this.model.upValue(t.target.value)},n.prototype.onValueChange=function(t,e,r){this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},n.prototype.setValue=function(t){var e=this.model,r=(0,H.isUndefined)(t)||t===""?e.getDefaultValue():t;if(this.update)return this.__update(r);this.__setValueInput(r)},n.prototype.__setValueInput=function(t){var e=this.getInputEl();e&&(e.value=t)},n.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},n.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},n.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},n.prototype.__unset=function(){var t=this.unset&&this.unset.bind(this);t&&t(this._getClbOpts())},n.prototype.__update=function(t){var e=this.update&&this.update.bind(this);e&&e(Kv(Kv({},this._getClbOpts()),{value:t}))},n.prototype.__change=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.emit&&this.emit.bind(this);r&&r.apply(void 0,dV([this._getClbOpts()],t,!1))},n.prototype.__updateStyle=function(t,e){e===void 0&&(e={});var r=e.complete,i=e.partial;fV(e,["complete","partial"]);var l=this.model,f=r!==!1&&i!==!0;(0,Jt.isObject)(t)?l.__upTargetsStyle(t,{avoidStore:!f}):l.upValue(t,{partial:!f})},n.prototype._getClbOpts=function(){var t=this,e=t.model,r=t.el,i=t.createdEl;return{el:r,createdEl:i,property:e,props:e.attributes,change:this.__change,updateStyle:this.__updateStyle}},n.prototype.render=function(){this.clearCached();var t=this,e=t.pfx,r=t.model,i=t.el,l=t.$el,f=r.getName(),p=r.getType(),d=r.get("className")||"",v="".concat(e,"property"),_=p==="number"?"".concat(e).concat(p," ").concat(e,"integer"):"".concat(e).concat(p);this.createdEl&&this.__destroyFn(this._getClbOpts()),l.empty().append(this.template(r)),l.find("[data-sm-label]").append(this.templateLabel(r));var w=this.create&&this.create.bind(this);this.createdEl=w&&w(this._getClbOpts()),l.find("[data-sm-fields]").append(this.createdEl||this.templateInput(r)),i.className="".concat(v," ").concat(_," ").concat(v,"__").concat(f," ").concat(d).trim(),i.className+=r.isFull()?" ".concat(v,"--full"):"";var S=this.onRender&&this.onRender.bind(this);return S&&S(),this.setValue(r.getValue()),this},n.prototype.onRender=function(){},n}(fe.Ss);const qs=pV;var hV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vV=function(o){hV(n,o);function n(t){var e=o.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.properties=[],e.parent=t.parent;var r=e.collection;return e.listenTo(r,"add",e.addTo),e.listenTo(r,"reset",e.render),e}return n.prototype.addTo=function(t,e,r){this.add(t,null,r)},n.prototype.add=function(t,e,r){r===void 0&&(r={});var i=this,l=i.parent,f=i.config,p=e||this.el,d=new t.typeView({model:t,config:f});l&&(d.parent=l),d.render();var v=d.el;this.properties.push(d),(0,ye.Sc)(p,v,r.at)},n.prototype.remove=function(){return fe.Ss.prototype.remove.apply(this,arguments),this.clearItems(),this},n.prototype.clearItems=function(){this.properties.forEach(function(t){return t.remove()}),this.properties=[]},n.prototype.render=function(){var t=this,e=this,r=e.$el,i=e.pfx;this.clearItems();var l=document.createDocumentFragment();return this.collection.forEach(function(f){return t.add(f,l)}),r.empty(),r.append(l),r.attr("class","".concat(i,"properties")),this},n}(fe.Ss);const f0=vV;var gV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yv=function(){return Yv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Yv.apply(this,arguments)},mV=function(o){gV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.templateInput=function(){var t=this.pfx;return`
      <div class="`.concat(t,"field ").concat(t,`composite">
        <span id="`).concat(t,`input-holder"></span>
      </div>
    `)},n.prototype.remove=function(){var t;return(t=this.props)===null||t===void 0||t.remove(),qs.prototype.remove.apply(this,arguments),this},n.prototype.onValueChange=function(){},n.prototype.onRender=function(){var t=this.pfx,e=this.model,r=e.get("properties");if(r.length&&!this.props){var i=e.isDetached(),l=new f0({config:Yv(Yv({},this.config),{highlightComputed:i,highlightChanged:i}),collection:r,parent:this});l.render(),this.$el.find("#".concat(t,"input-holder")).append(l.el),this.props=l}},n.prototype.clearCached=function(){qs.prototype.clearCached.apply(this,arguments),delete this.props},n}(qs);const Xd=mV;var yV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_V=function(o){yV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},n.prototype.template=function(){var t=this,e=t.pfx,r=t.ppfx,i=t.em,l=i==null?void 0:i.getConfig().icons,f=(l==null?void 0:l.close)||"",p=(l==null?void 0:l.move)||"";return`
      <div class="`.concat(e,`label-wrp">
        <div id="`).concat(e,'move" class="').concat(r,`no-touch-actions" data-move-layer>
          `).concat(p,`
        </div>
        <div id="`).concat(e,`label" data-label></div>
        <div id="`).concat(e,'preview-box" class="').concat(e,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(e,'preview" class="').concat(e,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(e,'close-layer" class="').concat(e,`btn-close" data-close-layer>
          `).concat(f,`
        </div>
      </div>
      <div id="`).concat(e,`inputs" data-properties></div>
    `)},n.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,r=t.config||{};this.em=r.em,this.config=r,this.sorter=t.sorter,this.pfx=r.stylePrefix||"",this.ppfx=r.pStylePrefix||"",this.propertyView=t.propertyView;var i=this.propertyView.model;this.listenTo(e,"destroy remove",this.remove),this.listenTo(e,"change:values",this.updateLabel),this.listenTo(i,"change:selectedLayer",this.updateVisibility),e.view=this,e.set({droppable:0,draggable:1}),this.$el.data("model",e)},n.prototype.initSorter=function(){var t;(t=this.sorter)===null||t===void 0||t.startSort([{element:this.el}])},n.prototype.removeItem=function(t){t&&t.stopPropagation(),this.model.remove()},n.prototype.select=function(){this.model.select()},n.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},n.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},n.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},n.prototype.updateLabel=function(){var t=this.model,e=t.getLabel();if(this.getLabelEl().innerHTML=e,t.hasPreview()){var r=this.getPreviewEl(),i=t.getStylePreview({number:{min:-3,max:3}}),l=(0,H.keys)(i).map(function(f){return"".concat(f,":").concat(i[f])}).join(";");r.setAttribute("style",l)}},n.prototype.updateVisibility=function(){var t,e=this,r=e.pfx,i=e.model,l=e.propertyView,f=this.getPropertiesWrapper(),p=i.isSelected();f.style.display=p?"":"none",this.$el[p?"addClass":"removeClass"]("".concat(r,"active")),p&&f.appendChild((t=l.props)===null||t===void 0?void 0:t.el)},n.prototype.render=function(){var t=this,e=t.el,r=t.pfx,i=t.model;return e.innerHTML=this.template(),e.className="".concat(r,"layer"),i.hasPreview()&&(e.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},n}(fe.Ss);const bV=_V;var wV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xV=function(o){wV(n,o);function n(t){var e=o.call(this,t)||this,r=e.collection,i=t.config||{},l=i.em,f=i.stylePrefix||"",p=i.pStylePrefix||"";e.config=i,e.pfx=f,e.ppfx=p,e.propertyView=t.propertyView,e.className="".concat(f,"layers ").concat(p,"field"),e.listenTo(r,"add",e.addTo),e.listenTo(r,"reset",e.reset),e.items=[];var d=e.createPlaceholder(i.pStylePrefix);e.$el.append(d);var v=l==null?void 0:l.Utils;return e.sorter=v?new v.StyleManagerSorter({em:l,containerContext:{container:e.el,containerSel:".".concat(f,"layers"),itemSel:".".concat(f,"layer"),pfx:i.pStylePrefix,document,placeholderElement:d},dragBehavior:{dragDirection:Wu.A.Vertical,nested:!1}}):void 0,r.view=e,e.$el.data("model",r),e.$el.data("collection",r),e}return n.prototype.addTo=function(t){var e=this.collection.indexOf(t);this.addToCollection(t,null,e)},n.prototype.addToCollection=function(t,e,r){var i=e||null,l=this,f=l.propertyView,p=l.config,d=l.sorter,v=l.$el,_=new bV({model:t,config:p,sorter:d,propertyView:f}),w=_.render().el;if(this.items.push(_),i)i.appendChild(w);else if(typeof r<"u"){var S="before";v.children().length===r&&(r--,S="after"),r<0?v.append(w):v.children().eq(r)[S](w)}else v.append(w);return w},n.prototype.reset=function(t,e){this.clearItems(),this.render()},n.prototype.remove=function(){return this.clearItems(),fe.Ss.prototype.remove.apply(this,arguments),this},n.prototype.clearItems=function(){this.items.forEach(function(t){return t.remove()}),this.items=[]},n.prototype.render=function(){var t=this,e=this.$el,r=document.createDocumentFragment();return e.empty(),this.collection.forEach(function(i){return t.addToCollection(i,r)}),e.append(r),e.attr("class",this.className),this},n.prototype.createPlaceholder=function(t){var e=document.createElement("div"),r=document.createElement("div");return this.el.parentNode,e.className=t+"placeholder",e.style.display="none",e.style.pointerEvents="none",r.className=t+"placeholder-int",e.appendChild(r),e},n}(fe.Ss);const SV=xV;var CV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wf=function(){return wf=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},wf.apply(this,arguments)},OV=function(o){CV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.events=function(){return wf(wf({},Xd.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},n.prototype.templateInput=function(){var t=this,e=t.pfx,r=t.em,i=r==null?void 0:r.getConfig().icons,l=(i==null?void 0:i.plus)||"+";return`
      <div class="`.concat(e,"field ").concat(e,`stack">
        <button type="button" id="`).concat(e,`add" data-add-layer>
          `).concat(l,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},n.prototype.init=function(){var t=this.model;this.listenTo(t.layers,"change reset",this.updateStatus),this.listenTo(t,"change:isEmptyValue",this.updateStatus)},n.prototype.addLayer=function(){this.model.addLayer({},{at:0})},n.prototype.setValue=function(){},n.prototype.remove=function(){var t;return(t=this.layersView)===null||t===void 0||t.remove(),Xd.prototype.remove.apply(this,arguments),this},n.prototype.clearCached=function(){Xd.prototype.clearCached.apply(this,arguments),delete this.layersView},n.prototype.onRender=function(){var t=this,e=t.model,r=t.el,i=t.config,l=e.get("properties");if(l.length&&!this.props){var f=new f0({config:wf(wf({},i),{highlightComputed:!1,highlightChanged:!1}),collection:l,parent:this});f.render();var p=new SV({collection:e.layers,config:i,propertyView:this});p.render();var d=r.querySelector("[data-layers-wrapper]");d.appendChild(p.el),this.props=f,this.layersView=p}},n}(Xd);const TV=OV;var EV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xv=function(){return Xv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Xv.apply(this,arguments)},AV=function(o){EV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.events=function(){return Xv(Xv({},qs.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},n.prototype.templateInput=function(){var t,e=this,r=e.pfx,i=e.em,l=(t=this.em)===null||t===void 0?void 0:t.getConfig().icons,f=l==null?void 0:l.close;return`
      <div class="`.concat(r,"field ").concat(r,`file">
        <div id='`).concat(r,`input-holder'>
          <div class="`).concat(r,`btn-c">
            <button class="`).concat(r,'btn" id="').concat(r,`images" type="button" data-open-assets>
              `).concat(i.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(r,'preview-box" class="').concat(r,`preview-file" data-preview-box>
          <div id="`).concat(r,'preview-file" class="').concat(r,`preview-file-cnt" data-preview></div>
          <div id="`).concat(r,'close" class="').concat(r,'preview-file-close" data-clear-asset>').concat(f,`</div>
        </div>
      </div>
    `)},n.prototype.__setValueInput=function(t){var e=this,r=e.model,i=e.el,l=r.getDefaultValue(),f=i.querySelector("[data-preview-box]"),p=i.querySelector("[data-preview]");f.style.display=!t||t===l?"none":"",p.style.backgroundImage=t||r.getDefaultValue()},n.prototype.openAssetManager=function(){var t=this,e,r=(e=this.em)===null||e===void 0?void 0:e.Assets;r==null||r.open({select:function(i,l){var f=(0,H.isString)(i)?i:i.get("src");t.model.upValue(f,{partial:!l}),l&&r.close()},types:["image"],accept:"image/*"})},n}(qs);const PV=AV;var DV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),MV=function(o){DV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.templateInput=function(t){return""},n.prototype.init=function(){var t=this.model;this.listenTo(t,"change:unit",this.onValueChange),this.listenTo(t,"change:units",this.render)},n.prototype.setValue=function(t){},n.prototype.onRender=function(){var t=this,e=t.ppfx,r=t.model,i=t.el;if(!this.inputInst){var l=r.input;l.ppfx=e,l.render();var f=i.querySelector(".".concat(e,"fields"));f.appendChild(l.el),this.input=l.inputEl.get(0),this.inputInst=l}},n.prototype.clearCached=function(){qs.prototype.clearCached.apply(this,arguments),this.inputInst=null},n}(qs);const zs=MV;var jV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),RV=function(o){jV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.setValue=function(t){var e;(e=this.inputInst)===null||e===void 0||e.setValue(t,{fromTarget:1,def:this.model.getDefaultValue()})},n.prototype.remove=function(){var t=this;zs.prototype.remove.apply(this,arguments);var e=this.inputInst;return e&&e.remove&&e.remove(),["inputInst","$color"].forEach(function(r){return t[r]=null}),this},n.prototype.__handleChange=function(t,e){this.model.upValue(t,{partial:e})},n.prototype.onRender=function(){var t;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var e=this,r=e.ppfx,i=e.model,l=e.em,f=e.el,p=new pS({target:l,model:i,ppfx:r,onChange:this.__handleChange}),d=p.render();f.querySelector(".".concat(r,"fields")).appendChild(d.el),this.input=(t=d.inputEl)===null||t===void 0?void 0:t.get(0),this.inputInst=d}},n}(zs);const LV=RV;var NV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zv=function(){return Zv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Zv.apply(this,arguments)},dw=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},kV=function(o){NV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return Zv(Zv({},or.getDefaults()),{options:[],full:0})},n.prototype.getOptions=function(){var t=this.attributes,e=t.options,r=t.list;return(e&&e.length?e:r)||[]},n.prototype.getOption=function(t){var e=this,r=(0,Jt.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(i){return e.getOptionId(i)===r})[0]||null},n.prototype.setOptions=function(t){return t===void 0&&(t=[]),this.set("options",t),this},n.prototype.addOption=function(t){if(t){var e=this.getOptions();this.setOptions(dw(dw([],e,!0),[t],!1))}return this},n.prototype.getOptionId=function(t){return(0,Jt.isDef)(t.id)?t.id:t.value},n.prototype.getOptionLabel=function(t,e){var r;e===void 0&&(e={});var i=e.locale,l=i===void 0?!0:i,f=((0,H.isString)(t)?this.getOption(t):t)||{},p=this.getOptionId(f),d=f.label||f.name||p,v=e.property||this.getId();return l&&((r=this.em)===null||r===void 0?void 0:r.t("styleManager.options.".concat(v,".").concat(p)))||d},n.prototype.initialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];or.prototype.initialize.apply(this,t),this.listenTo(this,"change:options",this.__onOptionChange)},n.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},n}(or);const Ny=kV;var VV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),UV=function(o){VV(n,o);function n(t){var e=o.call(this,t)||this;return e.listenTo(e.model,"change:options",e.updateOptions),e}return n.prototype.templateInput=function(){var t=this,e=t.pfx,r=t.ppfx;return`
      <div class="`.concat(r,"field ").concat(r,`select">
        <span id="`).concat(e,`input-holder"></span>
        <div class="`).concat(r,`sel-arrow">
          <div class="`).concat(r,`d-s-arrow"></div>
        </div>
      </div>
    `)},n.prototype.updateOptions=function(){delete this.input,this.onRender()},n.prototype.onRender=function(){var t=this.pfx,e=this.model,r=e.getOptions();if(!this.input){var i=[];r.forEach(function(f){var p=e.getOptionId(f),d=e.getOptionLabel(p),v=f.style?f.style.replace(/"/g,"&quot;"):"",_=v?'style="'.concat(v,'"'):"",w=p.replace(/"/g,"&quot;");i.push('<option value="'.concat(w,'" ').concat(_,">").concat(d,"</option>"))});var l=this.el.querySelector("#".concat(t,"input-holder"));l.innerHTML="<select>".concat(i.join(""),"</select>"),this.input=l.firstChild}},n.prototype.__setValueInput=function(t){var e=this.model,r=this.getInputEl(),i=e.getOptions()[0],l=i?e.getOptionId(i):"";r&&(r.value=t||l)},n}(qs);const FS=UV;var HV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jv=function(){return Jv=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Jv.apply(this,arguments)},BV=function(o){HV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return Jv(Jv({},Ny.getDefaults()),{full:1})},n}(Ny);const IV=BV;var zV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),FV=function(o){zV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.templateInput=function(){var t=this.ppfx;return'<div class="'.concat(t,"field ").concat(t,'field-radio"></div>')},n.prototype.onRender=function(){var t=this,e=t.pfx,r=t.ppfx,i=this.model,l="".concat(r,"radio-item-label"),f=i.getName(),p=i.getOptions(),d="".concat(e,"radio ").concat(e,"radio-").concat(f),v=i.cid;if(!this.input){var _=[];p.forEach(function(S){var O=S.className?"".concat(S.className," ").concat(e,"icon ").concat(l):"",A=i.getOptionId(S),P="".concat(f,"-").concat(A,"-").concat(v),j=O?"":i.getOptionLabel(A),z=S.title?'title="'.concat(S.title,'"'):"",k=i.getValue()===A?"checked":"";_.push(`
          <div class="`.concat(r,`radio-item">
            <input type="radio" class="`).concat(d,'" id="').concat(P,'" name="').concat(f,"-").concat(v,'" value="').concat(A,'" ').concat(k,`/>
            <label class="`).concat(O||l,'" ').concat(z,' for="').concat(P,'">').concat(j,`</label>
          </div>
        `))});var w=this.el.querySelector(".".concat(r,"field"));w.innerHTML='<div class="'.concat(r,'radio-items">').concat(_.join(""),"</div>"),this.input=w.firstChild}},n.prototype.__setValueInput=function(t){var e,r=this.model,i=t||r.getDefaultValue(),l=(e=this.getInputEl())===null||e===void 0?void 0:e.querySelector('[value="'.concat(i,'"]'));l&&(l.checked=!0)},n}(FS);const WV=FV;var qV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Nu=function(){return Nu=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Nu.apply(this,arguments)},GV=function(o){qV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return Nu(Nu({},or.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},n.prototype.getUnits=function(){return this.get("units")||[]},n.prototype.getUnit=function(){return this.get("unit")},n.prototype.getMin=function(){return this.get("min")},n.prototype.getMax=function(){return this.get("max")},n.prototype.getStep=function(){return this.get("step")},n.prototype.upUnit=function(t,e){return e===void 0&&(e={}),this._up({unit:t},e)},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),or.callParentInit(or,this,t,e);var r=this.get("unit"),i=this.getUnits();this.input=(0,Jt.hasWin)()?new vS({model:this}):void 0,i.length&&!r&&this.set("unit",i[0],{silent:!0}),or.callInit(this,t,e)},n.prototype.__getClearProps=function(){return Nu(Nu({},or.prototype.__getClearProps()),{unit:""})},n.prototype.parseValue=function(t,e){e===void 0&&(e={});var r=or.prototype.parseValue.apply(this,arguments),i=this.input.validateInputValue(r.value,Nu({deepCheck:1},e)),l=i.value,f=i.unit;return r.value=l,r.unit=f,r},n.prototype.getFullValue=function(){var t=this.get("value"),e=this.get("unit"),r=(0,H.isUndefined)(t)?"":"".concat(t),i=!(0,H.isUndefined)(e)&&r?e:"",l="".concat(r).concat(i);return or.prototype.getFullValue.apply(this,[l])},n}(or);const Qv=GV;var KV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$v=function(){return $v=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},$v.apply(this,arguments)},YV=function(o){KV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return $v($v({},Qv.getDefaults()),{showInput:1})},n}(Qv);const XV=YV;var ZV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tg=function(){return tg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},tg.apply(this,arguments)},JV=function(o){ZV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.events=function(){return tg(tg({},zs.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},n.prototype.templateInput=function(t){var e=this.ppfx;return`
      <div class="`.concat(e,"field ").concat(e,`field-range">
        <input type="range" min="`).concat(t.get("min"),'" max="').concat(t.get("max"),'" step="').concat(t.get("step"),`"/>
      </div>
    `)},n.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},n.prototype.inputValueChanged=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value)},n.prototype.inputValueChangedSoft=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},n.prototype.setValue=function(t){var e=this.model,r=e.parseValue(t);this.getSliderEl().value=t===""?e.getDefaultValue():parseFloat(r.value),zs.prototype.setValue.apply(this,arguments)},n.prototype.onRender=function(){zs.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},n.prototype.clearCached=function(){zs.prototype.clearCached.apply(this,arguments),delete this.slider},n}(zs);const QV=JV;var $V=fe.pM.extend(TS),t3=$V.extend({extendViewApi:1,init:function(){var o=this,n=o.opts,t=o.em,e=n.module||(t==null?void 0:t.get("StyleManager"));e&&(e.__listenAdd(this,e.events.propertyAdd),e.__listenRemove(this,e.events.propertyRemove))},types:[{id:"stack",model:uV,view:TV,isType:function(o){if(o&&o.type=="stack")return o}},{id:"composite",model:nf,view:Xd,isType:function(o){if(o&&o.type=="composite")return o}},{id:"file",model:or,view:PV,isType:function(o){if(o&&o.type=="file")return o}},{id:"color",model:or,view:LV,isType:function(o){if(o&&o.type=="color")return o}},{id:"select",model:Ny,view:FS,isType:function(o){if(o&&o.type=="select")return o}},{id:"radio",model:IV,view:WV,isType:function(o){if(o&&o.type=="radio")return o}},{id:"slider",model:XV,view:QV,isType:function(o){if(o&&o.type=="slider")return o}},{id:"integer",model:Qv,view:zs,isType:function(o){if(o&&o.type=="integer")return o}},{id:"number",model:Qv,view:zs,isType:function(o){if(o&&o.type=="number")return o}},{id:"base",model:or,view:qs,isType:function(o){return o.type="base",o}}]});const d0=t3;var e3=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),eg=function(){return eg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},eg.apply(this,arguments)},n3=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},r3=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},i3=function(o){e3(n,o);function n(t,e){e===void 0&&(e={});var r=o.call(this,t)||this,i=e.em;r.em=i;var l=t||{},f=r.buildProperties(l.buildProps),p=r.get("name")||"",d=[];!r.get("id")&&r.set("id",p.replace(/ /g,"_").toLowerCase()),f?d=r.extendProperties(f):d=r.get("properties").map(function(_){return(0,H.isString)(_)?r.buildProperties(_)[0]:_}).filter(Boolean),d=d.map(function(_){return r.checkExtend(_)});var v=new d0(d,{em:i});return v.sector=r,r.set("properties",v),r}return n.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(n.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),n.prototype.getId=function(){return this.get("id")},n.prototype.getName=function(){var t,e=this.getId();return((t=this.em)===null||t===void 0?void 0:t.t("styleManager.sectors.".concat(e)))||this.get("name")},n.prototype.setName=function(t){return this.set("name",t)},n.prototype.isOpen=function(){return!!this.get("open")},n.prototype.setOpen=function(t){return this.set("open",t)},n.prototype.isVisible=function(){return!!this.get("visible")},n.prototype.getProperties=function(t){t===void 0&&(t={});var e=this.properties,r=e.models?r3([],e.models,!0):e;return r.filter(function(i){var l=!0;if(t.withValue&&(l=i.hasValue({noParent:!0})),t.withParentValue){var f=i.hasValue({noParent:!0});l=!f&&i.hasValue()}return l})},n.prototype.getProperty=function(t){return this.getProperties().filter(function(e){return e.get("id")===t})[0]||void 0},n.prototype.addProperty=function(t,e){return this.properties.add(this.checkExtend(t),e)},n.prototype.extendProperties=function(t,e,r){r===void 0&&(r=!1);for(var i=t.length,l=e||this.get("properties"),f=this.get("extendBuilded"),p=[],d=0,v=l.length;d<v;d++){for(var _=l[d],w=0,S=0;S<i;S++){var O=t[S];if(_.property==O.property||_.id==O.property){var A=_.properties;A&&A.length&&(_.properties=this.extendProperties(O.properties||[],A,1)),t[S]=f?(0,H.extend)(O,_):_,p[S]=t[S],w=1;continue}}w||(t.push(_),p.push(_))}return r?p.filter(function(P){return P}):t},n.prototype.checkExtend=function(t){var e=((0,H.isString)(t)?{extend:t}:t)||{},r=e.extend,i=n3(e,["extend"]);return r?eg(eg({},this.buildProperties([r])[0]||{}),i):t},n.prototype.buildProperties=function(t){var e,r=t||[];if(!r.length)return[];var i=(e=this.em)===null||e===void 0?void 0:e.Styles.builtIn;return i==null?void 0:i.build(r)},n}(fe.Kx);const WS=i3;var o3=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ng=function(){return ng=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},ng.apply(this,arguments)},a3=function(o){o3(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.initialize=function(t,e){e===void 0&&(e={});var r=e.module,i=e.em;this.em=i,this.module=r,this.listenTo(this,"reset",this.onReset)},n.prototype.model=function(t,e){e===void 0&&(e={});var r=e.collection.em;return new WS(t,ng(ng({},e),{em:r}))},n.prototype.onReset=function(t,e){e===void 0&&(e={});var r=e.previousModels||[];r.forEach(function(i){return i.get("properties").reset()})},n}(fe.pM);const s3=a3;var kl=function(){return kl=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},kl.apply(this,arguments)},l3=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},Du=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},Qr=function(o){return o.map(function(n){return{id:n}})},u3=function(){function o(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var n=", sans-serif",t=["flex-start","flex-end","center"],e=Du(Du([],t,!0),["baseline","stretch"],!1);this.optsBgSize=Qr(["auto","cover","contain"]),this.optsBgAttach=Qr(["scroll","fixed","local"]),this.optsBgRepeat=Qr(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=Qr(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=Qr(["visible","hidden","scroll","auto"]),this.optsDir=Qr(["row","row-reverse","column","column-reverse"]),this.opstDisplay=Qr(["block","inline","inline-block","flex","none"]),this.optsTransitFn=Qr(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=Qr(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=Qr(["none","left","right"]),this.optsPos=Qr(["static","relative","absolute","fixed"]),this.optsTextAlign=Qr(["left","center","right","justify"]),this.optsFlexAlign=Qr(e),this.optsJustCont=Qr(Du(Du([],t,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=Qr(Du(Du([],t,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=Qr(Du(["auto"],e,!0)),this.optsTransitProp=Qr(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=Qr(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=Qr(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+n,"Arial Black, Gadget"+n,"Brush Script MT"+n,"Comic Sans MS, cursive"+n,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+n,"Impact, Charcoal"+n,"Lucida Sans Unicode, Lucida Grande"+n,"Tahoma, Geneva"+n,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+n,"Verdana, Geneva"+n].map(function(r){return{id:r,label:r.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return o.prototype.__sub=function(n){var t=this;return function(){return n.map(function(e){if((0,H.isString)(e))return t.get(e);var r=e.extend,i=l3(e,["extend"]);return kl(kl({},t.get(r)),i)})}},o.prototype.init=function(){var n=this,t=this,e=t.fixedValues,r=t.requireFlex,i=t.typeNumber;this.props={};var l=[["text-shadow-h",{type:i,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:e},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:r},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:i,default:"0",requiresParent:r}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:r},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:r},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(f,p){var d=p.values,v=d["box-shadow-h"],_=d["box-shadow-v"],w=d["box-shadow-blur"],S=d["box-shadow-spread"];return"".concat(v," ").concat(_," ").concat(w," ").concat(S)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(f,p){var d=p.values,v=d["text-shadow-h"],_=d["text-shadow-v"],w=d["text-shadow-blur"];return"".concat(v," ").concat(_," ").concat(w)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(f,p){var d=p.values,v=d["background-repeat-sub"]||"",_=d["background-position-sub"]||"",w=d["background-attachment-sub"]||"",S=d["background-size-sub"]||"";return[v,_,w,S].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(f,p){var d=p.property,v=p.name,_=f[v]||"",w=d.getLayerSeparator();return _?_.split(w).map(function(S){var O=d.__parseFn(S),A=O.name,P=O.value;return{"transform-type":A,"transform-value":P}}):[]},toStyle:function(f,p){var d,v=p.name;return d={},d[v]="".concat(f["transform-type"],"(").concat(f["transform-value"],")"),d},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(f){var p=f.property,d=f.to;if(d.value){var v=p.getOption(),_=kl({},v.propValue||{}),w=p.getParent().getProperty("transform-value"),S=w.getUnit();(!S||(_==null?void 0:_.units.indexOf(S))<0)&&(_.unit=(_==null?void 0:_.units[0])||""),w.up(_)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return l.forEach(function(f){var p=f[0],d=f[1],v=f[2];n.add(p,d||{},{from:v})}),this},o.prototype.add=function(n,t,e){t===void 0&&(t={}),e===void 0&&(e={});var r=e.from||"",i=this.props[r||n]||{},l=kl(kl(kl({},i),{property:n}),t);return l.properties&&(0,H.isFunction)(l.properties)&&(l.properties=l.properties()),this.props[n]=l,l},o.prototype.get=function(n){return this.props[n]},o.prototype.build=function(n){var t=this,e=[],r=(0,H.isString)(n)?[n]:n;return r.forEach(function(i){e.push(t.get(i)||{property:i})}),e},o}();const c3=u3;var f3=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),d3=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},p3=function(o){f3(n,o);function n(t){var e=o.call(this,t)||this,r=t.config||{},i=e.model,l=r.em;return e.config=r,e.em=l,e.pfx=r.stylePrefix||"",e.listenTo(i,"destroy remove",e.remove),e.listenTo(i,"change:open",e.updateOpen),e.listenTo(i,"change:visible",e.updateVisibility),e}return n.prototype.template=function(t){var e,r=t.pfx,i=t.label,l=(e=this.em)===null||e===void 0?void 0:e.getConfig().icons,f=(l==null?void 0:l.caret)||"",p="".concat(r,"sector-");return wo(pw||(pw=d3([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),p,p,f,p,i)},n.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},n.prototype.updateOpen=function(){var t=this,e=t.$el,r=t.model,i=t.pfx,l=r.isOpen();e[l?"addClass":"removeClass"]("".concat(i,"open")),this.getPropertiesEl().style.display=l?"":"none"},n.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},n.prototype.getPropertiesEl=function(){var t=this,e=t.$el,r=t.pfx;return e.find(".".concat(r,"properties")).get(0)},n.prototype.toggle=function(){var t=this.model;t.setOpen(!t.get("open"))},n.prototype.renderProperties=function(){var t=this,e=t.model,r=t.config,i=e.get("properties");if(i){var l=new f0({collection:i,config:r});this.$el.append(l.render().el)}},n.prototype.render=function(){var t=this,e=t.pfx,r=t.model,i=t.$el,l=r.getId(),f=r.getName();return i.html(this.template({pfx:e,label:f})),this.renderProperties(),i.attr("class","".concat(e,"sector ").concat(e,"sector__").concat(l," no-select")),this.updateOpen(),this},n}(fe.Ss);const h3=p3;var pw,v3=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),g3=function(o){v3(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this,r=t.module,i=t.config,l=e.collection;return e.pfx=(i==null?void 0:i.stylePrefix)||"",e.ppfx=(i==null?void 0:i.pStylePrefix)||"",e.config=i,e.module=r,e.listenTo(l,"add",e.addTo),e.listenTo(l,"reset",e.render),e}return n.prototype.remove=function(){var t=this;return fe.Ss.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(e){return t[e]={}}),this},n.prototype.addTo=function(t,e,r){r===void 0&&(r={}),this.addToCollection(t,null,r)},n.prototype.addToCollection=function(t,e,r){r===void 0&&(r={});var i=this,l=i.config,f=i.el,p=e||f,d=new h3({model:t,config:l}).render().el;return(0,ye.Sc)(p,d,r.at),d},n.prototype.render=function(){var t=this,e=this,r=e.$el,i=e.pfx,l=e.ppfx;r.empty();var f=document.createDocumentFragment();return this.collection.each(function(p){return t.addToCollection(p,f)}),r.append(f),r.addClass("".concat(i,"sectors ").concat(l,"one-bg ").concat(l,"two-color")),this},n}(fe.Ss);const m3=g3;var y3=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Vl=function(){return Vl=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Vl.apply(this,arguments)},hw=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},qS="style",bp="".concat(qS,":"),p0="".concat(bp,"sector"),_3="".concat(p0,":add"),b3="".concat(p0,":remove"),w3="".concat(p0,":update"),h0="".concat(bp,"property"),x3="".concat(h0,":add"),S3="".concat(h0,":remove"),C3="".concat(h0,":update"),GS="".concat(bp,"layer:select"),ky="".concat(bp,"target"),O3="".concat(bp,"custom"),vw=function(o){return o||o===0},T3={all:qS,sectorAdd:_3,sectorRemove:b3,sectorUpdate:w3,propertyAdd:x3,propertyRemove:S3,propertyUpdate:C3,layerSelect:GS,target:ky,custom:O3},E3=function(o){y3(n,o);function n(t){var e=o.call(this,t,"StyleManager",new s3([],{em:t}),T3,$k())||this;e.Sector=WS,e.storageKey="",(0,H.bindAll)(e,"__clearStateTarget");var r=e.config,i=r.pStylePrefix;i&&(r.stylePrefix=i+r.stylePrefix),e.builtIn=new c3,e.properties=new d0([],{em:t,module:e}),e.sectors=e.all;var l=new fe.Kx({targets:[]});e.model=l;var f=Jn.I.update,p="component:toggled ".concat(f,":classes change:state change:device frame:resized selector:type");e.upAll=(0,H.debounce)(function(){return e.__upSel()},0),l.listenTo(t,p,e.upAll),l.listenTo(t,"component:toggled",e.__clearStateTarget);var d=(0,H.debounce)(function(){e.__upProps(),e.__trgCustom()},0);l.listenTo(t,"styleable:change undo redo",d);var v=(0,H.debounce)(function(){return e.__trgCustom()},0);return l.listenTo(t,"".concat(GS," ").concat(ky),v),l.on("change:lastTarget",function(){return t.trigger(ky,e.getSelected())}),e}return n.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},n.prototype.__trgCustom=function(t){t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,this.em.trigger(this.events.custom,{container:this.__ctn})},n.prototype.__trgEv=function(t){for(var e,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];(e=this.em).trigger.apply(e,hw([t],r,!1))},n.prototype.__clearStateTarget=function(){var t=this,e=this.em,r=this.__getStateTarget();r&&(e==null||e.skip(function(){e.Css.remove(r),t.model.set({stateTarget:null})}))},n.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},n.prototype.postRender=function(){this.__appendTo()},n.prototype.addSector=function(t,e,r){r===void 0&&(r={});var i=this.getSector(t);return i||(e.id=t,i=this.sectors.add(e,r)),i},n.prototype.getSector=function(t,e){e===void 0&&(e={});var r=this.sectors.where({id:t})[0];return!r&&e.warn&&this._logNoSector(t),r||null},n.prototype.getSectors=function(t){t===void 0&&(t={});var e=this.sectors,r=e&&e.models?t.array?hw([],e.models,!0):e:[];return t.visible?r.filter(function(i){return i.isVisible()}):r},n.prototype.removeSector=function(t){return this.getSectors().remove(this.getSector(t,{warn:!0}))},n.prototype.addProperty=function(t,e,r){r===void 0&&(r={});var i=this.getSector(t,{warn:!0}),l;return i&&(l=i.addProperty(e,r)),l},n.prototype.getProperty=function(t,e){var r=this.getSector(t,{warn:!0}),i;return r&&(i=r.properties.filter(function(l){return l.get("property")===e||l.get("id")===e})[0]),i},n.prototype.getProperties=function(t){var e,r=this.getSector(t,{warn:!0});return r&&(e=r.properties),e},n.prototype.removeProperty=function(t,e){var r=this.getProperties(t);return r?r.remove(this.getProperty(t,e)):null},n.prototype.select=function(t,e){var r=this;e===void 0&&(e={});var i=this.em,l=(0,H.isArray)(t)?t:[t],f=e.stylable,p=i.Css,d=[];l.filter(Boolean).forEach(function(A){var P=A;if((0,H.isString)(A)){var j=p.getRule(A)||p.setRule(A);!(0,H.isUndefined)(f)&&j.set({stylable:f}),P=j}d.push(P)});var v=e.component||d.filter(function(A){return(0,Jt.isComponent)(A)}).reverse()[0];d=d.map(function(A){return r.getModelToStyle(A)});var _=i.getState(),w=d.slice().reverse()[0],S=this.getParentRules(w,{state:_,component:v}),O=this.__getStateTarget();return i.skip(function(){var A;if(_&&(!((A=w==null?void 0:w.getState)===null||A===void 0)&&A.call(w))){var P=w.getStyle();O?O.setStyle(P):O=p.getAll().add({selectors:"gjs-selected",style:P,shallow:!0,important:!0})}else O&&(p.remove(O),O=void 0)}),this.model.set({targets:d,lastTarget:w,lastTargetParents:S,stateTarget:O,component:v}),this.__upProps(e),d},n.prototype.getSelected=function(){return this.model.get("lastTarget")},n.prototype.getSelectedAll=function(){return this.model.get("targets")},n.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},n.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},n.prototype.addStyleTargets=function(t,e){this.getSelectedAll().map(function(l){return l.addStyle(t,e)});var r=this.getSelected();r&&this.__emitCmpStyleUpdate(t);var i=this.__getStateTarget();r&&(i==null||i.setStyle(r.getStyle(),e))},n.prototype.getBuiltIn=function(t){return this.builtIn.get(t)},n.prototype.getBuiltInAll=function(){return this.builtIn.props},n.prototype.addBuiltIn=function(t,e){return this.builtIn.add(t,e)},n.prototype.getModelToStyle=function(t,e){e===void 0&&(e={});var r=this.em,i=e.skipAdd;if(r&&(t!=null&&t.toHTML)){var l=r.getConfig(),f=r.UndoManager,p=r.Css,d=r.Selectors,v=d?d.getConfig():{},_=l.devicePreviewMode?"":r.get("state"),w=t.get("classes"),S=w.getStyleable(),O=S.length,A=!v.componentFirst||e.useClasses,P={noCount:1},j={state:_,addOpts:P};f.skip(function(){var z;if(O&&A){var k=r.getCurrentMedia();z=p.get(S,_,k),!z&&!i&&(z=p.add(S,_,k,{},P))}else if(l.avoidInlineStyle){var G=t.getId();z=p.getIdRule(G,j),!z&&!i&&(z=p.setIdRule(G,{},j)),t.is("wrapper")&&z.set("wrapper",1,P)}z&&(t=z)})}return t},n.prototype.getParentRules=function(t,e){var r=e===void 0?{}:e,i=r.state,l=r.component,f=this.em,p=[];if(f&&t){var d=l,v=f.Css,_=f.CodeManager.getGenerator("css"),w=t.toHTML?t:t.getComponent(),S={array:!0},O=[],A=[],P=[],j=[],z=[],k=function(vt){return vt.length?v.getRules().filter(function($){var mt=$.getSelectors().map(function(X){return X.getFullName()});return mt.length===0?!1:mt.every(function(X){return vt.indexOf(X)>=0})}):[]},G=function(vt){return vt?v.getRules().filter(function($){return $.selectorsToString()===vt}):[]};if(w)O=v.getRules("#".concat(w.getId())),A=G(w.get("tagName")),j=d?k(d.getSelectors().getFullName(S)):[],z=j.concat(A).concat(O);else{O=d?v.getRules("#".concat(d.getId())):[],A=G((d==null?void 0:d.get("tagName"))||"");var ot=(d==null?void 0:d.getSelectors().getFullName(S))||[],xt=ot.filter(function(vt){return t.getSelectors().getFullName(S).findIndex(function($){return $===vt})===-1});P=k(xt.concat(t.getSelectors().getFullName(S))),z=A.concat(O).concat(P)}var Nt=z.filter(function(vt){return(0,H.isUndefined)(i)?1:vt.get("state")===i}).sort(_.sortRules).reverse();p=Nt.slice(Nt.indexOf(t)+1)}return p},n.prototype.addType=function(t,e){this.properties.addType(t,e)},n.prototype.getType=function(t){return this.properties.getType(t)},n.prototype.getTypes=function(){return this.properties.getTypes()},n.prototype.createType=function(t,e){var r=e===void 0?{}:e,i=r.model,l=i===void 0?{}:i,f=r.view,p=f===void 0?{}:f,d=this.config,v=this.getType(t);if(v)return new v.view(Vl({model:new v.model(l),config:d},p))},n.prototype.render=function(){var t=this,e=t.config,r=t.em,i=t.SectView,l=i&&i.el;return this.SectView=new m3({el:l,em:r,config:e,module:this,collection:this.sectors}),this.SectView.render().el},n.prototype._logNoSector=function(t){var e=this.em;e&&e.logWarning("'".concat(t,"' sector not found"))},n.prototype.__emitCmpStyleUpdate=function(t,e){e===void 0&&(e={});var r=this.em;if(!t.__p){var i=this.getSelectedAll(),l=e.components||r.getSelectedAll(),f=Array.isArray(l)?l:[l],p=Vl({},t);delete p.__p,f.forEach(function(d){return!i.includes(d)&&d.__onStyleChange(p)})}},n.prototype.__upProps=function(t){var e=this;t===void 0&&(t={});var r=this.getSelected();if(r){var i=this.sectors,l=this.model.get("component"),f=this.getSelectedParents(),p=r.getStyle(),d=f.map(function(v){return{target:v,style:v.getStyle()}});i.map(function(v){v.getProperties().map(function(_){e.__upProp(_,p,d,t)})}),i.forEach(function(v){var _=v.getProperties();_.forEach(function(S){var O=S.__checkVisibility({target:r,component:l,sectors:i});S.set("visible",O)});var w=_.some(function(S){return S.isVisible()});v.set("visible",w)})}},n.prototype.__upProp=function(t,e,r,i){var l=this,f=t.getName(),p=e[f],d=vw(p),v=t.getType()==="stack",_=t.getType()==="composite",w=Vl(Vl({},i),{__up:!0}),S=!_&&!v,O=t,A=t,P=v?O.__getLayersFromStyle(e):[],j=_?A.__getPropsFromStyle(e):{},z=d?p:null,k=null;if(v&&P===null||_&&j===null){var G=v?"__getLayersFromStyle":"__getPropsFromStyle",ot=r.filter(function(mt){return O[G](mt.style)!==null})[0];if(ot){z=ot.style[f],k=ot.target;var xt=O[G](ot.style);v?P=xt:j=xt}}else if(!d){z=null;var ot=r.filter(function(X){return vw(X.style[f])})[0];ot&&(z=ot.style[f],k=ot.target)}if(t.__setParentTarget(k),S&&t.__getFullValue()!==z&&t.upValue(z,w),v&&O.__setLayers(P||[],{isEmptyValue:O.isEmptyValueStyle(e)}),_){var Nt=A.getProperties();if(A.isDetached()){var vt=A.__getPropsFromStyle(e,{byName:!0})||{},$=r.map(function(mt){return Vl(Vl({},mt),{style:A.__getPropsFromStyle(mt.style,{byName:!0})||{}})});Nt.map(function(mt){return l.__upProp(mt,vt,$,i)})}else A.__setProperties(j||{},w),A.getProperties().map(function(mt){return mt.__setParentTarget(k)})}},n.prototype.destroy=function(){var t;[this.properties,this.sectors].forEach(function(e){e.reset(),e.stopListening()}),(t=this.SectView)===null||t===void 0||t.remove(),this.model.stopListening(),this.upAll.cancel()},n}(Xs);const A3=E3;var P3=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rg=function(){return rg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},rg.apply(this,arguments)},D3=function(o){P3(n,o);function n(t,e){var r=o.call(this,t,e)||this;return r.em=e,r.model=function(i,l){return l===void 0&&(l={}),new Gx(i,rg(rg({},l),{em:e}))},r}return n}(fe.pM);const M3=D3;var j3=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),R3=function(o){j3(n,o);function n(t){var e=o.call(this,t,"DataSources",new M3([],t),Cf)||this;return e.storageKey="dataSources",e.events=Cf,Object.assign(e,Zh.Events),e}return n.prototype.destroy=function(){},n.prototype.add=function(t,e){e===void 0&&(e={});var r=this.all;return t.id=t.id||this._createId(),r.add(t,e)},n.prototype.get=function(t){return this.all.get(t)},n.prototype.getValue=function(t,e){return(0,Jt.get)(this.getContext(),t,e)},n.prototype.getContext=function(){return this.all.reduce(function(t,e){return t[e.id]=e.records.reduce(function(r,i,l){var f=i;return r[f.id||l]=f.attributes,r},{}),t},{})},n.prototype.remove=function(t,e){return this.__remove(t,e)},n.prototype.fromPath=function(t){var e=[],r=(0,Jt.stringToPath)(t||""),i=r[0],l=r[1],f=r.slice(2),p=this.get(i),d=p==null?void 0:p.records.get(l);return p&&e.push(p),d&&(e.push(d),f.length&&e.push(f.join("."))),e},n.prototype.store=function(){var t,e=[];return this.all.forEach(function(r){var i=r.get("skipFromStorage");i||e.push({id:r.id,name:r.get("name"),records:r.records.toJSON(),skipFromStorage:i})}),t={},t[this.storageKey]=e,t},n.prototype.load=function(t){return this.loadProjectData(t)},n.prototype.postLoad=function(){var t=this,e=t.em,r=t.all;e.listenTo(r,fe.e2,function(i,l,f){return e.changesUp(f||l)})},n}(Xs);const KS=R3;var L3=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ji=function(){return ji=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},ji.apply(this,arguments)},Jm=function(o,n,t,e){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function f(v){try{d(e.next(v))}catch(_){l(_)}}function p(v){try{d(e.throw(v))}catch(_){l(_)}}function d(v){v.done?i(v.value):r(v.value).then(f,p)}d((e=e.apply(o,n||[])).next())})},Qm=function(o,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(d){return function(v){return p([d,v])}}function p(d){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(t=0)),t;)try{if(e=1,r&&(i=d[0]&2?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,r=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){t.label=d[1];break}if(d[0]===6&&t.label<i[1]){t.label=i[1],i=d;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(d);break}i[2]&&t.ops.pop(),t.trys.pop();continue}d=n.call(o,t)}catch(v){d=[6,v],r=0}finally{e=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},N3=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},k3=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))};mE().$=$r.default;var V3=[cN,DL,EN,Hk,qj,zE,Tj,A3,vj,UN,Mk,lk,Jk,_R,WR,NP,LR,J2,KS],U3=[pL,N2,SL,_2,KS];yE({$:$r.default});var gw={debug:console.log,info:console.info,warning:console.warn,error:console.error},H3=function(o){L3(n,o);function n(t){t===void 0&&(t={});var e=o.call(this)||this;e.Model=fe.Kx,e.Collection=fe.pM,e.events=bo,e.__skip=!1,e.defaultRunning=!1,e.destroyed=!1,e._config=t;var r=e.config;e.set("Config",t),e.set("modules",[]),e.set("toLoad",[]),e.set("storables",[]),e.set("selected",new wE),e.set("dmode",r.dragMode);var i=r.el,l=r.log,f=l===!0?(0,H.keys)(gw):(0,H.isArray)(l)?l:[];return(0,H.bindAll)(e,"initBaseColorPicker"),i&&r.fromElement&&(r.components=i.innerHTML),e.attrsOrig=i?(0,H.toArray)(i.attributes).reduce(function(p,d){return p[d.nodeName]=d.nodeValue,p},{}):"",r.components&&!r.pageManager&&(r.pageManager={pages:[{component:r.components}]}),V3.forEach(function(p){return e.loadModule(p)}),U3.forEach(function(p){return e.loadStorableModule(p)}),e.on("change:componentHovered",e.componentHovered,e),e.on("change:changesCount",e.updateChanges,e),e.on("change:readyLoad change:readyCanvas",e._checkReady,e),f.forEach(function(p){return e.listenLog(p)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(p){var d=p.from,v=p.to;e.listenTo(e,d,function(){for(var _=[],w=0;w<arguments.length;w++)_[w]=arguments[w];e.trigger.apply(e,k3([v],_,!1)),e.logWarning("The event '".concat(d,"' is deprecated, replace it with '").concat(v,"'"))})}),e}return n.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(n.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"DataSources",{get:function(){return this.get("DataSources")},enumerable:!1,configurable:!0}),n.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},n.prototype.getContainer=function(){return this.config.el},n.prototype.listenLog=function(t){this.listenTo(this,"log:".concat(t),gw[t])},Object.defineProperty(n.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"version",{get:function(){var t;return((t=this.config.grapesjs)===null||t===void 0?void 0:t.version)||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isHeadless",{get:function(){return!!this.config.headless},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isShallow",{get:function(){return!!this.get("isShallow")},enumerable:!1,configurable:!0}),n.prototype.initModules=function(){this.modules.forEach(function(t){return t.onInit()})},n.prototype.getConfig=function(t){var e=this.config;return(0,H.isUndefined)(t)?e:e[t]},n.prototype.loadOnStart=function(){var t=this,e=this.config,r=e.projectData,i=e.headless,l={initial:!0},f=this.Storage;this.toLoad.reverse().forEach(function(v){return v.onLoad()});var p=function(){t.modules.forEach(function(v){return v.postLoad&&v.postLoad(t)}),t.set("readyLoad",1)};i?(r&&this.loadData(r,l),p()):this._storageTimeout=setTimeout(function(){return Jm(t,void 0,void 0,function(){var v;return Qm(this,function(_){switch(_.label){case 0:return r?(this.loadData(r,l),[3,5]):[3,1];case 1:if(!(f!=null&&f.canAutoload()))return[3,5];_.label=2;case 2:return _.trys.push([2,4,,5]),[4,this.load({},l)];case 3:return _.sent(),[3,5];case 4:return v=_.sent(),this.logError(v),[3,5];case 5:return p(),[2]}})})});var d=new n({noticeOnUnload:!1,storageManager:!1,undoManager:!1});d.set({isShallow:!0}),d.Pages.onLoad(),d.Canvas.postLoad(),this.set("shallow",d)},n.prototype.updateChanges=function(t,e,r){var i=this,l=this.Storage,f=this.getDirtyCount();r.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return i.trigger(bo.update)})),this.config.noticeOnUnload&&(window.onbeforeunload=f?function(){return!0}:null),l.isAutosave()&&f>=l.getStepsBeforeSave()&&this.store().catch(function(p){return i.logError(p)})},n.prototype.loadModule=function(t){var e=new t(this);return this.set(e.name,e),e.onLoad&&this.toLoad.push(e),this.modules.push(e),e},n.prototype.loadStorableModule=function(t){var e=this.loadModule(t);return this.storables.push(e),e},n.prototype.init=function(t,e){e===void 0&&(e={}),this.destroyed&&(this.initialize(e),this.destroyed=!1),this.set("Editor",t)},n.prototype.getEditor=function(){return this.get("Editor")},n.prototype.handleUpdates=function(t,e,r){var i=this;r===void 0&&(r={}),!(this.__skip||r.temporary||r.noCount||r.avoidStore||r.partial||!this.get("ready"))&&(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var l=i.getDirtyCount()||0;r.unset;var f=N3(r,["unset"]);i.set("changesCount",l+1,f)},0))},n.prototype.changesUp=function(t){this.handleUpdates(0,0,t)},n.prototype.componentHovered=function(t,e,r){var i=this.previous("componentHovered");i&&this.trigger("component:unhovered",i,r),e&&this.trigger("component:hovered",e,r)},n.prototype.getSelected=function(){return this.selected.lastComponent()},n.prototype.getSelectedAll=function(){return this.selected.allComponents()},n.prototype.setSelected=function(t,e){var r=this;e===void 0&&(e={});var i=e.event,l=i&&(i.ctrlKey||i.metaKey),f=(i||{}).shiftKey,p=((0,H.isArray)(t)?t:[t]).map(function(w){var S,O;return((O=(S=w==null?void 0:w.delegate)===null||S===void 0?void 0:S.select)===null||O===void 0?void 0:O.call(S,w))||w}).filter(Boolean),d=this.getSelectedAll(),v=this.getConfig().multipleSelection,_=(0,H.isArray)(t);(_||!t)&&this.removeSelected(d.filter(function(w){return!(0,H.contains)(p,w)})),p.forEach(function(w){if(w&&(r.trigger(Jn.I.selectBefore,w,e),!w.get("selectable")||e.abort))if(e.useValid){for(var S=w.parent();S&&!S.get("selectable");)S=S.parent();w=S}else return;if(l&&v)return r.toggleSelected(w);if(f&&v){if(r.isEditing())return;r.clearSelection(r.Canvas.getWindow());var O=w.collection,A=w.index(),P,j;if(r.getSelectedAll().forEach(function(z){var k=z.collection,G=z.index();k===O&&(G<A?P=(0,H.isUndefined)(P)?G:Math.max(P,G):G>A&&(j=(0,H.isUndefined)(j)?G:Math.min(j,G)))}),!(0,H.isUndefined)(P))for(;P!==A;)r.addSelected(O.at(P),e),P++;if(!(0,H.isUndefined)(j))for(;j!==A;)r.addSelected(O.at(j),e),j--;return r.addSelected(w,e)}!_&&r.removeSelected(d.filter(function(z){return z!==w})),r.addSelected(w,e)})},n.prototype.addSelected=function(t,e){var r=this;e===void 0&&(e={});var i=(0,H.isArray)(t)?t:[t];i.forEach(function(l){var f=r.selected;if(!(!l||!l.get("selectable")||l.parents().some(function(d){return f.hasComponent(d)}))){e.forceChange&&r.removeSelected(l,e);var p=f.allComponents().filter(function(d){return(0,H.contains)(d.parents(),l)});p.forEach(function(d){return r.removeSelected(d,e)}),f.addComponent(l,e),r.trigger(Jn.I.select,l,e),r.Canvas.addSpot({type:la.F.Select,component:l})}})},n.prototype.removeSelected=function(t,e){var r=this;e===void 0&&(e={}),this.selected.removeComponent(t,e);var i=(0,H.isArray)(t)?t:[t];i.forEach(function(l){return r.Canvas.removeSpots({type:la.F.Select,component:l})})},n.prototype.toggleSelected=function(t,e){var r=this;e===void 0&&(e={});var i=(0,H.isArray)(t)?t:[t];i.forEach(function(l){r.selected.hasComponent(l)?r.removeSelected(l,e):r.addSelected(l,e)})},n.prototype.setHovered=function(t,e){var r=this;e===void 0&&(e={});var i=function(p,d){var v=r,_=v.config,w=v.Canvas,S=r.getHovered(),O=r.getSelectedAll(),A=la.F.Hover,P=la.F.Spacing;r.set("componentHovered",p||null,d),S&&(w.removeSpots({type:A,component:S}),w.removeSpots({type:P,component:S})),p&&(w.addSpot({type:A,component:p}),(!O.includes(p)||_.showOffsetsSelected)&&w.addSpot({type:P,component:p}))};if(!t)return i();var l="component:hover";if(e.forceChange&&i(),this.trigger("".concat(l,":before"),t,e),!t.get("hoverable"))if(e.useValid&&!e.abort){for(var f=t.parent();f&&!f.get("hoverable");)f=f.parent();t=f}else return;e.abort||(i(t,e),this.trigger(l,t,e))},n.prototype.getHovered=function(){return this.get("componentHovered")},n.prototype.setComponents=function(t,e){return e===void 0&&(e={}),this.Components.setComponents(t,e)},n.prototype.getComponents=function(){var t=this.Components,e=this.CodeManager;if(!(!t||!e)){var r=t.getComponents();return e.getCode(r,"json")}},n.prototype.setStyle=function(t,e){e===void 0&&(e={});var r=this.Css;return r.clear(e),r.getAll().add(t,e),this},n.prototype.addStyle=function(t,e){e===void 0&&(e={});var r=this.getStyle().add(t,e);return(0,H.isArray)(r)?r:[r]},n.prototype.getStyle=function(){return this.Css.getAll()},n.prototype.setState=function(t){return this.set("state",t),this},n.prototype.getState=function(){return this.get("state")||""},n.prototype.getHtml=function(t){t===void 0&&(t={});var e=this.config,r=e.optsHtml,i=e.jsInHtml?this.getJs(t):"",l=t.component||this.Components.getComponent(),f=l?this.CodeManager.getCode(l,"html",ji(ji({},r),t)):"";return f+=i?"<script>".concat(i,"<\/script>"):"",f},n.prototype.getCss=function(t){t===void 0&&(t={});var e=this.config,r=e.optsCss,i=t.avoidProtected,l=(0,H.isUndefined)(t.keepUnusedStyles)?e.keepUnusedStyles:t.keepUnusedStyles,f=this.Css,p=t.component||this.Components.getComponent(),d=i?"":e.protectedCss,v=p&&this.CodeManager.getCode(p,"css",ji(ji({cssc:f,keepUnusedStyles:l},r),t));return p?t.json?v:d+v:""},n.prototype.getJs=function(t){t===void 0&&(t={});var e=t.component||this.Components.getWrapper();return e?this.CodeManager.getCode(e,"js").trim():""},n.prototype.store=function(t){return Jm(this,void 0,void 0,function(){var e;return Qm(this,function(r){switch(r.label){case 0:return e=this.storeData(),[4,this.Storage.store(e,t)];case 1:return r.sent(),this.clearDirtyCount(),[2,e]}})})},n.prototype.load=function(t){return Jm(this,arguments,void 0,function(e,r){var i;return r===void 0&&(r={}),Qm(this,function(l){switch(l.label){case 0:return[4,this.Storage.load(e)];case 1:return i=l.sent(),this.loadData(i,r),[4,(0,Jt.wait)()];case 2:return l.sent(),r.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,i]}})})},n.prototype.storeData=function(){var t={},e=this.getEditing();e&&e.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(i){t=ji(ji({},t),i.store(1))});var r=JSON.parse(JSON.stringify(t));return this.trigger(bo.projectGet,{project:r}),r},n.prototype.loadData=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var r=!1;return(0,Jt.isEmptyObj)(t)||(this.storables.forEach(function(i){return i.clear()}),this.storables.forEach(function(i){return i.load(t)}),r=!0),this.trigger(bo.projectLoad,{project:t,loaded:r,initial:!!e.initial}),t},n.prototype.getDeviceModel=function(){var t=this.get("device");return this.Devices.get(t)},n.prototype.runDefault=function(t){t===void 0&&(t={});var e=this.Commands.get(this.config.defaultCommand);!e||this.defaultRunning||(e.stop(this,this,t),e.run(this,this,t),this.defaultRunning=!0)},n.prototype.stopDefault=function(t){t===void 0&&(t={});var e=this.Commands;if(e){var r=e.get(this.config.defaultCommand);!r||!this.defaultRunning||(r.stop(this,this,t),this.defaultRunning=!1)}},n.prototype.refreshCanvas=function(t){t===void 0&&(t={}),this.Canvas.refresh({spots:t.tools})},n.prototype.clearSelection=function(t){var e,r=t||window;(e=r.getSelection())===null||e===void 0||e.removeAllRanges()},n.prototype.getCurrentMedia=function(){var t=this.config,e=this.getDeviceModel(),r=t.mediaCondition,i=t.devicePreviewMode,l=e&&e.get("widthMedia");return e&&l&&!i?"(".concat(r,": ").concat(l,")"):""},n.prototype.getWrapper=function(){return this.Components.getWrapper()},n.prototype.setCurrentFrame=function(t){return this.set("currentFrame",t)},n.prototype.getCurrentFrame=function(){return this.get("currentFrame")},n.prototype.getCurrentFrameModel=function(){var t;return(t=this.getCurrentFrame()||{})===null||t===void 0?void 0:t.model},n.prototype.getIcon=function(t){var e=this.config.icons||{};return e[t]||""},n.prototype.getDirtyCount=function(){return this.get("changesCount")},n.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},n.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},n.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},n.prototype.setDragMode=function(t){return this.set("dmode",t)},n.prototype.getDragMode=function(t){var e=(t==null?void 0:t.getDragMode())||this.get("dmode");return e||""},n.prototype.t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.get("I18n");return r==null?void 0:r.t.apply(r,t)},n.prototype.inAbsoluteMode=function(t){return this.getDragMode(t)==="absolute"},n.prototype.destroyAll=function(){var t=this,e=this,r=e.config,i=e.view;this.trigger(bo.destroy);var l=this.getEditor(),f=(r.grapesjs||{}).editors,p=f===void 0?[]:f,d=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),d==null||d.destroyAll(),this.stopListening(),this.stopDefault(),(this.modules||[]).slice().reverse().forEach(function(v){return v.destroy()}),i!=null&&i.remove&&i.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(v){return t[v]={}}),p.splice(p.indexOf(l),1),(0,Jt.hasWin)()&&(0,$r.default)(r.el).empty().attr(this.attrsOrig),this.trigger(bo.destroyed)},n.prototype.getEditing=function(){var t=this.get("editing");return t&&t.model||void 0},n.prototype.setEditing=function(t){return this.set("editing",t),this},n.prototype.isEditing=function(){return!!this.get("editing")},n.prototype.log=function(t,e){e===void 0&&(e={});var r=bo.log,i=e.ns,l=e.level,f=l===void 0?"debug":l;if(this.trigger(r,t,e),f&&this.trigger("".concat(r,":").concat(f),t,e),i){var p="".concat(r,"-").concat(i);this.trigger(p,t,e),f&&this.trigger("".concat(p,":").concat(f),t,e)}},n.prototype.logInfo=function(t,e){this.log(t,ji(ji({},e),{level:"info"}))},n.prototype.logWarning=function(t,e){this.log(t,ji(ji({},e),{level:"warning"}))},n.prototype.logError=function(t,e){this.log(t,ji(ji({},e),{level:"error"}))},n.prototype.initBaseColorPicker=function(t,e){e===void 0&&(e={});var r=this.config,i=r.colorPicker,l=i===void 0?{}:i,f=r.el,p=r.stylePrefix;return(0,$r.default)(t).spectrum(ji(ji({containerClassName:"".concat(p,"one-bg ").concat(p,"two-color"),appendTo:f||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"⨯"},e),l))},n.prototype.skip=function(t){this.__skip=!0;var e=this.UndoManager;e?e.skip(t):t(),this.__skip=!1},n.prototype.data=function(t,e,r){var i="_gjs-data";if(t[i]||(t[i]={}),(0,H.isUndefined)(r))return t[i][e];t[i][e]=r},n}(fe.Kx);const B3=H3;function I3(){return window.location.hostname}var z3=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),F3=function(o,n,t,e){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function f(v){try{d(e.next(v))}catch(_){l(_)}}function p(v){try{d(e.throw(v))}catch(_){l(_)}}function d(v){v.done?i(v.value):r(v.value).then(f,p)}d((e=e.apply(o,n||[])).next())})},W3=function(o,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(d){return function(v){return p([d,v])}}function p(d){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(t=0)),t;)try{if(e=1,r&&(i=d[0]&2?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,r=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){t.label=d[1];break}if(d[0]===6&&t.label<i[1]){t.label=i[1],i=d;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(d);break}i[2]&&t.ops.pop(),t.trys.pop();continue}d=n.call(o,t)}catch(v){d=[6,v],r=0}finally{e=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},q3=function(o){z3(n,o);function n(t){var e=o.call(this,{model:t})||this,r=t.Panels,i=t.UndoManager;return t.view=e,t.once("change:ready",function(){r.active(),r.disableButtons(),i.clear(),t.getConfig().telemetry&&e.sendTelemetryData().catch(function(){}),setTimeout(function(){t.trigger(bo.load,t.Editor),t.clearDirtyCount()})}),e}return n.prototype.render=function(){var t=this,e=this,r=e.$el,i=e.model,l=i.Panels,f=i.Canvas,p=i.config,d=i.modules,v=p.stylePrefix,_=["".concat(v,"editor")];!p.customUI&&_.push("".concat(v,"one-bg ").concat(v,"two-color"));var w=(0,$r.default)(p.el||"body ".concat(p.container));p.cssIcons&&(0,Jt.appendStyles)(p.cssIcons,{unique:!0,prepand:!0}),r.empty(),p.width&&w.css("width",p.width),p.height&&w.css("height",p.height),r.append(f.render()),r.append(l.render());var S=i.shallow,O=S.Canvas.render();return O.style.display="none",r.append(O),r.attr("class",_.join(" ")),w.addClass("".concat(v,"editor-cont")).empty().append(r),d.forEach(function(A){var P;return(P=A.postRender)===null||P===void 0?void 0:P.call(A,t)}),this},n.prototype.sendTelemetryData=function(){return F3(this,void 0,void 0,function(){var t,e,r,i,l,f,p,d;return W3(this,function(v){switch(v.label){case 0:return t=I3(),t==="localhost"||t.includes("localhost")?[2]:(e="gjs_telemetry_sent_",r=this.model.version,i="".concat(e).concat(r),sessionStorage.getItem(i)?[2]:(l="https://app.grapesjs.com",[4,fetch("".concat(l,"/api/gjs/telemetry/collect"),{method:"POST",body:JSON.stringify({domain:t,version:r})})]));case 1:return f=v.sent(),f.ok?[3,3]:(p=Error.bind,d="Failed to send telemetry data ".concat,[4,f.text()]);case 2:throw new(p.apply(Error,[void 0,d.apply("Failed to send telemetry data ",[v.sent()])]));case 3:return sessionStorage.setItem(i,"true"),Object.keys(sessionStorage).forEach(function(_){_.startsWith(e)&&_!==i&&sessionStorage.removeItem(_)}),this.trigger(bo.telemetryInit),[2]}})})},n}(fe.Ss);const G3=q3;var ap=function(){return ap=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},ap.apply(this,arguments)},mw=function(o,n,t,e){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function f(v){try{d(e.next(v))}catch(_){l(_)}}function p(v){try{d(e.throw(v))}catch(_){l(_)}}function d(v){v.done?i(v.value):r(v.value).then(f,p)}d((e=e.apply(o,n||[])).next())})},yw=function(o,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(d){return function(v){return p([d,v])}}function p(d){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(t=0)),t;)try{if(e=1,r&&(i=d[0]&2?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,r=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){t.label=d[1];break}if(d[0]===6&&t.label<i[1]){t.label=i[1],i=d;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(d);break}i[2]&&t.ops.pop(),t.trys.pop();continue}d=n.call(o,t)}catch(v){d=[6,v],r=0}finally{e=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},K3=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},Y3=function(){function o(n,t){n===void 0&&(n={}),t===void 0&&(t={});var e;this.events=bo,this.html=wo;var r=gE();this.config=ap(ap(ap({},r),n),{pStylePrefix:(e=n.stylePrefix)!==null&&e!==void 0?e:r.stylePrefix}),this.em=new B3(this.config),this.$=t.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(o.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"DataSources",{get:function(){return this.em.DataSources},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),o.prototype.getConfig=function(n){return this.em.getConfig(n)},o.prototype.getHtml=function(n){return this.em.getHtml(n)},o.prototype.getCss=function(n){return this.em.getCss(n)},o.prototype.getJs=function(n){return this.em.getJs(n)},o.prototype.getComponents=function(){return this.Components.getComponents()},o.prototype.getWrapper=function(){return this.Components.getWrapper()},o.prototype.setComponents=function(n,t){return t===void 0&&(t={}),this.em.setComponents(n,t),this},o.prototype.addComponents=function(n,t){return this.getWrapper().append(n,t)},o.prototype.getStyle=function(){return this.em.Css.getAll()},o.prototype.setStyle=function(n,t){return t===void 0&&(t={}),this.em.setStyle(n,t),this},o.prototype.addStyle=function(n,t){return t===void 0&&(t={}),this.em.addStyle(n,t)},o.prototype.getSelected=function(){return this.em.getSelected()},o.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},o.prototype.getSelectedToStyle=function(){var n=this.em.getSelected();if(n)return this.StyleManager.getModelToStyle(n)},o.prototype.select=function(n,t){return this.em.setSelected(n,t),this},o.prototype.selectAdd=function(n){return this.em.addSelected(n),this},o.prototype.selectRemove=function(n){return this.em.removeSelected(n),this},o.prototype.selectToggle=function(n){return this.em.toggleSelected(n),this},o.prototype.getEditing=function(){return this.em.getEditing()},o.prototype.setDevice=function(n){return this.em.set("device",n),this},o.prototype.getDevice=function(){return this.em.get("device")},o.prototype.runCommand=function(n,t){return t===void 0&&(t={}),this.Commands.run(n,t)},o.prototype.stopCommand=function(n,t){return t===void 0&&(t={}),this.Commands.stop(n,t)},o.prototype.store=function(n){return mw(this,void 0,void 0,function(){return yw(this,function(t){switch(t.label){case 0:return[4,this.em.store(n)];case 1:return[2,t.sent()]}})})},o.prototype.load=function(n){return mw(this,arguments,void 0,function(t,e){return e===void 0&&(e={}),yw(this,function(r){switch(r.label){case 0:return[4,this.em.load(t,e)];case 1:return[2,r.sent()]}})})},o.prototype.getProjectData=function(){return this.em.storeData()},o.prototype.loadProjectData=function(n){return this.em.loadData(n)},o.prototype.storeData=function(){return this.em.storeData()},o.prototype.loadData=function(n){return this.em.loadData(n)},o.prototype.getContainer=function(){return this.config.el},o.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},o.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},o.prototype.refresh=function(n){this.em.refreshCanvas(n)},o.prototype.setCustomRte=function(n){this.RichTextEditor.customRte=n},o.prototype.setCustomParserCss=function(n){return this.Parser.getConfig().parserCss=n,this},o.prototype.setDragMode=function(n){return this.em.setDragMode(n),this},o.prototype.log=function(n,t){return t===void 0&&(t={}),this.em.log(n,t),this},o.prototype.t=function(){for(var n,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(n=this.em).t.apply(n,t)},o.prototype.on=function(n,t){return this.em.on(n,t),this},o.prototype.once=function(n,t){return this.em.once(n,t),this},o.prototype.off=function(n,t){return this.em.off(n,t),this},o.prototype.trigger=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return this.em.trigger.apply(this.em,K3([n],t,!0)),this},o.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},o.prototype.getEl=function(){var n;return(n=this.editorView)===null||n===void 0?void 0:n.el},o.prototype.getModel=function(){return this.em},o.prototype.render=function(){var n;return(n=this.editorView)===null||n===void 0||n.remove(),this.editorView=new G3(this.em),this.editorView.render().el},o.prototype.onReady=function(n){this.em.get("ready")?n(this):this.em.on("load",n)},o}();const X3=Y3;var Z3=function(o,n){var t=n.get(o);if(!t){var e=(0,Jt.getGlobal)()[o];t=(e==null?void 0:e.default)||e}return t},YS=function(o,n){return(0,H.isString)(o)?Z3(o,n):(o==null?void 0:o.default)||o},XS=function(o,n){o.getModel().logWarning("Plugin ".concat(n," not found"),{context:"plugins",plugin:n})},J3=function(){function o(){this.plugins={}}return o.prototype.add=function(n,t){var e=this.get(n);return e||(this.plugins[n]=t,t)},o.prototype.get=function(n){return this.plugins[n]},o.prototype.getAll=function(){return this.plugins},o}();const Q3=J3,$3=function(){var o=function(){for(var t,e=window.navigator.userAgent,r=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],i=0;i<r.length;i++){var l=r[i];if(t=l[1].exec(e),t)break}return!!t};if((0,Jt.hasWin)()&&o()){var n=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(t){return t||(t=""),n.apply(document.implementation,[t])}}};var ig=function(){return ig=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},ig.apply(this,arguments)};$3();var Vy=new Q3,_w=[],ZS=function(o,n){var t=YS(o,Vy);return function(e){t?t(e,n||{}):XS(e,o)}},JS={$:$r.default,editors:_w,plugins:Vy,usePlugin:ZS,version:"0.22.7",init:function(o){o===void 0&&(o={});var n=o.headless,t=o.container;if(!t&&!n)throw new Error("'container' is required");var e=ig(ig({autorender:!0,plugins:[],pluginsOpts:{}},o),{grapesjs:this,el:n?void 0:(0,H.isElement)(t)?t:document.querySelector(t)}),r=new X3(e,{$:$r.default}),i=r.getModel();return i.initModules(),e.plugins.forEach(function(l){var f=YS(l,Vy),p=e.pluginsOpts[l]||{};f?f(r,p):XS(r,l)}),i.loadOnStart(),e.autorender&&!n&&r.render(),_w.push(r),r}};const tU=JS;var eU=gg.Ay;gg.I0;gg.nu;function nU(){var S;const o=Ys(),n=ja(),t=(S=o.state)==null?void 0:S.template,e=Ht.useRef(null),[r,i]=Ht.useState((t==null?void 0:t.name)||""),[l,f]=Ht.useState((t==null?void 0:t.js)||""),[p,d]=Ht.useState(!0);Ht.useEffect(()=>{const O=eU.init({container:"#editor",fromElement:!1,height:"calc(100vh - 60px)",storageManager:!1});t&&(O.setComponents(t.html),O.setStyle(t.css)),e.current=O},[t]);const v=()=>{const O=e.current,A=O.getHtml(),j=`<!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <style>${O.getCss()}</style>
        </head>
        <body>
          ${A}
          <script>
            try {
              ${l}
            } catch (e) {
              console.error("Template JS error:", e);
            }
          <\/script>
        </body>
      </html>`,z=window.open();z?(z.document.open(),z.document.write(j),z.document.close()):alert("Popup blocked! Please allow popups for this site.")},_=async()=>{var j,z;if(!r){alert("Please enter a name for your template!");return}const O=e.current,A=O.getHtml(),P=O.getCss();try{(await To.post("/api/v1/user/save",{originalTemplateId:t==null?void 0:t._id,name:r,html:A,css:P,js:l},{withCredentials:!0})).status===201&&(alert("Template saved successfully!"),n("/user/dashboard"))}catch(k){console.error("Save error:",k),alert(((z=(j=k.response)==null?void 0:j.data)==null?void 0:z.message)||"Error saving template")}},w=()=>{d(!p)};return rt.jsxs("div",{className:"flex flex-col h-screen",children:[rt.jsxs("div",{className:"bg-gray-800 text-white px-4 py-3 flex justify-between items-center",children:[rt.jsxs("div",{className:"text-lg font-semibold text-indigo-400",children:["Editing: ",(t==null?void 0:t.name)||"New Template"]}),rt.jsxs("div",{className:"flex items-center space-x-4",children:[rt.jsx("input",{type:"text",value:r,onChange:O=>i(O.target.value),className:"bg-gray-700 text-white px-4 py-2 rounded w-64",placeholder:"Enter template name"}),rt.jsx("button",{onClick:w,className:`px-3 py-1 rounded text-sm ${p?"bg-indigo-600 hover:bg-indigo-500":"bg-gray-700 hover:bg-gray-600"}`,children:p?"Hide JS":"Show JS"}),rt.jsx("button",{onClick:v,className:"bg-blue-600 px-3 py-1 rounded hover:bg-blue-500 text-sm",children:"Preview"}),rt.jsx("button",{onClick:_,className:"bg-green-600 px-4 py-1 rounded hover:bg-green-500 text-sm",children:"Save"}),rt.jsx("button",{onClick:()=>n("/user/dashboard"),className:"bg-red-500 px-3 py-1 rounded hover:bg-red-400 text-sm",children:"Back"})]})]}),rt.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[rt.jsx("div",{id:"editor",className:"flex-1"}),p&&rt.jsxs("div",{className:"w-1/3 bg-gray-900 border-l border-gray-700 flex flex-col",children:[rt.jsx("div",{className:"bg-gray-800 px-4 py-2 text-sm font-medium",children:"JavaScript Editor (Included in Preview)"}),rt.jsx("textarea",{value:l,onChange:O=>f(O.target.value),className:"flex-1 bg-gray-800 text-gray-100 p-4 font-mono text-sm resize-none focus:outline-none",placeholder:"Enter JavaScript code here..."})]})]})]})}var QS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bw=Hu.createContext&&Hu.createContext(QS),rU=["attr","size","title"];function iU(o,n){if(o==null)return{};var t=oU(o,n),e,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(o);for(r=0;r<i.length;r++)e=i[r],!(n.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(o,e)&&(t[e]=o[e])}return t}function oU(o,n){if(o==null)return{};var t={};for(var e in o)if(Object.prototype.hasOwnProperty.call(o,e)){if(n.indexOf(e)>=0)continue;t[e]=o[e]}return t}function og(){return og=Object.assign?Object.assign.bind():function(o){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])}return o},og.apply(this,arguments)}function ww(o,n){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(o);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable})),t.push.apply(t,e)}return t}function ag(o){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?ww(Object(t),!0).forEach(function(e){aU(o,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):ww(Object(t)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(t,e))})}return o}function aU(o,n,t){return n=sU(n),n in o?Object.defineProperty(o,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[n]=t,o}function sU(o){var n=lU(o,"string");return typeof n=="symbol"?n:n+""}function lU(o,n){if(typeof o!="object"||!o)return o;var t=o[Symbol.toPrimitive];if(t!==void 0){var e=t.call(o,n);if(typeof e!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(o)}function $S(o){return o&&o.map((n,t)=>Hu.createElement(n.tag,ag({key:t},n.attr),$S(n.child)))}function wp(o){return n=>Hu.createElement(uU,og({attr:ag({},o.attr)},n),$S(o.child))}function uU(o){var n=t=>{var{attr:e,size:r,title:i}=o,l=iU(o,rU),f=r||t.size||"1em",p;return t.className&&(p=t.className),o.className&&(p=(p?p+" ":"")+o.className),Hu.createElement("svg",og({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,e,l,{className:p,style:ag(ag({color:o.color||t.color},t.style),o.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),i&&Hu.createElement("title",null,i),o.children)};return bw!==void 0?Hu.createElement(bw.Consumer,null,t=>n(t)):n(QS)}function xw(o){return wp({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(o)}function cU(o){return wp({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(o)}function Sw(o){return wp({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(o)}function fU(o){return wp({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(o)}function Cw(o){return wp({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(o)}function dU(){const[o,n]=Ht.useState([]),[t,e]=Ht.useState(""),[r,i]=Ht.useState(!0),l=ja();Ht.useEffect(()=>{(async()=>{try{i(!0);const[d,v]=await Promise.all([To.get("/api/v1/user/info",{withCredentials:!0}),To.get("/api/v1/user/saved-templates",{withCredentials:!0})]);e(d.data.username||"User"),n(v.data)}catch(d){console.error("Error fetching data:",d)}finally{i(!1)}})()},[]);const f=async p=>{try{await To.delete(`/api/v1/user/templates/${p}`,{withCredentials:!0}),n(o.filter(d=>d._id!==p))}catch(d){console.error("Error deleting template:",d)}};return rt.jsxs("div",{className:"flex h-screen bg-gray-50",children:[rt.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 p-6 flex flex-col",children:[rt.jsxs("div",{className:"flex items-center mb-8",children:[rt.jsx("button",{onClick:()=>l("/user/dashboard"),className:"mr-3 p-2 rounded-full hover:bg-gray-100",children:rt.jsx(xw,{className:"text-gray-600"})}),rt.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"WebWeaver"})]}),rt.jsxs("div",{className:"flex items-center mb-8",children:[rt.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center mr-3",children:rt.jsx(Cw,{className:"text-indigo-600"})}),rt.jsxs("div",{children:[rt.jsx("h2",{className:"font-semibold text-gray-800",children:t}),rt.jsx("p",{className:"text-sm text-gray-500",children:"User Account"})]})]}),rt.jsxs("nav",{className:"space-y-2",children:[rt.jsxs(Li,{to:"/user/dashboard",className:"flex items-center px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:[rt.jsx(Sw,{className:"mr-3"}),"Dashboard"]}),rt.jsxs("div",{className:"flex items-center px-3 py-2 bg-indigo-50 text-indigo-600 rounded-lg",children:[rt.jsx(Cw,{className:"mr-3"}),"Profile"]})]})]}),rt.jsx("div",{className:"flex-1 p-8 overflow-y-auto",children:rt.jsxs("div",{className:"max-w-6xl mx-auto",children:[rt.jsxs("div",{className:"flex justify-between items-center mb-8",children:[rt.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"My Templates"}),rt.jsxs("button",{onClick:()=>l("/user/dashboard"),className:"flex items-center text-sm text-gray-600 hover:text-indigo-600",children:[rt.jsx(xw,{className:"mr-1"}),"Back to Dashboard"]})]}),r?rt.jsx("div",{className:"flex justify-center items-center h-64",children:rt.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):o.length===0?rt.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[rt.jsx("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:rt.jsx(Sw,{className:"text-gray-400 text-3xl"})}),rt.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"No saved templates yet"}),rt.jsx("p",{className:"text-gray-500 mb-4",children:"Your saved templates will appear here"}),rt.jsx("button",{onClick:()=>l("/user/dashboard"),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Browse Templates"})]}):rt.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(p=>rt.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[rt.jsxs("div",{className:"p-5",children:[rt.jsx("h3",{className:"font-semibold text-gray-800 truncate",children:p.name}),rt.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Saved on ",new Date(p.savedAt).toLocaleDateString()]})]}),rt.jsxs("div",{className:"border-t border-gray-200 px-5 py-3 flex justify-between",children:[rt.jsxs("button",{onClick:()=>l("/user/editor",{state:{template:p}}),className:"flex items-center text-sm text-indigo-600 hover:text-indigo-700",children:[rt.jsx(cU,{className:"mr-1"}),"Edit"]}),rt.jsxs("button",{onClick:()=>f(p._id),className:"flex items-center text-sm text-red-600 hover:text-red-700",children:[rt.jsx(fU,{className:"mr-1"}),"Delete"]})]})]},p._id))})]})})]})}function pU(){const n="dev";return rt.jsx(_1,{children:rt.jsxs(XO,{children:[rt.jsx(Ea,{path:"/",element:rt.jsx(dE,{})}),rt.jsx(Ea,{path:"/dev/login",element:rt.jsx(oE,{})}),rt.jsx(Ea,{path:"/dev/register",element:rt.jsx(aE,{})}),rt.jsx(Ea,{path:"/dev/dashboard",element:rt.jsx(Q_,{isAuthenticated:!0,role:n,allowedRole:"dev",children:rt.jsx(sE,{})})}),rt.jsx(Ea,{path:"/dev/template/upload",element:rt.jsx(Q_,{isAuthenticated:!0,role:n,allowedRole:"dev",children:rt.jsx(pE,{})})}),rt.jsx(Ea,{path:"/user/login",element:rt.jsx(lE,{})}),rt.jsx(Ea,{path:"/user/register",element:rt.jsx(uE,{})}),rt.jsx(Ea,{path:"/user/editor",element:rt.jsx(nU,{})}),rt.jsx(Ea,{path:"/user/profile",element:rt.jsx(dU,{})}),rt.jsx(Ea,{path:"/user/dashboard",element:rt.jsx(fE,{isAuthenticated:!0,role:n,allowedRole:"normal",children:rt.jsx(cE,{})})})]})})}function hU(){return rt.jsx(pU,{})}oO.createRoot(document.getElementById("root")).render(rt.jsx(Ht.StrictMode,{children:rt.jsx(hU,{})}));
